var Dce=Object.defineProperty;var y$=n=>{throw TypeError(n)};var Fce=(n,e,t)=>e in n?Dce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var He=(n,e,t)=>Fce(n,typeof e!="symbol"?e+"":e,t),OO=(n,e,t)=>e.has(n)||y$("Cannot "+t);var g=(n,e,t)=>(OO(n,e,"read from private field"),t?t.call(n):e.get(n)),ee=(n,e,t)=>e.has(n)?y$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),z=(n,e,t,r)=>(OO(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),re=(n,e,t)=>(OO(n,e,"access private method"),t);var Cs=(n,e,t,r)=>({set _(i){z(n,e,i,t)},get _(){return g(n,e,r)}});function Bce(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $ce(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var jO={exports:{}},m2={},LO={exports:{}},On={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$;function qce(){if(b$)return On;b$=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function w(X,B,G){this.props=X,this.context=B,this.refs=y,this.updater=G||p}w.prototype.isReactComponent={},w.prototype.setState=function(X,B){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,B,"setState")},w.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function b(){}b.prototype=w.prototype;function S(X,B,G){this.props=X,this.context=B,this.refs=y,this.updater=G||p}var _=S.prototype=new b;_.constructor=S,x(_,w.prototype),_.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function L(X,B,G){var ne,ie={},fe=null,he=null;if(B!=null)for(ne in B.ref!==void 0&&(he=B.ref),B.key!==void 0&&(fe=""+B.key),B)E.call(B,ne)&&!N.hasOwnProperty(ne)&&(ie[ne]=B[ne]);var oe=arguments.length-2;if(oe===1)ie.children=G;else if(1<oe){for(var pe=Array(oe),Se=0;Se<oe;Se++)pe[Se]=arguments[Se+2];ie.children=pe}if(X&&X.defaultProps)for(ne in oe=X.defaultProps,oe)ie[ne]===void 0&&(ie[ne]=oe[ne]);return{$$typeof:n,type:X,key:fe,ref:he,props:ie,_owner:C.current}}function R(X,B){return{$$typeof:n,type:X.type,key:B,ref:X.ref,props:X.props,_owner:X._owner}}function F(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function j(X){var B={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(G){return B[G]})}var D=/\/+/g;function W(X,B){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):B.toString(36)}function V(X,B,G,ne,ie){var fe=typeof X;(fe==="undefined"||fe==="boolean")&&(X=null);var he=!1;if(X===null)he=!0;else switch(fe){case"string":case"number":he=!0;break;case"object":switch(X.$$typeof){case n:case e:he=!0}}if(he)return he=X,ie=ie(he),X=ne===""?"."+W(he,0):ne,P(ie)?(G="",X!=null&&(G=X.replace(D,"$&/")+"/"),V(ie,B,G,"",function(Se){return Se})):ie!=null&&(F(ie)&&(ie=R(ie,G+(!ie.key||he&&he.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+X)),B.push(ie)),1;if(he=0,ne=ne===""?".":ne+":",P(X))for(var oe=0;oe<X.length;oe++){fe=X[oe];var pe=ne+W(fe,oe);he+=V(fe,B,G,pe,ie)}else if(pe=h(X),typeof pe=="function")for(X=pe.call(X),oe=0;!(fe=X.next()).done;)fe=fe.value,pe=ne+W(fe,oe++),he+=V(fe,B,G,pe,ie);else if(fe==="object")throw B=String(X),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return he}function Z(X,B,G){if(X==null)return X;var ne=[],ie=0;return V(X,ne,"","",function(fe){return B.call(G,fe,ie++)}),ne}function J(X){if(X._status===-1){var B=X._result;B=B(),B.then(function(G){(X._status===0||X._status===-1)&&(X._status=1,X._result=G)},function(G){(X._status===0||X._status===-1)&&(X._status=2,X._result=G)}),X._status===-1&&(X._status=0,X._result=B)}if(X._status===1)return X._result.default;throw X._result}var K={current:null},$={transition:null},te={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:$,ReactCurrentOwner:C};function Q(){throw Error("act(...) is not supported in production builds of React.")}return On.Children={map:Z,forEach:function(X,B,G){Z(X,function(){B.apply(this,arguments)},G)},count:function(X){var B=0;return Z(X,function(){B++}),B},toArray:function(X){return Z(X,function(B){return B})||[]},only:function(X){if(!F(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},On.Component=w,On.Fragment=t,On.Profiler=i,On.PureComponent=S,On.StrictMode=r,On.Suspense=l,On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,On.act=Q,On.cloneElement=function(X,B,G){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ne=x({},X.props),ie=X.key,fe=X.ref,he=X._owner;if(B!=null){if(B.ref!==void 0&&(fe=B.ref,he=C.current),B.key!==void 0&&(ie=""+B.key),X.type&&X.type.defaultProps)var oe=X.type.defaultProps;for(pe in B)E.call(B,pe)&&!N.hasOwnProperty(pe)&&(ne[pe]=B[pe]===void 0&&oe!==void 0?oe[pe]:B[pe])}var pe=arguments.length-2;if(pe===1)ne.children=G;else if(1<pe){oe=Array(pe);for(var Se=0;Se<pe;Se++)oe[Se]=arguments[Se+2];ne.children=oe}return{$$typeof:n,type:X.type,key:ie,ref:fe,props:ne,_owner:he}},On.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},On.createElement=L,On.createFactory=function(X){var B=L.bind(null,X);return B.type=X,B},On.createRef=function(){return{current:null}},On.forwardRef=function(X){return{$$typeof:o,render:X}},On.isValidElement=F,On.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:J}},On.memo=function(X,B){return{$$typeof:c,type:X,compare:B===void 0?null:B}},On.startTransition=function(X){var B=$.transition;$.transition={};try{X()}finally{$.transition=B}},On.unstable_act=Q,On.useCallback=function(X,B){return K.current.useCallback(X,B)},On.useContext=function(X){return K.current.useContext(X)},On.useDebugValue=function(){},On.useDeferredValue=function(X){return K.current.useDeferredValue(X)},On.useEffect=function(X,B){return K.current.useEffect(X,B)},On.useId=function(){return K.current.useId()},On.useImperativeHandle=function(X,B,G){return K.current.useImperativeHandle(X,B,G)},On.useInsertionEffect=function(X,B){return K.current.useInsertionEffect(X,B)},On.useLayoutEffect=function(X,B){return K.current.useLayoutEffect(X,B)},On.useMemo=function(X,B){return K.current.useMemo(X,B)},On.useReducer=function(X,B,G){return K.current.useReducer(X,B,G)},On.useRef=function(X){return K.current.useRef(X)},On.useState=function(X){return K.current.useState(X)},On.useSyncExternalStore=function(X,B,G){return K.current.useSyncExternalStore(X,B,G)},On.useTransition=function(){return K.current.useTransition()},On.version="18.3.1",On}var w$;function v8(){return w$||(w$=1,LO.exports=qce()),LO.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x$;function Uce(){if(x$)return m2;x$=1;var n=v8(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return m2.Fragment=t,m2.jsx=a,m2.jsxs=a,m2}var _$;function zce(){return _$||(_$=1,jO.exports=Uce()),jO.exports}var v=zce(),U=v8();const de=qn(U),iJ=Bce({__proto__:null,default:de},[U]);var yP={},RO={exports:{}},Ko={},IO={exports:{}},MO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S$;function Hce(){return S$||(S$=1,(function(n){function e($,te){var Q=$.length;$.push(te);e:for(;0<Q;){var X=Q-1>>>1,B=$[X];if(0<i(B,te))$[X]=te,$[Q]=B,Q=X;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],Q=$.pop();if(Q!==te){$[0]=Q;e:for(var X=0,B=$.length,G=B>>>1;X<G;){var ne=2*(X+1)-1,ie=$[ne],fe=ne+1,he=$[fe];if(0>i(ie,Q))fe<B&&0>i(he,ie)?($[X]=he,$[fe]=Q,X=fe):($[X]=ie,$[ne]=Q,X=ne);else if(fe<B&&0>i(he,Q))$[X]=he,$[fe]=Q,X=fe;else break e}}return te}function i($,te){var Q=$.sortIndex-te.sortIndex;return Q!==0?Q:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var te=t(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=$)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=t(c)}}function P($){if(y=!1,_($),!x)if(t(l)!==null)x=!0,J(E);else{var te=t(c);te!==null&&K(P,te.startTime-$)}}function E($,te){x=!1,y&&(y=!1,b(L),L=-1),p=!0;var Q=h;try{for(_(te),f=t(l);f!==null&&(!(f.expirationTime>te)||$&&!j());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var B=X(f.expirationTime<=te);te=n.unstable_now(),typeof B=="function"?f.callback=B:f===t(l)&&r(l),_(te)}else r(l);f=t(l)}if(f!==null)var G=!0;else{var ne=t(c);ne!==null&&K(P,ne.startTime-te),G=!1}return G}finally{f=null,h=Q,p=!1}}var C=!1,N=null,L=-1,R=5,F=-1;function j(){return!(n.unstable_now()-F<R)}function D(){if(N!==null){var $=n.unstable_now();F=$;var te=!0;try{te=N(!0,$)}finally{te?W():(C=!1,N=null)}}else C=!1}var W;if(typeof S=="function")W=function(){S(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=D,W=function(){Z.postMessage(null)}}else W=function(){w(D,0)};function J($){N=$,C||(C=!0,W())}function K($,te){L=w(function(){$(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){x||p||(x=!0,J(E))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function($){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var Q=h;h=te;try{return $()}finally{h=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=h;h=$;try{return te()}finally{h=Q}},n.unstable_scheduleCallback=function($,te,Q){var X=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,$={id:u++,callback:te,priorityLevel:$,startTime:Q,expirationTime:B,sortIndex:-1},Q>X?($.sortIndex=Q,e(c,$),t(l)===null&&$===t(c)&&(y?(b(L),L=-1):y=!0,K(P,Q-X))):($.sortIndex=B,e(l,$),x||p||(x=!0,J(E))),$},n.unstable_shouldYield=j,n.unstable_wrapCallback=function($){var te=h;return function(){var Q=h;h=te;try{return $.apply(this,arguments)}finally{h=Q}}}})(MO)),MO}var A$;function Vce(){return A$||(A$=1,IO.exports=Hce()),IO.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P$;function Wce(){if(P$)return Ko;P$=1;var n=v8(),e=Vce();function t(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,A=1;A<arguments.length;A++)m+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,m){a(d,m),a(d+"Capture",m)}function a(d,m){for(i[d]=m,d=0;d<m.length;d++)r.add(m[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function p(d,m,A,k){if(A!==null&&A.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return k?!1:A!==null?!A.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,m,A,k){if(m===null||typeof m>"u"||p(d,m,A,k))return!0;if(k)return!1;if(A!==null)switch(A.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,A,k,M,H,le){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=k,this.attributeNamespace=M,this.mustUseProperty=A,this.propertyName=d,this.type=m,this.sanitizeURL=H,this.removeEmptyString=le}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){w[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];w[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){w[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){w[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){w[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){w[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){w[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){w[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){w[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(b,S);w[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(b,S);w[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(b,S);w[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function _(d,m,A,k){var M=w.hasOwnProperty(m)?w[m]:null;(M!==null?M.type!==0:k||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,A,M,k)&&(A=null),k||M===null?h(m)&&(A===null?d.removeAttribute(m):d.setAttribute(m,""+A)):M.mustUseProperty?d[M.propertyName]=A===null?M.type===3?!1:"":A:(m=M.attributeName,k=M.attributeNamespace,A===null?d.removeAttribute(m):(M=M.type,A=M===3||M===4&&A===!0?"":""+A,k?d.setAttributeNS(k,m,A):d.setAttribute(m,A))))}var P=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),$=Symbol.iterator;function te(d){return d===null||typeof d!="object"?null:(d=$&&d[$]||d["@@iterator"],typeof d=="function"?d:null)}var Q=Object.assign,X;function B(d){if(X===void 0)try{throw Error()}catch(A){var m=A.stack.trim().match(/\n( *(at )?)/);X=m&&m[1]||""}return`
`+X+d}var G=!1;function ne(d,m){if(!d||G)return"";G=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Fe){var k=Fe}Reflect.construct(d,[],m)}else{try{m.call()}catch(Fe){k=Fe}d.call(m.prototype)}else{try{throw Error()}catch(Fe){k=Fe}d()}}catch(Fe){if(Fe&&k&&typeof Fe.stack=="string"){for(var M=Fe.stack.split(`
`),H=k.stack.split(`
`),le=M.length-1,Ae=H.length-1;1<=le&&0<=Ae&&M[le]!==H[Ae];)Ae--;for(;1<=le&&0<=Ae;le--,Ae--)if(M[le]!==H[Ae]){if(le!==1||Ae!==1)do if(le--,Ae--,0>Ae||M[le]!==H[Ae]){var Te=`
`+M[le].replace(" at new "," at ");return d.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",d.displayName)),Te}while(1<=le&&0<=Ae);break}}}finally{G=!1,Error.prepareStackTrace=A}return(d=d?d.displayName||d.name:"")?B(d):""}function ie(d){switch(d.tag){case 5:return B(d.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return d=ne(d.type,!1),d;case 11:return d=ne(d.type.render,!1),d;case 1:return d=ne(d.type,!0),d;default:return""}}function fe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case N:return"Fragment";case C:return"Portal";case R:return"Profiler";case L:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case j:return(d.displayName||"Context")+".Consumer";case F:return(d._context.displayName||"Context")+".Provider";case D:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Z:return m=d.displayName||null,m!==null?m:fe(d.type)||"Memo";case J:m=d._payload,d=d._init;try{return fe(d(m))}catch{}}return null}function he(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(m);case 8:return m===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function oe(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function pe(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Se(d){var m=pe(d)?"checked":"value",A=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),k=""+d[m];if(!d.hasOwnProperty(m)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var M=A.get,H=A.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(le){k=""+le,H.call(this,le)}}),Object.defineProperty(d,m,{enumerable:A.enumerable}),{getValue:function(){return k},setValue:function(le){k=""+le},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function be(d){d._valueTracker||(d._valueTracker=Se(d))}function ye(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var A=m.getValue(),k="";return d&&(k=pe(d)?d.checked?"true":"false":d.value),d=k,d!==A?(m.setValue(d),!0):!1}function Oe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Pe(d,m){var A=m.checked;return Q({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??d._wrapperState.initialChecked})}function ge(d,m){var A=m.defaultValue==null?"":m.defaultValue,k=m.checked!=null?m.checked:m.defaultChecked;A=oe(m.value!=null?m.value:A),d._wrapperState={initialChecked:k,initialValue:A,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ke(d,m){m=m.checked,m!=null&&_(d,"checked",m,!1)}function Xe(d,m){Ke(d,m);var A=oe(m.value),k=m.type;if(A!=null)k==="number"?(A===0&&d.value===""||d.value!=A)&&(d.value=""+A):d.value!==""+A&&(d.value=""+A);else if(k==="submit"||k==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?$e(d,m.type,A):m.hasOwnProperty("defaultValue")&&$e(d,m.type,oe(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function rt(d,m,A){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var k=m.type;if(!(k!=="submit"&&k!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,A||m===d.value||(d.value=m),d.defaultValue=m}A=d.name,A!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,A!==""&&(d.name=A)}function $e(d,m,A){(m!=="number"||Oe(d.ownerDocument)!==d)&&(A==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+A&&(d.defaultValue=""+A))}var at=Array.isArray;function et(d,m,A,k){if(d=d.options,m){m={};for(var M=0;M<A.length;M++)m["$"+A[M]]=!0;for(A=0;A<d.length;A++)M=m.hasOwnProperty("$"+d[A].value),d[A].selected!==M&&(d[A].selected=M),M&&k&&(d[A].defaultSelected=!0)}else{for(A=""+oe(A),m=null,M=0;M<d.length;M++){if(d[M].value===A){d[M].selected=!0,k&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function ut(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function lt(d,m){var A=m.value;if(A==null){if(A=m.children,m=m.defaultValue,A!=null){if(m!=null)throw Error(t(92));if(at(A)){if(1<A.length)throw Error(t(93));A=A[0]}m=A}m==null&&(m=""),A=m}d._wrapperState={initialValue:oe(A)}}function Ht(d,m){var A=oe(m.value),k=oe(m.defaultValue);A!=null&&(A=""+A,A!==d.value&&(d.value=A),m.defaultValue==null&&d.defaultValue!==A&&(d.defaultValue=A)),k!=null&&(d.defaultValue=""+k)}function $t(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Xt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vn(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Xt(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Qt,Tt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,A,k,M){MSApp.execUnsafeLocalFunction(function(){return d(m,A,k,M)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Qt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Lt(d,m){if(m){var A=d.firstChild;if(A&&A===d.lastChild&&A.nodeType===3){A.nodeValue=m;return}}d.textContent=m}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Un=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(d){Un.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),_t[m]=_t[d]})});function Dn(d,m,A){return m==null||typeof m=="boolean"||m===""?"":A||typeof m!="number"||m===0||_t.hasOwnProperty(d)&&_t[d]?(""+m).trim():m+"px"}function Et(d,m){d=d.style;for(var A in m)if(m.hasOwnProperty(A)){var k=A.indexOf("--")===0,M=Dn(A,m[A],k);A==="float"&&(A="cssFloat"),k?d.setProperty(A,M):d[A]=M}}var sn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(d,m){if(m){if(sn[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(t(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(t(61))}if(m.style!=null&&typeof m.style!="object")throw Error(t(62))}}function qt(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=null;function Ut(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Mr=null,Pr=null,Ln=null;function Yt(d){if(d=Gp(d)){if(typeof Mr!="function")throw Error(t(280));var m=d.stateNode;m&&(m=tv(m),Mr(d.stateNode,d.type,m))}}function ot(d){Pr?Ln?Ln.push(d):Ln=[d]:Pr=d}function vr(){if(Pr){var d=Pr,m=Ln;if(Ln=Pr=null,Yt(d),m)for(d=0;d<m.length;d++)Yt(m[d])}}function Fn(d,m){return d(m)}function Wr(){}var ws=!1;function ct(d,m,A){if(ws)return d(m,A);ws=!0;try{return Fn(d,m,A)}finally{ws=!1,(Pr!==null||Ln!==null)&&(Wr(),vr())}}function Cr(d,m){var A=d.stateNode;if(A===null)return null;var k=tv(A);if(k===null)return null;A=k[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(d=d.type,k=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!k;break e;default:d=!1}if(d)return null;if(A&&typeof A!="function")throw Error(t(231,m,typeof A));return A}var $s=!1;if(o)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){$s=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{$s=!1}function Gr(d,m,A,k,M,H,le,Ae,Te){var Fe=Array.prototype.slice.call(arguments,3);try{m.apply(A,Fe)}catch(Ze){this.onError(Ze)}}var ar=!1,or=null,xi=!1,nu=null,lf={onError:function(d){ar=!0,or=d}};function fl(d,m,A,k,M,H,le,Ae,Te){ar=!1,or=null,Gr.apply(lf,arguments)}function ac(d,m,A,k,M,H,le,Ae,Te){if(fl.apply(this,arguments),ar){if(ar){var Fe=or;ar=!1,or=null}else throw Error(t(198));xi||(xi=!0,nu=Fe)}}function xs(d){var m=d,A=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(A=m.return),d=m.return;while(d)}return m.tag===3?A:null}function Lo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Qa(d){if(xs(d)!==d)throw Error(t(188))}function kd(d){var m=d.alternate;if(!m){if(m=xs(d),m===null)throw Error(t(188));return m!==d?null:d}for(var A=d,k=m;;){var M=A.return;if(M===null)break;var H=M.alternate;if(H===null){if(k=M.return,k!==null){A=k;continue}break}if(M.child===H.child){for(H=M.child;H;){if(H===A)return Qa(M),d;if(H===k)return Qa(M),m;H=H.sibling}throw Error(t(188))}if(A.return!==k.return)A=M,k=H;else{for(var le=!1,Ae=M.child;Ae;){if(Ae===A){le=!0,A=M,k=H;break}if(Ae===k){le=!0,k=M,A=H;break}Ae=Ae.sibling}if(!le){for(Ae=H.child;Ae;){if(Ae===A){le=!0,A=H,k=M;break}if(Ae===k){le=!0,k=H,A=M;break}Ae=Ae.sibling}if(!le)throw Error(t(189))}}if(A.alternate!==k)throw Error(t(190))}if(A.tag!==3)throw Error(t(188));return A.stateNode.current===A?d:m}function dl(d){return d=kd(d),d!==null?cf(d):null}function cf(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=cf(d);if(m!==null)return m;d=d.sibling}return null}var Nd=e.unstable_scheduleCallback,Od=e.unstable_cancelCallback,Tp=e.unstable_shouldYield,Ux=e.unstable_requestPaint,Dr=e.unstable_now,M0=e.unstable_getCurrentPriorityLevel,kp=e.unstable_ImmediatePriority,eo=e.unstable_UserBlockingPriority,uf=e.unstable_NormalPriority,D0=e.unstable_LowPriority,Np=e.unstable_IdlePriority,jd=null,to=null;function F0(d){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(jd,d,void 0,(d.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:B0,zx=Math.log,Ri=Math.LN2;function B0(d){return d>>>=0,d===0?32:31-(zx(d)/Ri|0)|0}var Ld=64,Ro=4194304;function hl(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ea(d,m){var A=d.pendingLanes;if(A===0)return 0;var k=0,M=d.suspendedLanes,H=d.pingedLanes,le=A&268435455;if(le!==0){var Ae=le&~M;Ae!==0?k=hl(Ae):(H&=le,H!==0&&(k=hl(H)))}else le=A&~M,le!==0?k=hl(le):H!==0&&(k=hl(H));if(k===0)return 0;if(m!==0&&m!==k&&(m&M)===0&&(M=k&-k,H=m&-m,M>=H||M===16&&(H&4194240)!==0))return m;if((k&4)!==0&&(k|=A&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=k;0<m;)A=31-qs(m),M=1<<A,k|=d[A],m&=~M;return k}function Rd(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(d,m){for(var A=d.suspendedLanes,k=d.pingedLanes,M=d.expirationTimes,H=d.pendingLanes;0<H;){var le=31-qs(H),Ae=1<<le,Te=M[le];Te===-1?((Ae&A)===0||(Ae&k)!==0)&&(M[le]=Rd(Ae,m)):Te<=m&&(d.expiredLanes|=Ae),H&=~Ae}}function Id(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function $0(){var d=Ld;return Ld<<=1,(Ld&4194240)===0&&(Ld=64),d}function Dg(d){for(var m=[],A=0;31>A;A++)m.push(d);return m}function Md(d,m,A){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-qs(m),d[m]=A}function oc(d,m){var A=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var k=d.eventTimes;for(d=d.expirationTimes;0<A;){var M=31-qs(A),H=1<<M;m[M]=0,k[M]=-1,d[M]=-1,A&=~H}}function Op(d,m){var A=d.entangledLanes|=m;for(d=d.entanglements;A;){var k=31-qs(A),M=1<<k;M&m|d[k]&m&&(d[k]|=m),A&=~M}}var Gn=0;function ru(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var jp,Fg,q0,U0,Lp,iu=!1,pl=[],lc=null,Ta=null,Io=null,Jt=new Map,Dd=new Map,cc=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(d,m){switch(d){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Jt.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(m.pointerId)}}function no(d,m,A,k,M,H){return d===null||d.nativeEvent!==H?(d={blockedOn:m,domEventName:A,eventSystemFlags:k,nativeEvent:H,targetContainers:[M]},m!==null&&(m=Gp(m),m!==null&&Fg(m)),d):(d.eventSystemFlags|=k,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function su(d,m,A,k,M){switch(m){case"focusin":return lc=no(lc,d,m,A,k,M),!0;case"dragenter":return Ta=no(Ta,d,m,A,k,M),!0;case"mouseover":return Io=no(Io,d,m,A,k,M),!0;case"pointerover":var H=M.pointerId;return Jt.set(H,no(Jt.get(H)||null,d,m,A,k,M)),!0;case"gotpointercapture":return H=M.pointerId,Dd.set(H,no(Dd.get(H)||null,d,m,A,k,M)),!0}return!1}function H0(d){var m=wf(d.target);if(m!==null){var A=xs(m);if(A!==null){if(m=A.tag,m===13){if(m=Lo(A),m!==null){d.blockedOn=m,Lp(d.priority,function(){q0(A)});return}}else if(m===3&&A.stateNode.current.memoizedState.isDehydrated){d.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Rp(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var A=Bd(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(A===null){A=d.nativeEvent;var k=new A.constructor(A.type,A);bn=k,A.target.dispatchEvent(k),bn=null}else return m=Gp(A),m!==null&&Fg(m),d.blockedOn=A,!1;m.shift()}return!0}function Fd(d,m,A){Rp(d)&&A.delete(m)}function Bg(){iu=!1,lc!==null&&Rp(lc)&&(lc=null),Ta!==null&&Rp(Ta)&&(Ta=null),Io!==null&&Rp(Io)&&(Io=null),Jt.forEach(Fd),Dd.forEach(Fd)}function ml(d,m){d.blockedOn===m&&(d.blockedOn=null,iu||(iu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bg)))}function uc(d){function m(M){return ml(M,d)}if(0<pl.length){ml(pl[0],d);for(var A=1;A<pl.length;A++){var k=pl[A];k.blockedOn===d&&(k.blockedOn=null)}}for(lc!==null&&ml(lc,d),Ta!==null&&ml(Ta,d),Io!==null&&ml(Io,d),Jt.forEach(m),Dd.forEach(m),A=0;A<cc.length;A++)k=cc[A],k.blockedOn===d&&(k.blockedOn=null);for(;0<cc.length&&(A=cc[0],A.blockedOn===null);)H0(A),A.blockedOn===null&&cc.shift()}var gl=P.ReactCurrentBatchConfig,Ip=!0;function $g(d,m,A,k){var M=Gn,H=gl.transition;gl.transition=null;try{Gn=1,au(d,m,A,k)}finally{Gn=M,gl.transition=H}}function qg(d,m,A,k){var M=Gn,H=gl.transition;gl.transition=null;try{Gn=4,au(d,m,A,k)}finally{Gn=M,gl.transition=H}}function au(d,m,A,k){if(Ip){var M=Bd(d,m,A,k);if(M===null)Zg(d,m,k,fc,A),z0(d,k);else if(su(M,d,m,A,k))k.stopPropagation();else if(z0(d,k),m&4&&-1<Hx.indexOf(d)){for(;M!==null;){var H=Gp(M);if(H!==null&&jp(H),H=Bd(d,m,A,k),H===null&&Zg(d,m,k,fc,A),H===M)break;M=H}M!==null&&k.stopPropagation()}else Zg(d,m,k,null,A)}}var fc=null;function Bd(d,m,A,k){if(fc=null,d=Ut(k),d=wf(d),d!==null)if(m=xs(d),m===null)d=null;else if(A=m.tag,A===13){if(d=Lo(m),d!==null)return d;d=null}else if(A===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return fc=d,null}function $d(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case kp:return 1;case eo:return 4;case uf:case D0:return 16;case Np:return 536870912;default:return 16}default:return 16}}var Mo=null,ou=null,qd=null;function Ug(){if(qd)return qd;var d,m=ou,A=m.length,k,M="value"in Mo?Mo.value:Mo.textContent,H=M.length;for(d=0;d<A&&m[d]===M[d];d++);var le=A-d;for(k=1;k<=le&&m[A-k]===M[H-k];k++);return qd=M.slice(d,1<k?1-k:void 0)}function Do(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Fo(){return!0}function zg(){return!1}function Us(d){function m(A,k,M,H,le){this._reactName=A,this._targetInst=M,this.type=k,this.nativeEvent=H,this.target=le,this.currentTarget=null;for(var Ae in d)d.hasOwnProperty(Ae)&&(A=d[Ae],this[Ae]=A?A(H):H[Ae]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Fo:zg,this.isPropagationStopped=zg,this}return Q(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),m}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=Us(Bo),I=Q({},Bo,{view:0,detail:0}),ae=Us(I),_e,Ce,je,ze=Q({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==je&&(je&&d.type==="mousemove"?(_e=d.screenX-je.screenX,Ce=d.screenY-je.screenY):Ce=_e=0,je=d),_e)},movementY:function(d){return"movementY"in d?d.movementY:Ce}}),Ye=Us(ze),bt=Q({},ze,{dataTransfer:0}),Nt=Us(bt),an=Q({},I,{relatedTarget:0}),on=Us(an),Yn=Q({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=Us(Yn),Ii=Q({},Bo,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Er=Us(Ii),Xi=Q({},Bo,{data:0}),Si=Us(Xi),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=ka[d])?!!m[d]:!1}function ff(){return V0}var Ud=Q({},I,{key:function(d){if(d.key){var m=_s[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Do(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?$o[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(d){return d.type==="keypress"?Do(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Do(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),df=Us(Ud),zd=Q({},ze,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=Us(zd),Hd=Q({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),zs=Us(Hd),Vd=Q({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=Us(Vd),Hg=Q({},ze,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=Us(Hg),ci=[9,13,27,32],vl=o&&"CompositionEvent"in window,dc=null;o&&"documentMode"in document&&(dc=document.documentMode);var W0=o&&"TextEvent"in window&&!dc,ro=o&&(!vl||dc&&8<dc&&11>=dc),pf=" ",Dp=!1;function Fp(d,m){switch(d){case"keyup":return ci.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var qo=!1;function io(d,m){switch(d){case"compositionend":return lu(m);case"keypress":return m.which!==32?null:(Dp=!0,pf);case"textInput":return d=m.data,d===pf&&Dp?null:d;default:return null}}function so(d,m){if(qo)return d==="compositionend"||!vl&&Fp(d,m)?(d=Ug(),qd=ou=Mo=null,qo=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ro&&m.locale!=="ko"?null:m.data;default:return null}}var mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!mf[d.type]:m==="textarea"}function cu(d,m,A,k){ot(k),m=J0(m,"onChange"),0<m.length&&(A=new Mp("onChange","change",null,A,k),d.push({event:A,listeners:m}))}var uu=null,pc=null;function Ai(d){Yg(d,0)}function Gd(d){var m=rh(d);if(ye(m))return d}function mc(d,m){if(d==="change")return m}var yl=!1;if(o){var Kd;if(o){var Xd="oninput"in document;if(!Xd){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Xd=typeof Bp.oninput=="function"}Kd=Xd}else Kd=!1;yl=Kd&&(!document.documentMode||9<document.documentMode)}function $p(){uu&&(uu.detachEvent("onpropertychange",fu),pc=uu=null)}function fu(d){if(d.propertyName==="value"&&Gd(pc)){var m=[];cu(m,pc,d,Ut(d)),ct(Ai,m)}}function gf(d,m,A){d==="focusin"?($p(),uu=m,pc=A,uu.attachEvent("onpropertychange",fu)):d==="focusout"&&$p()}function vf(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Gd(pc)}function Yd(d,m){if(d==="click")return Gd(m)}function yf(d,m){if(d==="input"||d==="change")return Gd(m)}function Jd(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ui=typeof Object.is=="function"?Object.is:Jd;function Na(d,m){if(ui(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var A=Object.keys(d),k=Object.keys(m);if(A.length!==k.length)return!1;for(k=0;k<A.length;k++){var M=A[k];if(!l.call(m,M)||!ui(d[M],m[M]))return!1}return!0}function Jn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function fr(d,m){var A=Jn(d);d=0;for(var k;A;){if(A.nodeType===3){if(k=d+A.textContent.length,d<=m&&k>=m)return{node:A,offset:m-d};d=k}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Jn(A)}}function fi(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?fi(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function Mi(){for(var d=window,m=Oe();m instanceof d.HTMLIFrameElement;){try{var A=typeof m.contentWindow.location.href=="string"}catch{A=!1}if(A)d=m.contentWindow;else break;m=Oe(d.document)}return m}function bl(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Wg(d){var m=Mi(),A=d.focusedElem,k=d.selectionRange;if(m!==A&&A&&A.ownerDocument&&fi(A.ownerDocument.documentElement,A)){if(k!==null&&bl(A)){if(m=k.start,d=k.end,d===void 0&&(d=m),"selectionStart"in A)A.selectionStart=m,A.selectionEnd=Math.min(d,A.value.length);else if(d=(m=A.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var M=A.textContent.length,H=Math.min(k.start,M);k=k.end===void 0?H:Math.min(k.end,M),!d.extend&&H>k&&(M=k,k=H,H=M),M=fr(A,H);var le=fr(A,k);M&&le&&(d.rangeCount!==1||d.anchorNode!==M.node||d.anchorOffset!==M.offset||d.focusNode!==le.node||d.focusOffset!==le.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),d.removeAllRanges(),H>k?(d.addRange(m),d.extend(le.node,le.offset)):(m.setEnd(le.node,le.offset),d.addRange(m)))}}for(m=[],d=A;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<m.length;A++)d=m[A],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var qp=o&&"documentMode"in document&&11>=document.documentMode,du=null,G0=null,Up=null,K0=!1;function Vx(d,m,A){var k=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;K0||du==null||du!==Oe(k)||(k=du,"selectionStart"in k&&bl(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Up&&Na(Up,k)||(Up=k,k=J0(G0,"onSelect"),0<k.length&&(m=new Mp("onSelect","select",null,m,A),d.push({event:m,listeners:k}),m.target=du)))}function Gg(d,m){var A={};return A[d.toLowerCase()]=m.toLowerCase(),A["Webkit"+d]="webkit"+m,A["Moz"+d]="moz"+m,A}var Zd={animationend:Gg("Animation","AnimationEnd"),animationiteration:Gg("Animation","AnimationIteration"),animationstart:Gg("Animation","AnimationStart"),transitionend:Gg("Transition","TransitionEnd")},Qd={},Wx={};o&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete Zd.animationend.animation,delete Zd.animationiteration.animation,delete Zd.animationstart.animation),"TransitionEvent"in window||delete Zd.transitionend.transition);function Kg(d){if(Qd[d])return Qd[d];if(!Zd[d])return d;var m=Zd[d],A;for(A in m)if(m.hasOwnProperty(A)&&A in Wx)return Qd[d]=m[A];return d}var Gx=Kg("animationend"),Kx=Kg("animationiteration"),Xx=Kg("animationstart"),Yx=Kg("transitionend"),Jx=new Map,Zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gc(d,m){Jx.set(d,m),s(m,[d])}for(var zp=0;zp<Zx.length;zp++){var la=Zx[zp],Uo=la.toLowerCase(),X0=la[0].toUpperCase()+la.slice(1);gc(Uo,"on"+X0)}gc(Gx,"onAnimationEnd"),gc(Kx,"onAnimationIteration"),gc(Xx,"onAnimationStart"),gc("dblclick","onDoubleClick"),gc("focusin","onFocus"),gc("focusout","onBlur"),gc(Yx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F5=new Set("cancel close invalid load scroll toggle".split(" ").concat(bf));function Xg(d,m,A){var k=d.type||"unknown-event";d.currentTarget=A,ac(k,m,void 0,d),d.currentTarget=null}function Yg(d,m){m=(m&4)!==0;for(var A=0;A<d.length;A++){var k=d[A],M=k.event;k=k.listeners;e:{var H=void 0;if(m)for(var le=k.length-1;0<=le;le--){var Ae=k[le],Te=Ae.instance,Fe=Ae.currentTarget;if(Ae=Ae.listener,Te!==H&&M.isPropagationStopped())break e;Xg(M,Ae,Fe),H=Te}else for(le=0;le<k.length;le++){if(Ae=k[le],Te=Ae.instance,Fe=Ae.currentTarget,Ae=Ae.listener,Te!==H&&M.isPropagationStopped())break e;Xg(M,Ae,Fe),H=Te}}}if(xi)throw d=nu,xi=!1,nu=null,d}function yr(d,m){var A=m[ja];A===void 0&&(A=m[ja]=new Set);var k=d+"__bubble";A.has(k)||(Jg(m,d,2,!1),A.add(k))}function Y0(d,m,A){var k=0;m&&(k|=4),Jg(A,d,k,m)}var Hp="_reactListening"+Math.random().toString(36).slice(2);function eh(d){if(!d[Hp]){d[Hp]=!0,r.forEach(function(A){A!=="selectionchange"&&(F5.has(A)||Y0(A,!1,d),Y0(A,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Hp]||(m[Hp]=!0,Y0("selectionchange",!1,m))}}function Jg(d,m,A,k){switch($d(m)){case 1:var M=$g;break;case 4:M=qg;break;default:M=au}A=M.bind(null,m,A,d),M=void 0,!$s||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),k?M!==void 0?d.addEventListener(m,A,{capture:!0,passive:M}):d.addEventListener(m,A,!0):M!==void 0?d.addEventListener(m,A,{passive:M}):d.addEventListener(m,A,!1)}function Zg(d,m,A,k,M){var H=k;if((m&1)===0&&(m&2)===0&&k!==null)e:for(;;){if(k===null)return;var le=k.tag;if(le===3||le===4){var Ae=k.stateNode.containerInfo;if(Ae===M||Ae.nodeType===8&&Ae.parentNode===M)break;if(le===4)for(le=k.return;le!==null;){var Te=le.tag;if((Te===3||Te===4)&&(Te=le.stateNode.containerInfo,Te===M||Te.nodeType===8&&Te.parentNode===M))return;le=le.return}for(;Ae!==null;){if(le=wf(Ae),le===null)return;if(Te=le.tag,Te===5||Te===6){k=H=le;continue e}Ae=Ae.parentNode}}k=k.return}ct(function(){var Fe=H,Ze=Ut(A),Qe=[];e:{var Je=Jx.get(d);if(Je!==void 0){var ft=Mp,St=d;switch(d){case"keypress":if(Do(A)===0)break e;case"keydown":case"keyup":ft=df;break;case"focusin":St="focus",ft=on;break;case"focusout":St="blur",ft=on;break;case"beforeblur":case"afterblur":ft=on;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Ye;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Nt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=zs;break;case Gx:case Kx:case Xx:ft=ni;break;case Yx:ft=Wd;break;case"scroll":ft=ae;break;case"wheel":ft=Vg;break;case"copy":case"cut":case"paste":ft=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=hf}var kt=(m&4)!==0,Zi=!kt&&d==="scroll",Ie=kt?Je!==null?Je+"Capture":null:Je;kt=[];for(var Ne=Fe,De;Ne!==null;){De=Ne;var nt=De.stateNode;if(De.tag===5&&nt!==null&&(De=nt,Ie!==null&&(nt=Cr(Ne,Ie),nt!=null&&kt.push(Qg(Ne,nt,De)))),Zi)break;Ne=Ne.return}0<kt.length&&(Je=new ft(Je,St,null,A,Ze),Qe.push({event:Je,listeners:kt}))}}if((m&7)===0){e:{if(Je=d==="mouseover"||d==="pointerover",ft=d==="mouseout"||d==="pointerout",Je&&A!==bn&&(St=A.relatedTarget||A.fromElement)&&(wf(St)||St[Hs]))break e;if((ft||Je)&&(Je=Ze.window===Ze?Ze:(Je=Ze.ownerDocument)?Je.defaultView||Je.parentWindow:window,ft?(St=A.relatedTarget||A.toElement,ft=Fe,St=St?wf(St):null,St!==null&&(Zi=xs(St),St!==Zi||St.tag!==5&&St.tag!==6)&&(St=null)):(ft=null,St=Fe),ft!==St)){if(kt=Ye,nt="onMouseLeave",Ie="onMouseEnter",Ne="mouse",(d==="pointerout"||d==="pointerover")&&(kt=hf,nt="onPointerLeave",Ie="onPointerEnter",Ne="pointer"),Zi=ft==null?Je:rh(ft),De=St==null?Je:rh(St),Je=new kt(nt,Ne+"leave",ft,A,Ze),Je.target=Zi,Je.relatedTarget=De,nt=null,wf(Ze)===Fe&&(kt=new kt(Ie,Ne+"enter",St,A,Ze),kt.target=De,kt.relatedTarget=Zi,nt=kt),Zi=nt,ft&&St)t:{for(kt=ft,Ie=St,Ne=0,De=kt;De;De=th(De))Ne++;for(De=0,nt=Ie;nt;nt=th(nt))De++;for(;0<Ne-De;)kt=th(kt),Ne--;for(;0<De-Ne;)Ie=th(Ie),De--;for(;Ne--;){if(kt===Ie||Ie!==null&&kt===Ie.alternate)break t;kt=th(kt),Ie=th(Ie)}kt=null}else kt=null;ft!==null&&B5(Qe,Je,ft,kt,!1),St!==null&&Zi!==null&&B5(Qe,Zi,St,kt,!0)}}e:{if(Je=Fe?rh(Fe):window,ft=Je.nodeName&&Je.nodeName.toLowerCase(),ft==="select"||ft==="input"&&Je.type==="file")var Rt=mc;else if(hc(Je))if(yl)Rt=yf;else{Rt=vf;var Vt=gf}else(ft=Je.nodeName)&&ft.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Rt=Yd);if(Rt&&(Rt=Rt(d,Fe))){cu(Qe,Rt,A,Ze);break e}Vt&&Vt(d,Je,Fe),d==="focusout"&&(Vt=Je._wrapperState)&&Vt.controlled&&Je.type==="number"&&$e(Je,"number",Je.value)}switch(Vt=Fe?rh(Fe):window,d){case"focusin":(hc(Vt)||Vt.contentEditable==="true")&&(du=Vt,G0=Fe,Up=null);break;case"focusout":Up=G0=du=null;break;case"mousedown":K0=!0;break;case"contextmenu":case"mouseup":case"dragend":K0=!1,Vx(Qe,A,Ze);break;case"selectionchange":if(qp)break;case"keydown":case"keyup":Vx(Qe,A,Ze)}var Wt;if(vl)e:{switch(d){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else qo?Fp(d,A)&&(un="onCompositionEnd"):d==="keydown"&&A.keyCode===229&&(un="onCompositionStart");un&&(ro&&A.locale!=="ko"&&(qo||un!=="onCompositionStart"?un==="onCompositionEnd"&&qo&&(Wt=Ug()):(Mo=Ze,ou="value"in Mo?Mo.value:Mo.textContent,qo=!0)),Vt=J0(Fe,un),0<Vt.length&&(un=new Si(un,d,null,A,Ze),Qe.push({event:un,listeners:Vt}),Wt?un.data=Wt:(Wt=lu(A),Wt!==null&&(un.data=Wt)))),(Wt=W0?io(d,A):so(d,A))&&(Fe=J0(Fe,"onBeforeInput"),0<Fe.length&&(Ze=new Si("onBeforeInput","beforeinput",null,A,Ze),Qe.push({event:Ze,listeners:Fe}),Ze.data=Wt))}Yg(Qe,m)})}function Qg(d,m,A){return{instance:d,listener:m,currentTarget:A}}function J0(d,m){for(var A=m+"Capture",k=[];d!==null;){var M=d,H=M.stateNode;M.tag===5&&H!==null&&(M=H,H=Cr(d,A),H!=null&&k.unshift(Qg(d,H,M)),H=Cr(d,m),H!=null&&k.push(Qg(d,H,M))),d=d.return}return k}function th(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function B5(d,m,A,k,M){for(var H=m._reactName,le=[];A!==null&&A!==k;){var Ae=A,Te=Ae.alternate,Fe=Ae.stateNode;if(Te!==null&&Te===k)break;Ae.tag===5&&Fe!==null&&(Ae=Fe,M?(Te=Cr(A,H),Te!=null&&le.unshift(Qg(A,Te,Ae))):M||(Te=Cr(A,H),Te!=null&&le.push(Qg(A,Te,Ae)))),A=A.return}le.length!==0&&d.push({event:m,listeners:le})}var VN=/\r\n?/g,WN=/\u0000|\uFFFD/g;function $5(d){return(typeof d=="string"?d:""+d).replace(VN,`
`).replace(WN,"")}function Z0(d,m,A){if(m=$5(m),$5(d)!==m&&A)throw Error(t(425))}function Vp(){}var ev=null,nh=null;function Qx(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var e2=typeof setTimeout=="function"?setTimeout:void 0,q5=typeof clearTimeout=="function"?clearTimeout:void 0,U5=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof U5<"u"?function(d){return U5.resolve(null).then(d).catch(KN)}:e2;function KN(d){setTimeout(function(){throw d})}function t2(d,m){var A=m,k=0;do{var M=A.nextSibling;if(d.removeChild(A),M&&M.nodeType===8)if(A=M.data,A==="/$"){if(k===0){d.removeChild(M),uc(m);return}k--}else A!=="$"&&A!=="$?"&&A!=="$!"||k++;A=M}while(A);uc(m)}function ca(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function zo(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var A=d.data;if(A==="$"||A==="$!"||A==="$?"){if(m===0)return d;m--}else A==="/$"&&m++}d=d.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),vc="__reactFiber$"+Oa,Wp="__reactProps$"+Oa,Hs="__reactContainer$"+Oa,ja="__reactEvents$"+Oa,XN="__reactListeners$"+Oa,YN="__reactHandles$"+Oa;function wf(d){var m=d[vc];if(m)return m;for(var A=d.parentNode;A;){if(m=A[Hs]||A[vc]){if(A=m.alternate,m.child!==null||A!==null&&A.child!==null)for(d=zo(d);d!==null;){if(A=d[vc])return A;d=zo(d)}return m}d=A,A=d.parentNode}return null}function Gp(d){return d=d[vc]||d[Hs],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function rh(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function tv(d){return d[Wp]||null}var n2=[],hu=-1;function wl(d){return{current:d}}function lr(d){0>hu||(d.current=n2[hu],n2[hu]=null,hu--)}function dr(d,m){hu++,n2[hu]=d.current,d.current=m}var xf={},Ss=wl(xf),La=wl(!1),ih=xf;function Kp(d,m){var A=d.type.contextTypes;if(!A)return xf;var k=d.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===m)return k.__reactInternalMemoizedMaskedChildContext;var M={},H;for(H in A)M[H]=m[H];return k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=M),M}function Ra(d){return d=d.childContextTypes,d!=null}function Q0(){lr(La),lr(Ss)}function z5(d,m,A){if(Ss.current!==xf)throw Error(t(168));dr(Ss,m),dr(La,A)}function r2(d,m,A){var k=d.stateNode;if(m=m.childContextTypes,typeof k.getChildContext!="function")return A;k=k.getChildContext();for(var M in k)if(!(M in m))throw Error(t(108,he(d)||"Unknown",M));return Q({},A,k)}function sh(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||xf,ih=Ss.current,dr(Ss,d),dr(La,La.current),!0}function H5(d,m,A){var k=d.stateNode;if(!k)throw Error(t(169));A?(d=r2(d,m,ih),k.__reactInternalMemoizedMergedChildContext=d,lr(La),lr(Ss),dr(Ss,d)):lr(La),dr(La,A)}var pu=null,nv=!1,T=!1;function O(d){pu===null?pu=[d]:pu.push(d)}function q(d){nv=!0,O(d)}function Y(){if(!T&&pu!==null){T=!0;var d=0,m=Gn;try{var A=pu;for(Gn=1;d<A.length;d++){var k=A[d];do k=k(!0);while(k!==null)}pu=null,nv=!1}catch(M){throw pu!==null&&(pu=pu.slice(d+1)),Nd(kp,Y),M}finally{Gn=m,T=!1}}return null}var se=[],ce=0,ue=null,me=0,ve=[],we=0,Ee=null,Re=1,xe="";function ke(d,m){se[ce++]=me,se[ce++]=ue,ue=d,me=m}function Le(d,m,A){ve[we++]=Re,ve[we++]=xe,ve[we++]=Ee,Ee=d;var k=Re;d=xe;var M=32-qs(k)-1;k&=~(1<<M),A+=1;var H=32-qs(m)+M;if(30<H){var le=M-M%5;H=(k&(1<<le)-1).toString(32),k>>=le,M-=le,Re=1<<32-qs(m)+M|A<<M|k,xe=H+d}else Re=1<<H|A<<M|k,xe=d}function Ue(d){d.return!==null&&(ke(d,1),Le(d,1,0))}function Me(d){for(;d===ue;)ue=se[--ce],se[ce]=null,me=se[--ce],se[ce]=null;for(;d===Ee;)Ee=ve[--we],ve[we]=null,xe=ve[--we],ve[we]=null,Re=ve[--we],ve[we]=null}var Be=null,qe=null,We=!1,Ge=null;function Ot(d,m){var A=_c(5,null,null,0);A.elementType="DELETED",A.stateNode=m,A.return=d,m=d.deletions,m===null?(d.deletions=[A],d.flags|=16):m.push(A)}function dt(d,m){switch(d.tag){case 5:var A=d.type;return m=m.nodeType!==1||A.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Be=d,qe=ca(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Be=d,qe=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(A=Ee!==null?{id:Re,overflow:xe}:null,d.memoizedState={dehydrated:m,treeContext:A,retryLane:1073741824},A=_c(18,null,null,0),A.stateNode=m,A.return=d,d.child=A,Be=d,qe=null,!0):!1;default:return!1}}function pn(d){return(d.mode&1)!==0&&(d.flags&128)===0}function wt(d){if(We){var m=qe;if(m){var A=m;if(!dt(d,m)){if(pn(d))throw Error(t(418));m=ca(A.nextSibling);var k=Be;m&&dt(d,m)?Ot(k,A):(d.flags=d.flags&-4097|2,We=!1,Be=d)}}else{if(pn(d))throw Error(t(418));d.flags=d.flags&-4097|2,We=!1,Be=d}}}function Nn(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Be=d}function di(d){if(d!==Be)return!1;if(!We)return Nn(d),We=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Qx(d.type,d.memoizedProps)),m&&(m=qe)){if(pn(d))throw gn(),Error(t(418));for(;m;)Ot(d,m),m=ca(m.nextSibling)}if(Nn(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var A=d.data;if(A==="/$"){if(m===0){qe=ca(d.nextSibling);break e}m--}else A!=="$"&&A!=="$!"&&A!=="$?"||m++}d=d.nextSibling}qe=null}}else qe=Be?ca(d.stateNode.nextSibling):null;return!0}function gn(){for(var d=qe;d;)d=ca(d.nextSibling)}function ht(){qe=Be=null,We=!1}function it(d){Ge===null?Ge=[d]:Ge.push(d)}var Pi=P.ReactCurrentBatchConfig;function rn(d,m,A){if(d=A.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(t(309));var k=A.stateNode}if(!k)throw Error(t(147,d));var M=k,H=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===H?m.ref:(m=function(le){var Ae=M.refs;le===null?delete Ae[H]:Ae[H]=le},m._stringRef=H,m)}if(typeof d!="string")throw Error(t(284));if(!A._owner)throw Error(t(290,d))}return d}function Tn(d,m){throw d=Object.prototype.toString.call(m),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function Tr(d){var m=d._init;return m(d._payload)}function os(d){function m(Ie,Ne){if(d){var De=Ie.deletions;De===null?(Ie.deletions=[Ne],Ie.flags|=16):De.push(Ne)}}function A(Ie,Ne){if(!d)return null;for(;Ne!==null;)m(Ie,Ne),Ne=Ne.sibling;return null}function k(Ie,Ne){for(Ie=new Map;Ne!==null;)Ne.key!==null?Ie.set(Ne.key,Ne):Ie.set(Ne.index,Ne),Ne=Ne.sibling;return Ie}function M(Ie,Ne){return Ie=im(Ie,Ne),Ie.index=0,Ie.sibling=null,Ie}function H(Ie,Ne,De){return Ie.index=De,d?(De=Ie.alternate,De!==null?(De=De.index,De<Ne?(Ie.flags|=2,Ne):De):(Ie.flags|=2,Ne)):(Ie.flags|=1048576,Ne)}function le(Ie){return d&&Ie.alternate===null&&(Ie.flags|=2),Ie}function Ae(Ie,Ne,De,nt){return Ne===null||Ne.tag!==6?(Ne=PO(De,Ie.mode,nt),Ne.return=Ie,Ne):(Ne=M(Ne,De),Ne.return=Ie,Ne)}function Te(Ie,Ne,De,nt){var Rt=De.type;return Rt===N?Ze(Ie,Ne,De.props.children,nt,De.key):Ne!==null&&(Ne.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===J&&Tr(Rt)===Ne.type)?(nt=M(Ne,De.props),nt.ref=rn(Ie,Ne,De),nt.return=Ie,nt):(nt=uP(De.type,De.key,De.props,null,Ie.mode,nt),nt.ref=rn(Ie,Ne,De),nt.return=Ie,nt)}function Fe(Ie,Ne,De,nt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==De.containerInfo||Ne.stateNode.implementation!==De.implementation?(Ne=CO(De,Ie.mode,nt),Ne.return=Ie,Ne):(Ne=M(Ne,De.children||[]),Ne.return=Ie,Ne)}function Ze(Ie,Ne,De,nt,Rt){return Ne===null||Ne.tag!==7?(Ne=uv(De,Ie.mode,nt,Rt),Ne.return=Ie,Ne):(Ne=M(Ne,De),Ne.return=Ie,Ne)}function Qe(Ie,Ne,De){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=PO(""+Ne,Ie.mode,De),Ne.return=Ie,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case E:return De=uP(Ne.type,Ne.key,Ne.props,null,Ie.mode,De),De.ref=rn(Ie,null,Ne),De.return=Ie,De;case C:return Ne=CO(Ne,Ie.mode,De),Ne.return=Ie,Ne;case J:var nt=Ne._init;return Qe(Ie,nt(Ne._payload),De)}if(at(Ne)||te(Ne))return Ne=uv(Ne,Ie.mode,De,null),Ne.return=Ie,Ne;Tn(Ie,Ne)}return null}function Je(Ie,Ne,De,nt){var Rt=Ne!==null?Ne.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Rt!==null?null:Ae(Ie,Ne,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case E:return De.key===Rt?Te(Ie,Ne,De,nt):null;case C:return De.key===Rt?Fe(Ie,Ne,De,nt):null;case J:return Rt=De._init,Je(Ie,Ne,Rt(De._payload),nt)}if(at(De)||te(De))return Rt!==null?null:Ze(Ie,Ne,De,nt,null);Tn(Ie,De)}return null}function ft(Ie,Ne,De,nt,Rt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Ie=Ie.get(De)||null,Ae(Ne,Ie,""+nt,Rt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case E:return Ie=Ie.get(nt.key===null?De:nt.key)||null,Te(Ne,Ie,nt,Rt);case C:return Ie=Ie.get(nt.key===null?De:nt.key)||null,Fe(Ne,Ie,nt,Rt);case J:var Vt=nt._init;return ft(Ie,Ne,De,Vt(nt._payload),Rt)}if(at(nt)||te(nt))return Ie=Ie.get(De)||null,Ze(Ne,Ie,nt,Rt,null);Tn(Ne,nt)}return null}function St(Ie,Ne,De,nt){for(var Rt=null,Vt=null,Wt=Ne,un=Ne=0,Xs=null;Wt!==null&&un<De.length;un++){Wt.index>un?(Xs=Wt,Wt=null):Xs=Wt.sibling;var rr=Je(Ie,Wt,De[un],nt);if(rr===null){Wt===null&&(Wt=Xs);break}d&&Wt&&rr.alternate===null&&m(Ie,Wt),Ne=H(rr,Ne,un),Vt===null?Rt=rr:Vt.sibling=rr,Vt=rr,Wt=Xs}if(un===De.length)return A(Ie,Wt),We&&ke(Ie,un),Rt;if(Wt===null){for(;un<De.length;un++)Wt=Qe(Ie,De[un],nt),Wt!==null&&(Ne=H(Wt,Ne,un),Vt===null?Rt=Wt:Vt.sibling=Wt,Vt=Wt);return We&&ke(Ie,un),Rt}for(Wt=k(Ie,Wt);un<De.length;un++)Xs=ft(Wt,Ie,un,De[un],nt),Xs!==null&&(d&&Xs.alternate!==null&&Wt.delete(Xs.key===null?un:Xs.key),Ne=H(Xs,Ne,un),Vt===null?Rt=Xs:Vt.sibling=Xs,Vt=Xs);return d&&Wt.forEach(function(sm){return m(Ie,sm)}),We&&ke(Ie,un),Rt}function kt(Ie,Ne,De,nt){var Rt=te(De);if(typeof Rt!="function")throw Error(t(150));if(De=Rt.call(De),De==null)throw Error(t(151));for(var Vt=Rt=null,Wt=Ne,un=Ne=0,Xs=null,rr=De.next();Wt!==null&&!rr.done;un++,rr=De.next()){Wt.index>un?(Xs=Wt,Wt=null):Xs=Wt.sibling;var sm=Je(Ie,Wt,rr.value,nt);if(sm===null){Wt===null&&(Wt=Xs);break}d&&Wt&&sm.alternate===null&&m(Ie,Wt),Ne=H(sm,Ne,un),Vt===null?Rt=sm:Vt.sibling=sm,Vt=sm,Wt=Xs}if(rr.done)return A(Ie,Wt),We&&ke(Ie,un),Rt;if(Wt===null){for(;!rr.done;un++,rr=De.next())rr=Qe(Ie,rr.value,nt),rr!==null&&(Ne=H(rr,Ne,un),Vt===null?Rt=rr:Vt.sibling=rr,Vt=rr);return We&&ke(Ie,un),Rt}for(Wt=k(Ie,Wt);!rr.done;un++,rr=De.next())rr=ft(Wt,Ie,un,rr.value,nt),rr!==null&&(d&&rr.alternate!==null&&Wt.delete(rr.key===null?un:rr.key),Ne=H(rr,Ne,un),Vt===null?Rt=rr:Vt.sibling=rr,Vt=rr);return d&&Wt.forEach(function(Mce){return m(Ie,Mce)}),We&&ke(Ie,un),Rt}function Zi(Ie,Ne,De,nt){if(typeof De=="object"&&De!==null&&De.type===N&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case E:e:{for(var Rt=De.key,Vt=Ne;Vt!==null;){if(Vt.key===Rt){if(Rt=De.type,Rt===N){if(Vt.tag===7){A(Ie,Vt.sibling),Ne=M(Vt,De.props.children),Ne.return=Ie,Ie=Ne;break e}}else if(Vt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===J&&Tr(Rt)===Vt.type){A(Ie,Vt.sibling),Ne=M(Vt,De.props),Ne.ref=rn(Ie,Vt,De),Ne.return=Ie,Ie=Ne;break e}A(Ie,Vt);break}else m(Ie,Vt);Vt=Vt.sibling}De.type===N?(Ne=uv(De.props.children,Ie.mode,nt,De.key),Ne.return=Ie,Ie=Ne):(nt=uP(De.type,De.key,De.props,null,Ie.mode,nt),nt.ref=rn(Ie,Ne,De),nt.return=Ie,Ie=nt)}return le(Ie);case C:e:{for(Vt=De.key;Ne!==null;){if(Ne.key===Vt)if(Ne.tag===4&&Ne.stateNode.containerInfo===De.containerInfo&&Ne.stateNode.implementation===De.implementation){A(Ie,Ne.sibling),Ne=M(Ne,De.children||[]),Ne.return=Ie,Ie=Ne;break e}else{A(Ie,Ne);break}else m(Ie,Ne);Ne=Ne.sibling}Ne=CO(De,Ie.mode,nt),Ne.return=Ie,Ie=Ne}return le(Ie);case J:return Vt=De._init,Zi(Ie,Ne,Vt(De._payload),nt)}if(at(De))return St(Ie,Ne,De,nt);if(te(De))return kt(Ie,Ne,De,nt);Tn(Ie,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Ne!==null&&Ne.tag===6?(A(Ie,Ne.sibling),Ne=M(Ne,De),Ne.return=Ie,Ie=Ne):(A(Ie,Ne),Ne=PO(De,Ie.mode,nt),Ne.return=Ie,Ie=Ne),le(Ie)):A(Ie,Ne)}return Zi}var Di=os(!0),ri=os(!1),Yi=wl(null),ls=null,Kr=null,Rn=null;function Zn(){Rn=Kr=ls=null}function Xr(d){var m=Yi.current;lr(Yi),d._currentValue=m}function Qn(d,m,A){for(;d!==null;){var k=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,k!==null&&(k.childLanes|=m)):k!==null&&(k.childLanes&m)!==m&&(k.childLanes|=m),d===A)break;d=d.return}}function hi(d,m){ls=d,Rn=Kr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Vo=!0),d.firstContext=null)}function pi(d){var m=d._currentValue;if(Rn!==d)if(d={context:d,memoizedValue:m,next:null},Kr===null){if(ls===null)throw Error(t(308));Kr=d,ls.dependencies={lanes:0,firstContext:d}}else Kr=Kr.next=d;return m}var br=null;function Vs(d){br===null?br=[d]:br.push(d)}function hr(d,m,A,k){var M=m.interleaved;return M===null?(A.next=A,Vs(m)):(A.next=M.next,M.next=A),m.interleaved=A,wr(d,k)}function wr(d,m){d.lanes|=m;var A=d.alternate;for(A!==null&&(A.lanes|=m),A=d,d=d.return;d!==null;)d.childLanes|=m,A=d.alternate,A!==null&&(A.childLanes|=m),A=d,d=d.return;return A.tag===3?A.stateNode:null}var Fi=!1;function As(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ci(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Ei(d,m,A){var k=d.updateQueue;if(k===null)return null;if(k=k.shared,(er&2)!==0){var M=k.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),k.pending=m,wr(d,A)}return M=k.interleaved,M===null?(m.next=m,Vs(k)):(m.next=M.next,M.next=m),k.interleaved=m,wr(d,A)}function Ws(d,m,A){if(m=m.updateQueue,m!==null&&(m=m.shared,(A&4194240)!==0)){var k=m.lanes;k&=d.pendingLanes,A|=k,m.lanes=A,Op(d,A)}}function xr(d,m){var A=d.updateQueue,k=d.alternate;if(k!==null&&(k=k.updateQueue,A===k)){var M=null,H=null;if(A=A.firstBaseUpdate,A!==null){do{var le={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};H===null?M=H=le:H=H.next=le,A=A.next}while(A!==null);H===null?M=H=m:H=H.next=m}else M=H=m;A={baseState:k.baseState,firstBaseUpdate:M,lastBaseUpdate:H,shared:k.shared,effects:k.effects},d.updateQueue=A;return}d=A.lastBaseUpdate,d===null?A.firstBaseUpdate=m:d.next=m,A.lastBaseUpdate=m}function Gs(d,m,A,k){var M=d.updateQueue;Fi=!1;var H=M.firstBaseUpdate,le=M.lastBaseUpdate,Ae=M.shared.pending;if(Ae!==null){M.shared.pending=null;var Te=Ae,Fe=Te.next;Te.next=null,le===null?H=Fe:le.next=Fe,le=Te;var Ze=d.alternate;Ze!==null&&(Ze=Ze.updateQueue,Ae=Ze.lastBaseUpdate,Ae!==le&&(Ae===null?Ze.firstBaseUpdate=Fe:Ae.next=Fe,Ze.lastBaseUpdate=Te))}if(H!==null){var Qe=M.baseState;le=0,Ze=Fe=Te=null,Ae=H;do{var Je=Ae.lane,ft=Ae.eventTime;if((k&Je)===Je){Ze!==null&&(Ze=Ze.next={eventTime:ft,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var St=d,kt=Ae;switch(Je=m,ft=A,kt.tag){case 1:if(St=kt.payload,typeof St=="function"){Qe=St.call(ft,Qe,Je);break e}Qe=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=kt.payload,Je=typeof St=="function"?St.call(ft,Qe,Je):St,Je==null)break e;Qe=Q({},Qe,Je);break e;case 2:Fi=!0}}Ae.callback!==null&&Ae.lane!==0&&(d.flags|=64,Je=M.effects,Je===null?M.effects=[Ae]:Je.push(Ae))}else ft={eventTime:ft,lane:Je,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},Ze===null?(Fe=Ze=ft,Te=Qe):Ze=Ze.next=ft,le|=Je;if(Ae=Ae.next,Ae===null){if(Ae=M.shared.pending,Ae===null)break;Je=Ae,Ae=Je.next,Je.next=null,M.lastBaseUpdate=Je,M.shared.pending=null}}while(!0);if(Ze===null&&(Te=Qe),M.baseState=Te,M.firstBaseUpdate=Fe,M.lastBaseUpdate=Ze,m=M.shared.interleaved,m!==null){M=m;do le|=M.lane,M=M.next;while(M!==m)}else H===null&&(M.shared.lanes=0);av|=le,d.lanes=le,d.memoizedState=Qe}}function Ho(d,m,A){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var k=d[m],M=k.callback;if(M!==null){if(k.callback=null,k=A,typeof M!="function")throw Error(t(191,M));M.call(k)}}}var xl={},cs=wl(xl),Ti=wl(xl),_f=wl(xl);function mu(d){if(d===xl)throw Error(t(174));return d}function Xp(d,m){switch(dr(_f,m),dr(Ti,d),dr(cs,xl),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Vn(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Vn(m,d)}lr(cs),dr(cs,m)}function yc(){lr(cs),lr(Ti),lr(_f)}function V5(d){mu(_f.current);var m=mu(cs.current),A=Vn(m,d.type);m!==A&&(dr(Ti,d),dr(cs,A))}function i2(d){Ti.current===d&&(lr(cs),lr(Ti))}var Fr=wl(0);function _l(d){for(var m=d;m!==null;){if(m.tag===13){var A=m.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var s2=[];function a2(){for(var d=0;d<s2.length;d++)s2[d]._workInProgressVersionPrimary=null;s2.length=0}var e1=P.ReactCurrentDispatcher,t1=P.ReactCurrentBatchConfig,bc=0,Yr=null,Bi=null,ki=null,Yp=!1,gu=!1,Jp=0,JN=0;function Ji(){throw Error(t(321))}function n1(d,m){if(m===null)return!1;for(var A=0;A<m.length&&A<d.length;A++)if(!ui(d[A],m[A]))return!1;return!0}function rv(d,m,A,k,M,H){if(bc=H,Yr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,e1.current=d===null||d.memoizedState===null?lce:cce,d=A(k,M),gu){H=0;do{if(gu=!1,Jp=0,25<=H)throw Error(t(301));H+=1,ki=Bi=null,m.updateQueue=null,e1.current=uce,d=A(k,M)}while(gu)}if(e1.current=Y5,m=Bi!==null&&Bi.next!==null,bc=0,ki=Bi=Yr=null,Yp=!1,m)throw Error(t(300));return d}function wc(){var d=Jp!==0;return Jp=0,d}function Sl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Yr.memoizedState=ki=d:ki=ki.next=d,ki}function ao(){if(Bi===null){var d=Yr.alternate;d=d!==null?d.memoizedState:null}else d=Bi.next;var m=ki===null?Yr.memoizedState:ki.next;if(m!==null)ki=m,Bi=d;else{if(d===null)throw Error(t(310));Bi=d,d={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},ki===null?Yr.memoizedState=ki=d:ki=ki.next=d}return ki}function iv(d,m){return typeof m=="function"?m(d):m}function r1(d){var m=ao(),A=m.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=d;var k=Bi,M=k.baseQueue,H=A.pending;if(H!==null){if(M!==null){var le=M.next;M.next=H.next,H.next=le}k.baseQueue=M=H,A.pending=null}if(M!==null){H=M.next,k=k.baseState;var Ae=le=null,Te=null,Fe=H;do{var Ze=Fe.lane;if((bc&Ze)===Ze)Te!==null&&(Te=Te.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),k=Fe.hasEagerState?Fe.eagerState:d(k,Fe.action);else{var Qe={lane:Ze,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};Te===null?(Ae=Te=Qe,le=k):Te=Te.next=Qe,Yr.lanes|=Ze,av|=Ze}Fe=Fe.next}while(Fe!==null&&Fe!==H);Te===null?le=k:Te.next=Ae,ui(k,m.memoizedState)||(Vo=!0),m.memoizedState=k,m.baseState=le,m.baseQueue=Te,A.lastRenderedState=k}if(d=A.interleaved,d!==null){M=d;do H=M.lane,Yr.lanes|=H,av|=H,M=M.next;while(M!==d)}else M===null&&(A.lanes=0);return[m.memoizedState,A.dispatch]}function Sf(d){var m=ao(),A=m.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=d;var k=A.dispatch,M=A.pending,H=m.memoizedState;if(M!==null){A.pending=null;var le=M=M.next;do H=d(H,le.action),le=le.next;while(le!==M);ui(H,m.memoizedState)||(Vo=!0),m.memoizedState=H,m.baseQueue===null&&(m.baseState=H),A.lastRenderedState=H}return[H,k]}function W5(){}function o2(d,m){var A=Yr,k=ao(),M=m(),H=!ui(k.memoizedState,M);if(H&&(k.memoizedState=M,Vo=!0),k=k.queue,a1(K5.bind(null,A,k,d),[d]),k.getSnapshot!==m||H||ki!==null&&ki.memoizedState.tag&1){if(A.flags|=2048,oo(9,l2.bind(null,A,k,M,m),void 0,null),Ks===null)throw Error(t(349));(bc&30)!==0||G5(A,m,M)}return M}function G5(d,m,A){d.flags|=16384,d={getSnapshot:m,value:A},m=Yr.updateQueue,m===null?(m={lastEffect:null,stores:null},Yr.updateQueue=m,m.stores=[d]):(A=m.stores,A===null?m.stores=[d]:A.push(d))}function l2(d,m,A,k){m.value=A,m.getSnapshot=k,Zp(m)&&i1(d)}function K5(d,m,A){return A(function(){Zp(m)&&i1(d)})}function Zp(d){var m=d.getSnapshot;d=d.value;try{var A=m();return!ui(d,A)}catch{return!0}}function i1(d){var m=wr(d,1);m!==null&&xu(m,d,1,-1)}function sv(d){var m=Sl();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:d},m.queue=d,d=d.dispatch=oce.bind(null,Yr,d),[m.memoizedState,d]}function oo(d,m,A,k){return d={tag:d,create:m,destroy:A,deps:k,next:null},m=Yr.updateQueue,m===null?(m={lastEffect:null,stores:null},Yr.updateQueue=m,m.lastEffect=d.next=d):(A=m.lastEffect,A===null?m.lastEffect=d.next=d:(k=A.next,A.next=d,d.next=k,m.lastEffect=d)),d}function vu(){return ao().memoizedState}function Al(d,m,A,k){var M=Sl();Yr.flags|=d,M.memoizedState=oo(1|m,A,void 0,k===void 0?null:k)}function ah(d,m,A,k){var M=ao();k=k===void 0?null:k;var H=void 0;if(Bi!==null){var le=Bi.memoizedState;if(H=le.destroy,k!==null&&n1(k,le.deps)){M.memoizedState=oo(m,A,H,k);return}}Yr.flags|=d,M.memoizedState=oo(1|m,A,H,k)}function s1(d,m){return Al(8390656,8,d,m)}function a1(d,m){return ah(2048,8,d,m)}function X5(d,m){return ah(4,2,d,m)}function o1(d,m){return ah(4,4,d,m)}function l1(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function g7(d,m,A){return A=A!=null?A.concat([d]):null,ah(4,4,l1.bind(null,m,d),A)}function ZN(){}function v7(d,m){var A=ao();m=m===void 0?null:m;var k=A.memoizedState;return k!==null&&m!==null&&n1(m,k[1])?k[0]:(A.memoizedState=[d,m],d)}function y7(d,m){var A=ao();m=m===void 0?null:m;var k=A.memoizedState;return k!==null&&m!==null&&n1(m,k[1])?k[0]:(d=d(),A.memoizedState=[d,m],d)}function b7(d,m,A){return(bc&21)===0?(d.baseState&&(d.baseState=!1,Vo=!0),d.memoizedState=A):(ui(A,m)||(A=$0(),Yr.lanes|=A,av|=A,d.baseState=!0),m)}function sce(d,m){var A=Gn;Gn=A!==0&&4>A?A:4,d(!0);var k=t1.transition;t1.transition={};try{d(!1),m()}finally{Gn=A,t1.transition=k}}function w7(){return ao().memoizedState}function ace(d,m,A){var k=nm(d);if(A={lane:k,action:A,hasEagerState:!1,eagerState:null,next:null},x7(d))_7(m,A);else if(A=hr(d,m,A,k),A!==null){var M=co();xu(A,d,k,M),S7(A,m,k)}}function oce(d,m,A){var k=nm(d),M={lane:k,action:A,hasEagerState:!1,eagerState:null,next:null};if(x7(d))_7(m,M);else{var H=d.alternate;if(d.lanes===0&&(H===null||H.lanes===0)&&(H=m.lastRenderedReducer,H!==null))try{var le=m.lastRenderedState,Ae=H(le,A);if(M.hasEagerState=!0,M.eagerState=Ae,ui(Ae,le)){var Te=m.interleaved;Te===null?(M.next=M,Vs(m)):(M.next=Te.next,Te.next=M),m.interleaved=M;return}}catch{}finally{}A=hr(d,m,M,k),A!==null&&(M=co(),xu(A,d,k,M),S7(A,m,k))}}function x7(d){var m=d.alternate;return d===Yr||m!==null&&m===Yr}function _7(d,m){gu=Yp=!0;var A=d.pending;A===null?m.next=m:(m.next=A.next,A.next=m),d.pending=m}function S7(d,m,A){if((A&4194240)!==0){var k=m.lanes;k&=d.pendingLanes,A|=k,m.lanes=A,Op(d,A)}}var Y5={readContext:pi,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},lce={readContext:pi,useCallback:function(d,m){return Sl().memoizedState=[d,m===void 0?null:m],d},useContext:pi,useEffect:s1,useImperativeHandle:function(d,m,A){return A=A!=null?A.concat([d]):null,Al(4194308,4,l1.bind(null,m,d),A)},useLayoutEffect:function(d,m){return Al(4194308,4,d,m)},useInsertionEffect:function(d,m){return Al(4,2,d,m)},useMemo:function(d,m){var A=Sl();return m=m===void 0?null:m,d=d(),A.memoizedState=[d,m],d},useReducer:function(d,m,A){var k=Sl();return m=A!==void 0?A(m):m,k.memoizedState=k.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},k.queue=d,d=d.dispatch=ace.bind(null,Yr,d),[k.memoizedState,d]},useRef:function(d){var m=Sl();return d={current:d},m.memoizedState=d},useState:sv,useDebugValue:ZN,useDeferredValue:function(d){return Sl().memoizedState=d},useTransition:function(){var d=sv(!1),m=d[0];return d=sce.bind(null,d[1]),Sl().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,A){var k=Yr,M=Sl();if(We){if(A===void 0)throw Error(t(407));A=A()}else{if(A=m(),Ks===null)throw Error(t(349));(bc&30)!==0||G5(k,m,A)}M.memoizedState=A;var H={value:A,getSnapshot:m};return M.queue=H,s1(K5.bind(null,k,H,d),[d]),k.flags|=2048,oo(9,l2.bind(null,k,H,A,m),void 0,null),A},useId:function(){var d=Sl(),m=Ks.identifierPrefix;if(We){var A=xe,k=Re;A=(k&~(1<<32-qs(k)-1)).toString(32)+A,m=":"+m+"R"+A,A=Jp++,0<A&&(m+="H"+A.toString(32)),m+=":"}else A=JN++,m=":"+m+"r"+A.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},cce={readContext:pi,useCallback:v7,useContext:pi,useEffect:a1,useImperativeHandle:g7,useInsertionEffect:X5,useLayoutEffect:o1,useMemo:y7,useReducer:r1,useRef:vu,useState:function(){return r1(iv)},useDebugValue:ZN,useDeferredValue:function(d){var m=ao();return b7(m,Bi.memoizedState,d)},useTransition:function(){var d=r1(iv)[0],m=ao().memoizedState;return[d,m]},useMutableSource:W5,useSyncExternalStore:o2,useId:w7,unstable_isNewReconciler:!1},uce={readContext:pi,useCallback:v7,useContext:pi,useEffect:a1,useImperativeHandle:g7,useInsertionEffect:X5,useLayoutEffect:o1,useMemo:y7,useReducer:Sf,useRef:vu,useState:function(){return Sf(iv)},useDebugValue:ZN,useDeferredValue:function(d){var m=ao();return Bi===null?m.memoizedState=d:b7(m,Bi.memoizedState,d)},useTransition:function(){var d=Sf(iv)[0],m=ao().memoizedState;return[d,m]},useMutableSource:W5,useSyncExternalStore:o2,useId:w7,unstable_isNewReconciler:!1};function yu(d,m){if(d&&d.defaultProps){m=Q({},m),d=d.defaultProps;for(var A in d)m[A]===void 0&&(m[A]=d[A]);return m}return m}function QN(d,m,A,k){m=d.memoizedState,A=A(k,m),A=A==null?m:Q({},m,A),d.memoizedState=A,d.lanes===0&&(d.updateQueue.baseState=A)}var J5={isMounted:function(d){return(d=d._reactInternals)?xs(d)===d:!1},enqueueSetState:function(d,m,A){d=d._reactInternals;var k=co(),M=nm(d),H=Ci(k,M);H.payload=m,A!=null&&(H.callback=A),m=Ei(d,H,M),m!==null&&(xu(m,d,M,k),Ws(m,d,M))},enqueueReplaceState:function(d,m,A){d=d._reactInternals;var k=co(),M=nm(d),H=Ci(k,M);H.tag=1,H.payload=m,A!=null&&(H.callback=A),m=Ei(d,H,M),m!==null&&(xu(m,d,M,k),Ws(m,d,M))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var A=co(),k=nm(d),M=Ci(A,k);M.tag=2,m!=null&&(M.callback=m),m=Ei(d,M,k),m!==null&&(xu(m,d,k,A),Ws(m,d,k))}};function A7(d,m,A,k,M,H,le){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(k,H,le):m.prototype&&m.prototype.isPureReactComponent?!Na(A,k)||!Na(M,H):!0}function P7(d,m,A){var k=!1,M=xf,H=m.contextType;return typeof H=="object"&&H!==null?H=pi(H):(M=Ra(m)?ih:Ss.current,k=m.contextTypes,H=(k=k!=null)?Kp(d,M):xf),m=new m(A,H),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=J5,d.stateNode=m,m._reactInternals=d,k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=H),m}function C7(d,m,A,k){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(A,k),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(A,k),m.state!==d&&J5.enqueueReplaceState(m,m.state,null)}function eO(d,m,A,k){var M=d.stateNode;M.props=A,M.state=d.memoizedState,M.refs={},As(d);var H=m.contextType;typeof H=="object"&&H!==null?M.context=pi(H):(H=Ra(m)?ih:Ss.current,M.context=Kp(d,H)),M.state=d.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(QN(d,m,H,A),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&J5.enqueueReplaceState(M,M.state,null),Gs(d,A,M,k),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}function c1(d,m){try{var A="",k=m;do A+=ie(k),k=k.return;while(k);var M=A}catch(H){M=`
Error generating stack: `+H.message+`
`+H.stack}return{value:d,source:m,stack:M,digest:null}}function tO(d,m,A){return{value:d,source:null,stack:A??null,digest:m??null}}function nO(d,m){try{console.error(m.value)}catch(A){setTimeout(function(){throw A})}}var fce=typeof WeakMap=="function"?WeakMap:Map;function E7(d,m,A){A=Ci(-1,A),A.tag=3,A.payload={element:null};var k=m.value;return A.callback=function(){iP||(iP=!0,vO=k),nO(d,m)},A}function T7(d,m,A){A=Ci(-1,A),A.tag=3;var k=d.type.getDerivedStateFromError;if(typeof k=="function"){var M=m.value;A.payload=function(){return k(M)},A.callback=function(){nO(d,m)}}var H=d.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(A.callback=function(){nO(d,m),typeof k!="function"&&(em===null?em=new Set([this]):em.add(this));var le=m.stack;this.componentDidCatch(m.value,{componentStack:le!==null?le:""})}),A}function k7(d,m,A){var k=d.pingCache;if(k===null){k=d.pingCache=new fce;var M=new Set;k.set(m,M)}else M=k.get(m),M===void 0&&(M=new Set,k.set(m,M));M.has(A)||(M.add(A),d=Pce.bind(null,d,m,A),m.then(d,d))}function N7(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function O7(d,m,A,k,M){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(m=Ci(-1,1),m.tag=2,Ei(A,m,1))),A.lanes|=1),d):(d.flags|=65536,d.lanes=M,d)}var dce=P.ReactCurrentOwner,Vo=!1;function lo(d,m,A,k){m.child=d===null?ri(m,null,A,k):Di(m,d.child,A,k)}function j7(d,m,A,k,M){A=A.render;var H=m.ref;return hi(m,M),k=rv(d,m,A,k,H,M),A=wc(),d!==null&&!Vo?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,oh(d,m,M)):(We&&A&&Ue(m),m.flags|=1,lo(d,m,k,M),m.child)}function L7(d,m,A,k,M){if(d===null){var H=A.type;return typeof H=="function"&&!AO(H)&&H.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(m.tag=15,m.type=H,R7(d,m,H,k,M)):(d=uP(A.type,null,k,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if(H=d.child,(d.lanes&M)===0){var le=H.memoizedProps;if(A=A.compare,A=A!==null?A:Na,A(le,k)&&d.ref===m.ref)return oh(d,m,M)}return m.flags|=1,d=im(H,k),d.ref=m.ref,d.return=m,m.child=d}function R7(d,m,A,k,M){if(d!==null){var H=d.memoizedProps;if(Na(H,k)&&d.ref===m.ref)if(Vo=!1,m.pendingProps=k=H,(d.lanes&M)!==0)(d.flags&131072)!==0&&(Vo=!0);else return m.lanes=d.lanes,oh(d,m,M)}return rO(d,m,A,k,M)}function I7(d,m,A){var k=m.pendingProps,M=k.children,H=d!==null?d.memoizedState:null;if(k.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(f1,Pl),Pl|=A;else{if((A&1073741824)===0)return d=H!==null?H.baseLanes|A:A,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,dr(f1,Pl),Pl|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=H!==null?H.baseLanes:A,dr(f1,Pl),Pl|=k}else H!==null?(k=H.baseLanes|A,m.memoizedState=null):k=A,dr(f1,Pl),Pl|=k;return lo(d,m,M,A),m.child}function M7(d,m){var A=m.ref;(d===null&&A!==null||d!==null&&d.ref!==A)&&(m.flags|=512,m.flags|=2097152)}function rO(d,m,A,k,M){var H=Ra(A)?ih:Ss.current;return H=Kp(m,H),hi(m,M),A=rv(d,m,A,k,H,M),k=wc(),d!==null&&!Vo?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,oh(d,m,M)):(We&&k&&Ue(m),m.flags|=1,lo(d,m,A,M),m.child)}function D7(d,m,A,k,M){if(Ra(A)){var H=!0;sh(m)}else H=!1;if(hi(m,M),m.stateNode===null)Q5(d,m),P7(m,A,k),eO(m,A,k,M),k=!0;else if(d===null){var le=m.stateNode,Ae=m.memoizedProps;le.props=Ae;var Te=le.context,Fe=A.contextType;typeof Fe=="object"&&Fe!==null?Fe=pi(Fe):(Fe=Ra(A)?ih:Ss.current,Fe=Kp(m,Fe));var Ze=A.getDerivedStateFromProps,Qe=typeof Ze=="function"||typeof le.getSnapshotBeforeUpdate=="function";Qe||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ae!==k||Te!==Fe)&&C7(m,le,k,Fe),Fi=!1;var Je=m.memoizedState;le.state=Je,Gs(m,k,le,M),Te=m.memoizedState,Ae!==k||Je!==Te||La.current||Fi?(typeof Ze=="function"&&(QN(m,A,Ze,k),Te=m.memoizedState),(Ae=Fi||A7(m,A,Ae,k,Je,Te,Fe))?(Qe||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(m.flags|=4194308)):(typeof le.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=k,m.memoizedState=Te),le.props=k,le.state=Te,le.context=Fe,k=Ae):(typeof le.componentDidMount=="function"&&(m.flags|=4194308),k=!1)}else{le=m.stateNode,Ia(d,m),Ae=m.memoizedProps,Fe=m.type===m.elementType?Ae:yu(m.type,Ae),le.props=Fe,Qe=m.pendingProps,Je=le.context,Te=A.contextType,typeof Te=="object"&&Te!==null?Te=pi(Te):(Te=Ra(A)?ih:Ss.current,Te=Kp(m,Te));var ft=A.getDerivedStateFromProps;(Ze=typeof ft=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ae!==Qe||Je!==Te)&&C7(m,le,k,Te),Fi=!1,Je=m.memoizedState,le.state=Je,Gs(m,k,le,M);var St=m.memoizedState;Ae!==Qe||Je!==St||La.current||Fi?(typeof ft=="function"&&(QN(m,A,ft,k),St=m.memoizedState),(Fe=Fi||A7(m,A,Fe,k,Je,St,Te)||!1)?(Ze||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(k,St,Te),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(k,St,Te)),typeof le.componentDidUpdate=="function"&&(m.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ae===d.memoizedProps&&Je===d.memoizedState||(m.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&Je===d.memoizedState||(m.flags|=1024),m.memoizedProps=k,m.memoizedState=St),le.props=k,le.state=St,le.context=Te,k=Fe):(typeof le.componentDidUpdate!="function"||Ae===d.memoizedProps&&Je===d.memoizedState||(m.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&Je===d.memoizedState||(m.flags|=1024),k=!1)}return iO(d,m,A,k,H,M)}function iO(d,m,A,k,M,H){M7(d,m);var le=(m.flags&128)!==0;if(!k&&!le)return M&&H5(m,A,!1),oh(d,m,H);k=m.stateNode,dce.current=m;var Ae=le&&typeof A.getDerivedStateFromError!="function"?null:k.render();return m.flags|=1,d!==null&&le?(m.child=Di(m,d.child,null,H),m.child=Di(m,null,Ae,H)):lo(d,m,Ae,H),m.memoizedState=k.state,M&&H5(m,A,!0),m.child}function F7(d){var m=d.stateNode;m.pendingContext?z5(d,m.pendingContext,m.pendingContext!==m.context):m.context&&z5(d,m.context,!1),Xp(d,m.containerInfo)}function B7(d,m,A,k,M){return ht(),it(M),m.flags|=256,lo(d,m,A,k),m.child}var sO={dehydrated:null,treeContext:null,retryLane:0};function aO(d){return{baseLanes:d,cachePool:null,transitions:null}}function $7(d,m,A){var k=m.pendingProps,M=Fr.current,H=!1,le=(m.flags&128)!==0,Ae;if((Ae=le)||(Ae=d!==null&&d.memoizedState===null?!1:(M&2)!==0),Ae?(H=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),dr(Fr,M&1),d===null)return wt(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(le=k.children,d=k.fallback,H?(k=m.mode,H=m.child,le={mode:"hidden",children:le},(k&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=le):H=fP(le,k,0,null),d=uv(d,k,A,null),H.return=m,d.return=m,H.sibling=d,m.child=H,m.child.memoizedState=aO(A),m.memoizedState=sO,d):oO(m,le));if(M=d.memoizedState,M!==null&&(Ae=M.dehydrated,Ae!==null))return hce(d,m,le,k,Ae,M,A);if(H){H=k.fallback,le=m.mode,M=d.child,Ae=M.sibling;var Te={mode:"hidden",children:k.children};return(le&1)===0&&m.child!==M?(k=m.child,k.childLanes=0,k.pendingProps=Te,m.deletions=null):(k=im(M,Te),k.subtreeFlags=M.subtreeFlags&14680064),Ae!==null?H=im(Ae,H):(H=uv(H,le,A,null),H.flags|=2),H.return=m,k.return=m,k.sibling=H,m.child=k,k=H,H=m.child,le=d.child.memoizedState,le=le===null?aO(A):{baseLanes:le.baseLanes|A,cachePool:null,transitions:le.transitions},H.memoizedState=le,H.childLanes=d.childLanes&~A,m.memoizedState=sO,k}return H=d.child,d=H.sibling,k=im(H,{mode:"visible",children:k.children}),(m.mode&1)===0&&(k.lanes=A),k.return=m,k.sibling=null,d!==null&&(A=m.deletions,A===null?(m.deletions=[d],m.flags|=16):A.push(d)),m.child=k,m.memoizedState=null,k}function oO(d,m){return m=fP({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Z5(d,m,A,k){return k!==null&&it(k),Di(m,d.child,null,A),d=oO(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function hce(d,m,A,k,M,H,le){if(A)return m.flags&256?(m.flags&=-257,k=tO(Error(t(422))),Z5(d,m,le,k)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(H=k.fallback,M=m.mode,k=fP({mode:"visible",children:k.children},M,0,null),H=uv(H,M,le,null),H.flags|=2,k.return=m,H.return=m,k.sibling=H,m.child=k,(m.mode&1)!==0&&Di(m,d.child,null,le),m.child.memoizedState=aO(le),m.memoizedState=sO,H);if((m.mode&1)===0)return Z5(d,m,le,null);if(M.data==="$!"){if(k=M.nextSibling&&M.nextSibling.dataset,k)var Ae=k.dgst;return k=Ae,H=Error(t(419)),k=tO(H,k,void 0),Z5(d,m,le,k)}if(Ae=(le&d.childLanes)!==0,Vo||Ae){if(k=Ks,k!==null){switch(le&-le){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(k.suspendedLanes|le))!==0?0:M,M!==0&&M!==H.retryLane&&(H.retryLane=M,wr(d,M),xu(k,d,M,-1))}return SO(),k=tO(Error(t(421))),Z5(d,m,le,k)}return M.data==="$?"?(m.flags|=128,m.child=d.child,m=Cce.bind(null,d),M._reactRetry=m,null):(d=H.treeContext,qe=ca(M.nextSibling),Be=m,We=!0,Ge=null,d!==null&&(ve[we++]=Re,ve[we++]=xe,ve[we++]=Ee,Re=d.id,xe=d.overflow,Ee=m),m=oO(m,k.children),m.flags|=4096,m)}function q7(d,m,A){d.lanes|=m;var k=d.alternate;k!==null&&(k.lanes|=m),Qn(d.return,m,A)}function lO(d,m,A,k,M){var H=d.memoizedState;H===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:k,tail:A,tailMode:M}:(H.isBackwards=m,H.rendering=null,H.renderingStartTime=0,H.last=k,H.tail=A,H.tailMode=M)}function U7(d,m,A){var k=m.pendingProps,M=k.revealOrder,H=k.tail;if(lo(d,m,k.children,A),k=Fr.current,(k&2)!==0)k=k&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&q7(d,A,m);else if(d.tag===19)q7(d,A,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}k&=1}if(dr(Fr,k),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(A=m.child,M=null;A!==null;)d=A.alternate,d!==null&&_l(d)===null&&(M=A),A=A.sibling;A=M,A===null?(M=m.child,m.child=null):(M=A.sibling,A.sibling=null),lO(m,!1,M,A,H);break;case"backwards":for(A=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&_l(d)===null){m.child=M;break}d=M.sibling,M.sibling=A,A=M,M=d}lO(m,!0,A,null,H);break;case"together":lO(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Q5(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function oh(d,m,A){if(d!==null&&(m.dependencies=d.dependencies),av|=m.lanes,(A&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(t(153));if(m.child!==null){for(d=m.child,A=im(d,d.pendingProps),m.child=A,A.return=m;d.sibling!==null;)d=d.sibling,A=A.sibling=im(d,d.pendingProps),A.return=m;A.sibling=null}return m.child}function pce(d,m,A){switch(m.tag){case 3:F7(m),ht();break;case 5:V5(m);break;case 1:Ra(m.type)&&sh(m);break;case 4:Xp(m,m.stateNode.containerInfo);break;case 10:var k=m.type._context,M=m.memoizedProps.value;dr(Yi,k._currentValue),k._currentValue=M;break;case 13:if(k=m.memoizedState,k!==null)return k.dehydrated!==null?(dr(Fr,Fr.current&1),m.flags|=128,null):(A&m.child.childLanes)!==0?$7(d,m,A):(dr(Fr,Fr.current&1),d=oh(d,m,A),d!==null?d.sibling:null);dr(Fr,Fr.current&1);break;case 19:if(k=(A&m.childLanes)!==0,(d.flags&128)!==0){if(k)return U7(d,m,A);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),dr(Fr,Fr.current),k)break;return null;case 22:case 23:return m.lanes=0,I7(d,m,A)}return oh(d,m,A)}var z7,cO,H7,V7;z7=function(d,m){for(var A=m.child;A!==null;){if(A.tag===5||A.tag===6)d.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},cO=function(){},H7=function(d,m,A,k){var M=d.memoizedProps;if(M!==k){d=m.stateNode,mu(cs.current);var H=null;switch(A){case"input":M=Pe(d,M),k=Pe(d,k),H=[];break;case"select":M=Q({},M,{value:void 0}),k=Q({},k,{value:void 0}),H=[];break;case"textarea":M=ut(d,M),k=ut(d,k),H=[];break;default:typeof M.onClick!="function"&&typeof k.onClick=="function"&&(d.onclick=Vp)}Wn(A,k);var le;A=null;for(Fe in M)if(!k.hasOwnProperty(Fe)&&M.hasOwnProperty(Fe)&&M[Fe]!=null)if(Fe==="style"){var Ae=M[Fe];for(le in Ae)Ae.hasOwnProperty(le)&&(A||(A={}),A[le]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(i.hasOwnProperty(Fe)?H||(H=[]):(H=H||[]).push(Fe,null));for(Fe in k){var Te=k[Fe];if(Ae=M!=null?M[Fe]:void 0,k.hasOwnProperty(Fe)&&Te!==Ae&&(Te!=null||Ae!=null))if(Fe==="style")if(Ae){for(le in Ae)!Ae.hasOwnProperty(le)||Te&&Te.hasOwnProperty(le)||(A||(A={}),A[le]="");for(le in Te)Te.hasOwnProperty(le)&&Ae[le]!==Te[le]&&(A||(A={}),A[le]=Te[le])}else A||(H||(H=[]),H.push(Fe,A)),A=Te;else Fe==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Ae=Ae?Ae.__html:void 0,Te!=null&&Ae!==Te&&(H=H||[]).push(Fe,Te)):Fe==="children"?typeof Te!="string"&&typeof Te!="number"||(H=H||[]).push(Fe,""+Te):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Fe)?(Te!=null&&Fe==="onScroll"&&yr("scroll",d),H||Ae===Te||(H=[])):(H=H||[]).push(Fe,Te))}A&&(H=H||[]).push("style",A);var Fe=H;(m.updateQueue=Fe)&&(m.flags|=4)}},V7=function(d,m,A,k){A!==k&&(m.flags|=4)};function c2(d,m){if(!We)switch(d.tailMode){case"hidden":m=d.tail;for(var A=null;m!==null;)m.alternate!==null&&(A=m),m=m.sibling;A===null?d.tail=null:A.sibling=null;break;case"collapsed":A=d.tail;for(var k=null;A!==null;)A.alternate!==null&&(k=A),A=A.sibling;k===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:k.sibling=null}}function Ma(d){var m=d.alternate!==null&&d.alternate.child===d.child,A=0,k=0;if(m)for(var M=d.child;M!==null;)A|=M.lanes|M.childLanes,k|=M.subtreeFlags&14680064,k|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)A|=M.lanes|M.childLanes,k|=M.subtreeFlags,k|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=k,d.childLanes=A,m}function mce(d,m,A){var k=m.pendingProps;switch(Me(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ma(m),null;case 1:return Ra(m.type)&&Q0(),Ma(m),null;case 3:return k=m.stateNode,yc(),lr(La),lr(Ss),a2(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(di(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ge!==null&&(wO(Ge),Ge=null))),cO(d,m),Ma(m),null;case 5:i2(m);var M=mu(_f.current);if(A=m.type,d!==null&&m.stateNode!=null)H7(d,m,A,k,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!k){if(m.stateNode===null)throw Error(t(166));return Ma(m),null}if(d=mu(cs.current),di(m)){k=m.stateNode,A=m.type;var H=m.memoizedProps;switch(k[vc]=m,k[Wp]=H,d=(m.mode&1)!==0,A){case"dialog":yr("cancel",k),yr("close",k);break;case"iframe":case"object":case"embed":yr("load",k);break;case"video":case"audio":for(M=0;M<bf.length;M++)yr(bf[M],k);break;case"source":yr("error",k);break;case"img":case"image":case"link":yr("error",k),yr("load",k);break;case"details":yr("toggle",k);break;case"input":ge(k,H),yr("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!H.multiple},yr("invalid",k);break;case"textarea":lt(k,H),yr("invalid",k)}Wn(A,H),M=null;for(var le in H)if(H.hasOwnProperty(le)){var Ae=H[le];le==="children"?typeof Ae=="string"?k.textContent!==Ae&&(H.suppressHydrationWarning!==!0&&Z0(k.textContent,Ae,d),M=["children",Ae]):typeof Ae=="number"&&k.textContent!==""+Ae&&(H.suppressHydrationWarning!==!0&&Z0(k.textContent,Ae,d),M=["children",""+Ae]):i.hasOwnProperty(le)&&Ae!=null&&le==="onScroll"&&yr("scroll",k)}switch(A){case"input":be(k),rt(k,H,!0);break;case"textarea":be(k),$t(k);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(k.onclick=Vp)}k=M,m.updateQueue=k,k!==null&&(m.flags|=4)}else{le=M.nodeType===9?M:M.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Xt(A)),d==="http://www.w3.org/1999/xhtml"?A==="script"?(d=le.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof k.is=="string"?d=le.createElement(A,{is:k.is}):(d=le.createElement(A),A==="select"&&(le=d,k.multiple?le.multiple=!0:k.size&&(le.size=k.size))):d=le.createElementNS(d,A),d[vc]=m,d[Wp]=k,z7(d,m,!1,!1),m.stateNode=d;e:{switch(le=qt(A,k),A){case"dialog":yr("cancel",d),yr("close",d),M=k;break;case"iframe":case"object":case"embed":yr("load",d),M=k;break;case"video":case"audio":for(M=0;M<bf.length;M++)yr(bf[M],d);M=k;break;case"source":yr("error",d),M=k;break;case"img":case"image":case"link":yr("error",d),yr("load",d),M=k;break;case"details":yr("toggle",d),M=k;break;case"input":ge(d,k),M=Pe(d,k),yr("invalid",d);break;case"option":M=k;break;case"select":d._wrapperState={wasMultiple:!!k.multiple},M=Q({},k,{value:void 0}),yr("invalid",d);break;case"textarea":lt(d,k),M=ut(d,k),yr("invalid",d);break;default:M=k}Wn(A,M),Ae=M;for(H in Ae)if(Ae.hasOwnProperty(H)){var Te=Ae[H];H==="style"?Et(d,Te):H==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Tt(d,Te)):H==="children"?typeof Te=="string"?(A!=="textarea"||Te!=="")&&Lt(d,Te):typeof Te=="number"&&Lt(d,""+Te):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Te!=null&&H==="onScroll"&&yr("scroll",d):Te!=null&&_(d,H,Te,le))}switch(A){case"input":be(d),rt(d,k,!1);break;case"textarea":be(d),$t(d);break;case"option":k.value!=null&&d.setAttribute("value",""+oe(k.value));break;case"select":d.multiple=!!k.multiple,H=k.value,H!=null?et(d,!!k.multiple,H,!1):k.defaultValue!=null&&et(d,!!k.multiple,k.defaultValue,!0);break;default:typeof M.onClick=="function"&&(d.onclick=Vp)}switch(A){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ma(m),null;case 6:if(d&&m.stateNode!=null)V7(d,m,d.memoizedProps,k);else{if(typeof k!="string"&&m.stateNode===null)throw Error(t(166));if(A=mu(_f.current),mu(cs.current),di(m)){if(k=m.stateNode,A=m.memoizedProps,k[vc]=m,(H=k.nodeValue!==A)&&(d=Be,d!==null))switch(d.tag){case 3:Z0(k.nodeValue,A,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Z0(k.nodeValue,A,(d.mode&1)!==0)}H&&(m.flags|=4)}else k=(A.nodeType===9?A:A.ownerDocument).createTextNode(k),k[vc]=m,m.stateNode=k}return Ma(m),null;case 13:if(lr(Fr),k=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(We&&qe!==null&&(m.mode&1)!==0&&(m.flags&128)===0)gn(),ht(),m.flags|=98560,H=!1;else if(H=di(m),k!==null&&k.dehydrated!==null){if(d===null){if(!H)throw Error(t(318));if(H=m.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(t(317));H[vc]=m}else ht(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ma(m),H=!1}else Ge!==null&&(wO(Ge),Ge=null),H=!0;if(!H)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=A,m):(k=k!==null,k!==(d!==null&&d.memoizedState!==null)&&k&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Fr.current&1)!==0?Ps===0&&(Ps=3):SO())),m.updateQueue!==null&&(m.flags|=4),Ma(m),null);case 4:return yc(),cO(d,m),d===null&&eh(m.stateNode.containerInfo),Ma(m),null;case 10:return Xr(m.type._context),Ma(m),null;case 17:return Ra(m.type)&&Q0(),Ma(m),null;case 19:if(lr(Fr),H=m.memoizedState,H===null)return Ma(m),null;if(k=(m.flags&128)!==0,le=H.rendering,le===null)if(k)c2(H,!1);else{if(Ps!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(le=_l(d),le!==null){for(m.flags|=128,c2(H,!1),k=le.updateQueue,k!==null&&(m.updateQueue=k,m.flags|=4),m.subtreeFlags=0,k=A,A=m.child;A!==null;)H=A,d=k,H.flags&=14680066,le=H.alternate,le===null?(H.childLanes=0,H.lanes=d,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=le.childLanes,H.lanes=le.lanes,H.child=le.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=le.memoizedProps,H.memoizedState=le.memoizedState,H.updateQueue=le.updateQueue,H.type=le.type,d=le.dependencies,H.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),A=A.sibling;return dr(Fr,Fr.current&1|2),m.child}d=d.sibling}H.tail!==null&&Dr()>d1&&(m.flags|=128,k=!0,c2(H,!1),m.lanes=4194304)}else{if(!k)if(d=_l(le),d!==null){if(m.flags|=128,k=!0,A=d.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),c2(H,!0),H.tail===null&&H.tailMode==="hidden"&&!le.alternate&&!We)return Ma(m),null}else 2*Dr()-H.renderingStartTime>d1&&A!==1073741824&&(m.flags|=128,k=!0,c2(H,!1),m.lanes=4194304);H.isBackwards?(le.sibling=m.child,m.child=le):(A=H.last,A!==null?A.sibling=le:m.child=le,H.last=le)}return H.tail!==null?(m=H.tail,H.rendering=m,H.tail=m.sibling,H.renderingStartTime=Dr(),m.sibling=null,A=Fr.current,dr(Fr,k?A&1|2:A&1),m):(Ma(m),null);case 22:case 23:return _O(),k=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==k&&(m.flags|=8192),k&&(m.mode&1)!==0?(Pl&1073741824)!==0&&(Ma(m),m.subtreeFlags&6&&(m.flags|=8192)):Ma(m),null;case 24:return null;case 25:return null}throw Error(t(156,m.tag))}function gce(d,m){switch(Me(m),m.tag){case 1:return Ra(m.type)&&Q0(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return yc(),lr(La),lr(Ss),a2(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return i2(m),null;case 13:if(lr(Fr),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(t(340));ht()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return lr(Fr),null;case 4:return yc(),null;case 10:return Xr(m.type._context),null;case 22:case 23:return _O(),null;case 24:return null;default:return null}}var eP=!1,Da=!1,vce=typeof WeakSet=="function"?WeakSet:Set,gt=null;function u1(d,m){var A=d.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(k){$i(d,m,k)}else A.current=null}function uO(d,m,A){try{A()}catch(k){$i(d,m,k)}}var W7=!1;function yce(d,m){if(ev=Ip,d=Mi(),bl(d)){if("selectionStart"in d)var A={start:d.selectionStart,end:d.selectionEnd};else e:{A=(A=d.ownerDocument)&&A.defaultView||window;var k=A.getSelection&&A.getSelection();if(k&&k.rangeCount!==0){A=k.anchorNode;var M=k.anchorOffset,H=k.focusNode;k=k.focusOffset;try{A.nodeType,H.nodeType}catch{A=null;break e}var le=0,Ae=-1,Te=-1,Fe=0,Ze=0,Qe=d,Je=null;t:for(;;){for(var ft;Qe!==A||M!==0&&Qe.nodeType!==3||(Ae=le+M),Qe!==H||k!==0&&Qe.nodeType!==3||(Te=le+k),Qe.nodeType===3&&(le+=Qe.nodeValue.length),(ft=Qe.firstChild)!==null;)Je=Qe,Qe=ft;for(;;){if(Qe===d)break t;if(Je===A&&++Fe===M&&(Ae=le),Je===H&&++Ze===k&&(Te=le),(ft=Qe.nextSibling)!==null)break;Qe=Je,Je=Qe.parentNode}Qe=ft}A=Ae===-1||Te===-1?null:{start:Ae,end:Te}}else A=null}A=A||{start:0,end:0}}else A=null;for(nh={focusedElem:d,selectionRange:A},Ip=!1,gt=m;gt!==null;)if(m=gt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,gt=d;else for(;gt!==null;){m=gt;try{var St=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var kt=St.memoizedProps,Zi=St.memoizedState,Ie=m.stateNode,Ne=Ie.getSnapshotBeforeUpdate(m.elementType===m.type?kt:yu(m.type,kt),Zi);Ie.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var De=m.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(nt){$i(m,m.return,nt)}if(d=m.sibling,d!==null){d.return=m.return,gt=d;break}gt=m.return}return St=W7,W7=!1,St}function u2(d,m,A){var k=m.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var M=k=k.next;do{if((M.tag&d)===d){var H=M.destroy;M.destroy=void 0,H!==void 0&&uO(m,A,H)}M=M.next}while(M!==k)}}function tP(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var A=m=m.next;do{if((A.tag&d)===d){var k=A.create;A.destroy=k()}A=A.next}while(A!==m)}}function fO(d){var m=d.ref;if(m!==null){var A=d.stateNode;switch(d.tag){case 5:d=A;break;default:d=A}typeof m=="function"?m(d):m.current=d}}function G7(d){var m=d.alternate;m!==null&&(d.alternate=null,G7(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[vc],delete m[Wp],delete m[ja],delete m[XN],delete m[YN])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function K7(d){return d.tag===5||d.tag===3||d.tag===4}function X7(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||K7(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function dO(d,m,A){var k=d.tag;if(k===5||k===6)d=d.stateNode,m?A.nodeType===8?A.parentNode.insertBefore(d,m):A.insertBefore(d,m):(A.nodeType===8?(m=A.parentNode,m.insertBefore(d,A)):(m=A,m.appendChild(d)),A=A._reactRootContainer,A!=null||m.onclick!==null||(m.onclick=Vp));else if(k!==4&&(d=d.child,d!==null))for(dO(d,m,A),d=d.sibling;d!==null;)dO(d,m,A),d=d.sibling}function hO(d,m,A){var k=d.tag;if(k===5||k===6)d=d.stateNode,m?A.insertBefore(d,m):A.appendChild(d);else if(k!==4&&(d=d.child,d!==null))for(hO(d,m,A),d=d.sibling;d!==null;)hO(d,m,A),d=d.sibling}var ua=null,bu=!1;function Qp(d,m,A){for(A=A.child;A!==null;)Y7(d,m,A),A=A.sibling}function Y7(d,m,A){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(jd,A)}catch{}switch(A.tag){case 5:Da||u1(A,m);case 6:var k=ua,M=bu;ua=null,Qp(d,m,A),ua=k,bu=M,ua!==null&&(bu?(d=ua,A=A.stateNode,d.nodeType===8?d.parentNode.removeChild(A):d.removeChild(A)):ua.removeChild(A.stateNode));break;case 18:ua!==null&&(bu?(d=ua,A=A.stateNode,d.nodeType===8?t2(d.parentNode,A):d.nodeType===1&&t2(d,A),uc(d)):t2(ua,A.stateNode));break;case 4:k=ua,M=bu,ua=A.stateNode.containerInfo,bu=!0,Qp(d,m,A),ua=k,bu=M;break;case 0:case 11:case 14:case 15:if(!Da&&(k=A.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){M=k=k.next;do{var H=M,le=H.destroy;H=H.tag,le!==void 0&&((H&2)!==0||(H&4)!==0)&&uO(A,m,le),M=M.next}while(M!==k)}Qp(d,m,A);break;case 1:if(!Da&&(u1(A,m),k=A.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=A.memoizedProps,k.state=A.memoizedState,k.componentWillUnmount()}catch(Ae){$i(A,m,Ae)}Qp(d,m,A);break;case 21:Qp(d,m,A);break;case 22:A.mode&1?(Da=(k=Da)||A.memoizedState!==null,Qp(d,m,A),Da=k):Qp(d,m,A);break;default:Qp(d,m,A)}}function J7(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var A=d.stateNode;A===null&&(A=d.stateNode=new vce),m.forEach(function(k){var M=Ece.bind(null,d,k);A.has(k)||(A.add(k),k.then(M,M))})}}function wu(d,m){var A=m.deletions;if(A!==null)for(var k=0;k<A.length;k++){var M=A[k];try{var H=d,le=m,Ae=le;e:for(;Ae!==null;){switch(Ae.tag){case 5:ua=Ae.stateNode,bu=!1;break e;case 3:ua=Ae.stateNode.containerInfo,bu=!0;break e;case 4:ua=Ae.stateNode.containerInfo,bu=!0;break e}Ae=Ae.return}if(ua===null)throw Error(t(160));Y7(H,le,M),ua=null,bu=!1;var Te=M.alternate;Te!==null&&(Te.return=null),M.return=null}catch(Fe){$i(M,m,Fe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)Z7(m,d),m=m.sibling}function Z7(d,m){var A=d.alternate,k=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(wu(m,d),Af(d),k&4){try{u2(3,d,d.return),tP(3,d)}catch(kt){$i(d,d.return,kt)}try{u2(5,d,d.return)}catch(kt){$i(d,d.return,kt)}}break;case 1:wu(m,d),Af(d),k&512&&A!==null&&u1(A,A.return);break;case 5:if(wu(m,d),Af(d),k&512&&A!==null&&u1(A,A.return),d.flags&32){var M=d.stateNode;try{Lt(M,"")}catch(kt){$i(d,d.return,kt)}}if(k&4&&(M=d.stateNode,M!=null)){var H=d.memoizedProps,le=A!==null?A.memoizedProps:H,Ae=d.type,Te=d.updateQueue;if(d.updateQueue=null,Te!==null)try{Ae==="input"&&H.type==="radio"&&H.name!=null&&Ke(M,H),qt(Ae,le);var Fe=qt(Ae,H);for(le=0;le<Te.length;le+=2){var Ze=Te[le],Qe=Te[le+1];Ze==="style"?Et(M,Qe):Ze==="dangerouslySetInnerHTML"?Tt(M,Qe):Ze==="children"?Lt(M,Qe):_(M,Ze,Qe,Fe)}switch(Ae){case"input":Xe(M,H);break;case"textarea":Ht(M,H);break;case"select":var Je=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!H.multiple;var ft=H.value;ft!=null?et(M,!!H.multiple,ft,!1):Je!==!!H.multiple&&(H.defaultValue!=null?et(M,!!H.multiple,H.defaultValue,!0):et(M,!!H.multiple,H.multiple?[]:"",!1))}M[Wp]=H}catch(kt){$i(d,d.return,kt)}}break;case 6:if(wu(m,d),Af(d),k&4){if(d.stateNode===null)throw Error(t(162));M=d.stateNode,H=d.memoizedProps;try{M.nodeValue=H}catch(kt){$i(d,d.return,kt)}}break;case 3:if(wu(m,d),Af(d),k&4&&A!==null&&A.memoizedState.isDehydrated)try{uc(m.containerInfo)}catch(kt){$i(d,d.return,kt)}break;case 4:wu(m,d),Af(d);break;case 13:wu(m,d),Af(d),M=d.child,M.flags&8192&&(H=M.memoizedState!==null,M.stateNode.isHidden=H,!H||M.alternate!==null&&M.alternate.memoizedState!==null||(gO=Dr())),k&4&&J7(d);break;case 22:if(Ze=A!==null&&A.memoizedState!==null,d.mode&1?(Da=(Fe=Da)||Ze,wu(m,d),Da=Fe):wu(m,d),Af(d),k&8192){if(Fe=d.memoizedState!==null,(d.stateNode.isHidden=Fe)&&!Ze&&(d.mode&1)!==0)for(gt=d,Ze=d.child;Ze!==null;){for(Qe=gt=Ze;gt!==null;){switch(Je=gt,ft=Je.child,Je.tag){case 0:case 11:case 14:case 15:u2(4,Je,Je.return);break;case 1:u1(Je,Je.return);var St=Je.stateNode;if(typeof St.componentWillUnmount=="function"){k=Je,A=Je.return;try{m=k,St.props=m.memoizedProps,St.state=m.memoizedState,St.componentWillUnmount()}catch(kt){$i(k,A,kt)}}break;case 5:u1(Je,Je.return);break;case 22:if(Je.memoizedState!==null){t$(Qe);continue}}ft!==null?(ft.return=Je,gt=ft):t$(Qe)}Ze=Ze.sibling}e:for(Ze=null,Qe=d;;){if(Qe.tag===5){if(Ze===null){Ze=Qe;try{M=Qe.stateNode,Fe?(H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Ae=Qe.stateNode,Te=Qe.memoizedProps.style,le=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,Ae.style.display=Dn("display",le))}catch(kt){$i(d,d.return,kt)}}}else if(Qe.tag===6){if(Ze===null)try{Qe.stateNode.nodeValue=Fe?"":Qe.memoizedProps}catch(kt){$i(d,d.return,kt)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===d)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===d)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===d)break e;Ze===Qe&&(Ze=null),Qe=Qe.return}Ze===Qe&&(Ze=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:wu(m,d),Af(d),k&4&&J7(d);break;case 21:break;default:wu(m,d),Af(d)}}function Af(d){var m=d.flags;if(m&2){try{e:{for(var A=d.return;A!==null;){if(K7(A)){var k=A;break e}A=A.return}throw Error(t(160))}switch(k.tag){case 5:var M=k.stateNode;k.flags&32&&(Lt(M,""),k.flags&=-33);var H=X7(d);hO(d,H,M);break;case 3:case 4:var le=k.stateNode.containerInfo,Ae=X7(d);dO(d,Ae,le);break;default:throw Error(t(161))}}catch(Te){$i(d,d.return,Te)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function bce(d,m,A){gt=d,Q7(d)}function Q7(d,m,A){for(var k=(d.mode&1)!==0;gt!==null;){var M=gt,H=M.child;if(M.tag===22&&k){var le=M.memoizedState!==null||eP;if(!le){var Ae=M.alternate,Te=Ae!==null&&Ae.memoizedState!==null||Da;Ae=eP;var Fe=Da;if(eP=le,(Da=Te)&&!Fe)for(gt=M;gt!==null;)le=gt,Te=le.child,le.tag===22&&le.memoizedState!==null?n$(M):Te!==null?(Te.return=le,gt=Te):n$(M);for(;H!==null;)gt=H,Q7(H),H=H.sibling;gt=M,eP=Ae,Da=Fe}e$(d)}else(M.subtreeFlags&8772)!==0&&H!==null?(H.return=M,gt=H):e$(d)}}function e$(d){for(;gt!==null;){var m=gt;if((m.flags&8772)!==0){var A=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Da||tP(5,m);break;case 1:var k=m.stateNode;if(m.flags&4&&!Da)if(A===null)k.componentDidMount();else{var M=m.elementType===m.type?A.memoizedProps:yu(m.type,A.memoizedProps);k.componentDidUpdate(M,A.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var H=m.updateQueue;H!==null&&Ho(m,H,k);break;case 3:var le=m.updateQueue;if(le!==null){if(A=null,m.child!==null)switch(m.child.tag){case 5:A=m.child.stateNode;break;case 1:A=m.child.stateNode}Ho(m,le,A)}break;case 5:var Ae=m.stateNode;if(A===null&&m.flags&4){A=Ae;var Te=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&A.focus();break;case"img":Te.src&&(A.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Fe=m.alternate;if(Fe!==null){var Ze=Fe.memoizedState;if(Ze!==null){var Qe=Ze.dehydrated;Qe!==null&&uc(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Da||m.flags&512&&fO(m)}catch(Je){$i(m,m.return,Je)}}if(m===d){gt=null;break}if(A=m.sibling,A!==null){A.return=m.return,gt=A;break}gt=m.return}}function t$(d){for(;gt!==null;){var m=gt;if(m===d){gt=null;break}var A=m.sibling;if(A!==null){A.return=m.return,gt=A;break}gt=m.return}}function n$(d){for(;gt!==null;){var m=gt;try{switch(m.tag){case 0:case 11:case 15:var A=m.return;try{tP(4,m)}catch(Te){$i(m,A,Te)}break;case 1:var k=m.stateNode;if(typeof k.componentDidMount=="function"){var M=m.return;try{k.componentDidMount()}catch(Te){$i(m,M,Te)}}var H=m.return;try{fO(m)}catch(Te){$i(m,H,Te)}break;case 5:var le=m.return;try{fO(m)}catch(Te){$i(m,le,Te)}}}catch(Te){$i(m,m.return,Te)}if(m===d){gt=null;break}var Ae=m.sibling;if(Ae!==null){Ae.return=m.return,gt=Ae;break}gt=m.return}}var wce=Math.ceil,nP=P.ReactCurrentDispatcher,pO=P.ReactCurrentOwner,xc=P.ReactCurrentBatchConfig,er=0,Ks=null,us=null,fa=0,Pl=0,f1=wl(0),Ps=0,f2=null,av=0,rP=0,mO=0,d2=null,Wo=null,gO=0,d1=1/0,lh=null,iP=!1,vO=null,em=null,sP=!1,tm=null,aP=0,h2=0,yO=null,oP=-1,lP=0;function co(){return(er&6)!==0?Dr():oP!==-1?oP:oP=Dr()}function nm(d){return(d.mode&1)===0?1:(er&2)!==0&&fa!==0?fa&-fa:Pi.transition!==null?(lP===0&&(lP=$0()),lP):(d=Gn,d!==0||(d=window.event,d=d===void 0?16:$d(d.type)),d)}function xu(d,m,A,k){if(50<h2)throw h2=0,yO=null,Error(t(185));Md(d,A,k),((er&2)===0||d!==Ks)&&(d===Ks&&((er&2)===0&&(rP|=A),Ps===4&&rm(d,fa)),Go(d,k),A===1&&er===0&&(m.mode&1)===0&&(d1=Dr()+500,nv&&Y()))}function Go(d,m){var A=d.callbackNode;_i(d,m);var k=Ea(d,d===Ks?fa:0);if(k===0)A!==null&&Od(A),d.callbackNode=null,d.callbackPriority=0;else if(m=k&-k,d.callbackPriority!==m){if(A!=null&&Od(A),m===1)d.tag===0?q(i$.bind(null,d)):O(i$.bind(null,d)),GN(function(){(er&6)===0&&Y()}),A=null;else{switch(ru(k)){case 1:A=kp;break;case 4:A=eo;break;case 16:A=uf;break;case 536870912:A=Np;break;default:A=uf}A=d$(A,r$.bind(null,d))}d.callbackPriority=m,d.callbackNode=A}}function r$(d,m){if(oP=-1,lP=0,(er&6)!==0)throw Error(t(327));var A=d.callbackNode;if(h1()&&d.callbackNode!==A)return null;var k=Ea(d,d===Ks?fa:0);if(k===0)return null;if((k&30)!==0||(k&d.expiredLanes)!==0||m)m=cP(d,k);else{m=k;var M=er;er|=2;var H=a$();(Ks!==d||fa!==m)&&(lh=null,d1=Dr()+500,lv(d,m));do try{Sce();break}catch(Ae){s$(d,Ae)}while(!0);Zn(),nP.current=H,er=M,us!==null?m=0:(Ks=null,fa=0,m=Ps)}if(m!==0){if(m===2&&(M=Id(d),M!==0&&(k=M,m=bO(d,M))),m===1)throw A=f2,lv(d,0),rm(d,k),Go(d,Dr()),A;if(m===6)rm(d,k);else{if(M=d.current.alternate,(k&30)===0&&!xce(M)&&(m=cP(d,k),m===2&&(H=Id(d),H!==0&&(k=H,m=bO(d,H))),m===1))throw A=f2,lv(d,0),rm(d,k),Go(d,Dr()),A;switch(d.finishedWork=M,d.finishedLanes=k,m){case 0:case 1:throw Error(t(345));case 2:cv(d,Wo,lh);break;case 3:if(rm(d,k),(k&130023424)===k&&(m=gO+500-Dr(),10<m)){if(Ea(d,0)!==0)break;if(M=d.suspendedLanes,(M&k)!==k){co(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=e2(cv.bind(null,d,Wo,lh),m);break}cv(d,Wo,lh);break;case 4:if(rm(d,k),(k&4194240)===k)break;for(m=d.eventTimes,M=-1;0<k;){var le=31-qs(k);H=1<<le,le=m[le],le>M&&(M=le),k&=~H}if(k=M,k=Dr()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*wce(k/1960))-k,10<k){d.timeoutHandle=e2(cv.bind(null,d,Wo,lh),k);break}cv(d,Wo,lh);break;case 5:cv(d,Wo,lh);break;default:throw Error(t(329))}}}return Go(d,Dr()),d.callbackNode===A?r$.bind(null,d):null}function bO(d,m){var A=d2;return d.current.memoizedState.isDehydrated&&(lv(d,m).flags|=256),d=cP(d,m),d!==2&&(m=Wo,Wo=A,m!==null&&wO(m)),d}function wO(d){Wo===null?Wo=d:Wo.push.apply(Wo,d)}function xce(d){for(var m=d;;){if(m.flags&16384){var A=m.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var k=0;k<A.length;k++){var M=A[k],H=M.getSnapshot;M=M.value;try{if(!ui(H(),M))return!1}catch{return!1}}}if(A=m.child,m.subtreeFlags&16384&&A!==null)A.return=m,m=A;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function rm(d,m){for(m&=~mO,m&=~rP,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var A=31-qs(m),k=1<<A;d[A]=-1,m&=~k}}function i$(d){if((er&6)!==0)throw Error(t(327));h1();var m=Ea(d,0);if((m&1)===0)return Go(d,Dr()),null;var A=cP(d,m);if(d.tag!==0&&A===2){var k=Id(d);k!==0&&(m=k,A=bO(d,k))}if(A===1)throw A=f2,lv(d,0),rm(d,m),Go(d,Dr()),A;if(A===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,cv(d,Wo,lh),Go(d,Dr()),null}function xO(d,m){var A=er;er|=1;try{return d(m)}finally{er=A,er===0&&(d1=Dr()+500,nv&&Y())}}function ov(d){tm!==null&&tm.tag===0&&(er&6)===0&&h1();var m=er;er|=1;var A=xc.transition,k=Gn;try{if(xc.transition=null,Gn=1,d)return d()}finally{Gn=k,xc.transition=A,er=m,(er&6)===0&&Y()}}function _O(){Pl=f1.current,lr(f1)}function lv(d,m){d.finishedWork=null,d.finishedLanes=0;var A=d.timeoutHandle;if(A!==-1&&(d.timeoutHandle=-1,q5(A)),us!==null)for(A=us.return;A!==null;){var k=A;switch(Me(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Q0();break;case 3:yc(),lr(La),lr(Ss),a2();break;case 5:i2(k);break;case 4:yc();break;case 13:lr(Fr);break;case 19:lr(Fr);break;case 10:Xr(k.type._context);break;case 22:case 23:_O()}A=A.return}if(Ks=d,us=d=im(d.current,null),fa=Pl=m,Ps=0,f2=null,mO=rP=av=0,Wo=d2=null,br!==null){for(m=0;m<br.length;m++)if(A=br[m],k=A.interleaved,k!==null){A.interleaved=null;var M=k.next,H=A.pending;if(H!==null){var le=H.next;H.next=M,k.next=le}A.pending=k}br=null}return d}function s$(d,m){do{var A=us;try{if(Zn(),e1.current=Y5,Yp){for(var k=Yr.memoizedState;k!==null;){var M=k.queue;M!==null&&(M.pending=null),k=k.next}Yp=!1}if(bc=0,ki=Bi=Yr=null,gu=!1,Jp=0,pO.current=null,A===null||A.return===null){Ps=1,f2=m,us=null;break}e:{var H=d,le=A.return,Ae=A,Te=m;if(m=fa,Ae.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Fe=Te,Ze=Ae,Qe=Ze.tag;if((Ze.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Je=Ze.alternate;Je?(Ze.updateQueue=Je.updateQueue,Ze.memoizedState=Je.memoizedState,Ze.lanes=Je.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var ft=N7(le);if(ft!==null){ft.flags&=-257,O7(ft,le,Ae,H,m),ft.mode&1&&k7(H,Fe,m),m=ft,Te=Fe;var St=m.updateQueue;if(St===null){var kt=new Set;kt.add(Te),m.updateQueue=kt}else St.add(Te);break e}else{if((m&1)===0){k7(H,Fe,m),SO();break e}Te=Error(t(426))}}else if(We&&Ae.mode&1){var Zi=N7(le);if(Zi!==null){(Zi.flags&65536)===0&&(Zi.flags|=256),O7(Zi,le,Ae,H,m),it(c1(Te,Ae));break e}}H=Te=c1(Te,Ae),Ps!==4&&(Ps=2),d2===null?d2=[H]:d2.push(H),H=le;do{switch(H.tag){case 3:H.flags|=65536,m&=-m,H.lanes|=m;var Ie=E7(H,Te,m);xr(H,Ie);break e;case 1:Ae=Te;var Ne=H.type,De=H.stateNode;if((H.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(em===null||!em.has(De)))){H.flags|=65536,m&=-m,H.lanes|=m;var nt=T7(H,Ae,m);xr(H,nt);break e}}H=H.return}while(H!==null)}l$(A)}catch(Rt){m=Rt,us===A&&A!==null&&(us=A=A.return);continue}break}while(!0)}function a$(){var d=nP.current;return nP.current=Y5,d===null?Y5:d}function SO(){(Ps===0||Ps===3||Ps===2)&&(Ps=4),Ks===null||(av&268435455)===0&&(rP&268435455)===0||rm(Ks,fa)}function cP(d,m){var A=er;er|=2;var k=a$();(Ks!==d||fa!==m)&&(lh=null,lv(d,m));do try{_ce();break}catch(M){s$(d,M)}while(!0);if(Zn(),er=A,nP.current=k,us!==null)throw Error(t(261));return Ks=null,fa=0,Ps}function _ce(){for(;us!==null;)o$(us)}function Sce(){for(;us!==null&&!Tp();)o$(us)}function o$(d){var m=f$(d.alternate,d,Pl);d.memoizedProps=d.pendingProps,m===null?l$(d):us=m,pO.current=null}function l$(d){var m=d;do{var A=m.alternate;if(d=m.return,(m.flags&32768)===0){if(A=mce(A,m,Pl),A!==null){us=A;return}}else{if(A=gce(A,m),A!==null){A.flags&=32767,us=A;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Ps=6,us=null;return}}if(m=m.sibling,m!==null){us=m;return}us=m=d}while(m!==null);Ps===0&&(Ps=5)}function cv(d,m,A){var k=Gn,M=xc.transition;try{xc.transition=null,Gn=1,Ace(d,m,A,k)}finally{xc.transition=M,Gn=k}return null}function Ace(d,m,A,k){do h1();while(tm!==null);if((er&6)!==0)throw Error(t(327));A=d.finishedWork;var M=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var H=A.lanes|A.childLanes;if(oc(d,H),d===Ks&&(us=Ks=null,fa=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||sP||(sP=!0,d$(uf,function(){return h1(),null})),H=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||H){H=xc.transition,xc.transition=null;var le=Gn;Gn=1;var Ae=er;er|=4,pO.current=null,yce(d,A),Z7(A,d),Wg(nh),Ip=!!ev,nh=ev=null,d.current=A,bce(A),Ux(),er=Ae,Gn=le,xc.transition=H}else d.current=A;if(sP&&(sP=!1,tm=d,aP=M),H=d.pendingLanes,H===0&&(em=null),F0(A.stateNode),Go(d,Dr()),m!==null)for(k=d.onRecoverableError,A=0;A<m.length;A++)M=m[A],k(M.value,{componentStack:M.stack,digest:M.digest});if(iP)throw iP=!1,d=vO,vO=null,d;return(aP&1)!==0&&d.tag!==0&&h1(),H=d.pendingLanes,(H&1)!==0?d===yO?h2++:(h2=0,yO=d):h2=0,Y(),null}function h1(){if(tm!==null){var d=ru(aP),m=xc.transition,A=Gn;try{if(xc.transition=null,Gn=16>d?16:d,tm===null)var k=!1;else{if(d=tm,tm=null,aP=0,(er&6)!==0)throw Error(t(331));var M=er;for(er|=4,gt=d.current;gt!==null;){var H=gt,le=H.child;if((gt.flags&16)!==0){var Ae=H.deletions;if(Ae!==null){for(var Te=0;Te<Ae.length;Te++){var Fe=Ae[Te];for(gt=Fe;gt!==null;){var Ze=gt;switch(Ze.tag){case 0:case 11:case 15:u2(8,Ze,H)}var Qe=Ze.child;if(Qe!==null)Qe.return=Ze,gt=Qe;else for(;gt!==null;){Ze=gt;var Je=Ze.sibling,ft=Ze.return;if(G7(Ze),Ze===Fe){gt=null;break}if(Je!==null){Je.return=ft,gt=Je;break}gt=ft}}}var St=H.alternate;if(St!==null){var kt=St.child;if(kt!==null){St.child=null;do{var Zi=kt.sibling;kt.sibling=null,kt=Zi}while(kt!==null)}}gt=H}}if((H.subtreeFlags&2064)!==0&&le!==null)le.return=H,gt=le;else e:for(;gt!==null;){if(H=gt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:u2(9,H,H.return)}var Ie=H.sibling;if(Ie!==null){Ie.return=H.return,gt=Ie;break e}gt=H.return}}var Ne=d.current;for(gt=Ne;gt!==null;){le=gt;var De=le.child;if((le.subtreeFlags&2064)!==0&&De!==null)De.return=le,gt=De;else e:for(le=Ne;gt!==null;){if(Ae=gt,(Ae.flags&2048)!==0)try{switch(Ae.tag){case 0:case 11:case 15:tP(9,Ae)}}catch(Rt){$i(Ae,Ae.return,Rt)}if(Ae===le){gt=null;break e}var nt=Ae.sibling;if(nt!==null){nt.return=Ae.return,gt=nt;break e}gt=Ae.return}}if(er=M,Y(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(jd,d)}catch{}k=!0}return k}finally{Gn=A,xc.transition=m}}return!1}function c$(d,m,A){m=c1(A,m),m=E7(d,m,1),d=Ei(d,m,1),m=co(),d!==null&&(Md(d,1,m),Go(d,m))}function $i(d,m,A){if(d.tag===3)c$(d,d,A);else for(;m!==null;){if(m.tag===3){c$(m,d,A);break}else if(m.tag===1){var k=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(em===null||!em.has(k))){d=c1(A,d),d=T7(m,d,1),m=Ei(m,d,1),d=co(),m!==null&&(Md(m,1,d),Go(m,d));break}}m=m.return}}function Pce(d,m,A){var k=d.pingCache;k!==null&&k.delete(m),m=co(),d.pingedLanes|=d.suspendedLanes&A,Ks===d&&(fa&A)===A&&(Ps===4||Ps===3&&(fa&130023424)===fa&&500>Dr()-gO?lv(d,0):mO|=A),Go(d,m)}function u$(d,m){m===0&&((d.mode&1)===0?m=1:(m=Ro,Ro<<=1,(Ro&130023424)===0&&(Ro=4194304)));var A=co();d=wr(d,m),d!==null&&(Md(d,m,A),Go(d,A))}function Cce(d){var m=d.memoizedState,A=0;m!==null&&(A=m.retryLane),u$(d,A)}function Ece(d,m){var A=0;switch(d.tag){case 13:var k=d.stateNode,M=d.memoizedState;M!==null&&(A=M.retryLane);break;case 19:k=d.stateNode;break;default:throw Error(t(314))}k!==null&&k.delete(m),u$(d,A)}var f$;f$=function(d,m,A){if(d!==null)if(d.memoizedProps!==m.pendingProps||La.current)Vo=!0;else{if((d.lanes&A)===0&&(m.flags&128)===0)return Vo=!1,pce(d,m,A);Vo=(d.flags&131072)!==0}else Vo=!1,We&&(m.flags&1048576)!==0&&Le(m,me,m.index);switch(m.lanes=0,m.tag){case 2:var k=m.type;Q5(d,m),d=m.pendingProps;var M=Kp(m,Ss.current);hi(m,A),M=rv(null,m,k,d,M,A);var H=wc();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ra(k)?(H=!0,sh(m)):H=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,As(m),M.updater=J5,m.stateNode=M,M._reactInternals=m,eO(m,k,d,A),m=iO(null,m,k,!0,H,A)):(m.tag=0,We&&H&&Ue(m),lo(null,m,M,A),m=m.child),m;case 16:k=m.elementType;e:{switch(Q5(d,m),d=m.pendingProps,M=k._init,k=M(k._payload),m.type=k,M=m.tag=kce(k),d=yu(k,d),M){case 0:m=rO(null,m,k,d,A);break e;case 1:m=D7(null,m,k,d,A);break e;case 11:m=j7(null,m,k,d,A);break e;case 14:m=L7(null,m,k,yu(k.type,d),A);break e}throw Error(t(306,k,""))}return m;case 0:return k=m.type,M=m.pendingProps,M=m.elementType===k?M:yu(k,M),rO(d,m,k,M,A);case 1:return k=m.type,M=m.pendingProps,M=m.elementType===k?M:yu(k,M),D7(d,m,k,M,A);case 3:e:{if(F7(m),d===null)throw Error(t(387));k=m.pendingProps,H=m.memoizedState,M=H.element,Ia(d,m),Gs(m,k,null,A);var le=m.memoizedState;if(k=le.element,H.isDehydrated)if(H={element:k,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},m.updateQueue.baseState=H,m.memoizedState=H,m.flags&256){M=c1(Error(t(423)),m),m=B7(d,m,k,A,M);break e}else if(k!==M){M=c1(Error(t(424)),m),m=B7(d,m,k,A,M);break e}else for(qe=ca(m.stateNode.containerInfo.firstChild),Be=m,We=!0,Ge=null,A=ri(m,null,k,A),m.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(ht(),k===M){m=oh(d,m,A);break e}lo(d,m,k,A)}m=m.child}return m;case 5:return V5(m),d===null&&wt(m),k=m.type,M=m.pendingProps,H=d!==null?d.memoizedProps:null,le=M.children,Qx(k,M)?le=null:H!==null&&Qx(k,H)&&(m.flags|=32),M7(d,m),lo(d,m,le,A),m.child;case 6:return d===null&&wt(m),null;case 13:return $7(d,m,A);case 4:return Xp(m,m.stateNode.containerInfo),k=m.pendingProps,d===null?m.child=Di(m,null,k,A):lo(d,m,k,A),m.child;case 11:return k=m.type,M=m.pendingProps,M=m.elementType===k?M:yu(k,M),j7(d,m,k,M,A);case 7:return lo(d,m,m.pendingProps,A),m.child;case 8:return lo(d,m,m.pendingProps.children,A),m.child;case 12:return lo(d,m,m.pendingProps.children,A),m.child;case 10:e:{if(k=m.type._context,M=m.pendingProps,H=m.memoizedProps,le=M.value,dr(Yi,k._currentValue),k._currentValue=le,H!==null)if(ui(H.value,le)){if(H.children===M.children&&!La.current){m=oh(d,m,A);break e}}else for(H=m.child,H!==null&&(H.return=m);H!==null;){var Ae=H.dependencies;if(Ae!==null){le=H.child;for(var Te=Ae.firstContext;Te!==null;){if(Te.context===k){if(H.tag===1){Te=Ci(-1,A&-A),Te.tag=2;var Fe=H.updateQueue;if(Fe!==null){Fe=Fe.shared;var Ze=Fe.pending;Ze===null?Te.next=Te:(Te.next=Ze.next,Ze.next=Te),Fe.pending=Te}}H.lanes|=A,Te=H.alternate,Te!==null&&(Te.lanes|=A),Qn(H.return,A,m),Ae.lanes|=A;break}Te=Te.next}}else if(H.tag===10)le=H.type===m.type?null:H.child;else if(H.tag===18){if(le=H.return,le===null)throw Error(t(341));le.lanes|=A,Ae=le.alternate,Ae!==null&&(Ae.lanes|=A),Qn(le,A,m),le=H.sibling}else le=H.child;if(le!==null)le.return=H;else for(le=H;le!==null;){if(le===m){le=null;break}if(H=le.sibling,H!==null){H.return=le.return,le=H;break}le=le.return}H=le}lo(d,m,M.children,A),m=m.child}return m;case 9:return M=m.type,k=m.pendingProps.children,hi(m,A),M=pi(M),k=k(M),m.flags|=1,lo(d,m,k,A),m.child;case 14:return k=m.type,M=yu(k,m.pendingProps),M=yu(k.type,M),L7(d,m,k,M,A);case 15:return R7(d,m,m.type,m.pendingProps,A);case 17:return k=m.type,M=m.pendingProps,M=m.elementType===k?M:yu(k,M),Q5(d,m),m.tag=1,Ra(k)?(d=!0,sh(m)):d=!1,hi(m,A),P7(m,k,M),eO(m,k,M,A),iO(null,m,k,!0,d,A);case 19:return U7(d,m,A);case 22:return I7(d,m,A)}throw Error(t(156,m.tag))};function d$(d,m){return Nd(d,m)}function Tce(d,m,A,k){this.tag=d,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(d,m,A,k){return new Tce(d,m,A,k)}function AO(d){return d=d.prototype,!(!d||!d.isReactComponent)}function kce(d){if(typeof d=="function")return AO(d)?1:0;if(d!=null){if(d=d.$$typeof,d===D)return 11;if(d===Z)return 14}return 2}function im(d,m){var A=d.alternate;return A===null?(A=_c(d.tag,m,d.key,d.mode),A.elementType=d.elementType,A.type=d.type,A.stateNode=d.stateNode,A.alternate=d,d.alternate=A):(A.pendingProps=m,A.type=d.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=d.flags&14680064,A.childLanes=d.childLanes,A.lanes=d.lanes,A.child=d.child,A.memoizedProps=d.memoizedProps,A.memoizedState=d.memoizedState,A.updateQueue=d.updateQueue,m=d.dependencies,A.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},A.sibling=d.sibling,A.index=d.index,A.ref=d.ref,A}function uP(d,m,A,k,M,H){var le=2;if(k=d,typeof d=="function")AO(d)&&(le=1);else if(typeof d=="string")le=5;else e:switch(d){case N:return uv(A.children,M,H,m);case L:le=8,M|=8;break;case R:return d=_c(12,A,m,M|2),d.elementType=R,d.lanes=H,d;case W:return d=_c(13,A,m,M),d.elementType=W,d.lanes=H,d;case V:return d=_c(19,A,m,M),d.elementType=V,d.lanes=H,d;case K:return fP(A,M,H,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case F:le=10;break e;case j:le=9;break e;case D:le=11;break e;case Z:le=14;break e;case J:le=16,k=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return m=_c(le,A,m,M),m.elementType=d,m.type=k,m.lanes=H,m}function uv(d,m,A,k){return d=_c(7,d,k,m),d.lanes=A,d}function fP(d,m,A,k){return d=_c(22,d,k,m),d.elementType=K,d.lanes=A,d.stateNode={isHidden:!1},d}function PO(d,m,A){return d=_c(6,d,null,m),d.lanes=A,d}function CO(d,m,A){return m=_c(4,d.children!==null?d.children:[],d.key,m),m.lanes=A,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Nce(d,m,A,k,M){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=k,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function EO(d,m,A,k,M,H,le,Ae,Te){return d=new Nce(d,m,A,Ae,Te),m===1?(m=1,H===!0&&(m|=8)):m=0,H=_c(3,null,null,m),d.current=H,H.stateNode=d,H.memoizedState={element:k,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(H),d}function Oce(d,m,A){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:k==null?null:""+k,children:d,containerInfo:m,implementation:A}}function h$(d){if(!d)return xf;d=d._reactInternals;e:{if(xs(d)!==d||d.tag!==1)throw Error(t(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ra(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(t(171))}if(d.tag===1){var A=d.type;if(Ra(A))return r2(d,A,m)}return m}function p$(d,m,A,k,M,H,le,Ae,Te){return d=EO(A,k,!0,d,M,H,le,Ae,Te),d.context=h$(null),A=d.current,k=co(),M=nm(A),H=Ci(k,M),H.callback=m??null,Ei(A,H,M),d.current.lanes=M,Md(d,M,k),Go(d,k),d}function dP(d,m,A,k){var M=m.current,H=co(),le=nm(M);return A=h$(A),m.context===null?m.context=A:m.pendingContext=A,m=Ci(H,le),m.payload={element:d},k=k===void 0?null:k,k!==null&&(m.callback=k),d=Ei(M,m,le),d!==null&&(xu(d,M,le,H),Ws(d,M,le)),le}function hP(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function m$(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var A=d.retryLane;d.retryLane=A!==0&&A<m?A:m}}function TO(d,m){m$(d,m),(d=d.alternate)&&m$(d,m)}function jce(){return null}var g$=typeof reportError=="function"?reportError:function(d){console.error(d)};function kO(d){this._internalRoot=d}pP.prototype.render=kO.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(t(409));dP(d,m,null,null)},pP.prototype.unmount=kO.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;ov(function(){dP(null,d,null,null)}),m[Hs]=null}};function pP(d){this._internalRoot=d}pP.prototype.unstable_scheduleHydration=function(d){if(d){var m=U0();d={blockedOn:null,target:d,priority:m};for(var A=0;A<cc.length&&m!==0&&m<cc[A].priority;A++);cc.splice(A,0,d),A===0&&H0(d)}};function NO(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function mP(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function v$(){}function Lce(d,m,A,k,M){if(M){if(typeof k=="function"){var H=k;k=function(){var Fe=hP(le);H.call(Fe)}}var le=p$(m,k,d,0,null,!1,!1,"",v$);return d._reactRootContainer=le,d[Hs]=le.current,eh(d.nodeType===8?d.parentNode:d),ov(),le}for(;M=d.lastChild;)d.removeChild(M);if(typeof k=="function"){var Ae=k;k=function(){var Fe=hP(Te);Ae.call(Fe)}}var Te=EO(d,0,!1,null,null,!1,!1,"",v$);return d._reactRootContainer=Te,d[Hs]=Te.current,eh(d.nodeType===8?d.parentNode:d),ov(function(){dP(m,Te,A,k)}),Te}function gP(d,m,A,k,M){var H=A._reactRootContainer;if(H){var le=H;if(typeof M=="function"){var Ae=M;M=function(){var Te=hP(le);Ae.call(Te)}}dP(m,le,d,M)}else le=Lce(A,m,d,M,k);return hP(le)}jp=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var A=hl(m.pendingLanes);A!==0&&(Op(m,A|1),Go(m,Dr()),(er&6)===0&&(d1=Dr()+500,Y()))}break;case 13:ov(function(){var k=wr(d,1);if(k!==null){var M=co();xu(k,d,1,M)}}),TO(d,1)}},Fg=function(d){if(d.tag===13){var m=wr(d,134217728);if(m!==null){var A=co();xu(m,d,134217728,A)}TO(d,134217728)}},q0=function(d){if(d.tag===13){var m=nm(d),A=wr(d,m);if(A!==null){var k=co();xu(A,d,m,k)}TO(d,m)}},U0=function(){return Gn},Lp=function(d,m){var A=Gn;try{return Gn=d,m()}finally{Gn=A}},Mr=function(d,m,A){switch(m){case"input":if(Xe(d,A),m=A.name,A.type==="radio"&&m!=null){for(A=d;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<A.length;m++){var k=A[m];if(k!==d&&k.form===d.form){var M=tv(k);if(!M)throw Error(t(90));ye(k),Xe(k,M)}}}break;case"textarea":Ht(d,A);break;case"select":m=A.value,m!=null&&et(d,!!A.multiple,m,!1)}},Fn=xO,Wr=ov;var Rce={usingClientEntryPoint:!1,Events:[Gp,rh,tv,ot,vr,xO]},p2={findFiberByHostInstance:wf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ice={bundleType:p2.bundleType,version:p2.version,rendererPackageName:p2.rendererPackageName,rendererConfig:p2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=dl(d),d===null?null:d.stateNode},findFiberByHostInstance:p2.findFiberByHostInstance||jce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vP.isDisabled&&vP.supportsFiber)try{jd=vP.inject(Ice),to=vP}catch{}}return Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rce,Ko.createPortal=function(d,m){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NO(m))throw Error(t(200));return Oce(d,m,null,A)},Ko.createRoot=function(d,m){if(!NO(d))throw Error(t(299));var A=!1,k="",M=g$;return m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=EO(d,1,!1,null,null,A,!1,k,M),d[Hs]=m.current,eh(d.nodeType===8?d.parentNode:d),new kO(m)},Ko.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=dl(m),d=d===null?null:d.stateNode,d},Ko.flushSync=function(d){return ov(d)},Ko.hydrate=function(d,m,A){if(!mP(m))throw Error(t(200));return gP(null,d,m,!0,A)},Ko.hydrateRoot=function(d,m,A){if(!NO(d))throw Error(t(405));var k=A!=null&&A.hydratedSources||null,M=!1,H="",le=g$;if(A!=null&&(A.unstable_strictMode===!0&&(M=!0),A.identifierPrefix!==void 0&&(H=A.identifierPrefix),A.onRecoverableError!==void 0&&(le=A.onRecoverableError)),m=p$(m,null,d,1,A??null,M,!1,H,le),d[Hs]=m.current,eh(d),k)for(d=0;d<k.length;d++)A=k[d],M=A._getVersion,M=M(A._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[A,M]:m.mutableSourceEagerHydrationData.push(A,M);return new pP(m)},Ko.render=function(d,m,A){if(!mP(m))throw Error(t(200));return gP(null,d,m,!1,A)},Ko.unmountComponentAtNode=function(d){if(!mP(d))throw Error(t(40));return d._reactRootContainer?(ov(function(){gP(null,null,d,!1,function(){d._reactRootContainer=null,d[Hs]=null})}),!0):!1},Ko.unstable_batchedUpdates=xO,Ko.unstable_renderSubtreeIntoContainer=function(d,m,A,k){if(!mP(A))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return gP(d,m,A,!1,k)},Ko.version="18.3.1-next-f1338f8080-20240426",Ko}var C$;function sJ(){if(C$)return RO.exports;C$=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),RO.exports=Wce(),RO.exports}var E$;function Gce(){if(E$)return yP;E$=1;var n=sJ();return yP.createRoot=n.createRoot,yP.hydrateRoot=n.hydrateRoot,yP}var Kce=Gce();const Xce=qn(Kce),Yce={},Jce=Object.freeze(Object.defineProperty({__proto__:null,default:Yce},Symbol.toStringTag,{value:"Module"})),Zce=$ce(Jce);var bP={},T$;function Qce(){return T$||(T$=1,bP.test=function(){return typeof Ja.queueMicrotask=="function"},bP.install=function(n){return function(){Ja.queueMicrotask(n)}}),bP}var wP={},k$;function eue(){if(k$)return wP;k$=1;var n=Ja.MutationObserver||Ja.WebKitMutationObserver;return wP.test=function(){return n},wP.install=function(e){var t=0,r=new n(e),i=Ja.document.createTextNode("");return r.observe(i,{characterData:!0}),function(){i.data=t=++t%2}},wP}var xP={},N$;function tue(){return N$||(N$=1,xP.test=function(){return Ja.setImmediate?!1:typeof Ja.MessageChannel<"u"},xP.install=function(n){var e=new Ja.MessageChannel;return e.port1.onmessage=n,function(){e.port2.postMessage(0)}}),xP}var _P={},O$;function nue(){return O$||(O$=1,_P.test=function(){return"document"in Ja&&"onreadystatechange"in Ja.document.createElement("script")},_P.install=function(n){return function(){var e=Ja.document.createElement("script");return e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Ja.document.documentElement.appendChild(e),n}}),_P}var SP={},j$;function rue(){return j$||(j$=1,SP.test=function(){return!0},SP.install=function(n){return function(){setTimeout(n,0)}}),SP}var DO,L$;function iue(){if(L$)return DO;L$=1;var n=[Zce,Qce(),eue(),tue(),nue(),rue()],e,t,r=-1,i=[],s=!1;function a(){!e||!t||(e=!1,t.length?i=t.concat(i):r=-1,i.length&&o())}function o(){if(!e){s=!1,e=!0;for(var p=i.length,x=setTimeout(a);p;){for(t=i,i=[];t&&++r<p;)t[r].run();r=-1,p=i.length}t=null,r=-1,e=!1,clearTimeout(x)}}for(var l,c=-1,u=n.length;++c<u;)if(n[c]&&n[c].test&&n[c].test()){l=n[c].install(o);break}function f(p,x){this.fun=p,this.array=x}f.prototype.run=function(){var p=this.fun,x=this.array;switch(x.length){case 0:return p();case 1:return p(x[0]);case 2:return p(x[0],x[1]);case 3:return p(x[0],x[1],x[2]);default:return p.apply(null,x)}},DO=h;function h(p){var x=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)x[y-1]=arguments[y];i.push(new f(p,x)),!s&&!e&&(s=!0,l())}return DO}var sue=iue();const vd=qn(sue);var AP,aue=new Uint8Array(16);function oue(){if(!AP&&(AP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!AP))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return AP(aue)}const lue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cue(n){return typeof n=="string"&&lue.test(n)}var da=[];for(var FO=0;FO<256;++FO)da.push((FO+256).toString(16).substr(1));function uue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(da[n[e+0]]+da[n[e+1]]+da[n[e+2]]+da[n[e+3]]+"-"+da[n[e+4]]+da[n[e+5]]+"-"+da[n[e+6]]+da[n[e+7]]+"-"+da[n[e+8]]+da[n[e+9]]+"-"+da[n[e+10]]+da[n[e+11]]+da[n[e+12]]+da[n[e+13]]+da[n[e+14]]+da[n[e+15]]).toLowerCase();if(!cue(t))throw TypeError("Stringified UUID is invalid");return t}function aJ(n,e,t){n=n||{};var r=n.random||(n.rng||oue)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return uue(r)}var BO={exports:{}},R$;function fue(){return R$||(R$=1,(function(n,e){(function(t){n.exports=t()})(function(t){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(b,S){var _=b[0],P=b[1],E=b[2],C=b[3];_+=(P&E|~P&C)+S[0]-680876936|0,_=(_<<7|_>>>25)+P|0,C+=(_&P|~_&E)+S[1]-389564586|0,C=(C<<12|C>>>20)+_|0,E+=(C&_|~C&P)+S[2]+606105819|0,E=(E<<17|E>>>15)+C|0,P+=(E&C|~E&_)+S[3]-1044525330|0,P=(P<<22|P>>>10)+E|0,_+=(P&E|~P&C)+S[4]-176418897|0,_=(_<<7|_>>>25)+P|0,C+=(_&P|~_&E)+S[5]+1200080426|0,C=(C<<12|C>>>20)+_|0,E+=(C&_|~C&P)+S[6]-1473231341|0,E=(E<<17|E>>>15)+C|0,P+=(E&C|~E&_)+S[7]-45705983|0,P=(P<<22|P>>>10)+E|0,_+=(P&E|~P&C)+S[8]+1770035416|0,_=(_<<7|_>>>25)+P|0,C+=(_&P|~_&E)+S[9]-1958414417|0,C=(C<<12|C>>>20)+_|0,E+=(C&_|~C&P)+S[10]-42063|0,E=(E<<17|E>>>15)+C|0,P+=(E&C|~E&_)+S[11]-1990404162|0,P=(P<<22|P>>>10)+E|0,_+=(P&E|~P&C)+S[12]+1804603682|0,_=(_<<7|_>>>25)+P|0,C+=(_&P|~_&E)+S[13]-40341101|0,C=(C<<12|C>>>20)+_|0,E+=(C&_|~C&P)+S[14]-1502002290|0,E=(E<<17|E>>>15)+C|0,P+=(E&C|~E&_)+S[15]+1236535329|0,P=(P<<22|P>>>10)+E|0,_+=(P&C|E&~C)+S[1]-165796510|0,_=(_<<5|_>>>27)+P|0,C+=(_&E|P&~E)+S[6]-1069501632|0,C=(C<<9|C>>>23)+_|0,E+=(C&P|_&~P)+S[11]+643717713|0,E=(E<<14|E>>>18)+C|0,P+=(E&_|C&~_)+S[0]-373897302|0,P=(P<<20|P>>>12)+E|0,_+=(P&C|E&~C)+S[5]-701558691|0,_=(_<<5|_>>>27)+P|0,C+=(_&E|P&~E)+S[10]+38016083|0,C=(C<<9|C>>>23)+_|0,E+=(C&P|_&~P)+S[15]-660478335|0,E=(E<<14|E>>>18)+C|0,P+=(E&_|C&~_)+S[4]-405537848|0,P=(P<<20|P>>>12)+E|0,_+=(P&C|E&~C)+S[9]+568446438|0,_=(_<<5|_>>>27)+P|0,C+=(_&E|P&~E)+S[14]-1019803690|0,C=(C<<9|C>>>23)+_|0,E+=(C&P|_&~P)+S[3]-187363961|0,E=(E<<14|E>>>18)+C|0,P+=(E&_|C&~_)+S[8]+1163531501|0,P=(P<<20|P>>>12)+E|0,_+=(P&C|E&~C)+S[13]-1444681467|0,_=(_<<5|_>>>27)+P|0,C+=(_&E|P&~E)+S[2]-51403784|0,C=(C<<9|C>>>23)+_|0,E+=(C&P|_&~P)+S[7]+1735328473|0,E=(E<<14|E>>>18)+C|0,P+=(E&_|C&~_)+S[12]-1926607734|0,P=(P<<20|P>>>12)+E|0,_+=(P^E^C)+S[5]-378558|0,_=(_<<4|_>>>28)+P|0,C+=(_^P^E)+S[8]-2022574463|0,C=(C<<11|C>>>21)+_|0,E+=(C^_^P)+S[11]+1839030562|0,E=(E<<16|E>>>16)+C|0,P+=(E^C^_)+S[14]-35309556|0,P=(P<<23|P>>>9)+E|0,_+=(P^E^C)+S[1]-1530992060|0,_=(_<<4|_>>>28)+P|0,C+=(_^P^E)+S[4]+1272893353|0,C=(C<<11|C>>>21)+_|0,E+=(C^_^P)+S[7]-155497632|0,E=(E<<16|E>>>16)+C|0,P+=(E^C^_)+S[10]-1094730640|0,P=(P<<23|P>>>9)+E|0,_+=(P^E^C)+S[13]+681279174|0,_=(_<<4|_>>>28)+P|0,C+=(_^P^E)+S[0]-358537222|0,C=(C<<11|C>>>21)+_|0,E+=(C^_^P)+S[3]-722521979|0,E=(E<<16|E>>>16)+C|0,P+=(E^C^_)+S[6]+76029189|0,P=(P<<23|P>>>9)+E|0,_+=(P^E^C)+S[9]-640364487|0,_=(_<<4|_>>>28)+P|0,C+=(_^P^E)+S[12]-421815835|0,C=(C<<11|C>>>21)+_|0,E+=(C^_^P)+S[15]+530742520|0,E=(E<<16|E>>>16)+C|0,P+=(E^C^_)+S[2]-995338651|0,P=(P<<23|P>>>9)+E|0,_+=(E^(P|~C))+S[0]-198630844|0,_=(_<<6|_>>>26)+P|0,C+=(P^(_|~E))+S[7]+1126891415|0,C=(C<<10|C>>>22)+_|0,E+=(_^(C|~P))+S[14]-1416354905|0,E=(E<<15|E>>>17)+C|0,P+=(C^(E|~_))+S[5]-57434055|0,P=(P<<21|P>>>11)+E|0,_+=(E^(P|~C))+S[12]+1700485571|0,_=(_<<6|_>>>26)+P|0,C+=(P^(_|~E))+S[3]-1894986606|0,C=(C<<10|C>>>22)+_|0,E+=(_^(C|~P))+S[10]-1051523|0,E=(E<<15|E>>>17)+C|0,P+=(C^(E|~_))+S[1]-2054922799|0,P=(P<<21|P>>>11)+E|0,_+=(E^(P|~C))+S[8]+1873313359|0,_=(_<<6|_>>>26)+P|0,C+=(P^(_|~E))+S[15]-30611744|0,C=(C<<10|C>>>22)+_|0,E+=(_^(C|~P))+S[6]-1560198380|0,E=(E<<15|E>>>17)+C|0,P+=(C^(E|~_))+S[13]+1309151649|0,P=(P<<21|P>>>11)+E|0,_+=(E^(P|~C))+S[4]-145523070|0,_=(_<<6|_>>>26)+P|0,C+=(P^(_|~E))+S[11]-1120210379|0,C=(C<<10|C>>>22)+_|0,E+=(_^(C|~P))+S[2]+718787259|0,E=(E<<15|E>>>17)+C|0,P+=(C^(E|~_))+S[9]-343485551|0,P=(P<<21|P>>>11)+E|0,b[0]=_+b[0]|0,b[1]=P+b[1]|0,b[2]=E+b[2]|0,b[3]=C+b[3]|0}function s(b){var S=[],_;for(_=0;_<64;_+=4)S[_>>2]=b.charCodeAt(_)+(b.charCodeAt(_+1)<<8)+(b.charCodeAt(_+2)<<16)+(b.charCodeAt(_+3)<<24);return S}function a(b){var S=[],_;for(_=0;_<64;_+=4)S[_>>2]=b[_]+(b[_+1]<<8)+(b[_+2]<<16)+(b[_+3]<<24);return S}function o(b){var S=b.length,_=[1732584193,-271733879,-1732584194,271733878],P,E,C,N,L,R;for(P=64;P<=S;P+=64)i(_,s(b.substring(P-64,P)));for(b=b.substring(P-64),E=b.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<E;P+=1)C[P>>2]|=b.charCodeAt(P)<<(P%4<<3);if(C[P>>2]|=128<<(P%4<<3),P>55)for(i(_,C),P=0;P<16;P+=1)C[P]=0;return N=S*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),L=parseInt(N[2],16),R=parseInt(N[1],16)||0,C[14]=L,C[15]=R,i(_,C),_}function l(b){var S=b.length,_=[1732584193,-271733879,-1732584194,271733878],P,E,C,N,L,R;for(P=64;P<=S;P+=64)i(_,a(b.subarray(P-64,P)));for(b=P-64<S?b.subarray(P-64):new Uint8Array(0),E=b.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<E;P+=1)C[P>>2]|=b[P]<<(P%4<<3);if(C[P>>2]|=128<<(P%4<<3),P>55)for(i(_,C),P=0;P<16;P+=1)C[P]=0;return N=S*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),L=parseInt(N[2],16),R=parseInt(N[1],16)||0,C[14]=L,C[15]=R,i(_,C),_}function c(b){var S="",_;for(_=0;_<4;_+=1)S+=r[b>>_*8+4&15]+r[b>>_*8&15];return S}function u(b){var S;for(S=0;S<b.length;S+=1)b[S]=c(b[S]);return b.join("")}u(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function b(S,_){return S=S|0||0,S<0?Math.max(S+_,0):Math.min(S,_)}ArrayBuffer.prototype.slice=function(S,_){var P=this.byteLength,E=b(S,P),C=P,N,L,R,F;return _!==t&&(C=b(_,P)),E>C?new ArrayBuffer(0):(N=C-E,L=new ArrayBuffer(N),R=new Uint8Array(L),F=new Uint8Array(this,E,N),R.set(F),L)}})();function f(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function h(b,S){var _=b.length,P=new ArrayBuffer(_),E=new Uint8Array(P),C;for(C=0;C<_;C+=1)E[C]=b.charCodeAt(C);return S?E:P}function p(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function x(b,S,_){var P=new Uint8Array(b.byteLength+S.byteLength);return P.set(new Uint8Array(b)),P.set(new Uint8Array(S),b.byteLength),P}function y(b){var S=[],_=b.length,P;for(P=0;P<_-1;P+=2)S.push(parseInt(b.substr(P,2),16));return String.fromCharCode.apply(String,S)}function w(){this.reset()}return w.prototype.append=function(b){return this.appendBinary(f(b)),this},w.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var S=this._buff.length,_;for(_=64;_<=S;_+=64)i(this._hash,s(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},w.prototype.end=function(b){var S=this._buff,_=S.length,P,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C;for(P=0;P<_;P+=1)E[P>>2]|=S.charCodeAt(P)<<(P%4<<3);return this._finish(E,_),C=u(this._hash),b&&(C=y(C)),this.reset(),C},w.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},w.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},w.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},w.prototype._finish=function(b,S){var _=S,P,E,C;if(b[_>>2]|=128<<(_%4<<3),_>55)for(i(this._hash,b),_=0;_<16;_+=1)b[_]=0;P=this._length*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(P[2],16),C=parseInt(P[1],16)||0,b[14]=E,b[15]=C,i(this._hash,b)},w.hash=function(b,S){return w.hashBinary(f(b),S)},w.hashBinary=function(b,S){var _=o(b),P=u(_);return S?y(P):P},w.ArrayBuffer=function(){this.reset()},w.ArrayBuffer.prototype.append=function(b){var S=x(this._buff.buffer,b),_=S.length,P;for(this._length+=b.byteLength,P=64;P<=_;P+=64)i(this._hash,a(S.subarray(P-64,P)));return this._buff=P-64<_?new Uint8Array(S.buffer.slice(P-64)):new Uint8Array(0),this},w.ArrayBuffer.prototype.end=function(b){var S=this._buff,_=S.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E,C;for(E=0;E<_;E+=1)P[E>>2]|=S[E]<<(E%4<<3);return this._finish(P,_),C=u(this._hash),b&&(C=y(C)),this.reset(),C},w.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.ArrayBuffer.prototype.getState=function(){var b=w.prototype.getState.call(this);return b.buff=p(b.buff),b},w.ArrayBuffer.prototype.setState=function(b){return b.buff=h(b.buff,!0),w.prototype.setState.call(this,b)},w.ArrayBuffer.prototype.destroy=w.prototype.destroy,w.ArrayBuffer.prototype._finish=w.prototype._finish,w.ArrayBuffer.hash=function(b,S){var _=l(new Uint8Array(b)),P=u(_);return S?y(P):P},w})})(BO)),BO.exports}var due=fue();const eI=qn(due);var PP={},I$;function hue(){if(I$)return PP;I$=1,PP.stringify=function(t){var r=[];r.push({obj:t});for(var i="",s,a,o,l,c,u,f,h,p,x,y;s=r.pop();)if(a=s.obj,o=s.prefix||"",l=s.val||"",i+=o,l)i+=l;else if(typeof a!="object")i+=typeof a>"u"?null:JSON.stringify(a);else if(a===null)i+="null";else if(Array.isArray(a)){for(r.push({val:"]"}),c=a.length-1;c>=0;c--)u=c===0?"":",",r.push({obj:a[c],prefix:u});r.push({val:"["})}else{f=[];for(h in a)a.hasOwnProperty(h)&&f.push(h);for(r.push({val:"}"}),c=f.length-1;c>=0;c--)p=f[c],x=a[p],y=c>0?",":"",y+=JSON.stringify(p)+":",r.push({obj:x,prefix:y});r.push({val:"{"})}return i};function n(e,t,r){var i=r[r.length-1];e===i.element&&(r.pop(),i=r[r.length-1]);var s=i.element,a=i.index;if(Array.isArray(s))s.push(e);else if(a===t.length-2){var o=t.pop();s[o]=e}else t.push(e)}return PP.parse=function(e){for(var t=[],r=[],i=0,s,a,o,l,c,u,f,h,p;;){if(s=e[i++],s==="}"||s==="]"||typeof s>"u"){if(t.length===1)return t.pop();n(t.pop(),t,r);continue}switch(s){case" ":case"	":case`
`:case":":case",":break;case"n":i+=3,n(null,t,r);break;case"t":i+=3,n(!0,t,r);break;case"f":i+=4,n(!1,t,r);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(a="",i--;;)if(o=e[i++],/[\d\.\-e\+]/.test(o))a+=o;else{i--;break}n(parseFloat(a),t,r);break;case'"':for(l="",c=void 0,u=0;f=e[i++],f!=='"'||c==="\\"&&u%2===1;)l+=f,c=f,c==="\\"?u++:u=0;n(JSON.parse('"'+l+'"'),t,r);break;case"[":h={element:[],index:t.length},t.push(h.element),r.push(h);break;case"{":p={element:{},index:t.length},t.push(p.element),r.push(p);break;default:throw new Error("unexpectedly reached end of input: "+s)}}},PP}var pue=hue();const oJ=qn(pue);var $O,M$;function mue(){if(M$)return $O;M$=1,$O=n;function n(e){return function(){var t=arguments.length;if(t){for(var r=[],i=-1;++i<t;)r[i]=arguments[i];return e.call(this,r)}else return e.call(this,[])}}return $O}var gue=mue();const Sx=qn(gue);var CP={exports:{}},D$;function vue(){return D$||(D$=1,typeof Object.create=="function"?CP.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:CP.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),CP.exports}var yue=vue();const ef=qn(yue);var qO;function pg(){}pg.prototype=Object.create(null);function En(){En.init.call(this)}En.EventEmitter=En;En.usingDomains=!1;En.prototype.domain=void 0;En.prototype._events=void 0;En.prototype._maxListeners=void 0;En.defaultMaxListeners=10;En.init=function(){this.domain=null,En.usingDomains&&qO.active&&!(this instanceof qO.Domain)&&(this.domain=qO.active),(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new pg,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};En.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function lJ(n){return n._maxListeners===void 0?En.defaultMaxListeners:n._maxListeners}En.prototype.getMaxListeners=function(){return lJ(this)};function bue(n,e,t){if(e)n.call(t);else for(var r=n.length,i=r5(n,r),s=0;s<r;++s)i[s].call(t)}function wue(n,e,t,r){if(e)n.call(t,r);else for(var i=n.length,s=r5(n,i),a=0;a<i;++a)s[a].call(t,r)}function xue(n,e,t,r,i){if(e)n.call(t,r,i);else for(var s=n.length,a=r5(n,s),o=0;o<s;++o)a[o].call(t,r,i)}function _ue(n,e,t,r,i,s){if(e)n.call(t,r,i,s);else for(var a=n.length,o=r5(n,a),l=0;l<a;++l)o[l].call(t,r,i,s)}function Sue(n,e,t,r){if(e)n.apply(t,r);else for(var i=n.length,s=r5(n,i),a=0;a<i;++a)s[a].apply(t,r)}En.prototype.emit=function(e){var t,r,i,s,a,o,l,c=e==="error";if(o=this._events,o)c=c&&o.error==null;else if(!c)return!1;if(l=this.domain,c){if(t=arguments[1],l)t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=l,t.domainThrown=!1,l.emit("error",t);else{if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return!1}if(r=o[e],!r)return!1;var f=typeof r=="function";switch(i=arguments.length,i){case 1:bue(r,f,this);break;case 2:wue(r,f,this,arguments[1]);break;case 3:xue(r,f,this,arguments[1],arguments[2]);break;case 4:_ue(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];Sue(r,f,this,s)}return!0};function cJ(n,e,t,r){var i,s,a;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(s=n._events,s?(s.newListener&&(n.emit("newListener",e,t.listener?t.listener:t),s=n._events),a=s[e]):(s=n._events=new pg,n._eventsCount=0),!a)a=s[e]=t,++n._eventsCount;else if(typeof a=="function"?a=s[e]=r?[t,a]:[a,t]:r?a.unshift(t):a.push(t),!a.warned&&(i=lJ(n),i&&i>0&&a.length>i)){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=n,o.type=e,o.count=a.length,Aue(o)}return n}function Aue(n){typeof console.warn=="function"?console.warn(n):console.log(n)}En.prototype.addListener=function(e,t){return cJ(this,e,t,!1)};En.prototype.on=En.prototype.addListener;En.prototype.prependListener=function(e,t){return cJ(this,e,t,!0)};function uJ(n,e,t){var r=!1;function i(){n.removeListener(e,i),r||(r=!0,t.apply(n,arguments))}return i.listener=t,i}En.prototype.once=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,uJ(this,e,t)),this};En.prototype.prependOnceListener=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,uJ(this,e,t)),this};En.prototype.removeListener=function(e,t){var r,i,s,a,o;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(r=i[e],!r)return this;if(r===t||r.listener&&r.listener===t)--this._eventsCount===0?this._events=new pg:(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(s=-1,a=r.length;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=r[a].listener,s=a;break}if(s<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount===0)return this._events=new pg,this;delete i[e]}else Pue(r,s);i.removeListener&&this.emit("removeListener",e,o||t)}return this};En.prototype.removeAllListeners=function(e){var t,r;if(r=this._events,!r)return this;if(!r.removeListener)return arguments.length===0?(this._events=new pg,this._eventsCount=0):r[e]&&(--this._eventsCount===0?this._events=new pg:delete r[e]),this;if(arguments.length===0){for(var i=Object.keys(r),s=0,a;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=new pg,this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0]);return this};En.prototype.listeners=function(e){var t,r,i=this._events;return i?(t=i[e],t?typeof t=="function"?r=[t.listener||t]:r=Cue(t):r=[]):r=[],r};En.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):fJ.call(n,e)};En.prototype.listenerCount=fJ;function fJ(n){var e=this._events;if(e){var t=e[n];if(typeof t=="function")return 1;if(t)return t.length}return 0}En.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function Pue(n,e){for(var t=e,r=t+1,i=n.length;r<i;t+=1,r+=1)n[t]=n[r];n.pop()}function r5(n,e){for(var t=new Array(e);e--;)t[e]=n[e];return t}function Cue(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function _k(n){return"$"+n}function dJ(n){return n.substring(1)}function Sp(){this._store={}}Sp.prototype.get=function(n){var e=_k(n);return this._store[e]};Sp.prototype.set=function(n,e){var t=_k(n);return this._store[t]=e,!0};Sp.prototype.has=function(n){var e=_k(n);return e in this._store};Sp.prototype.keys=function(){return Object.keys(this._store).map(n=>dJ(n))};Sp.prototype.delete=function(n){var e=_k(n),t=e in this._store;return delete this._store[e],t};Sp.prototype.forEach=function(n){for(var e=Object.keys(this._store),t=0,r=e.length;t<r;t++){var i=e[t],s=this._store[i];i=dJ(i),n(s,i)}};Object.defineProperty(Sp.prototype,"size",{get:function(){return Object.keys(this._store).length}});function i5(n){if(this._store=new Sp,n&&Array.isArray(n))for(var e=0,t=n.length;e<t;e++)this.add(n[e])}i5.prototype.add=function(n){return this._store.set(n,!0)};i5.prototype.has=function(n){return this._store.has(n)};i5.prototype.forEach=function(n){this._store.forEach(function(e,t){n(t)})};Object.defineProperty(i5.prototype,"size",{get:function(){return this._store.size}});function Eue(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var n=Object.getOwnPropertyDescriptor(Map,Symbol.species);return n&&"get"in n&&Map[Symbol.species]===Map}var Uw,al;Eue()?(Uw=Set,al=Map):(Uw=i5,al=Sp);function Tue(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer||typeof Blob<"u"&&n instanceof Blob}function kue(n){if(typeof n.slice=="function")return n.slice(0);var e=new ArrayBuffer(n.byteLength),t=new Uint8Array(e),r=new Uint8Array(n);return t.set(r),e}function Nue(n){if(n instanceof ArrayBuffer)return kue(n);var e=n.size,t=n.type;return typeof n.slice=="function"?n.slice(0,e,t):n.webkitSlice(0,e,t)}var hJ=Function.prototype.toString,Oue=hJ.call(Object);function jue(n){var e=Object.getPrototypeOf(n);if(e===null)return!0;var t=e.constructor;return typeof t=="function"&&t instanceof t&&hJ.call(t)==Oue}function Ms(n){var e,t,r;if(!n||typeof n!="object")return n;if(Array.isArray(n)){for(e=[],t=0,r=n.length;t<r;t++)e[t]=Ms(n[t]);return e}if(n instanceof Date&&isFinite(n))return n.toISOString();if(Tue(n))return Nue(n);if(!jue(n))return n;e={};for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=Ms(n[t]);typeof i<"u"&&(e[t]=i)}return e}function pJ(n){var e=!1;return Sx(function(t){if(e)throw new Error("once called more than once");e=!0,n.apply(this,t)})}function mJ(n){return Sx(function(e){e=Ms(e);var t=this,r=typeof e[e.length-1]=="function"?e.pop():!1,i=new Promise(function(s,a){var o;try{var l=pJ(function(c,u){c?a(c):s(u)});e.push(l),o=n.apply(t,e),o&&typeof o.then=="function"&&s(o)}catch(c){a(c)}});return r&&i.then(function(s){r(null,s)},r),i})}function Lue(n,e,t){if(n.constructor.listeners("debug").length){for(var r=["api",n.name,e],i=0;i<t.length-1;i++)r.push(t[i]);n.constructor.emit("debug",r);var s=t[t.length-1];t[t.length-1]=function(a,o){var l=["api",n.name,e];l=l.concat(a?["error",a]:["success",o]),n.constructor.emit("debug",l),s(a,o)}}}function bs(n,e){return mJ(Sx(function(t){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return Lue(r,n,t),this.taskqueue.isReady?e.apply(this,t):new Promise(function(i,s){r.taskqueue.addTask(function(a){a?s(a):i(r[n].apply(r,t))})})}))}function s5(n,e){for(var t={},r=0,i=e.length;r<i;r++){var s=e[r];s in n&&(t[s]=n[s])}return t}var Rue=6;function F$(n){return n}function Iue(n){return[{ok:n}]}function gJ(n,e,t){var r=e.docs,i=new al;r.forEach(function(y){i.has(y.id)?i.get(y.id).push(y):i.set(y.id,[y])});var s=i.size,a=0,o=new Array(s);function l(){var y=[];o.forEach(function(w){w.docs.forEach(function(b){y.push({id:w.id,docs:[b]})})}),t(null,{results:y})}function c(){++a===s&&l()}function u(y,w,b){o[y]={id:w,docs:b},c()}var f=[];i.forEach(function(y,w){f.push(w)});var h=0;function p(){if(!(h>=f.length)){var y=Math.min(h+Rue,f.length),w=f.slice(h,y);x(w,h),h+=w.length}}function x(y,w){y.forEach(function(b,S){var _=w+S,P=i.get(b),E=s5(P[0],["atts_since","attachments"]);E.open_revs=P.map(function(N){return N.rev}),E.open_revs=E.open_revs.filter(F$);var C=F$;E.open_revs.length===0&&(delete E.open_revs,C=Iue),["revs","attachments","binary","ajax","latest"].forEach(function(N){N in e&&(E[N]=e[N])}),n.get(b,E,function(N,L){var R;N?R=[{error:N}]:R=C(L),u(_,b,R),p()})})}p()}var tI;try{localStorage.setItem("_pouch_check_localstorage",1),tI=!!localStorage.getItem("_pouch_check_localstorage")}catch{tI=!1}function Sk(){return tI}ef(Ax,En);function Mue(n){Sk()&&addEventListener("storage",function(e){n.emit(e.key)})}function Ax(){En.call(this),this._listeners={},Mue(this)}Ax.prototype.addListener=function(n,e,t,r){if(this._listeners[e])return;var i=this,s=!1;function a(){if(!i._listeners[e])return;if(s){s="waiting";return}s=!0;var o=s5(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function l(){s=!1}t.changes(o).on("change",function(c){c.seq>r.since&&!r.cancelled&&(r.since=c.seq,r.onChange(c))}).on("complete",function(){s==="waiting"&&vd(a),s=!1}).on("error",l)}this._listeners[e]=a,this.on(n,a)};Ax.prototype.removeListener=function(n,e){e in this._listeners&&(En.prototype.removeListener.call(this,n,this._listeners[e]),delete this._listeners[e])};Ax.prototype.notifyLocalWindows=function(n){Sk()&&(localStorage[n]=localStorage[n]==="a"?"b":"a")};Ax.prototype.notify=function(n){this.emit(n),this.notifyLocalWindows(n)};function Yc(n){if(typeof console<"u"&&typeof console[n]=="function"){var e=Array.prototype.slice.call(arguments,1);console[n].apply(console,e)}}function Due(n,e){var t=6e5;n=parseInt(n,10)||0,e=parseInt(e,10),e!==e||e<=n?e=(n||1)<<1:e=e+1,e>t&&(n=t>>1,e=t);var r=Math.random(),i=e-n;return~~(i*r+n)}function Fue(n){var e=0;return n||(e=2e3),Due(n,e)}function nI(n,e){Yc("info","The above "+n+" is totally normal. "+e)}var rI;typeof Object.assign=="function"?rI=Object.assign:rI=function(n){for(var e=Object(n),t=1;t<arguments.length;t++){var r=arguments[t];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var s0=rI;ef(Vr,Error);function Vr(n,e,t){Error.call(this,t),this.status=n,this.name=e,this.message=t,this.error=!0}Vr.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new Vr(401,"unauthorized","Name or password is incorrect.");var Bue=new Vr(400,"bad_request","Missing JSON list of 'docs'"),Hu=new Vr(404,"not_found","missing"),zw=new Vr(409,"conflict","Document update conflict"),vJ=new Vr(400,"bad_request","_id field must contain a string"),$ue=new Vr(412,"missing_id","_id is required for puts"),que=new Vr(400,"bad_request","Only reserved document ids may start with underscore.");new Vr(412,"precondition_failed","Database not open");var yJ=new Vr(500,"unknown_error","Database encountered an unknown error"),bJ=new Vr(500,"badarg","Some query argument is invalid");new Vr(400,"invalid_request","Request was invalid");var Uue=new Vr(400,"query_parse_error","Some query parameter is invalid"),B$=new Vr(500,"doc_validation","Bad special document member"),Ak=new Vr(400,"bad_request","Something wrong with the request"),y8=new Vr(400,"bad_request","Document must be a JSON object");new Vr(404,"not_found","Database not found");var b8=new Vr(500,"indexed_db_went_bad","unknown");new Vr(500,"web_sql_went_bad","unknown");new Vr(500,"levelDB_went_went_bad","unknown");new Vr(403,"forbidden","Forbidden by design doc validate_doc_update function");var wJ=new Vr(400,"bad_request","Invalid rev format");new Vr(412,"file_exists","The database could not be created, the file already exists.");var zue=new Vr(412,"missing_stub","A pre-existing attachment stub wasn't found");new Vr(413,"invalid_url","Provided URL is invalid");function Pn(n,e){function t(r){for(var i=Object.getOwnPropertyNames(n),s=0,a=i.length;s<a;s++)typeof n[i[s]]!="function"&&(this[i[s]]=n[i[s]]);this.stack===void 0&&(this.stack=new Error().stack),r!==void 0&&(this.reason=r)}return t.prototype=Vr.prototype,new t(e)}function Hw(n){if(typeof n!="object"){var e=n;n=yJ,n.data=e}return"error"in n&&n.error==="conflict"&&(n.name="conflict",n.status=409),"name"in n||(n.name=n.error||"unknown"),"status"in n||(n.status=500),"message"in n||(n.message=n.message||n.reason),"stack"in n||(n.stack=new Error().stack),n}function Hue(n,e,t){try{return!n(e,t)}catch(i){var r="Filter function threw: "+i.toString();return Pn(Ak,r)}}function w8(n){var e={},t=n.filter&&typeof n.filter=="function";return e.query=n.query_params,function(i){i.doc||(i.doc={});var s=t&&Hue(n.filter,i.doc,e);if(typeof s=="object")return s;if(s)return!1;if(!n.include_docs)delete i.doc;else if(!n.attachments)for(var a in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,a)&&(i.doc._attachments[a].stub=!0);return!0}}function bE(n){for(var e=[],t=0,r=n.length;t<r;t++)e=e.concat(n[t]);return e}function xJ(n){var e;if(n?typeof n!="string"?e=Pn(vJ):/^_/.test(n)&&!/^_(design|local)/.test(n)&&(e=Pn(que)):e=Pn($ue),e)throw e}function yd(n){return typeof n._remote=="boolean"?n._remote:typeof n.type=="function"?(Yc("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),n.type()==="http"):!1}function Vue(n,e){return"listenerCount"in n?n.listenerCount(e):En.listenerCount(n,e)}function iI(n){if(!n)return null;var e=n.split("/");return e.length===2?e:e.length===1?[n,n]:null}function $$(n){var e=iI(n);return e?e.join("/"):null}var q$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],U$="queryKey",Wue=/(?:^|&)([^&=]*)=?([^&]*)/g,Gue=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function _J(n){for(var e=Gue.exec(n),t={},r=14;r--;){var i=q$[r],s=e[r]||"",a=["user","password"].indexOf(i)!==-1;t[i]=a?decodeURIComponent(s):s}return t[U$]={},t[q$[12]].replace(Wue,function(o,l,c){l&&(t[U$][l]=c)}),t}function x8(n,e){var t=[],r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t.push(i),r.push(e[i]));return t.push(n),Function.apply(null,t).apply(null,r)}function Pk(n,e,t){return n.get(e).catch(function(r){if(r.status!==404)throw r;return{}}).then(function(r){var i=r._rev,s=t(r);return s?(s._id=e,s._rev=i,Kue(n,s,t)):{updated:!1,rev:i}})}function Kue(n,e,t){return n.put(e).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(r.status!==409)throw r;return Pk(n,e._id,t)})}var _8=function(n){return atob(n)},a5=function(n){return btoa(n)};function S8(n,e){n=n||[],e=e||{};try{return new Blob(n,e)}catch(s){if(s.name!=="TypeError")throw s;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new t,i=0;i<n.length;i+=1)r.append(n[i]);return r.getBlob(e.type)}}function Xue(n){for(var e=n.length,t=new ArrayBuffer(e),r=new Uint8Array(t),i=0;i<e;i++)r[i]=n.charCodeAt(i);return t}function A8(n,e){return S8([Xue(n)],{type:e})}function P8(n,e){return A8(_8(n),e)}function Yue(n){for(var e="",t=new Uint8Array(n),r=t.byteLength,i=0;i<r;i++)e+=String.fromCharCode(t[i]);return e}function SJ(n,e){var t=new FileReader,r=typeof t.readAsBinaryString=="function";t.onloadend=function(i){var s=i.target.result||"";if(r)return e(s);e(Yue(s))},r?t.readAsBinaryString(n):t.readAsArrayBuffer(n)}function AJ(n,e){SJ(n,function(t){e(t)})}function C8(n,e){AJ(n,function(t){e(a5(t))})}function Jue(n,e){var t=new FileReader;t.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);e(i)},t.readAsArrayBuffer(n)}var Zue=self.setImmediate||self.setTimeout,Que=32768;function efe(n){return a5(n)}function tfe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.slice(e,t)}function nfe(n,e,t,r,i){(t>0||r<e.size)&&(e=tfe(e,t,r)),Jue(e,function(s){n.append(s),i()})}function rfe(n,e,t,r,i){(t>0||r<e.length)&&(e=e.substring(t,r)),n.appendBinary(e),i()}function E8(n,e){var t=typeof n=="string",r=t?n.length:n.size,i=Math.min(Que,r),s=Math.ceil(r/i),a=0,o=t?new eI:new eI.ArrayBuffer,l=t?rfe:nfe;function c(){Zue(f)}function u(){var h=o.end(!0),p=efe(h);e(p),o.destroy()}function f(){var h=a*i,p=h+i;a++,a<s?l(o,n,h,p,c):l(o,n,h,p,u)}f()}function PJ(n){return eI.hash(n)}function CJ(n,e){if(!e)return aJ().replace(/-/g,"").toLowerCase();var t=s0({},n);return delete t._rev_tree,PJ(JSON.stringify(t))}var Ck=aJ;function a0(n){for(var e,t,r,i=n.rev_tree.slice(),s;s=i.pop();){var a=s.ids,o=a[2],l=s.pos;if(o.length){for(var c=0,u=o.length;c<u;c++)i.push({pos:l+1,ids:o[c]});continue}var f=!!a[1].deleted,h=a[0];(!e||(r!==f?r:t!==l?t<l:e<h))&&(e=h,t=l,r=f)}return t+"-"+e}function C0(n,e){for(var t=n.slice(),r;r=t.pop();)for(var i=r.pos,s=r.ids,a=s[2],o=e(a.length===0,i,s[0],r.ctx,s[1]),l=0,c=a.length;l<c;l++)t.push({pos:i+1,ids:a[l],ctx:o})}function ife(n,e){return n.pos-e.pos}function T8(n){var e=[];C0(n,function(i,s,a,o,l){i&&e.push({rev:s+"-"+a,pos:s,opts:l})}),e.sort(ife).reverse();for(var t=0,r=e.length;t<r;t++)delete e[t].pos;return e}function k8(n){for(var e=a0(n),t=T8(n.rev_tree),r=[],i=0,s=t.length;i<s;i++){var a=t[i];a.rev!==e&&!a.opts.deleted&&r.push(a.rev)}return r}function sfe(n){var e=[];return C0(n.rev_tree,function(t,r,i,s,a){a.status==="available"&&!t&&(e.push(r+"-"+i),a.status="missing")}),e}function EJ(n){for(var e=[],t=n.slice(),r;r=t.pop();){var i=r.pos,s=r.ids,a=s[0],o=s[1],l=s[2],c=l.length===0,u=r.history?r.history.slice():[];u.push({id:a,opts:o}),c&&e.push({pos:i+1-u.length,ids:u});for(var f=0,h=l.length;f<h;f++)t.push({pos:i+1,ids:l[f],history:u})}return e.reverse()}function afe(n,e){return n.pos-e.pos}function ofe(n,e,t){for(var r=0,i=n.length,s;r<i;)s=r+i>>>1,t(n[s],e)<0?r=s+1:i=s;return r}function lfe(n,e,t){var r=ofe(n,e,t);n.splice(r,0,e)}function z$(n,e){for(var t,r,i=e,s=n.length;i<s;i++){var a=n[i],o=[a.id,a.opts,[]];r?(r[2].push(o),r=o):t=r=o}return t}function cfe(n,e){return n[0]<e[0]?-1:1}function H$(n,e){for(var t=[{tree1:n,tree2:e}],r=!1;t.length>0;){var i=t.pop(),s=i.tree1,a=i.tree2;(s[1].status||a[1].status)&&(s[1].status=s[1].status==="available"||a[1].status==="available"?"available":"missing");for(var o=0;o<a[2].length;o++){if(!s[2][0]){r="new_leaf",s[2][0]=a[2][o];continue}for(var l=!1,c=0;c<s[2].length;c++)s[2][c][0]===a[2][o][0]&&(t.push({tree1:s[2][c],tree2:a[2][o]}),l=!0);l||(r="new_branch",lfe(s[2],a[2][o],cfe))}}return{conflicts:r,tree:n}}function TJ(n,e,t){var r=[],i=!1,s=!1,a;if(!n.length)return{tree:[e],conflicts:"new_leaf"};for(var o=0,l=n.length;o<l;o++){var c=n[o];if(c.pos===e.pos&&c.ids[0]===e.ids[0])a=H$(c.ids,e.ids),r.push({pos:c.pos,ids:a.tree}),i=i||a.conflicts,s=!0;else if(t!==!0){var u=c.pos<e.pos?c:e,f=c.pos<e.pos?e:c,h=f.pos-u.pos,p=[],x=[];for(x.push({ids:u.ids,diff:h,parent:null,parentIdx:null});x.length>0;){var y=x.pop();if(y.diff===0){y.ids[0]===f.ids[0]&&p.push(y);continue}for(var w=y.ids[2],b=0,S=w.length;b<S;b++)x.push({ids:w[b],diff:y.diff-1,parent:y.ids,parentIdx:b})}var _=p[0];_?(a=H$(_.ids,f.ids),_.parent[2][_.parentIdx]=a.tree,r.push({pos:u.pos,ids:u.ids}),i=i||a.conflicts,s=!0):r.push(c)}else r.push(c)}return s||r.push(e),r.sort(afe),{tree:r,conflicts:i||"internal_node"}}function ufe(n,e){for(var t=EJ(n),r,i,s=0,a=t.length;s<a;s++){var o=t[s],l=o.ids,c;if(l.length>e){r||(r={});var u=l.length-e;c={pos:o.pos+u,ids:z$(l,u)};for(var f=0;f<u;f++){var h=o.pos+f+"-"+l[f].id;r[h]=!0}}else c={pos:o.pos,ids:z$(l,0)};i?i=TJ(i,c,!0).tree:i=[c]}return r&&C0(i,function(p,x,y){delete r[x+"-"+y]}),{tree:i,revs:r?Object.keys(r):[]}}function kJ(n,e,t){var r=TJ(n,e),i=ufe(r.tree,t);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function ffe(n,e){for(var t=n.slice(),r=e.split("-"),i=parseInt(r[0],10),s=r[1],a;a=t.pop();){if(a.pos===i&&a.ids[0]===s)return!0;for(var o=a.ids[2],l=0,c=o.length;l<c;l++)t.push({pos:a.pos+1,ids:o[l]})}return!1}function dfe(n){return n.ids}function np(n,e){e||(e=a0(n));for(var t=e.substring(e.indexOf("-")+1),r=n.rev_tree.map(dfe),i;i=r.pop();){if(i[0]===t)return!!i[1].deleted;r=r.concat(i[2])}}function o0(n){return/^_local/.test(n)}function hfe(n,e){for(var t=e.rev_tree.slice(),r;r=t.pop();){var i=r.pos,s=r.ids,a=s[0],o=s[1],l=s[2],c=l.length===0,u=r.history?r.history.slice():[];if(u.push({id:a,pos:i,opts:o}),c)for(var f=0,h=u.length;f<h;f++){var p=u[f],x=p.pos+"-"+p.id;if(x===n)return i+"-"+a}for(var y=0,w=l.length;y<w;y++)t.push({pos:i+1,ids:l[y],history:u})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+n)}ef(o5,En);function pfe(n,e,t,r){try{n.emit("change",e,t,r)}catch(i){Yc("error",'Error in .on("change", function):',i)}}function o5(n,e,t){En.call(this);var r=this;this.db=n,e=e?Ms(e):{};var i=e.complete=pJ(function(o,l){o?Vue(r,"error")>0&&r.emit("error",o):r.emit("complete",l),r.removeAllListeners(),n.removeListener("destroyed",s)});t&&(r.on("complete",function(o){t(null,o)}),r.on("error",t));function s(){r.cancel()}n.once("destroyed",s),e.onChange=function(o,l,c){r.isCancelled||pfe(r,o,l,c)};var a=new Promise(function(o,l){e.complete=function(c,u){c?l(c):o(u)}});r.once("cancel",function(){n.removeListener("destroyed",s),e.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(o){i(null,o)},i),n.taskqueue.isReady?r.validateChanges(e):n.taskqueue.addTask(function(o){o?e.complete(o):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}o5.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function mfe(n,e,t){var r=[{rev:n._rev}];t.style==="all_docs"&&(r=T8(e.rev_tree).map(function(s){return{rev:s.rev}}));var i={id:e.id,changes:r,doc:n};return np(e,n._rev)&&(i.deleted=!0),t.conflicts&&(i.doc._conflicts=k8(e),i.doc._conflicts.length||delete i.doc._conflicts),i}o5.prototype.validateChanges=function(n){var e=n.complete,t=this;Gt._changesFilterPlugin?Gt._changesFilterPlugin.validate(n,function(r){if(r)return e(r);t.doChanges(n)}):t.doChanges(n)};o5.prototype.doChanges=function(n){var e=this,t=n.complete;if(n=Ms(n),"live"in n&&!("continuous"in n)&&(n.continuous=n.live),n.processChange=mfe,n.since==="latest"&&(n.since="now"),n.since||(n.since=0),n.since==="now"){this.db.info().then(function(s){if(e.isCancelled){t(null,{status:"cancelled"});return}n.since=s.update_seq,e.doChanges(n)},t);return}if(Gt._changesFilterPlugin){if(Gt._changesFilterPlugin.normalize(n),Gt._changesFilterPlugin.shouldFilter(this,n))return Gt._changesFilterPlugin.filter(this,n)}else["doc_ids","filter","selector","view"].forEach(function(s){s in n&&Yc("warn",'The "'+s+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in n||(n.descending=!1),n.limit=n.limit===0?1:n.limit,n.complete=t;var r=this.db._changes(n);if(r&&typeof r.cancel=="function"){var i=e.cancel;e.cancel=Sx(function(s){r.cancel(),i.apply(this,s)})}};function V$(n,e){return n<e?-1:n>e?1:0}function N8(n,e){return function(t,r){t||r[0]&&r[0].error?(t=t||r[0],t.docId=e,n(t)):n(null,r.length?r[0]:r)}}function gfe(n){for(var e=0;e<n.length;e++){var t=n[e];if(t._deleted)delete t._attachments;else if(t._attachments)for(var r=Object.keys(t._attachments),i=0;i<r.length;i++){var s=r[i];t._attachments[s]=s5(t._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function vfe(n,e){var t=V$(n._id,e._id);if(t!==0)return t;var r=n._revisions?n._revisions.start:0,i=e._revisions?e._revisions.start:0;return V$(r,i)}function yfe(n){var e={},t=[];return C0(n,function(r,i,s,a){var o=i+"-"+s;return r&&(e[o]=0),a!==void 0&&t.push({from:a,to:o}),o}),t.reverse(),t.forEach(function(r){e[r.from]===void 0?e[r.from]=1+e[r.to]:e[r.from]=Math.min(e[r.from],1+e[r.to])}),e}function bfe(n){var e="limit"in n?n.keys.slice(n.skip,n.limit+n.skip):n.skip>0?n.keys.slice(n.skip):n.keys;n.keys=e,n.skip=0,delete n.limit,n.descending&&(e.reverse(),n.descending=!1)}function NJ(n){var e=n._compactionQueue[0],t=e.opts,r=e.callback;n.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(t.last_seq=i.last_seq),n._compact(t,function(s,a){s?r(s):r(null,a),vd(function(){n._compactionQueue.shift(),n._compactionQueue.length&&NJ(n)})})})}function wfe(n){return n.charAt(0)==="_"?n+" is not a valid attachment name, attachment names cannot start with '_'":!1}ef(li,En);function li(){En.call(this);for(var n in li.prototype)typeof this[n]=="function"&&(this[n]=this[n].bind(this))}li.prototype.post=bs("post",function(n,e,t){if(typeof e=="function"&&(t=e,e={}),typeof n!="object"||Array.isArray(n))return t(Pn(y8));this.bulkDocs({docs:[n]},e,N8(t,n._id))});li.prototype.put=bs("put",function(n,e,t){if(typeof e=="function"&&(t=e,e={}),typeof n!="object"||Array.isArray(n))return t(Pn(y8));if(xJ(n._id),o0(n._id)&&typeof this._putLocal=="function")return n._deleted?this._removeLocal(n,t):this._putLocal(n,t);var r=this;e.force&&n._rev?(i(),s(function(a){var o=a?null:{ok:!0,id:n._id,rev:n._rev};t(a,o)})):s(t);function i(){var a=n._rev.split("-"),o=a[1],l=parseInt(a[0],10),c=l+1,u=CJ();n._revisions={start:c,ids:[u,o]},n._rev=c+"-"+u,e.new_edits=!1}function s(a){typeof r._put=="function"&&e.new_edits!==!1?r._put(n,e,a):r.bulkDocs({docs:[n]},e,N8(a,n._id))}});li.prototype.putAttachment=bs("putAttachment",function(n,e,t,r,i){var s=this;typeof i=="function"&&(i=r,r=t,t=null),typeof i>"u"&&(i=r,r=t,t=null),i||Yc("warn","Attachment",e,"on document",n,"is missing content_type");function a(o){var l="_rev"in o?parseInt(o._rev,10):0;return o._attachments=o._attachments||{},o._attachments[e]={content_type:i,data:r,revpos:++l},s.put(o)}return s.get(n).then(function(o){if(o._rev!==t)throw Pn(zw);return a(o)},function(o){if(o.reason===Hu.message)return a({_id:n});throw o})});li.prototype.removeAttachment=bs("removeAttachment",function(n,e,t,r){var i=this;i.get(n,function(s,a){if(s){r(s);return}if(a._rev!==t){r(Pn(zw));return}if(!a._attachments)return r();delete a._attachments[e],Object.keys(a._attachments).length===0&&delete a._attachments,i.put(a,r)})});li.prototype.remove=bs("remove",function(n,e,t,r){var i;typeof e=="string"?(i={_id:n,_rev:e},typeof t=="function"&&(r=t,t={})):(i=n,typeof e=="function"?(r=e,t={}):(r=t,t=e)),t=t||{},t.was_delete=!0;var s={_id:i._id,_rev:i._rev||t.rev};if(s._deleted=!0,o0(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(i,r);this.bulkDocs({docs:[s]},t,N8(r,s._id))});li.prototype.revsDiff=bs("revsDiff",function(n,e,t){typeof e=="function"&&(t=e,e={});var r=Object.keys(n);if(!r.length)return t(null,{});var i=0,s=new al;function a(l,c){s.has(l)||s.set(l,{missing:[]}),s.get(l).missing.push(c)}function o(l,c){var u=n[l].slice(0);C0(c,function(f,h,p,x,y){var w=h+"-"+p,b=u.indexOf(w);b!==-1&&(u.splice(b,1),y.status!=="available"&&a(l,w))}),u.forEach(function(f){a(l,f)})}r.map(function(l){this._getRevisionTree(l,function(c,u){if(c&&c.status===404&&c.message==="missing")s.set(l,{missing:n[l]});else{if(c)return t(c);o(l,u)}if(++i===r.length){var f={};return s.forEach(function(h,p){f[p]=h}),t(null,f)}})},this)});li.prototype.bulkGet=bs("bulkGet",function(n,e){gJ(this,n,e)});li.prototype.compactDocument=bs("compactDocument",function(n,e,t){var r=this;this._getRevisionTree(n,function(i,s){if(i)return t(i);var a=yfe(s),o=[],l=[];Object.keys(a).forEach(function(c){a[c]>e&&o.push(c)}),C0(s,function(c,u,f,h,p){var x=u+"-"+f;p.status==="available"&&o.indexOf(x)!==-1&&l.push(x)}),r._doCompaction(n,l,t)})});li.prototype.compact=bs("compact",function(n,e){typeof n=="function"&&(e=n,n={});var t=this;n=n||{},t._compactionQueue=t._compactionQueue||[],t._compactionQueue.push({opts:n,callback:e}),t._compactionQueue.length===1&&NJ(t)});li.prototype._compact=function(n,e){var t=this,r={return_docs:!1,last_seq:n.last_seq||0},i=[];function s(o){i.push(t.compactDocument(o.id,0))}function a(o){var l=o.last_seq;Promise.all(i).then(function(){return Pk(t,"_local/compaction",function(u){return!u.last_seq||u.last_seq<l?(u.last_seq=l,u):!1})}).then(function(){e(null,{ok:!0})}).catch(e)}t.changes(r).on("change",s).on("complete",a).on("error",e)};li.prototype.get=bs("get",function(n,e,t){if(typeof e=="function"&&(t=e,e={}),typeof n!="string")return t(Pn(vJ));if(o0(n)&&typeof this._getLocal=="function")return this._getLocal(n,t);var r=[],i=this;function s(){var l=[],c=r.length;if(!c)return t(null,l);r.forEach(function(u){i.get(n,{rev:u,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(f,h){if(f)l.push({missing:u});else{for(var p,x=0,y=l.length;x<y;x++)if(l[x].ok&&l[x].ok._rev===h._rev){p=!0;break}p||l.push({ok:h})}c--,c||t(null,l)})})}if(e.open_revs){if(e.open_revs==="all")this._getRevisionTree(n,function(l,c){if(l)return t(l);r=T8(c).map(function(u){return u.rev}),s()});else if(Array.isArray(e.open_revs)){r=e.open_revs;for(var a=0;a<r.length;a++){var o=r[a];if(!(typeof o=="string"&&/^\d+-/.test(o)))return t(Pn(wJ))}s()}else return t(Pn(yJ,"function_clause"));return}return this._get(n,e,function(l,c){if(l)return l.docId=n,t(l);var u=c.doc,f=c.metadata,h=c.ctx;if(e.conflicts){var p=k8(f);p.length&&(u._conflicts=p)}if(np(f,u._rev)&&(u._deleted=!0),e.revs||e.revs_info){for(var x=u._rev.split("-"),y=parseInt(x[0],10),w=x[1],b=EJ(f.rev_tree),S=null,_=0;_<b.length;_++){var P=b[_],E=P.ids.map(function(W){return W.id}).indexOf(w),C=E===y-1;(C||!S&&E!==-1)&&(S=P)}if(!S)return l=new Error("invalid rev tree"),l.docId=n,t(l);var N=S.ids.map(function(W){return W.id}).indexOf(u._rev.split("-")[1])+1,L=S.ids.length-N;if(S.ids.splice(N,L),S.ids.reverse(),e.revs&&(u._revisions={start:S.pos+S.ids.length-1,ids:S.ids.map(function(W){return W.id})}),e.revs_info){var R=S.pos+S.ids.length;u._revs_info=S.ids.map(function(W){return R--,{rev:R+"-"+W.id,status:W.opts.status}})}}if(e.attachments&&u._attachments){var F=u._attachments,j=Object.keys(F).length;if(j===0)return t(null,u);Object.keys(F).forEach(function(W){this._getAttachment(u._id,W,F[W],{rev:u._rev,binary:e.binary,ctx:h},function(V,Z){var J=u._attachments[W];J.data=Z,delete J.stub,delete J.length,--j||t(null,u)})},i)}else{if(u._attachments)for(var D in u._attachments)Object.prototype.hasOwnProperty.call(u._attachments,D)&&(u._attachments[D].stub=!0);t(null,u)}})});li.prototype.getAttachment=bs("getAttachment",function(n,e,t,r){var i=this;t instanceof Function&&(r=t,t={}),this._get(n,t,function(s,a){if(s)return r(s);if(a.doc._attachments&&a.doc._attachments[e])t.ctx=a.ctx,t.binary=!0,i._getAttachment(n,e,a.doc._attachments[e],t,r);else return r(Pn(Hu))})});li.prototype.allDocs=bs("allDocs",function(n,e){if(typeof n=="function"&&(e=n,n={}),n.skip=typeof n.skip<"u"?n.skip:0,n.start_key&&(n.startkey=n.start_key),n.end_key&&(n.endkey=n.end_key),"keys"in n){if(!Array.isArray(n.keys))return e(new TypeError("options.keys must be an array"));var t=["startkey","endkey","key"].filter(function(r){return r in n})[0];if(t){e(Pn(Uue,"Query parameter `"+t+"` is not compatible with multi-get"));return}if(!yd(this)&&(bfe(n),n.keys.length===0))return this._allDocs({limit:0},e)}return this._allDocs(n,e)});li.prototype.changes=function(n,e){return typeof n=="function"&&(e=n,n={}),n=n||{},n.return_docs="return_docs"in n?n.return_docs:!n.live,new o5(this,n,e)};li.prototype.close=bs("close",function(n){return this._closed=!0,this.emit("closed"),this._close(n)});li.prototype.info=bs("info",function(n){var e=this;this._info(function(t,r){if(t)return n(t);r.db_name=r.db_name||e.name,r.auto_compaction=!!(e.auto_compaction&&!yd(e)),r.adapter=e.adapter,n(null,r)})});li.prototype.id=bs("id",function(n){return this._id(n)});li.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};li.prototype.bulkDocs=bs("bulkDocs",function(n,e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},Array.isArray(n)&&(n={docs:n}),!n||!n.docs||!Array.isArray(n.docs))return t(Pn(Bue));for(var r=0;r<n.docs.length;++r)if(typeof n.docs[r]!="object"||Array.isArray(n.docs[r]))return t(Pn(y8));var i;if(n.docs.forEach(function(o){o._attachments&&Object.keys(o._attachments).forEach(function(l){i=i||wfe(l),o._attachments[l].content_type||Yc("warn","Attachment",l,"on document",o._id,"is missing content_type")})}),i)return t(Pn(Ak,i));"new_edits"in e||("new_edits"in n?e.new_edits=n.new_edits:e.new_edits=!0);var s=this;!e.new_edits&&!yd(s)&&n.docs.sort(vfe),gfe(n.docs);var a=n.docs.map(function(o){return o._id});return this._bulkDocs(n,e,function(o,l){if(o)return t(o);if(e.new_edits||(l=l.filter(function(f){return f.error})),!yd(s))for(var c=0,u=l.length;c<u;c++)l[c].id=l[c].id||a[c];t(null,l)})});li.prototype.registerDependentDatabase=bs("registerDependentDatabase",function(n,e){var t=Ms(this.__opts);this.__opts.view_adapter&&(t.adapter=this.__opts.view_adapter);var r=new this.constructor(n,t);function i(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[n]?!1:(s.dependentDbs[n]=!0,s)}Pk(this,"_local/_pouch_dependentDbs",i).then(function(){e(null,{db:r})}).catch(e)});li.prototype.destroy=bs("destroy",function(n,e){typeof n=="function"&&(e=n,n={});var t=this,r="use_prefix"in t?t.use_prefix:!0;function i(){t._destroy(n,function(s,a){if(s)return e(s);t._destroyed=!0,t.emit("destroyed"),e(null,a||{ok:!0})})}if(yd(t))return i();t.get("_local/_pouch_dependentDbs",function(s,a){if(s)return s.status!==404?e(s):i();var o=a.dependentDbs,l=t.constructor,c=Object.keys(o).map(function(u){var f=r?u.replace(new RegExp("^"+l.prefix),""):u;return new l(f,t.__opts).destroy()});Promise.all(c).then(i,e)})});function l5(){this.isReady=!1,this.failed=!1,this.queue=[]}l5.prototype.execute=function(){var n;if(this.failed)for(;n=this.queue.shift();)n(this.failed);else for(;n=this.queue.shift();)n()};l5.prototype.fail=function(n){this.failed=n,this.execute()};l5.prototype.ready=function(n){this.isReady=!0,this.db=n,this.execute()};l5.prototype.addTask=function(n){this.queue.push(n),this.failed&&this.execute()};function xfe(n,e){var t=n.match(/([a-z-]*):\/\/(.*)/);if(t)return{name:/https?/.test(t[1])?t[1]+"://"+t[2]:t[2],adapter:t[1]};var r=Gt.adapters,i=Gt.preferredAdapters,s=Gt.prefix,a=e.adapter;if(!a)for(var o=0;o<i.length;++o){if(a=i[o],a==="idb"&&"websql"in r&&Sk()&&localStorage["_pouch__websqldb_"+s+n]){Yc("log",'PouchDB is downgrading "'+n+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var l=r[a],c=l&&"use_prefix"in l?l.use_prefix:!0;return{name:c?s+n:n,adapter:a}}function _fe(n){function e(r){n.removeListener("closed",t),r||n.constructor.emit("destroyed",n.name)}function t(){n.removeListener("destroyed",e),n.constructor.emit("unref",n)}n.once("destroyed",e),n.once("closed",t),n.constructor.emit("ref",n)}ef(Gt,li);function Gt(n,e){if(!(this instanceof Gt))return new Gt(n,e);var t=this;if(e=e||{},n&&typeof n=="object"&&(e=n,n=e.name,delete e.name),e.deterministic_revs===void 0&&(e.deterministic_revs=!0),this.__opts=e=Ms(e),t.auto_compaction=e.auto_compaction,t.prefix=Gt.prefix,typeof n!="string")throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+n,i=xfe(r,e);if(e.name=i.name,e.adapter=e.adapter||i.adapter,t.name=n,t._adapter=e.adapter,Gt.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Gt.adapters[e.adapter]||!Gt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);if(e.view_adapter&&(!Gt.adapters[e.view_adapter]||!Gt.adapters[e.view_adapter].valid()))throw new Error("Invalid View Adapter: "+e.view_adapter);li.call(t),t.taskqueue=new l5,t.adapter=e.adapter,Gt.adapters[e.adapter].call(t,e,function(s){if(s)return t.taskqueue.fail(s);_fe(t),t.emit("created",t),Gt.emit("created",t.name),t.taskqueue.ready(t)})}var Sfe=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},OJ=fetch,Q1=Headers;Gt.adapters={};Gt.preferredAdapters=[];Gt.prefix="_pouch_";var W$=new En;function Afe(n){Object.keys(En.prototype).forEach(function(t){typeof En.prototype[t]=="function"&&(n[t]=W$[t].bind(W$))});var e=n._destructionListeners=new al;n.on("ref",function(r){e.has(r.name)||e.set(r.name,[]),e.get(r.name).push(r)}),n.on("unref",function(r){if(e.has(r.name)){var i=e.get(r.name),s=i.indexOf(r);s<0||(i.splice(s,1),i.length>1?e.set(r.name,i):e.delete(r.name))}}),n.on("destroyed",function(r){if(e.has(r)){var i=e.get(r);e.delete(r),i.forEach(function(s){s.emit("destroyed",!0)})}})}Afe(Gt);Gt.adapter=function(n,e,t){e.valid()&&(Gt.adapters[n]=e,t&&Gt.preferredAdapters.push(n))};Gt.plugin=function(n){if(typeof n=="function")n(Gt);else{if(typeof n!="object"||Object.keys(n).length===0)throw new Error('Invalid plugin: got "'+n+'", expected an object or a function');Object.keys(n).forEach(function(e){Gt.prototype[e]=n[e]})}return this.__defaults&&(Gt.__defaults=s0({},this.__defaults)),Gt};Gt.defaults=function(n){function e(t,r){if(!(this instanceof e))return new e(t,r);r=r||{},t&&typeof t=="object"&&(r=t,t=r.name,delete r.name),r=s0({},e.__defaults,r),Gt.call(this,t,r)}return ef(e,Gt),e.preferredAdapters=Gt.preferredAdapters.slice(),Object.keys(Gt).forEach(function(t){t in e||(e[t]=Gt[t])}),e.__defaults=s0({},this.__defaults,n),e};Gt.fetch=function(n,e){return OJ(n,e)};var Pfe="7.3.1";function O8(n,e){for(var t=n,r=0,i=e.length;r<i;r++){var s=e[r];if(t=t[s],!t)break}return t}function Cfe(n,e){return n<e?-1:n>e?1:0}function j8(n){for(var e=[],t="",r=0,i=n.length;r<i;r++){var s=n[r];r>0&&n[r-1]==="\\"&&(s==="$"||s===".")?t=t.substring(0,t.length-1)+s:s==="."?(e.push(t),t=""):t+=s}return e.push(t),e}var Efe=["$or","$nor","$not"];function jJ(n){return Efe.indexOf(n)>-1}function LJ(n){return Object.keys(n)[0]}function Tfe(n){return n[LJ(n)]}function A_(n){var e={},t={$or:!0,$nor:!0};return n.forEach(function(r){Object.keys(r).forEach(function(i){var s=r[i];if(typeof s!="object"&&(s={$eq:s}),jJ(i))if(s instanceof Array){if(t[i]){t[i]=!1,e[i]=s;return}var a=[];e[i].forEach(function(l){Object.keys(s).forEach(function(c){var u=s[c],f=Math.max(Object.keys(l).length,Object.keys(u).length),h=A_([l,u]);Object.keys(h).length<=f||a.push(h)})}),e[i]=a}else e[i]=A_([s]);else{var o=e[i]=e[i]||{};Object.keys(s).forEach(function(l){var c=s[l];if(l==="$gt"||l==="$gte")return kfe(l,c,o);if(l==="$lt"||l==="$lte")return Nfe(l,c,o);if(l==="$ne")return Ofe(c,o);if(l==="$eq")return jfe(c,o);if(l==="$regex")return Lfe(c,o);o[l]=c})}})}),e}function kfe(n,e,t){typeof t.$eq<"u"||(typeof t.$gte<"u"?n==="$gte"?e>t.$gte&&(t.$gte=e):e>=t.$gte&&(delete t.$gte,t.$gt=e):typeof t.$gt<"u"?n==="$gte"?e>t.$gt&&(delete t.$gt,t.$gte=e):e>t.$gt&&(t.$gt=e):t[n]=e)}function Nfe(n,e,t){typeof t.$eq<"u"||(typeof t.$lte<"u"?n==="$lte"?e<t.$lte&&(t.$lte=e):e<=t.$lte&&(delete t.$lte,t.$lt=e):typeof t.$lt<"u"?n==="$lte"?e<t.$lt&&(delete t.$lt,t.$lte=e):e<t.$lt&&(t.$lt=e):t[n]=e)}function Ofe(n,e){"$ne"in e?e.$ne.push(n):e.$ne=[n]}function jfe(n,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=n}function Lfe(n,e){"$regex"in e?e.$regex.push(n):e.$regex=[n]}function RJ(n){for(var e in n){if(Array.isArray(n))for(var t in n)n[t].$and&&(n[t]=A_(n[t].$and));var r=n[e];typeof r=="object"&&RJ(r)}return n}function IJ(n,e){for(var t in n){t==="$and"&&(e=!0);var r=n[t];typeof r=="object"&&(e=IJ(r,e))}return e}function Rfe(n){var e=Ms(n),t=!1;IJ(e,!1)&&(e=RJ(e),"$and"in e&&(e=A_(e.$and)),t=!0),["$or","$nor"].forEach(function(o){o in e&&e[o].forEach(function(l){for(var c=Object.keys(l),u=0;u<c.length;u++){var f=c[u],h=l[f];(typeof h!="object"||h===null)&&(l[f]={$eq:h})}})}),"$not"in e&&(e.$not=A_([e.$not]));for(var r=Object.keys(e),i=0;i<r.length;i++){var s=r[i],a=e[s];typeof a!="object"||a===null?a={$eq:a}:t||("$ne"in a&&(a.$ne=[a.$ne]),"$regex"in a&&(a.$regex=[a.$regex])),e[s]=a}return e}function Ife(n,e,t){for(var r="",i=t-n.length;r.length<i;)r+=e;return r}function Mfe(n,e,t){var r=Ife(n,e,t);return r+n}var MJ=-324,sI=3,aI="";function ns(n,e){if(n===e)return 0;n=l0(n),e=l0(e);var t=oI(n),r=oI(e);if(t-r!==0)return t-r;switch(typeof n){case"number":return n-e;case"boolean":return n<e?-1:1;case"string":return Ufe(n,e)}return Array.isArray(n)?qfe(n,e):zfe(n,e)}function l0(n){switch(typeof n){case"undefined":return null;case"number":return n===1/0||n===-1/0||isNaN(n)?null:n;case"object":var e=n;if(Array.isArray(n)){var t=n.length;n=new Array(t);for(var r=0;r<t;r++)n[r]=l0(e[r])}else{if(n instanceof Date)return n.toJSON();if(n!==null){n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s<"u"&&(n[i]=l0(s))}}}}return n}function Dfe(n){if(n!==null)switch(typeof n){case"boolean":return n?1:0;case"number":return Hfe(n);case"string":return n.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(n),t=e?n:Object.keys(n),r=-1,i=t.length,s="";if(e)for(;++r<i;)s+=Tu(t[r]);else for(;++r<i;){var a=t[r];s+=Tu(a)+Tu(n[a])}return s}return""}function Tu(n){var e="\0";return n=l0(n),oI(n)+aI+Dfe(n)+e}function Ffe(n,e){var t=e,r,i=n[e]==="1";if(i)r=0,e++;else{var s=n[e]==="0";e++;var a="",o=n.substring(e,e+sI),l=parseInt(o,10)+MJ;for(s&&(l=-l),e+=sI;;){var c=n[e];if(c==="\0")break;a+=c,e++}a=a.split("."),a.length===1?r=parseInt(a,10):r=parseFloat(a[0]+"."+a[1]),s&&(r=r-10),l!==0&&(r=parseFloat(r+"e"+l))}return{num:r,length:e-t}}function Bfe(n,e){var t=n.pop();if(e.length){var r=e[e.length-1];t===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,s=r.index;if(Array.isArray(i))i.push(t);else if(s===n.length-2){var a=n.pop();i[a]=t}else n.push(t)}}function $fe(n){for(var e=[],t=[],r=0;;){var i=n[r++];if(i==="\0"){if(e.length===1)return e.pop();Bfe(e,t);continue}switch(i){case"1":e.push(null);break;case"2":e.push(n[r]==="1"),r++;break;case"3":var s=Ffe(n,r);e.push(s.num),r+=s.length;break;case"4":for(var a="";;){var o=n[r];if(o==="\0")break;a+=o,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var l={element:[],index:e.length};e.push(l.element),t.push(l);break;case"6":var c={element:{},index:e.length};e.push(c.element),t.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function qfe(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var i=ns(n[r],e[r]);if(i!==0)return i}return n.length===e.length?0:n.length>e.length?1:-1}function Ufe(n,e){return n===e?0:n>e?1:-1}function zfe(n,e){for(var t=Object.keys(n),r=Object.keys(e),i=Math.min(t.length,r.length),s=0;s<i;s++){var a=ns(t[s],r[s]);if(a!==0||(a=ns(n[t[s]],e[r[s]]),a!==0))return a}return t.length===r.length?0:t.length>r.length?1:-1}function oI(n){var e=["boolean","number","string","object"],t=e.indexOf(typeof n);if(~t)return n===null?1:Array.isArray(n)?5:t<3?t+2:t+3;if(Array.isArray(n))return 5}function Hfe(n){if(n===0)return"1";var e=n.toExponential().split(/e\+?/),t=parseInt(e[1],10),r=n<0,i=r?"0":"2",s=(r?-t:t)-MJ,a=Mfe(s.toString(),"0",sI);i+=aI+a;var o=Math.abs(parseFloat(e[0]));r&&(o=10-o);var l=o.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=aI+l,i}function Vfe(n){function e(t){return n.map(function(r){var i=LJ(r),s=j8(i),a=O8(t,s);return a})}return function(t,r){var i=e(t.doc),s=e(r.doc),a=ns(i,s);return a!==0?a:Cfe(t.doc._id,r.doc._id)}}function Wfe(n,e,t){if(n=n.filter(function(a){return eb(a.doc,e.selector,t)}),e.sort){var r=Vfe(e.sort);n=n.sort(r),typeof e.sort[0]!="string"&&Tfe(e.sort[0])==="desc"&&(n=n.reverse())}if("limit"in e||"skip"in e){var i=e.skip||0,s=("limit"in e?e.limit:n.length)+i;n=n.slice(i,s)}return n}function eb(n,e,t){return t.every(function(r){var i=e[r],s=j8(r),a=O8(n,s);return jJ(r)?Gfe(r,i,n):wE(i,n,s,a)})}function wE(n,e,t,r){return n?typeof n=="object"?Object.keys(n).every(function(i){var s=n[i];if(i.indexOf("$")===0)return G$(i,e,s,t,r);var a=j8(i);if(r===void 0&&typeof s!="object"&&a.length>0)return!1;var o=O8(r,a);return typeof s=="object"?wE(s,e,t,o):G$("$eq",e,s,a,o)}):n===r:!0}function Gfe(n,e,t){return n==="$or"?e.some(function(r){return eb(t,r,Object.keys(r))}):n==="$not"?!eb(t,e,Object.keys(e)):!e.find(function(r){return eb(t,r,Object.keys(r))})}function G$(n,e,t,r,i){if(!X$[n])throw new Error('unknown operator "'+n+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return X$[n](e,t,r,i)}function g2(n){return typeof n<"u"&&n!==null}function fv(n){return typeof n<"u"}function Kfe(n,e){if(typeof n!="number"||parseInt(n,10)!==n)return!1;var t=e[0],r=e[1];return n%t===r}function K$(n,e){return e.some(function(t){return n instanceof Array?n.some(function(r){return ns(t,r)===0}):ns(t,n)===0})}function Xfe(n,e){return e.every(function(t){return n.some(function(r){return ns(t,r)===0})})}function Yfe(n,e){return n.length===e}function Jfe(n,e){var t=new RegExp(e);return t.test(n)}function Zfe(n,e){switch(e){case"null":return n===null;case"boolean":return typeof n=="boolean";case"number":return typeof n=="number";case"string":return typeof n=="string";case"array":return n instanceof Array;case"object":return{}.toString.call(n)==="[object Object]"}}var X$={$elemMatch:function(n,e,t,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.some(function(i){return eb(i,e,Object.keys(e))}):r.some(function(i){return wE(e,n,t,i)})},$allMatch:function(n,e,t,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.every(function(i){return eb(i,e,Object.keys(e))}):r.every(function(i){return wE(e,n,t,i)})},$eq:function(n,e,t,r){return fv(r)&&ns(r,e)===0},$gte:function(n,e,t,r){return fv(r)&&ns(r,e)>=0},$gt:function(n,e,t,r){return fv(r)&&ns(r,e)>0},$lte:function(n,e,t,r){return fv(r)&&ns(r,e)<=0},$lt:function(n,e,t,r){return fv(r)&&ns(r,e)<0},$exists:function(n,e,t,r){return e?fv(r):!fv(r)},$mod:function(n,e,t,r){return g2(r)&&Kfe(r,e)},$ne:function(n,e,t,r){return e.every(function(i){return ns(r,i)!==0})},$in:function(n,e,t,r){return g2(r)&&K$(r,e)},$nin:function(n,e,t,r){return g2(r)&&!K$(r,e)},$size:function(n,e,t,r){return g2(r)&&Array.isArray(r)&&Yfe(r,e)},$all:function(n,e,t,r){return Array.isArray(r)&&Xfe(r,e)},$regex:function(n,e,t,r){return g2(r)&&typeof r=="string"&&e.every(function(i){return Jfe(r,i)})},$type:function(n,e,t,r){return Zfe(r,e)}};function Qfe(n,e){if(typeof e!="object")throw new Error("Selector error: expected a JSON object");e=Rfe(e);var t={doc:n},r=Wfe([t],{selector:e},Object.keys(e));return r&&r.length===1}function ede(n){return x8(`"use strict";
return `+n+";",{})}function tde(n){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+n+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return x8(e,{})}function nde(n,e){if(n.selector&&n.filter&&n.filter!=="_selector"){var t=typeof n.filter=="string"?n.filter:"function";return e(new Error('selector invalid for filter "'+t+'"'))}e()}function rde(n){n.view&&!n.filter&&(n.filter="_view"),n.selector&&!n.filter&&(n.filter="_selector"),n.filter&&typeof n.filter=="string"&&(n.filter==="_view"?n.view=$$(n.view):n.filter=$$(n.filter))}function ide(n,e){return e.filter&&typeof e.filter=="string"&&!e.doc_ids&&!yd(n.db)}function sde(n,e){var t=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!="string"){var r=Pn(Ak,"`view` filter parameter not found or invalid.");return t(r)}var i=iI(e.view);n.db.get("_design/"+i[0],function(a,o){if(n.isCancelled)return t(null,{status:"cancelled"});if(a)return t(Hw(a));var l=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!l)return t(Pn(Hu,o.views?"missing json key: "+i[1]:"missing json key: views"));e.filter=tde(l),n.doChanges(e)})}else if(e.selector)e.filter=function(a){return Qfe(a,e.selector)},n.doChanges(e);else{var s=iI(e.filter);n.db.get("_design/"+s[0],function(a,o){if(n.isCancelled)return t(null,{status:"cancelled"});if(a)return t(Hw(a));var l=o&&o.filters&&o.filters[s[1]];if(!l)return t(Pn(Hu,o&&o.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=ede(l),n.doChanges(e)})}}function ade(n){n._changesFilterPlugin={validate:nde,normalize:rde,shouldFilter:ide,filter:sde}}Gt.plugin(ade);Gt.version=Pfe;function DJ(n){return n.reduce(function(e,t){return e[t]=!0,e},{})}var ode=DJ(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),lde=DJ(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Y$(n){if(!/^\d+-/.test(n))return Pn(wJ);var e=n.indexOf("-"),t=n.substring(0,e),r=n.substring(e+1);return{prefix:parseInt(t,10),id:r}}function cde(n,e){for(var t=n.start-n.ids.length+1,r=n.ids,i=[r[0],e,[]],s=1,a=r.length;s<a;s++)i=[r[s],{status:"missing"},[i]];return[{pos:t,ids:i}]}function FJ(n,e,t){t||(t={deterministic_revs:!0});var r,i,s,a={status:"available"};if(n._deleted&&(a.deleted=!0),e)if(n._id||(n._id=Ck()),i=CJ(n,t.deterministic_revs),n._rev){if(s=Y$(n._rev),s.error)return s;n._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[i,a,[]]]]}],r=s.prefix+1}else n._rev_tree=[{pos:1,ids:[i,a,[]]}],r=1;else if(n._revisions&&(n._rev_tree=cde(n._revisions,a),r=n._revisions.start,i=n._revisions.ids[0]),!n._rev_tree){if(s=Y$(n._rev),s.error)return s;r=s.prefix,i=s.id,n._rev_tree=[{pos:r,ids:[i,a,[]]}]}xJ(n._id),n._rev=r+"-"+i;var o={metadata:{},data:{}};for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){var c=l[0]==="_";if(c&&!ode[l]){var u=Pn(B$,l);throw u.message=B$.message+": "+l,u}else c&&!lde[l]?o.metadata[l.slice(1)]=n[l]:o.data[l]=n[l]}return o}function ude(n){try{return _8(n)}catch{var e=Pn(bJ,"Attachment is not a valid base64 string");return{error:e}}}function fde(n,e,t){var r=ude(n.data);if(r.error)return t(r.error);n.length=r.length,e==="blob"?n.data=A8(r,n.content_type):e==="base64"?n.data=a5(r):n.data=r,E8(r,function(i){n.digest="md5-"+i,t()})}function dde(n,e,t){E8(n.data,function(r){n.digest="md5-"+r,n.length=n.data.size||n.data.length||0,e==="binary"?AJ(n.data,function(i){n.data=i,t()}):e==="base64"?C8(n.data,function(i){n.data=i,t()}):t()})}function hde(n,e,t){if(n.stub)return t();typeof n.data=="string"?fde(n,e,t):dde(n,e,t)}function pde(n,e,t){if(!n.length)return t();var r=0,i;n.forEach(function(a){var o=a.data&&a.data._attachments?Object.keys(a.data._attachments):[],l=0;if(!o.length)return s();function c(f){i=f,l++,l===o.length&&s()}for(var u in a.data._attachments)Object.prototype.hasOwnProperty.call(a.data._attachments,u)&&hde(a.data._attachments[u],e,c)});function s(){r++,n.length===r&&(i?t(i):t())}}function mde(n,e,t,r,i,s,a,o){if(ffe(e.rev_tree,t.metadata.rev)&&!o)return r[i]=t,s();var l=e.winningRev||a0(e),c="deleted"in e?e.deleted:np(e,l),u="deleted"in t.metadata?t.metadata.deleted:np(t.metadata),f=/^1-/.test(t.metadata.rev);if(c&&!u&&o&&f){var h=t.data;h._rev=l,h._id=t.metadata.id,t=FJ(h,o)}var p=kJ(e.rev_tree,t.metadata.rev_tree[0],n),x=o&&(c&&u&&p.conflicts!=="new_leaf"||!c&&p.conflicts!=="new_leaf"||c&&!u&&p.conflicts==="new_branch");if(x){var y=Pn(zw);return r[i]=y,s()}var w=t.metadata.rev;t.metadata.rev_tree=p.tree,t.stemmedRevs=p.stemmedRevs||[],e.rev_map&&(t.metadata.rev_map=e.rev_map);var b=a0(t.metadata),S=np(t.metadata,b),_=c===S?0:c<S?-1:1,P;w===b?P=S:P=np(t.metadata,w),a(t,b,S,P,!0,_,i,s)}function gde(n){return n.metadata.rev_tree[0].ids[1].status==="missing"}function vde(n,e,t,r,i,s,a,o,l){n=n||1e3;function c(y,w,b){var S=a0(y.metadata),_=np(y.metadata,S);if("was_delete"in o&&_)return s[w]=Pn(Hu,"deleted"),b();var P=u&&gde(y);if(P){var E=Pn(zw);return s[w]=E,b()}var C=_?0:1;a(y,S,_,_,!1,C,w,b)}var u=o.new_edits,f=new al,h=0,p=e.length;function x(){++h===p&&l&&l()}e.forEach(function(y,w){if(y._id&&o0(y._id)){var b=y._deleted?"_removeLocal":"_putLocal";t[b](y,{ctx:i},function(_,P){s[w]=_||P,x()});return}var S=y.metadata.id;f.has(S)?(p--,f.get(S).push([y,w])):f.set(S,[[y,w]])}),f.forEach(function(y,w){var b=0;function S(){++b<y.length?_():x()}function _(){var P=y[b],E=P[0],C=P[1];if(r.has(w))mde(n,r.get(w),E,s,C,S,a,u);else{var N=kJ([],E.metadata.rev_tree[0],n);E.metadata.rev_tree=N.tree,E.stemmedRevs=N.stemmedRevs||[],c(E,C,S)}}_()})}var yde=5,ms="document-store",xa="by-sequence",qc="attach-store",Ov="attach-seq-store",yo="meta-store",kf="local-store",lI="detect-blob-support";function bde(n){try{return JSON.parse(n)}catch{return oJ.parse(n)}}function wde(n){try{return JSON.stringify(n)}catch{return oJ.stringify(n)}}function nd(n){return function(e){var t="unknown_error";e.target&&e.target.error&&(t=e.target.error.name||e.target.error.message),n(Pn(b8,t,e.type))}}function cI(n,e,t){return{data:wde(n),winningRev:e,deletedOrLocal:t?"1":"0",seq:n.seq,id:n.id}}function jv(n){if(!n)return null;var e=bde(n.data);return e.winningRev=n.winningRev,e.deleted=n.deletedOrLocal==="1",e.seq=n.seq,e}function xE(n){if(!n)return n;var e=n._doc_id_rev.lastIndexOf(":");return n._id=n._doc_id_rev.substring(0,e-1),n._rev=n._doc_id_rev.substring(e+1),delete n._doc_id_rev,n}function BJ(n,e,t,r){t?r(n?typeof n!="string"?n:P8(n,e):S8([""],{type:e})):n?typeof n!="string"?SJ(n,function(i){r(a5(i))}):r(n):r("")}function $J(n,e,t,r){var i=Object.keys(n._attachments||{});if(!i.length)return r&&r();var s=0;function a(){++s===i.length&&r&&r()}function o(l,c){var u=l._attachments[c],f=u.digest,h=t.objectStore(qc).get(f);h.onsuccess=function(p){u.body=p.target.result.body,a()}}i.forEach(function(l){e.attachments&&e.include_docs?o(n,l):(n._attachments[l].stub=!0,a())})}function uI(n,e){return Promise.all(n.map(function(t){if(t.doc&&t.doc._attachments){var r=Object.keys(t.doc._attachments);return Promise.all(r.map(function(i){var s=t.doc._attachments[i];if("body"in s){var a=s.body,o=s.content_type;return new Promise(function(l){BJ(a,o,e,function(c){t.doc._attachments[i]=s0(s5(s,["digest","content_type"]),{data:c}),l()})})}}))}}))}function qJ(n,e,t){var r=[],i=t.objectStore(xa),s=t.objectStore(qc),a=t.objectStore(Ov),o=n.length;function l(){o--,o||c()}function c(){r.length&&r.forEach(function(u){var f=a.index("digestSeq").count(IDBKeyRange.bound(u+"::",u+"::",!1,!1));f.onsuccess=function(h){var p=h.target.result;p||s.delete(u)}})}n.forEach(function(u){var f=i.index("_doc_id_rev"),h=e+"::"+u;f.getKey(h).onsuccess=function(p){var x=p.target.result;if(typeof x!="number")return l();i.delete(x);var y=a.index("seq").openCursor(IDBKeyRange.only(x));y.onsuccess=function(w){var b=w.target.result;if(b){var S=b.value.digestSeq.split("::")[0];r.push(S),a.delete(b.primaryKey),b.continue()}else l()}}})}function ku(n,e,t){try{return{txn:n.transaction(e,t)}}catch(r){return{error:r}}}var l_=new Ax;function xde(n,e,t,r,i,s){for(var a=e.docs,o,l,c,u,f,h,p,x,y=0,w=a.length;y<w;y++){var b=a[y];b._id&&o0(b._id)||(b=a[y]=FJ(b,t.new_edits,n),b.error&&!p&&(p=b))}if(p)return s(p);var S=!1,_=0,P=new Array(a.length),E=new al,C=!1,N=r._meta.blobSupport?"blob":"base64";pde(a,N,function(X){if(X)return s(X);L()});function L(){var X=[ms,xa,qc,kf,Ov,yo],B=ku(i,X,"readwrite");if(B.error)return s(B.error);o=B.txn,o.onabort=nd(s),o.ontimeout=nd(s),o.oncomplete=W,l=o.objectStore(ms),c=o.objectStore(xa),u=o.objectStore(qc),f=o.objectStore(Ov),h=o.objectStore(yo),h.get(yo).onsuccess=function(G){x=G.target.result,j()},Z(function(G){if(G)return C=!0,s(G);D()})}function R(){S=!0,j()}function F(){vde(n.revs_limit,a,r,E,o,P,J,t,R)}function j(){!x||!S||(x.docCount+=_,h.put(x))}function D(){if(!a.length)return;var X=0;function B(){++X===a.length&&F()}function G(oe){var pe=jv(oe.target.result);pe&&E.set(pe.id,pe),B()}for(var ne=0,ie=a.length;ne<ie;ne++){var fe=a[ne];if(fe._id&&o0(fe._id)){B();continue}var he=l.get(fe.metadata.id);he.onsuccess=G}}function W(){C||(l_.notify(r._meta.name),s(null,P))}function V(X,B){var G=u.get(X);G.onsuccess=function(ne){if(ne.target.result)B();else{var ie=Pn(zue,"unknown stub attachment with digest "+X);ie.status=412,B(ie)}}}function Z(X){var B=[];if(a.forEach(function(fe){fe.data&&fe.data._attachments&&Object.keys(fe.data._attachments).forEach(function(he){var oe=fe.data._attachments[he];oe.stub&&B.push(oe.digest)})}),!B.length)return X();var G=0,ne;function ie(){++G===B.length&&X(ne)}B.forEach(function(fe){V(fe,function(he){he&&!ne&&(ne=he),ie()})})}function J(X,B,G,ne,ie,fe,he,oe){X.metadata.winningRev=B,X.metadata.deleted=G;var pe=X.data;pe._id=X.metadata.id,pe._rev=X.metadata.rev,ne&&(pe._deleted=!0);var Se=pe._attachments&&Object.keys(pe._attachments).length;if(Se)return $(X,B,G,ie,he,oe);_+=fe,j(),K(X,B,G,ie,he,oe)}function K(X,B,G,ne,ie,fe){var he=X.data,oe=X.metadata;he._doc_id_rev=oe.id+"::"+oe.rev,delete he._id,delete he._rev;function pe(Oe){var Pe=X.stemmedRevs||[];ne&&r.auto_compaction&&(Pe=Pe.concat(sfe(X.metadata))),Pe&&Pe.length&&qJ(Pe,X.metadata.id,o),oe.seq=Oe.target.result;var ge=cI(oe,B,G),Ke=l.put(ge);Ke.onsuccess=be}function Se(Oe){Oe.preventDefault(),Oe.stopPropagation();var Pe=c.index("_doc_id_rev"),ge=Pe.getKey(he._doc_id_rev);ge.onsuccess=function(Ke){var Xe=c.put(he,Ke.target.result);Xe.onsuccess=pe}}function be(){P[ie]={ok:!0,id:oe.id,rev:oe.rev},E.set(X.metadata.id,X.metadata),te(X,oe.seq,fe)}var ye=c.put(he);ye.onsuccess=pe,ye.onerror=Se}function $(X,B,G,ne,ie,fe){var he=X.data,oe=0,pe=Object.keys(he._attachments);function Se(){oe===pe.length&&K(X,B,G,ne,ie,fe)}function be(){oe++,Se()}pe.forEach(function(ye){var Oe=X.data._attachments[ye];if(Oe.stub)oe++,Se();else{var Pe=Oe.data;delete Oe.data,Oe.revpos=parseInt(B,10);var ge=Oe.digest;Q(ge,Pe,be)}})}function te(X,B,G){var ne=0,ie=Object.keys(X.data._attachments||{});if(!ie.length)return G();function fe(){++ne===ie.length&&G()}function he(pe){var Se=X.data._attachments[pe].digest,be=f.put({seq:B,digestSeq:Se+"::"+B});be.onsuccess=fe,be.onerror=function(ye){ye.preventDefault(),ye.stopPropagation(),fe()}}for(var oe=0;oe<ie.length;oe++)he(ie[oe])}function Q(X,B,G){var ne=u.count(X);ne.onsuccess=function(ie){var fe=ie.target.result;if(fe)return G();var he={digest:X,body:B},oe=u.put(he);oe.onsuccess=G}}}function UJ(n,e,t,r,i){r===-1&&(r=1e3);var s=typeof n.getAll=="function"&&typeof n.getAllKeys=="function"&&r>1&&!t,a,o,l;function c(p){o=p.target.result,a&&i(a,o,l)}function u(p){a=p.target.result,o&&i(a,o,l)}function f(){if(!a.length)return i();var p=a[a.length-1],x;if(e&&e.upper)try{x=IDBKeyRange.bound(p,e.upper,!0,e.upperOpen)}catch(y){if(y.name==="DataError"&&y.code===0)return i()}else x=IDBKeyRange.lowerBound(p,!0);e=x,a=null,o=null,n.getAll(e,r).onsuccess=c,n.getAllKeys(e,r).onsuccess=u}function h(p){var x=p.target.result;if(!x)return i();i([x.key],[x.value],x)}s?(l={continue:f},n.getAll(e,r).onsuccess=c,n.getAllKeys(e,r).onsuccess=u):t?n.openCursor(e,"prev").onsuccess=h:n.openCursor(e).onsuccess=h}function _de(n,e,t){if(typeof n.getAll=="function"){n.getAll(e).onsuccess=t;return}var r=[];function i(s){var a=s.target.result;a?(r.push(a.value),a.continue()):t({target:{result:r}})}n.openCursor(e).onsuccess=i}function Sde(n,e,t){var r=new Array(n.length),i=0;n.forEach(function(s,a){e.get(s).onsuccess=function(o){o.target.result?r[a]=o.target.result:r[a]={key:s,error:"not_found"},i++,i===n.length&&t(n,r,{})}})}function Ade(n,e,t,r,i){try{if(n&&e)return i?IDBKeyRange.bound(e,n,!t,!1):IDBKeyRange.bound(n,e,!1,!t);if(n)return i?IDBKeyRange.upperBound(n):IDBKeyRange.lowerBound(n);if(e)return i?IDBKeyRange.lowerBound(e,!t):IDBKeyRange.upperBound(e,!t);if(r)return IDBKeyRange.only(r)}catch(s){return{error:s}}return null}function Pde(n,e,t){var r="startkey"in n?n.startkey:!1,i="endkey"in n?n.endkey:!1,s="key"in n?n.key:!1,a="keys"in n?n.keys:!1,o=n.skip||0,l=typeof n.limit=="number"?n.limit:-1,c=n.inclusive_end!==!1,u,f;if(!a&&(u=Ade(r,i,c,s,n.descending),f=u&&u.error,f&&!(f.name==="DataError"&&f.code===0)))return t(Pn(b8,f.name,f.message));var h=[ms,xa,yo];n.attachments&&h.push(qc);var p=ku(e,h,"readonly");if(p.error)return t(p.error);var x=p.txn;x.oncomplete=W,x.onabort=nd(t);var y=x.objectStore(ms),w=x.objectStore(xa),b=x.objectStore(yo),S=w.index("_doc_id_rev"),_=[],P,E;b.get(yo).onsuccess=function(V){P=V.target.result.docCount},n.update_seq&&C(w,function(V){V.target.result&&V.target.result.length>0&&(E=V.target.result[0])});function C(V,Z){function J(K){var $=K.target.result,te=void 0;return $&&$.key&&(te=$.key),Z({target:{result:[te]}})}V.openCursor(null,"prev").onsuccess=J}function N(V,Z,J){var K=V.id+"::"+J;S.get(K).onsuccess=function(te){if(Z.doc=xE(te.target.result)||{},n.conflicts){var Q=k8(V);Q.length&&(Z.doc._conflicts=Q)}$J(Z.doc,n,x)}}function L(V,Z){var J={id:Z.id,key:Z.id,value:{rev:V}},K=Z.deleted;K?a&&(_.push(J),J.value.deleted=!0,J.doc=null):o--<=0&&(_.push(J),n.include_docs&&N(Z,J,V))}function R(V){for(var Z=0,J=V.length;Z<J&&_.length!==l;Z++){var K=V[Z];if(K.error&&a){_.push(K);continue}var $=jv(K),te=$.winningRev;L(te,$)}}function F(V,Z,J){J&&(R(Z),_.length<l&&J.continue())}function j(V){var Z=V.target.result;n.descending&&(Z=Z.reverse()),R(Z)}function D(){var V={total_rows:P,offset:n.skip,rows:_};n.update_seq&&E!==void 0&&(V.update_seq=E),t(null,V)}function W(){n.attachments?uI(_,n.binary).then(D):D()}if(!(f||l===0)){if(a)return Sde(n.keys,y,F);if(l===-1)return _de(y,u,j);UJ(y,u,n.descending,l+o,F)}}function Cde(n){return new Promise(function(e){var t=S8([""]),r=n.objectStore(lI).put(t,"key");r.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);e(s||!i||parseInt(i[1],10)>=43)},r.onerror=n.onabort=function(i){i.preventDefault(),i.stopPropagation(),e(!1)}}).catch(function(){return!1})}function Ede(n,e){var t=n.objectStore(ms).index("deletedOrLocal");t.count(IDBKeyRange.only("0")).onsuccess=function(r){e(r.target.result)}}var fI=!1,dI=[];function Tde(n,e,t,r){try{n(e,t)}catch(i){r.emit("error",i)}}function J$(){fI||!dI.length||(fI=!0,dI.shift()())}function kde(n,e,t){dI.push(function(){n(function(s,a){Tde(e,s,a,t),fI=!1,vd(function(){J$()})})}),J$()}function Nde(n,e,t,r){if(n=Ms(n),n.continuous){var i=t+":"+Ck();return l_.addListener(t,i,e,n),l_.notify(t),{cancel:function(){l_.removeListener(t,i)}}}var s=n.doc_ids&&new Uw(n.doc_ids);n.since=n.since||0;var a=n.since,o="limit"in n?n.limit:-1;o===0&&(o=1);var l=[],c=0,u=w8(n),f=new al,h,p,x,y;function w(L,R,F){if(!F||!L.length)return;var j=new Array(L.length),D=new Array(L.length);function W(J,K){var $=n.processChange(K,J,n);a=$.seq=J.seq;var te=u($);return typeof te=="object"?Promise.reject(te):te?(c++,n.return_docs&&l.push($),n.attachments&&n.include_docs?new Promise(function(Q){$J(K,n,h,function(){uI([$],n.binary).then(function(){Q($)})})}):Promise.resolve($)):Promise.resolve()}function V(){for(var J=[],K=0,$=j.length;K<$&&c!==o;K++){var te=j[K];if(te){var Q=D[K];J.push(W(Q,te))}}Promise.all(J).then(function(X){for(var B=0,G=X.length;B<G;B++)X[B]&&n.onChange(X[B])}).catch(n.complete),c!==o&&F.continue()}var Z=0;R.forEach(function(J,K){var $=xE(J),te=L[K];S($,te,function(Q,X){D[K]=Q,j[K]=X,++Z===L.length&&V()})})}function b(L,R,F,j){if(F.seq!==R)return j();if(F.winningRev===L._rev)return j(F,L);var D=L._id+"::"+F.winningRev,W=y.get(D);W.onsuccess=function(V){j(F,xE(V.target.result))}}function S(L,R,F){if(s&&!s.has(L._id))return F();var j=f.get(L._id);if(j)return b(L,R,j,F);x.get(L._id).onsuccess=function(D){j=jv(D.target.result),f.set(L._id,j),b(L,R,j,F)}}function _(){n.complete(null,{results:l,last_seq:a})}function P(){!n.continuous&&n.attachments?uI(l).then(_):_()}var E=[ms,xa];n.attachments&&E.push(qc);var C=ku(r,E,"readonly");if(C.error)return n.complete(C.error);h=C.txn,h.onabort=nd(n.complete),h.oncomplete=P,p=h.objectStore(xa),x=h.objectStore(ms),y=p.index("_doc_id_rev");var N=n.since&&!n.descending?IDBKeyRange.lowerBound(n.since,!0):null;UJ(p,N,n.descending,o,w)}var p1=new al,UO,zO=new al;function zJ(n,e){var t=this;kde(function(r){Ode(t,n,r)},e,t.constructor)}function Ode(n,e,t){var r=e.name,i=null,s=null;n._meta=null;function a(w){return function(b,S){b&&b instanceof Error&&!b.reason&&s&&(b.reason=s),w(b,S)}}function o(w){var b=w.createObjectStore(ms,{keyPath:"id"});w.createObjectStore(xa,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),w.createObjectStore(qc,{keyPath:"digest"}),w.createObjectStore(yo,{keyPath:"id",autoIncrement:!1}),w.createObjectStore(lI),b.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),w.createObjectStore(kf,{keyPath:"_id"});var S=w.createObjectStore(Ov,{autoIncrement:!0});S.createIndex("seq","seq"),S.createIndex("digestSeq","digestSeq",{unique:!0})}function l(w,b){var S=w.objectStore(ms);S.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),S.openCursor().onsuccess=function(_){var P=_.target.result;if(P){var E=P.value,C=np(E);E.deletedOrLocal=C?"1":"0",S.put(E),P.continue()}else b()}}function c(w){w.createObjectStore(kf,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function u(w,b){var S=w.objectStore(kf),_=w.objectStore(ms),P=w.objectStore(xa),E=_.openCursor();E.onsuccess=function(C){var N=C.target.result;if(N){var L=N.value,R=L.id,F=o0(R),j=a0(L);if(F){var D=R+"::"+j,W=R+"::",V=R+"::~",Z=P.index("_doc_id_rev"),J=IDBKeyRange.bound(W,V,!1,!1),K=Z.openCursor(J);K.onsuccess=function($){if(K=$.target.result,!K)_.delete(N.primaryKey),N.continue();else{var te=K.value;te._doc_id_rev===D&&S.put(te),P.delete(K.primaryKey),K.continue()}}}else N.continue()}else b&&b()}}function f(w){var b=w.createObjectStore(Ov,{autoIncrement:!0});b.createIndex("seq","seq"),b.createIndex("digestSeq","digestSeq",{unique:!0})}function h(w,b){var S=w.objectStore(xa),_=w.objectStore(qc),P=w.objectStore(Ov),E=_.count();E.onsuccess=function(C){var N=C.target.result;if(!N)return b();S.openCursor().onsuccess=function(L){var R=L.target.result;if(!R)return b();for(var F=R.value,j=R.primaryKey,D=Object.keys(F._attachments||{}),W={},V=0;V<D.length;V++){var Z=F._attachments[D[V]];W[Z.digest]=!0}var J=Object.keys(W);for(V=0;V<J.length;V++){var K=J[V];P.put({seq:j,digestSeq:K+"::"+j})}R.continue()}}}function p(w){function b(E){return E.data?jv(E):(E.deleted=E.deletedOrLocal==="1",E)}var S=w.objectStore(xa),_=w.objectStore(ms),P=_.openCursor();P.onsuccess=function(E){var C=E.target.result;if(!C)return;var N=b(C.value);N.winningRev=N.winningRev||a0(N);function L(){var F=N.id+"::",j=N.id+"::",D=S.index("_doc_id_rev").openCursor(IDBKeyRange.bound(F,j)),W=0;D.onsuccess=function(V){var Z=V.target.result;if(!Z)return N.seq=W,R();var J=Z.primaryKey;J>W&&(W=J),Z.continue()}}function R(){var F=cI(N,N.winningRev,N.deleted),j=_.put(F);j.onsuccess=function(){C.continue()}}if(N.seq)return R();L()}}n._remote=!1,n.type=function(){return"idb"},n._id=mJ(function(w){w(null,n._meta.instanceId)}),n._bulkDocs=function(b,S,_){xde(e,b,S,n,i,a(_))},n._get=function(b,S,_){var P,E,C,N=S.ctx;if(!N){var L=ku(i,[ms,xa,qc],"readonly");if(L.error)return _(L.error);N=L.txn}function R(){_(C,{doc:P,metadata:E,ctx:N})}N.objectStore(ms).get(b).onsuccess=function(F){if(E=jv(F.target.result),!E)return C=Pn(Hu,"missing"),R();var j;if(S.rev)j=S.latest?hfe(S.rev,E):S.rev;else{j=E.winningRev;var D=np(E);if(D)return C=Pn(Hu,"deleted"),R()}var W=N.objectStore(xa),V=E.id+"::"+j;W.index("_doc_id_rev").get(V).onsuccess=function(Z){if(P=Z.target.result,P&&(P=xE(P)),!P)return C=Pn(Hu,"missing"),R();R()}}},n._getAttachment=function(w,b,S,_,P){var E;if(_.ctx)E=_.ctx;else{var C=ku(i,[ms,xa,qc],"readonly");if(C.error)return P(C.error);E=C.txn}var N=S.digest,L=S.content_type;E.objectStore(qc).get(N).onsuccess=function(R){var F=R.target.result.body;BJ(F,L,_.binary,function(j){P(null,j)})}},n._info=function(b){var S,_,P=ku(i,[yo,xa],"readonly");if(P.error)return b(P.error);var E=P.txn;E.objectStore(yo).get(yo).onsuccess=function(C){_=C.target.result.docCount},E.objectStore(xa).openCursor(null,"prev").onsuccess=function(C){var N=C.target.result;S=N?N.key:0},E.oncomplete=function(){b(null,{doc_count:_,update_seq:S,idb_attachment_format:n._meta.blobSupport?"binary":"base64"})}},n._allDocs=function(b,S){Pde(b,i,a(S))},n._changes=function(b){return Nde(b,n,r,i)},n._close=function(w){i.close(),p1.delete(r),w()},n._getRevisionTree=function(w,b){var S=ku(i,[ms],"readonly");if(S.error)return b(S.error);var _=S.txn,P=_.objectStore(ms).get(w);P.onsuccess=function(E){var C=jv(E.target.result);C?b(null,C.rev_tree):b(Pn(Hu))}},n._doCompaction=function(w,b,S){var _=[ms,xa,qc,Ov],P=ku(i,_,"readwrite");if(P.error)return S(P.error);var E=P.txn,C=E.objectStore(ms);C.get(w).onsuccess=function(N){var L=jv(N.target.result);C0(L.rev_tree,function(j,D,W,V,Z){var J=D+"-"+W;b.indexOf(J)!==-1&&(Z.status="missing")}),qJ(b,w,E);var R=L.winningRev,F=L.deleted;E.objectStore(ms).put(cI(L,R,F))},E.onabort=nd(S),E.oncomplete=function(){S()}},n._getLocal=function(w,b){var S=ku(i,[kf],"readonly");if(S.error)return b(S.error);var _=S.txn,P=_.objectStore(kf).get(w);P.onerror=nd(b),P.onsuccess=function(E){var C=E.target.result;C?(delete C._doc_id_rev,b(null,C)):b(Pn(Hu))}},n._putLocal=function(w,b,S){typeof b=="function"&&(S=b,b={}),delete w._revisions;var _=w._rev,P=w._id;_?w._rev="0-"+(parseInt(_.split("-")[1],10)+1):w._rev="0-1";var E=b.ctx,C;if(!E){var N=ku(i,[kf],"readwrite");if(N.error)return S(N.error);E=N.txn,E.onerror=nd(S),E.oncomplete=function(){C&&S(null,C)}}var L=E.objectStore(kf),R;_?(R=L.get(P),R.onsuccess=function(F){var j=F.target.result;if(!j||j._rev!==_)S(Pn(zw));else{var D=L.put(w);D.onsuccess=function(){C={ok:!0,id:w._id,rev:w._rev},b.ctx&&S(null,C)}}}):(R=L.add(w),R.onerror=function(F){S(Pn(zw)),F.preventDefault(),F.stopPropagation()},R.onsuccess=function(){C={ok:!0,id:w._id,rev:w._rev},b.ctx&&S(null,C)})},n._removeLocal=function(w,b,S){typeof b=="function"&&(S=b,b={});var _=b.ctx;if(!_){var P=ku(i,[kf],"readwrite");if(P.error)return S(P.error);_=P.txn,_.oncomplete=function(){E&&S(null,E)}}var E,C=w._id,N=_.objectStore(kf),L=N.get(C);L.onerror=nd(S),L.onsuccess=function(R){var F=R.target.result;!F||F._rev!==w._rev?S(Pn(Hu)):(N.delete(C),E={ok:!0,id:C,rev:"0-0"},b.ctx&&S(null,E))}},n._destroy=function(w,b){l_.removeAllListeners(r);var S=zO.get(r);S&&S.result&&(S.result.close(),p1.delete(r));var _=indexedDB.deleteDatabase(r);_.onsuccess=function(){zO.delete(r),Sk()&&r in localStorage&&delete localStorage[r],b(null,{ok:!0})},_.onerror=nd(b)};var x=p1.get(r);if(x)return i=x.idb,n._meta=x.global,vd(function(){t(null,n)});var y=indexedDB.open(r,yde);zO.set(r,y),y.onupgradeneeded=function(w){var b=w.target.result;if(w.oldVersion<1)return o(b);var S=w.currentTarget.transaction;w.oldVersion<3&&c(b),w.oldVersion<4&&f(b);var _=[l,u,h,p],P=w.oldVersion;function E(){var C=_[P-1];P++,C&&C(S,E)}E()},y.onsuccess=function(w){i=w.target.result,i.onversionchange=function(){i.close(),p1.delete(r)},i.onabort=function(R){Yc("error","Database has a global failure",R.target.error),s=R.target.error,i.close(),p1.delete(r)};var b=i.transaction([yo,lI,ms],"readwrite"),S=!1,_,P,E,C;function N(){typeof E>"u"||!S||(n._meta={name:r,instanceId:C,blobSupport:E},p1.set(r,{idb:i,global:n._meta}),t(null,n))}function L(){if(!(typeof P>"u"||typeof _>"u")){var R=r+"_id";R in _?C=_[R]:_[R]=C=Ck(),_.docCount=P,b.objectStore(yo).put(_)}}b.objectStore(yo).get(yo).onsuccess=function(R){_=R.target.result||{id:yo},L()},Ede(b,function(R){P=R,L()}),UO||(UO=Cde(b)),UO.then(function(R){E=R,N()}),b.oncomplete=function(){S=!0,N()},b.onabort=nd(t)},y.onerror=function(w){var b=w.target.error&&w.target.error.message;b?b.indexOf("stored database is a higher version")!==-1&&(b=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):b="Failed to open indexedDB, are you in private browsing mode?",Yc("error",b),t(Pn(b8,b))}}zJ.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function jde(n){n.adapter("idb",zJ,!0)}function Lde(n,e){return new Promise(function(t,r){var i=0,s=0,a=0,o=n.length,l;function c(){i++,n[s++]().then(f,h)}function u(){++a===o?l?r(l):t():p()}function f(){i--,u()}function h(x){i--,l=l||x,u()}function p(){for(;i<e&&s<o;)c()}p()})}var Rde=25,Ide=50,EP=5e3,Mde=1e4,HO={};function VO(n){var e=n.doc||n.ok,t=e&&e._attachments;t&&Object.keys(t).forEach(function(r){var i=t[r];i.data=P8(i.data,i.content_type)})}function dv(n){return/^_design/.test(n)?"_design/"+encodeURIComponent(n.slice(8)):/^_local/.test(n)?"_local/"+encodeURIComponent(n.slice(7)):encodeURIComponent(n)}function Z$(n){return!n._attachments||!Object.keys(n._attachments)?Promise.resolve():Promise.all(Object.keys(n._attachments).map(function(e){var t=n._attachments[e];if(t.data&&typeof t.data!="string")return new Promise(function(r){C8(t.data,r)}).then(function(r){t.data=r})}))}function Dde(n){if(!n.prefix)return!1;var e=_J(n.prefix).protocol;return e==="http"||e==="https"}function Fde(n,e){if(Dde(e)){var t=e.name.substr(e.prefix.length),r=e.prefix.replace(/\/?$/,"/");n=r+encodeURIComponent(t)}var i=_J(n);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var s=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=s.pop(),i.db.indexOf("%")===-1&&(i.db=encodeURIComponent(i.db)),i.path=s.join("/"),i}function Es(n,e){return xC(n,n.db+"/"+e)}function xC(n,e){var t=n.path?"/":"";return n.protocol+"://"+n.host+(n.port?":"+n.port:"")+"/"+n.path+t+e}function TP(n){return"?"+Object.keys(n).map(function(e){return e+"="+encodeURIComponent(n[e])}).join("&")}function Bde(n){var e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",t=e.indexOf("msie")!==-1,r=e.indexOf("trident")!==-1,i=e.indexOf("edge")!==-1,s=!("method"in n)||n.method==="GET";return(t||r||i)&&s}function hI(n,e){var t=this,r=Fde(n.name,n),i=Es(r,"");n=Ms(n);var s=function(f,h){if(h=h||{},h.headers=h.headers||new Q1,h.credentials="include",n.auth||r.auth){var p=n.auth||r.auth,x=p.username+":"+p.password,y=a5(unescape(encodeURIComponent(x)));h.headers.set("Authorization","Basic "+y)}var w=n.headers||{};Object.keys(w).forEach(function(S){h.headers.append(S,w[S])}),Bde(h)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var b=n.fetch||OJ;return b(f,h)};function a(f,h){return bs(f,Sx(function(p){c().then(function(){return h.apply(this,p)}).catch(function(x){var y=p.pop();y(x)})})).bind(t)}function o(f,h,p){var x={};return h=h||{},h.headers=h.headers||new Q1,h.headers.get("Content-Type")||h.headers.set("Content-Type","application/json"),h.headers.get("Accept")||h.headers.set("Accept","application/json"),s(f,h).then(function(y){return x.ok=y.ok,x.status=y.status,y.json()}).then(function(y){if(x.data=y,!x.ok){x.data.status=x.status;var w=Hw(x.data);if(p)return p(w);throw w}if(Array.isArray(x.data)&&(x.data=x.data.map(function(b){return b.error||b.missing?Hw(b):b})),p)p(null,x.data);else return x})}var l;function c(){return n.skip_setup?Promise.resolve():l||(l=o(i).catch(function(f){return f&&f.status&&f.status===404?(nI(404,"PouchDB is just detecting if the remote exists."),o(i,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),l.catch(function(){l=null}),l)}vd(function(){e(null,t)}),t._remote=!0,t.type=function(){return"http"},t.id=a("id",function(f){s(xC(r,"")).then(function(h){return h.json()}).catch(function(){return{}}).then(function(h){var p=h&&h.uuid?h.uuid+r.db:Es(r,"");f(null,p)})}),t.compact=a("compact",function(f,h){typeof f=="function"&&(h=f,f={}),f=Ms(f),o(Es(r,"_compact"),{method:"POST"}).then(function(){function p(){t.info(function(x,y){y&&!y.compact_running?h(null,{ok:!0}):setTimeout(p,f.interval||200)})}p()})}),t.bulkGet=bs("bulkGet",function(f,h){var p=this;function x(S){var _={};f.revs&&(_.revs=!0),f.attachments&&(_.attachments=!0),f.latest&&(_.latest=!0),o(Es(r,"_bulk_get"+TP(_)),{method:"POST",body:JSON.stringify({docs:f.docs})}).then(function(P){f.attachments&&f.binary&&P.data.results.forEach(function(E){E.docs.forEach(VO)}),S(null,P.data)}).catch(S)}function y(){var S=Ide,_=Math.ceil(f.docs.length/S),P=0,E=new Array(_);function C(R){return function(F,j){E[R]=j.results,++P===_&&h(null,{results:bE(E)})}}for(var N=0;N<_;N++){var L=s5(f,["revs","attachments","binary","latest"]);L.docs=f.docs.slice(N*S,Math.min(f.docs.length,(N+1)*S)),gJ(p,L,C(N))}}var w=xC(r,""),b=HO[w];typeof b!="boolean"?x(function(S,_){S?(HO[w]=!1,nI(S.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),y()):(HO[w]=!0,h(null,_))}):b?x(h):y()}),t._info=function(f){c().then(function(){return s(Es(r,""))}).then(function(h){return h.json()}).then(function(h){h.host=Es(r,""),f(null,h)}).catch(f)},t.fetch=function(f,h){return c().then(function(){var p=f.substring(0,1)==="/"?xC(r,f.substring(1)):Es(r,f);return s(p,h)})},t.get=a("get",function(f,h,p){typeof h=="function"&&(p=h,h={}),h=Ms(h);var x={};h.revs&&(x.revs=!0),h.revs_info&&(x.revs_info=!0),h.latest&&(x.latest=!0),h.open_revs&&(h.open_revs!=="all"&&(h.open_revs=JSON.stringify(h.open_revs)),x.open_revs=h.open_revs),h.rev&&(x.rev=h.rev),h.conflicts&&(x.conflicts=h.conflicts),h.update_seq&&(x.update_seq=h.update_seq),f=dv(f);function y(S){var _=S._attachments,P=_&&Object.keys(_);if(!_||!P.length)return;function E(N){var L=_[N],R=dv(S._id)+"/"+u(N)+"?rev="+S._rev;return s(Es(r,R)).then(function(F){return"buffer"in F?F.buffer():F.blob()}).then(function(F){if(h.binary){var j=Object.getOwnPropertyDescriptor(F.__proto__,"type");return(!j||j.set)&&(F.type=L.content_type),F}return new Promise(function(D){C8(F,D)})}).then(function(F){delete L.stub,delete L.length,L.data=F})}var C=P.map(function(N){return function(){return E(N)}});return Lde(C,5)}function w(S){return Array.isArray(S)?Promise.all(S.map(function(_){if(_.ok)return y(_.ok)})):y(S)}var b=Es(r,f+TP(x));o(b).then(function(S){return Promise.resolve().then(function(){if(h.attachments)return w(S.data)}).then(function(){p(null,S.data)})}).catch(function(S){S.docId=f,p(S)})}),t.remove=a("remove",function(f,h,p,x){var y;typeof h=="string"?(y={_id:f,_rev:h},typeof p=="function"&&(x=p,p={})):(y=f,typeof h=="function"?(x=h,p={}):(x=p,p=h));var w=y._rev||p.rev,b=Es(r,dv(y._id))+"?rev="+w;o(b,{method:"DELETE"},x).catch(x)});function u(f){return f.split("/").map(encodeURIComponent).join("/")}t.getAttachment=a("getAttachment",function(f,h,p,x){typeof p=="function"&&(x=p,p={});var y=p.rev?"?rev="+p.rev:"",w=Es(r,dv(f))+"/"+u(h)+y,b;s(w,{method:"GET"}).then(function(S){if(b=S.headers.get("content-type"),S.ok)return typeof process<"u"&&!process.browser&&typeof S.buffer=="function"?S.buffer():S.blob();throw S}).then(function(S){if(typeof process<"u"&&!process.browser){var _=Object.getOwnPropertyDescriptor(S.__proto__,"type");(!_||_.set)&&(S.type=b)}x(null,S)}).catch(function(S){x(S)})}),t.removeAttachment=a("removeAttachment",function(f,h,p,x){var y=Es(r,dv(f)+"/"+u(h))+"?rev="+p;o(y,{method:"DELETE"},x).catch(x)}),t.putAttachment=a("putAttachment",function(f,h,p,x,y,w){typeof y=="function"&&(w=y,y=x,x=p,p=null);var b=dv(f)+"/"+u(h),S=Es(r,b);if(p&&(S+="?rev="+p),typeof x=="string"){var _;try{_=_8(x)}catch{return w(Pn(bJ,"Attachment is not a valid base64 string"))}x=_?A8(_,y):""}o(S,{headers:new Q1({"Content-Type":y}),method:"PUT",body:x},w).catch(w)}),t._bulkDocs=function(f,h,p){f.new_edits=h.new_edits,c().then(function(){return Promise.all(f.docs.map(Z$))}).then(function(){return o(Es(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)},p)}).catch(p)},t._put=function(f,h,p){c().then(function(){return Z$(f)}).then(function(){return o(Es(r,dv(f._id)),{method:"PUT",body:JSON.stringify(f)})}).then(function(x){p(null,x.data)}).catch(function(x){x.docId=f&&f._id,p(x)})},t.allDocs=a("allDocs",function(f,h){typeof f=="function"&&(h=f,f={}),f=Ms(f);var p={},x,y="GET";f.conflicts&&(p.conflicts=!0),f.update_seq&&(p.update_seq=!0),f.descending&&(p.descending=!0),f.include_docs&&(p.include_docs=!0),f.attachments&&(p.attachments=!0),f.key&&(p.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(p.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(p.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(p.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(p.limit=f.limit),typeof f.skip<"u"&&(p.skip=f.skip);var w=TP(p);typeof f.keys<"u"&&(y="POST",x={keys:f.keys}),o(Es(r,"_all_docs"+w),{method:y,body:JSON.stringify(x)}).then(function(b){f.include_docs&&f.attachments&&f.binary&&b.data.rows.forEach(VO),h(null,b.data)}).catch(h)}),t._changes=function(f){var h="batch_size"in f?f.batch_size:Rde;f=Ms(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=Mde);var p="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&p-f.timeout<EP&&(p=f.timeout+EP),"heartbeat"in f&&f.heartbeat&&p-f.heartbeat<EP&&(p=f.heartbeat+EP);var x={};"timeout"in f&&f.timeout&&(x.timeout=f.timeout);var y=typeof f.limit<"u"?f.limit:!1,w=y;if(f.style&&(x.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(x.include_docs=!0),f.attachments&&(x.attachments=!0),f.continuous&&(x.feed="longpoll"),f.seq_interval&&(x.seq_interval=f.seq_interval),f.conflicts&&(x.conflicts=!0),f.descending&&(x.descending=!0),f.update_seq&&(x.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(x.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(x.filter=f.filter),f.view&&typeof f.view=="string"&&(x.filter="_view",x.view=f.view),f.query_params&&typeof f.query_params=="object")for(var b in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,b)&&(x[b]=f.query_params[b]);var S="GET",_;f.doc_ids?(x.filter="_doc_ids",S="POST",_={doc_ids:f.doc_ids}):f.selector&&(x.filter="_selector",S="POST",_={selector:f.selector});var P=new Sfe,E,C=function(R,F){if(!f.aborted){x.since=R,typeof x.since=="object"&&(x.since=JSON.stringify(x.since)),f.descending?y&&(x.limit=w):x.limit=!y||w>h?h:w;var j=Es(r,"_changes"+TP(x)),D={signal:P.signal,method:S,body:JSON.stringify(_)};E=R,!f.aborted&&c().then(function(){return o(j,D,F)}).catch(F)}},N={results:[]},L=function(R,F){if(!f.aborted){var j=0;if(F&&F.results){j=F.results.length,N.last_seq=F.last_seq;var D=null,W=null;typeof F.pending=="number"&&(D=F.pending),(typeof N.last_seq=="string"||typeof N.last_seq=="number")&&(W=N.last_seq);var V={};V.query=f.query_params,F.results=F.results.filter(function(J){w--;var K=w8(f)(J);return K&&(f.include_docs&&f.attachments&&f.binary&&VO(J),f.return_docs&&N.results.push(J),f.onChange(J,D,W)),K})}else if(R){f.aborted=!0,f.complete(R);return}F&&F.last_seq&&(E=F.last_seq);var Z=y&&w<=0||F&&j<h||f.descending;f.continuous&&!(y&&w<=0)||!Z?vd(function(){C(E,L)}):f.complete(null,N)}};return C(f.since||0,L),{cancel:function(){f.aborted=!0,P.abort()}}},t.revsDiff=a("revsDiff",function(f,h,p){typeof h=="function"&&(p=h,h={}),o(Es(r,"_revs_diff"),{method:"POST",body:JSON.stringify(f)},p).catch(p)}),t._close=function(f){f()},t._destroy=function(f,h){o(Es(r,""),{method:"DELETE"}).then(function(p){h(null,p)}).catch(function(p){p.status===404?h(null,{ok:!0}):h(p)})}}hI.valid=function(){return!0};function $de(n){n.adapter("http",hI,!1),n.adapter("https",hI,!1)}function Pv(n){this.status=400,this.name="query_parse_error",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Pv)}catch{}}ef(Pv,Error);function Ek(n){this.status=404,this.name="not_found",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Ek)}catch{}}ef(Ek,Error);function Tk(n){this.status=500,this.name="invalid_value",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Tk)}catch{}}ef(Tk,Error);function HJ(n,e){return e&&n.then(function(t){vd(function(){e(null,t)})},function(t){vd(function(){e(t)})}),n}function qde(n){return Sx(function(e){var t=e.pop(),r=n.apply(this,e);return typeof t=="function"&&HJ(r,t),r})}function Ude(n,e){return n.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function WO(n,e){return function(){var t=arguments,r=this;return n.add(function(){return e.apply(r,t)})}}function Q$(n){var e=new Uw(n),t=new Array(e.size),r=-1;return e.forEach(function(i){t[++r]=i}),t}function GO(n){var e=new Array(n.size),t=-1;return n.forEach(function(r,i){e[++t]=i}),e}function e9(n){var e="builtin "+n+" function requires map values to be numbers or number arrays";return new Tk(e)}function pI(n){for(var e=0,t=0,r=n.length;t<r;t++){var i=n[t];if(typeof i!="number")if(Array.isArray(i)){e=typeof e=="number"?[e]:e;for(var s=0,a=i.length;s<a;s++){var o=i[s];if(typeof o!="number")throw e9("_sum");typeof e[s]>"u"?e.push(o):e[s]+=o}}else throw e9("_sum");else typeof e=="number"?e+=i:e[0]+=i}return e}var zde=Yc.bind(null,"log"),Hde=Array.isArray,Vde=JSON.parse;function VJ(n,e){return x8("return ("+n.replace(/;\s*$/,"")+");",{emit:e,sum:pI,log:zde,isArray:Hde,toJSON:Vde})}function P_(){this.promise=new Promise(function(n){n()})}P_.prototype.add=function(n){return this.promise=this.promise.catch(function(){}).then(function(){return n()}),this.promise};P_.prototype.finish=function(){return this.promise};function t9(n){if(!n)return"undefined";switch(typeof n){case"function":return n.toString();case"string":return n.toString();default:return JSON.stringify(n)}}function Wde(n,e){return t9(n)+t9(e)+"undefined"}function n9(n,e,t,r,i,s){var a=Wde(t,r),o;if(!i&&(o=n._cachedViews=n._cachedViews||{},o[a]))return o[a];var l=n.info().then(function(c){var u=c.db_name+"-mrview-"+(i?"temp":PJ(a));function f(h){h.views=h.views||{};var p=e;p.indexOf("/")===-1&&(p=e+"/"+e);var x=h.views[p]=h.views[p]||{};if(!x[u])return x[u]=!0,h}return Pk(n,"_local/"+s,f).then(function(){return n.registerDependentDatabase(u).then(function(h){var p=h.db;p.auto_compaction=!0;var x={name:u,db:p,sourceDB:n,adapter:n.adapter,mapFun:t,reduceFun:r};return x.db.get("_local/lastSeq").catch(function(y){if(y.status!==404)throw y}).then(function(y){return x.seq=y?y.seq:0,o&&x.db.once("destroyed",function(){delete o[a]}),x})})})});return o&&(o[a]=l),l}var r9={},i9=new P_,Gde=50;function KO(n){return n.indexOf("/")===-1?[n,n]:n.split("/")}function Kde(n){return n.length===1&&/^1-/.test(n[0].rev)}function s9(n,e,t){try{n.emit("error",e)}catch{Yc("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Yc("error",e,t)}}function Xde(n,e,t,r){function i(K,$,te){try{$(te)}catch(Q){s9(K,Q,{fun:$,doc:te})}}function s(K,$,te,Q,X){try{return{output:$(te,Q,X)}}catch(B){return s9(K,B,{fun:$,keys:te,values:Q,rereduce:X}),{error:B}}}function a(K,$){var te=ns(K.key,$.key);return te!==0?te:ns(K.value,$.value)}function o(K,$,te){return te=te||0,typeof $=="number"?K.slice(te,$+te):te>0?K.slice(te):K}function l(K){var $=K.value,te=$&&typeof $=="object"&&$._id||K.id;return te}function c(K){K.rows.forEach(function($){var te=$.doc&&$.doc._attachments;te&&Object.keys(te).forEach(function(Q){var X=te[Q];te[Q].data=P8(X.data,X.content_type)})})}function u(K){return function($){return K.include_docs&&K.attachments&&K.binary&&c($),$}}function f(K,$,te,Q){var X=$[K];typeof X<"u"&&(Q&&(X=encodeURIComponent(JSON.stringify(X))),te.push(K+"="+X))}function h(K){if(typeof K<"u"){var $=Number(K);return!isNaN($)&&$===parseInt(K,10)?$:K}}function p(K){return K.group_level=h(K.group_level),K.limit=h(K.limit),K.skip=h(K.skip),K}function x(K){if(K){if(typeof K!="number")return new Pv('Invalid value for integer: "'+K+'"');if(K<0)return new Pv('Invalid value for positive integer: "'+K+'"')}}function y(K,$){var te=K.descending?"endkey":"startkey",Q=K.descending?"startkey":"endkey";if(typeof K[te]<"u"&&typeof K[Q]<"u"&&ns(K[te],K[Q])>0)throw new Pv("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if($.reduce&&K.reduce!==!1){if(K.include_docs)throw new Pv("{include_docs:true} is invalid for reduce");if(K.keys&&K.keys.length>1&&!K.group&&!K.group_level)throw new Pv("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(X){var B=x(K[X]);if(B)throw B})}function w(K,$,te){var Q=[],X,B="GET",G,ne;if(f("reduce",te,Q),f("include_docs",te,Q),f("attachments",te,Q),f("limit",te,Q),f("descending",te,Q),f("group",te,Q),f("group_level",te,Q),f("skip",te,Q),f("stale",te,Q),f("conflicts",te,Q),f("startkey",te,Q,!0),f("start_key",te,Q,!0),f("endkey",te,Q,!0),f("end_key",te,Q,!0),f("inclusive_end",te,Q),f("key",te,Q,!0),f("update_seq",te,Q),Q=Q.join("&"),Q=Q===""?"":"?"+Q,typeof te.keys<"u"){var ie=2e3,fe="keys="+encodeURIComponent(JSON.stringify(te.keys));fe.length+Q.length+1<=ie?Q+=(Q[0]==="?"?"&":"?")+fe:(B="POST",typeof $=="string"?X={keys:te.keys}:$.keys=te.keys)}if(typeof $=="string"){var he=KO($);return K.fetch("_design/"+he[0]+"/_view/"+he[1]+Q,{headers:new Q1({"Content-Type":"application/json"}),method:B,body:JSON.stringify(X)}).then(function(oe){return G=oe.ok,ne=oe.status,oe.json()}).then(function(oe){if(!G)throw oe.status=ne,Hw(oe);return oe.rows.forEach(function(pe){if(pe.value&&pe.value.error&&pe.value.error==="builtin_reduce_error")throw new Error(pe.reason)}),oe}).then(u(te))}return X=X||{},Object.keys($).forEach(function(oe){Array.isArray($[oe])?X[oe]=$[oe]:X[oe]=$[oe].toString()}),K.fetch("_temp_view"+Q,{headers:new Q1({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(X)}).then(function(oe){return G=oe.ok,ne=oe.status,oe.json()}).then(function(oe){if(!G)throw oe.status=ne,Hw(oe);return oe}).then(u(te))}function b(K,$,te){return new Promise(function(Q,X){K._query($,te,function(B,G){if(B)return X(B);Q(G)})})}function S(K){return new Promise(function($,te){K._viewCleanup(function(Q,X){if(Q)return te(Q);$(X)})})}function _(K){return function($){if($.status===404)return K;throw $}}function P(K,$,te){var Q="_local/doc_"+K,X={_id:Q,keys:[]},B=te.get(K),G=B[0],ne=B[1];function ie(){return Kde(ne)?Promise.resolve(X):$.db.get(Q).catch(_(X))}function fe(oe){return oe.keys.length?$.db.allDocs({keys:oe.keys,include_docs:!0}):Promise.resolve({rows:[]})}function he(oe,pe){for(var Se=[],be=new Uw,ye=0,Oe=pe.rows.length;ye<Oe;ye++){var Pe=pe.rows[ye],ge=Pe.doc;if(ge&&(Se.push(ge),be.add(ge._id),ge._deleted=!G.has(ge._id),!ge._deleted)){var Ke=G.get(ge._id);"value"in Ke&&(ge.value=Ke.value)}}var Xe=GO(G);return Xe.forEach(function(rt){if(!be.has(rt)){var $e={_id:rt},at=G.get(rt);"value"in at&&($e.value=at.value),Se.push($e)}}),oe.keys=Q$(Xe.concat(oe.keys)),Se.push(oe),Se}return ie().then(function(oe){return fe(oe).then(function(pe){return he(oe,pe)})})}function E(K,$,te){var Q="_local/lastSeq";return K.db.get(Q).catch(_({_id:Q,seq:0})).then(function(X){var B=GO($);return Promise.all(B.map(function(G){return P(G,K,$)})).then(function(G){var ne=bE(G);return X.seq=te,ne.push(X),K.db.bulkDocs({docs:ne})})})}function C(K){var $=typeof K=="string"?K:K.name,te=r9[$];return te||(te=r9[$]=new P_),te}function N(K,$){return WO(C(K),function(){return L(K,$)})()}function L(K,$){var te,Q;function X(ye,Oe){var Pe={id:Q._id,key:l0(ye)};typeof Oe<"u"&&Oe!==null&&(Pe.value=l0(Oe)),te.push(Pe)}var B=e(K.mapFun,X),G=K.seq||0;function ne(ye,Oe){return function(){return E(K,ye,Oe)}}let ie=0,fe={view:K.name,indexed_docs:ie};K.sourceDB.emit("indexing",fe);var he=new P_;function oe(){return K.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:G,limit:$.changes_batch_size}).then(pe)}function pe(ye){var Oe=ye.results;if(!Oe.length)return;var Pe=Se(Oe);he.add(ne(Pe,G)),ie=ie+Oe.length;let ge={view:K.name,last_seq:ye.last_seq,results_count:Oe.length,indexed_docs:ie};if(K.sourceDB.emit("indexing",ge),!(Oe.length<$.changes_batch_size))return oe()}function Se(ye){for(var Oe=new al,Pe=0,ge=ye.length;Pe<ge;Pe++){var Ke=ye[Pe];if(Ke.doc._id[0]!=="_"){te=[],Q=Ke.doc,Q._deleted||i(K.sourceDB,B,Q),te.sort(a);var Xe=be(te);Oe.set(Ke.doc._id,[Xe,Ke.changes])}G=Ke.seq}return Oe}function be(ye){for(var Oe=new al,Pe,ge=0,Ke=ye.length;ge<Ke;ge++){var Xe=ye[ge],rt=[Xe.key,Xe.id];ge>0&&ns(Xe.key,Pe)===0&&rt.push(ge),Oe.set(Tu(rt),Xe),Pe=Xe.key}return Oe}return oe().then(function(){return he.finish()}).then(function(){K.seq=G})}function R(K,$,te){te.group_level===0&&delete te.group_level;var Q=te.group||te.group_level,X=t(K.reduceFun),B=[],G=isNaN(te.group_level)?Number.POSITIVE_INFINITY:te.group_level;$.forEach(function(oe){var pe=B[B.length-1],Se=Q?oe.key:null;if(Q&&Array.isArray(Se)&&(Se=Se.slice(0,G)),pe&&ns(pe.groupKey,Se)===0){pe.keys.push([oe.key,oe.id]),pe.values.push(oe.value);return}B.push({keys:[[oe.key,oe.id]],values:[oe.value],groupKey:Se})}),$=[];for(var ne=0,ie=B.length;ne<ie;ne++){var fe=B[ne],he=s(K.sourceDB,X,fe.keys,fe.values,!1);if(he.error&&he.error instanceof Tk)throw he.error;$.push({value:he.error?null:he.output,key:fe.groupKey})}return{rows:o($,te.limit,te.skip)}}function F(K,$){return WO(C(K),function(){return j(K,$)})()}function j(K,$){var te,Q=K.reduceFun&&$.reduce!==!1,X=$.skip||0;typeof $.keys<"u"&&!$.keys.length&&($.limit=0,delete $.keys);function B(ye){return ye.include_docs=!0,K.db.allDocs(ye).then(function(Oe){return te=Oe.total_rows,Oe.rows.map(function(Pe){if("value"in Pe.doc&&typeof Pe.doc.value=="object"&&Pe.doc.value!==null){var ge=Object.keys(Pe.doc.value).sort(),Ke=["id","key","value"];if(!(ge<Ke||ge>Ke))return Pe.doc.value}var Xe=$fe(Pe.doc._id);return{key:Xe[0],id:Xe[1],value:"value"in Pe.doc?Pe.doc.value:null}})})}function G(ye){var Oe;if(Q?Oe=R(K,ye,$):typeof $.keys>"u"?Oe={total_rows:te,offset:X,rows:ye}:Oe={total_rows:te,offset:X,rows:o(ye,$.limit,$.skip)},$.update_seq&&(Oe.update_seq=K.seq),$.include_docs){var Pe=Q$(ye.map(l));return K.sourceDB.allDocs({keys:Pe,include_docs:!0,conflicts:$.conflicts,attachments:$.attachments,binary:$.binary}).then(function(ge){var Ke=new al;return ge.rows.forEach(function(Xe){Ke.set(Xe.id,Xe.doc)}),ye.forEach(function(Xe){var rt=l(Xe),$e=Ke.get(rt);$e&&(Xe.doc=$e)}),Oe})}else return Oe}if(typeof $.keys<"u"){var ne=$.keys,ie=ne.map(function(ye){var Oe={startkey:Tu([ye]),endkey:Tu([ye,{}])};return $.update_seq&&(Oe.update_seq=!0),B(Oe)});return Promise.all(ie).then(bE).then(G)}else{var fe={descending:$.descending};$.update_seq&&(fe.update_seq=!0);var he,oe;if("start_key"in $&&(he=$.start_key),"startkey"in $&&(he=$.startkey),"end_key"in $&&(oe=$.end_key),"endkey"in $&&(oe=$.endkey),typeof he<"u"&&(fe.startkey=$.descending?Tu([he,{}]):Tu([he])),typeof oe<"u"){var pe=$.inclusive_end!==!1;$.descending&&(pe=!pe),fe.endkey=Tu(pe?[oe,{}]:[oe])}if(typeof $.key<"u"){var Se=Tu([$.key]),be=Tu([$.key,{}]);fe.descending?(fe.endkey=Se,fe.startkey=be):(fe.startkey=Se,fe.endkey=be)}return Q||(typeof $.limit=="number"&&(fe.limit=$.limit),fe.skip=X),B(fe).then(G)}}function D(K){return K.fetch("_view_cleanup",{headers:new Q1({"Content-Type":"application/json"}),method:"POST"}).then(function($){return $.json()})}function W(K){return K.get("_local/"+n).then(function($){var te=new al;Object.keys($.views).forEach(function(X){var B=KO(X),G="_design/"+B[0],ne=B[1],ie=te.get(G);ie||(ie=new Uw,te.set(G,ie)),ie.add(ne)});var Q={keys:GO(te),include_docs:!0};return K.allDocs(Q).then(function(X){var B={};X.rows.forEach(function(ie){var fe=ie.key.substring(8);te.get(ie.key).forEach(function(he){var oe=fe+"/"+he;$.views[oe]||(oe=he);var pe=Object.keys($.views[oe]),Se=ie.doc&&ie.doc.views&&ie.doc.views[he];pe.forEach(function(be){B[be]=B[be]||Se})})});var G=Object.keys(B).filter(function(ie){return!B[ie]}),ne=G.map(function(ie){return WO(C(ie),function(){return new K.constructor(ie,K.__opts).destroy()})()});return Promise.all(ne).then(function(){return{ok:!0}})})},_({ok:!0}))}function V(K,$,te){if(typeof K._query=="function")return b(K,$,te);if(yd(K))return w(K,$,te);var Q={changes_batch_size:K.__opts.view_update_changes_batch_size||Gde};if(typeof $!="string")return y(te,$),i9.add(function(){var ie=n9(K,"temp_view/temp_view",$.map,$.reduce,!0,n);return ie.then(function(fe){return Ude(N(fe,Q).then(function(){return F(fe,te)}),function(){return fe.db.destroy()})})}),i9.finish();var X=$,B=KO(X),G=B[0],ne=B[1];return K.get("_design/"+G).then(function(ie){var fe=ie.views&&ie.views[ne];if(!fe)throw new Ek("ddoc "+ie._id+" has no view named "+ne);r(ie,ne),y(te,fe);var he=n9(K,X,fe.map,fe.reduce,!1,n);return he.then(function(oe){return te.stale==="ok"||te.stale==="update_after"?(te.stale==="update_after"&&vd(function(){N(oe,Q)}),F(oe,te)):N(oe,Q).then(function(){return F(oe,te)})})})}function Z(K,$,te){var Q=this;typeof $=="function"&&(te=$,$={}),$=$?p($):{},typeof K=="function"&&(K={map:K});var X=Promise.resolve().then(function(){return V(Q,K,$)});return HJ(X,te),X}var J=qde(function(){var K=this;return typeof K._viewCleanup=="function"?S(K):yd(K)?D(K):W(K)});return{query:Z,viewCleanup:J}}var XO={_sum:function(n,e){return pI(e)},_count:function(n,e){return e.length},_stats:function(n,e){function t(r){for(var i=0,s=0,a=r.length;s<a;s++){var o=r[s];i+=o*o}return i}return{sum:pI(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:t(e)}}};function Yde(n){if(/^_sum/.test(n))return XO._sum;if(/^_count/.test(n))return XO._count;if(/^_stats/.test(n))return XO._stats;if(/^_/.test(n))throw new Error(n+" is not a supported reduce function.")}function Jde(n,e){if(typeof n=="function"&&n.length===2){var t=n;return function(r){return t(r,e)}}else return VJ(n.toString(),e)}function Zde(n){var e=n.toString(),t=Yde(e);return t||VJ(e)}function Qde(n,e){var t=n.views&&n.views[e];if(typeof t.map!="string")throw new Ek("ddoc "+n._id+" has no string view named "+e+", instead found object of type: "+typeof t.map)}var ehe="mrviews",WJ=Xde(ehe,Jde,Zde,Qde);function the(n,e,t){return WJ.query.call(this,n,e,t)}function nhe(n){return WJ.viewCleanup.call(this,n)}var rhe={query:the,viewCleanup:nhe};function a9(n){return/^1-/.test(n)}function ihe(n,e,t){return!n._attachments||!n._attachments[t]||n._attachments[t].digest!==e._attachments[t].digest}function o9(n,e){var t=Object.keys(e._attachments);return Promise.all(t.map(function(r){return n.getAttachment(e._id,r,{rev:e._rev})}))}function she(n,e,t){var r=yd(e)&&!yd(n),i=Object.keys(t._attachments);return r?n.get(t._id).then(function(s){return Promise.all(i.map(function(a){return ihe(s,t,a)?e.getAttachment(t._id,a):n.getAttachment(s._id,a)}))}).catch(function(s){if(s.status!==404)throw s;return o9(e,t)}):o9(e,t)}function ahe(n){var e=[];return Object.keys(n).forEach(function(t){var r=n[t].missing;r.forEach(function(i){e.push({id:t,rev:i})})}),{docs:e,revs:!0,latest:!0}}function ohe(n,e,t,r){t=Ms(t);var i=[],s=!0;function a(){var h=ahe(t);if(h.docs.length)return n.bulkGet(h).then(function(p){if(r.cancelled)throw new Error("cancelled");return Promise.all(p.results.map(function(x){return Promise.all(x.docs.map(function(y){var w=y.ok;return y.error&&(s=!1),!w||!w._attachments?w:she(e,n,w).then(function(b){var S=Object.keys(w._attachments);return b.forEach(function(_,P){var E=w._attachments[S[P]];delete E.stub,delete E.length,E.data=_}),w})}))})).then(function(x){i=i.concat(bE(x).filter(Boolean))})})}function o(h){return h._attachments&&Object.keys(h._attachments).length>0}function l(h){return h._conflicts&&h._conflicts.length>0}function c(h){return n.allDocs({keys:h,include_docs:!0,conflicts:!0}).then(function(p){if(r.cancelled)throw new Error("cancelled");p.rows.forEach(function(x){x.deleted||!x.doc||!a9(x.value.rev)||o(x.doc)||l(x.doc)||(x.doc._conflicts&&delete x.doc._conflicts,i.push(x.doc),delete t[x.id])})})}function u(){var h=Object.keys(t).filter(function(p){var x=t[p].missing;return x.length===1&&a9(x[0])});if(h.length>0)return c(h)}function f(){return{ok:s,docs:i}}return Promise.resolve().then(u).then(a).then(f)}var l9=1,c9="pouchdb",lhe=5,Nf=0;function L8(n,e,t,r,i){return n.get(e).catch(function(s){if(s.status===404)return(n.adapter==="http"||n.adapter==="https")&&nI(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:c9,version:l9};throw s}).then(function(s){if(!i.cancelled&&s.last_seq!==t)return s.history=(s.history||[]).filter(function(a){return a.session_id!==r}),s.history.unshift({last_seq:t,session_id:r}),s.history=s.history.slice(0,lhe),s.version=l9,s.replicator=c9,s.session_id=r,s.last_seq=t,n.put(s).catch(function(a){if(a.status===409)return L8(n,e,t,r,i);throw a})})}function c5(n,e,t,r,i){this.src=n,this.target=e,this.id=t,this.returnValue=r,this.opts=i||{}}c5.prototype.writeCheckpoint=function(n,e){var t=this;return this.updateTarget(n,e).then(function(){return t.updateSource(n,e)})};c5.prototype.updateTarget=function(n,e){return this.opts.writeTargetCheckpoint?L8(this.target,this.id,n,e,this.returnValue):Promise.resolve(!0)};c5.prototype.updateSource=function(n,e){if(this.opts.writeSourceCheckpoint){var t=this;return L8(this.src,this.id,n,e,this.returnValue).catch(function(r){if(KJ(r))return t.opts.writeSourceCheckpoint=!1,!0;throw r})}else return Promise.resolve(!0)};var u9={undefined:function(n,e){return ns(n.last_seq,e.last_seq)===0?e.last_seq:0},1:function(n,e){return che(e,n).last_seq}};c5.prototype.getCheckpoint=function(){var n=this;return n.opts&&n.opts.writeSourceCheckpoint&&!n.opts.writeTargetCheckpoint?n.src.get(n.id).then(function(e){return e.last_seq||Nf}).catch(function(e){if(e.status!==404)throw e;return Nf}):n.target.get(n.id).then(function(e){return n.opts&&n.opts.writeTargetCheckpoint&&!n.opts.writeSourceCheckpoint?e.last_seq||Nf:n.src.get(n.id).then(function(t){if(e.version!==t.version)return Nf;var r;return e.version?r=e.version.toString():r="undefined",r in u9?u9[r](e,t):Nf},function(t){if(t.status===404&&e.last_seq)return n.src.put({_id:n.id,last_seq:Nf}).then(function(){return Nf},function(r){return KJ(r)?(n.opts.writeSourceCheckpoint=!1,e.last_seq):Nf});throw t})}).catch(function(e){if(e.status!==404)throw e;return Nf})};function che(n,e){return n.session_id===e.session_id?{last_seq:n.last_seq,history:n.history}:GJ(n.history,e.history)}function GJ(n,e){var t=n[0],r=n.slice(1),i=e[0],s=e.slice(1);if(!t||e.length===0)return{last_seq:Nf,history:[]};var a=t.session_id;if(mI(a,e))return{last_seq:t.last_seq,history:n};var o=i.session_id;return mI(o,r)?{last_seq:i.last_seq,history:s}:GJ(r,s)}function mI(n,e){var t=e[0],r=e.slice(1);return!n||e.length===0?!1:n===t.session_id?!0:mI(n,r)}function KJ(n){return typeof n.status=="number"&&Math.floor(n.status/100)===4}var f9=0;function uhe(n,e,t,r){if(n.retry===!1){e.emit("error",t),e.removeAllListeners();return}if(typeof n.back_off_function!="function"&&(n.back_off_function=Fue),e.emit("requestError",t),e.state==="active"||e.state==="pending"){e.emit("paused",t),e.state="stopped";var i=function(){n.current_back_off=f9},s=function(){e.removeListener("active",i)};e.once("paused",s),e.once("active",i)}n.current_back_off=n.current_back_off||f9,n.current_back_off=n.back_off_function(n.current_back_off),setTimeout(r,n.current_back_off)}function fhe(n){return Object.keys(n).sort(ns).reduce(function(e,t){return e[t]=n[t],e},{})}function dhe(n,e,t){var r=t.doc_ids?t.doc_ids.sort(ns):"",i=t.filter?t.filter.toString():"",s="",a="",o="";return t.selector&&(o=JSON.stringify(t.selector)),t.filter&&t.query_params&&(s=JSON.stringify(fhe(t.query_params))),t.filter&&t.filter==="_view"&&(a=t.view.toString()),Promise.all([n.id(),e.id()]).then(function(l){var c=l[0]+l[1]+i+a+s+r+o;return new Promise(function(u){E8(c,u)})}).then(function(l){return l=l.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+l})}function XJ(n,e,t,r,i){var s=[],a,o={seq:0,changes:[],docs:[]},l=!1,c=!1,u=!1,f=0,h=t.continuous||t.live||!1,p=t.batch_size||100,x=t.batches_limit||10,y=t.style||"all_docs",w=!1,b=t.doc_ids,S=t.selector,_,P,E=[],C=Ck();i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var N={};r.ready(n,e);function L(){return P?Promise.resolve():dhe(n,e,t).then(function(G){_=G;var ne={};t.checkpoint===!1?ne={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:t.checkpoint==="source"?ne={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:t.checkpoint==="target"?ne={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:ne={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},P=new c5(n,e,_,r,ne)})}function R(){if(E=[],a.docs.length!==0){var G=a.docs,ne={timeout:t.timeout};return e.bulkDocs({docs:G,new_edits:!1},ne).then(function(ie){if(r.cancelled)throw J(),new Error("cancelled");var fe=Object.create(null);ie.forEach(function(oe){oe.error&&(fe[oe.id]=oe)});var he=Object.keys(fe).length;i.doc_write_failures+=he,i.docs_written+=G.length-he,G.forEach(function(oe){var pe=fe[oe._id];if(pe){i.errors.push(pe);var Se=(pe.name||"").toLowerCase();if(Se==="unauthorized"||Se==="forbidden")r.emit("denied",Ms(pe));else throw pe}else E.push(oe)})},function(ie){throw i.doc_write_failures+=G.length,ie})}}function F(){if(a.error)throw new Error("There was a problem getting docs.");i.last_seq=f=a.seq;var G=Ms(i);return E.length&&(G.docs=E,typeof a.pending=="number"&&(G.pending=a.pending,delete a.pending),r.emit("change",G)),l=!0,P.writeCheckpoint(a.seq,C).then(function(){if(r.emit("checkpoint",{checkpoint:a.seq}),l=!1,r.cancelled)throw J(),new Error("cancelled");a=void 0,Q()}).catch(function(ne){throw B(ne),ne})}function j(){var G={};return a.changes.forEach(function(ne){r.emit("checkpoint",{revs_diff:ne}),ne.id!=="_user/"&&(G[ne.id]=ne.changes.map(function(ie){return ie.rev}))}),e.revsDiff(G).then(function(ne){if(r.cancelled)throw J(),new Error("cancelled");a.diffs=ne})}function D(){return ohe(n,e,a.diffs,r).then(function(G){a.error=!G.ok,G.docs.forEach(function(ne){delete a.diffs[ne._id],i.docs_read++,a.docs.push(ne)})})}function W(){if(!(r.cancelled||a)){if(s.length===0){V(!0);return}a=s.shift(),r.emit("checkpoint",{start_next_batch:a.seq}),j().then(D).then(R).then(F).then(W).catch(function(G){Z("batch processing terminated with error",G)})}}function V(G){if(o.changes.length===0){s.length===0&&!a&&((h&&N.live||c)&&(r.state="pending",r.emit("paused")),c&&J());return}(G||c||o.changes.length>=p)&&(s.push(o),o={seq:0,changes:[],docs:[]},(r.state==="pending"||r.state==="stopped")&&(r.state="active",r.emit("active")),W())}function Z(G,ne){u||(ne.message||(ne.message=G),i.ok=!1,i.status="aborting",s=[],o={seq:0,changes:[],docs:[]},J(ne))}function J(G){if(!u&&!(r.cancelled&&(i.status="cancelled",l)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=f,u=!0,G){G=Pn(G),G.result=i;var ne=(G.name||"").toLowerCase();ne==="unauthorized"||ne==="forbidden"?(r.emit("error",G),r.removeAllListeners()):uhe(t,r,G,function(){XJ(n,e,t,r)})}else r.emit("complete",i),r.removeAllListeners()}function K(G,ne,ie){if(r.cancelled)return J();typeof ne=="number"&&(o.pending=ne);var fe=w8(t)(G);fe&&(o.seq=G.seq||ie,o.changes.push(G),r.emit("checkpoint",{pending_batch:o.seq}),vd(function(){V(s.length===0&&N.live)}))}function $(G){if(w=!1,r.cancelled)return J();if(G.results.length>0)N.since=G.results[G.results.length-1].seq,Q(),V(!0);else{var ne=function(){h?(N.live=!0,Q()):c=!0,V(!0)};!a&&G.results.length===0?(l=!0,P.writeCheckpoint(G.last_seq,C).then(function(){l=!1,i.last_seq=f=G.last_seq,ne()}).catch(B)):ne()}}function te(G){if(w=!1,r.cancelled)return J();Z("changes rejected",G)}function Q(){if(!(!w&&!c&&s.length<x))return;w=!0;function G(){ie.cancel()}function ne(){r.removeListener("cancel",G)}r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",G);var ie=n.changes(N).on("change",K);ie.then(ne,ne),ie.then($).catch(te),t.retry&&(r._changes=ie,r._abortChanges=G)}function X(){L().then(function(){if(r.cancelled){J();return}return P.getCheckpoint().then(function(G){f=G,N={since:f,limit:p,batch_size:p,style:y,doc_ids:b,selector:S,return_docs:!0},t.filter&&(typeof t.filter!="string"?N.include_docs=!0:N.filter=t.filter),"heartbeat"in t&&(N.heartbeat=t.heartbeat),"timeout"in t&&(N.timeout=t.timeout),t.query_params&&(N.query_params=t.query_params),t.view&&(N.view=t.view),Q()})}).catch(function(G){Z("getCheckpoint rejected with ",G)})}function B(G){l=!1,Z("writeCheckpoint completed with error",G)}if(r.cancelled){J();return}r._addedListeners||(r.once("cancel",J),typeof t.complete=="function"&&(r.once("error",t.complete),r.once("complete",function(G){t.complete(null,G)})),r._addedListeners=!0),typeof t.since>"u"?X():L().then(function(){return l=!0,P.writeCheckpoint(t.since,C)}).then(function(){if(l=!1,r.cancelled){J();return}f=t.since,X()}).catch(B)}ef(kk,En);function kk(){En.call(this),this.cancelled=!1,this.state="pending";var n=this,e=new Promise(function(t,r){n.once("complete",t),n.once("error",r)});n.then=function(t,r){return e.then(t,r)},n.catch=function(t){return e.catch(t)},n.catch(function(){})}kk.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};kk.prototype.ready=function(n,e){var t=this;if(t._readyCalled)return;t._readyCalled=!0;function r(){t.cancel()}n.once("destroyed",r),e.once("destroyed",r);function i(){n.removeListener("destroyed",r),e.removeListener("destroyed",r)}t.once("complete",i),t.once("error",i)};function _E(n,e){var t=e.PouchConstructor;return typeof n=="string"?new t(n,e):n}function gI(n,e,t,r){if(typeof t=="function"&&(r=t,t={}),typeof t>"u"&&(t={}),t.doc_ids&&!Array.isArray(t.doc_ids))throw Pn(Ak,"`doc_ids` filter parameter is not a list.");t.complete=r,t=Ms(t),t.continuous=t.continuous||t.live,t.retry="retry"in t?t.retry:!1,t.PouchConstructor=t.PouchConstructor||this;var i=new kk,s=_E(n,t),a=_E(e,t);return XJ(s,a,t,i),i}ef(R8,En);function hhe(n,e,t,r){return typeof t=="function"&&(r=t,t={}),typeof t>"u"&&(t={}),t=Ms(t),t.PouchConstructor=t.PouchConstructor||this,n=_E(n,t),e=_E(e,t),new R8(n,e,t,r)}function R8(n,e,t,r){var i=this;this.canceled=!1;var s=t.push?s0({},t,t.push):t,a=t.pull?s0({},t,t.pull):t;this.push=gI(n,e,s),this.pull=gI(e,n,a),this.pushPaused=!0,this.pullPaused=!0;function o(_){i.emit("change",{direction:"pull",change:_})}function l(_){i.emit("change",{direction:"push",change:_})}function c(_){i.emit("denied",{direction:"push",doc:_})}function u(_){i.emit("denied",{direction:"pull",doc:_})}function f(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function h(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function p(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function x(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}var y={};function w(_){return function(P,E){var C=P==="change"&&(E===o||E===l),N=P==="denied"&&(E===u||E===c),L=P==="paused"&&(E===h||E===f),R=P==="active"&&(E===x||E===p);(C||N||L||R)&&(P in y||(y[P]={}),y[P][_]=!0,Object.keys(y[P]).length===2&&i.removeAllListeners(P))}}t.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push)));function b(_,P,E){_.listeners(P).indexOf(E)==-1&&_.on(P,E)}this.on("newListener",function(_){_==="change"?(b(i.pull,"change",o),b(i.push,"change",l)):_==="denied"?(b(i.pull,"denied",u),b(i.push,"denied",c)):_==="active"?(b(i.pull,"active",x),b(i.push,"active",p)):_==="paused"&&(b(i.pull,"paused",h),b(i.push,"paused",f))}),this.on("removeListener",function(_){_==="change"?(i.pull.removeListener("change",o),i.push.removeListener("change",l)):_==="denied"?(i.pull.removeListener("denied",u),i.push.removeListener("denied",c)):_==="active"?(i.pull.removeListener("active",x),i.push.removeListener("active",p)):_==="paused"&&(i.pull.removeListener("paused",h),i.push.removeListener("paused",f))}),this.pull.on("removeListener",w("pull")),this.push.on("removeListener",w("push"));var S=Promise.all([this.push,this.pull]).then(function(_){var P={push:_[0],pull:_[1]};return i.emit("complete",P),r&&r(null,P),i.removeAllListeners(),P},function(_){if(i.cancel(),r?r(_):i.emit("error",_),i.removeAllListeners(),r)throw _});this.then=function(_,P){return S.then(_,P)},this.catch=function(_){return S.catch(_)}}R8.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function phe(n){n.replicate=gI,n.sync=hhe,Object.defineProperty(n.prototype,"replicate",{get:function(){var e=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(t,r,i){return e.constructor.replicate(t,e,r,i)},to:function(t,r,i){return e.constructor.replicate(e,t,r,i)}}),this.replicateMethods}}),n.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}Gt.plugin(jde).plugin($de).plugin(rhe).plugin(phe);const YJ=U.createContext(void 0),ch=new Gt("CliniTrack");function mhe({children:n}){const[e,t]=U.useState(null),[r,i]=U.useState(!0);U.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("clinitrack_user");if(h){const p=JSON.parse(h);try{await ch.get(p.id),t(p)}catch{localStorage.removeItem("clinitrack_user")}}}catch(h){console.error("Auth initialization error:",h)}finally{i(!1)}})()},[]);const s=async(f,h)=>{i(!0);try{const p=f.toLowerCase(),x=await ch.get(p);if(x&&x.password===h){const y={id:x._id,email:x.email,name:x.name,role:x.role};return t(y),localStorage.setItem("clinitrack_user",JSON.stringify(y)),{success:!0}}else return{success:!1,error:"Incorrect Email or Password"}}catch(p){return p.status===404?{success:!1,error:"Incorrect Email or Password"}:(console.error("Login failed:",p),{success:!1,error:"Login failed. Please try again."})}finally{i(!1)}},a=async(f,h,p,x)=>{i(!0);try{const y=f.toLowerCase();try{return await ch.get(y),!1}catch(S){if(S.status!==404)throw S}const w={_id:y,email:f.toLowerCase(),password:h,name:p,role:x,type:"user",createdAt:new Date().toISOString()};await ch.put(w);const b={id:w._id,email:w.email,name:w.name,role:w.role};return t(b),localStorage.setItem("clinitrack_user",JSON.stringify(b)),!0}catch(y){return console.error("Registration failed:",y),!1}finally{i(!1)}},o=()=>{t(null),localStorage.removeItem("clinitrack_user")},l=async f=>{if(!e)return!1;i(!0);try{const p={...await ch.get(e.id),name:f.name,email:f.email.toLowerCase(),updatedAt:new Date().toISOString()};await ch.put(p);const x={id:p._id,email:p.email,name:p.name,role:p.role};return t(x),localStorage.setItem("clinitrack_user",JSON.stringify(x)),!0}catch(h){return console.error("Failed to update profile:",h),!1}finally{i(!1)}},c=async(f,h)=>{if(!e)return!1;i(!0);try{const p=await ch.get(e.id);return p.password===f?(p.password=h,p.updatedAt=new Date().toISOString(),await ch.put(p),!0):!1}catch(p){return console.error("Change password failed:",p),!1}finally{i(!1)}},u=async f=>{try{return await ch.get(f.toLowerCase()),!0}catch{return!1}};return v.jsx(YJ.Provider,{value:{user:e,login:s,register:a,logout:o,updateProfile:l,changePassword:c,requestPasswordReset:u,isLoading:r},children:n})}function Ku(){const n=U.useContext(YJ);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function d9(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function JJ(...n){return e=>{let t=!1;const r=n.map(i=>{const s=d9(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():d9(n[i],null)}}}}function Kn(...n){return U.useCallback(JJ(...n),n)}function Vw(n){const e=ghe(n),t=U.forwardRef((r,i)=>{const{children:s,...a}=r,o=U.Children.toArray(s),l=o.find(yhe);if(l){const c=l.props.children,u=o.map(f=>f===l?U.Children.count(c)>1?U.Children.only(null):U.isValidElement(c)?c.props.children:null:f);return v.jsx(e,{...a,ref:i,children:U.isValidElement(c)?U.cloneElement(c,void 0,u):null})}return v.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var ZJ=Vw("Slot");function ghe(n){const e=U.forwardRef((t,r)=>{const{children:i,...s}=t;if(U.isValidElement(i)){const a=whe(i),o=bhe(s,i.props);return i.type!==U.Fragment&&(o.ref=r?JJ(r,a):a),U.cloneElement(i,o)}return U.Children.count(i)>1?U.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var vhe=Symbol("radix.slottable");function yhe(n){return U.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===vhe}function bhe(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function whe(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function QJ(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=QJ(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Kt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=QJ(n))&&(r&&(r+=" "),r+=e);return r}const h9=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,p9=Kt,I8=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return p9(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],f=s==null?void 0:s[c];if(u===null)return null;const h=h9(u)||h9(f);return i[c][h]}),o=t&&Object.entries(t).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...s,...o}[y]):{...s,...o}[y]===w})?[...c,f,h]:c},[]);return p9(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)},M8="-",xhe=n=>{const e=She(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(M8);return o[0]===""&&o.length!==1&&o.shift(),eZ(o,e)||_he(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},eZ=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?eZ(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(M8);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},m9=/^\[(.+)\]$/,_he=n=>{if(m9.test(n)){const e=m9.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},She=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)vI(t[i],r,i,e);return r},vI=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:g9(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(Ahe(i)){vI(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{vI(a,g9(e,s),t,r)})})},g9=(n,e)=>{let t=n;return e.split(M8).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Ahe=n=>n.isThemeGetter,Phe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},yI="!",bI=":",Che=bI.length,Ehe=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let a=0,o=0,l=0,c;for(let x=0;x<i.length;x++){let y=i[x];if(a===0&&o===0){if(y===bI){s.push(i.slice(l,x)),l=x+Che;continue}if(y==="/"){c=x;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const u=s.length===0?i:i.substring(l),f=The(u),h=f!==u,p=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(e){const i=e+bI,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},The=n=>n.endsWith(yI)?n.substring(0,n.length-1):n.startsWith(yI)?n.substring(1):n,khe=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Nhe=n=>({cache:Phe(n.cacheSize),parseClassName:Ehe(n),sortModifiers:khe(n),...xhe(n)}),Ohe=/\s+/,jhe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=n.trim().split(Ohe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=t(u);if(f){l=u+(l.length>0?" "+l:l);continue}let w=!!y,b=r(w?x.substring(0,y):x);if(!b){if(!w){l=u+(l.length>0?" "+l:l);continue}if(b=r(x),!b){l=u+(l.length>0?" "+l:l);continue}w=!1}const S=s(h).join(":"),_=p?S+yI:S,P=_+b;if(a.includes(P))continue;a.push(P);const E=i(b,w);for(let C=0;C<E.length;++C){const N=E[C];a.push(_+N)}l=u+(l.length>0?" "+l:l)}return l};function Lhe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tZ(e))&&(r&&(r+=" "),r+=t);return r}const tZ=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tZ(n[r]))&&(t&&(t+=" "),t+=e);return t};function Rhe(n,...e){let t,r,i,s=a;function a(l){const c=e.reduce((u,f)=>f(u),n());return t=Nhe(c),r=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=jhe(l,t);return i(l,u),u}return function(){return s(Lhe.apply(null,arguments))}}const Ts=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nZ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ihe=/^\d+\/\d+$/,Mhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fhe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$he=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,m1=n=>Ihe.test(n),kn=n=>!!n&&!Number.isNaN(Number(n)),am=n=>!!n&&Number.isInteger(Number(n)),YO=n=>n.endsWith("%")&&kn(n.slice(0,-1)),uh=n=>Mhe.test(n),qhe=()=>!0,Uhe=n=>Dhe.test(n)&&!Fhe.test(n),iZ=()=>!1,zhe=n=>Bhe.test(n),Hhe=n=>$he.test(n),Vhe=n=>!At(n)&&!Pt(n),Whe=n=>Px(n,oZ,iZ),At=n=>nZ.test(n),hv=n=>Px(n,lZ,Uhe),JO=n=>Px(n,Jhe,kn),v9=n=>Px(n,sZ,iZ),Ghe=n=>Px(n,aZ,Hhe),kP=n=>Px(n,cZ,zhe),Pt=n=>rZ.test(n),v2=n=>Cx(n,lZ),Khe=n=>Cx(n,Zhe),y9=n=>Cx(n,sZ),Xhe=n=>Cx(n,oZ),Yhe=n=>Cx(n,aZ),NP=n=>Cx(n,cZ,!0),Px=(n,e,t)=>{const r=nZ.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Cx=(n,e,t=!1)=>{const r=rZ.exec(n);return r?r[1]?e(r[1]):t:!1},sZ=n=>n==="position"||n==="percentage",aZ=n=>n==="image"||n==="url",oZ=n=>n==="length"||n==="size"||n==="bg-size",lZ=n=>n==="length",Jhe=n=>n==="number",Zhe=n=>n==="family-name",cZ=n=>n==="shadow",Qhe=()=>{const n=Ts("color"),e=Ts("font"),t=Ts("text"),r=Ts("font-weight"),i=Ts("tracking"),s=Ts("leading"),a=Ts("breakpoint"),o=Ts("container"),l=Ts("spacing"),c=Ts("radius"),u=Ts("shadow"),f=Ts("inset-shadow"),h=Ts("text-shadow"),p=Ts("drop-shadow"),x=Ts("blur"),y=Ts("perspective"),w=Ts("aspect"),b=Ts("ease"),S=Ts("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...P(),Pt,At],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],L=()=>[Pt,At,l],R=()=>[m1,"full","auto",...L()],F=()=>[am,"none","subgrid",Pt,At],j=()=>["auto",{span:["full",am,Pt,At]},am,Pt,At],D=()=>[am,"auto",Pt,At],W=()=>["auto","min","max","fr",Pt,At],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...L()],K=()=>[m1,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],$=()=>[n,Pt,At],te=()=>[...P(),y9,v9,{position:[Pt,At]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",Xhe,Whe,{size:[Pt,At]}],B=()=>[YO,v2,hv],G=()=>["","none","full",c,Pt,At],ne=()=>["",kn,v2,hv],ie=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[kn,YO,y9,v9],oe=()=>["","none",x,Pt,At],pe=()=>["none",kn,Pt,At],Se=()=>["none",kn,Pt,At],be=()=>[kn,Pt,At],ye=()=>[m1,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[uh],breakpoint:[uh],color:[qhe],container:[uh],"drop-shadow":[uh],ease:["in","out","in-out"],font:[Vhe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[uh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[uh],shadow:[uh],spacing:["px",kn],text:[uh],"text-shadow":[uh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",m1,At,Pt,w]}],container:["container"],columns:[{columns:[kn,At,Pt,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[am,"auto",Pt,At]}],basis:[{basis:[m1,"full","auto",o,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[kn,m1,"auto","initial","none",At]}],grow:[{grow:["",kn,Pt,At]}],shrink:[{shrink:["",kn,Pt,At]}],order:[{order:[am,"first","last","none",Pt,At]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[o,"screen",...K()]}],"min-w":[{"min-w":[o,"screen","none",...K()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,v2,hv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pt,JO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",YO,At]}],"font-family":[{font:[Khe,At,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pt,At]}],"line-clamp":[{"line-clamp":[kn,"none",Pt,JO]}],leading:[{leading:[s,...L()]}],"list-image":[{"list-image":["none",Pt,At]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,At]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[kn,"from-font","auto",Pt,hv]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[kn,"auto",Pt,At]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},am,Pt,At],radial:["",Pt,At],conic:[am,Pt,At]},Yhe,Ghe]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[kn,Pt,At]}],"outline-w":[{outline:["",kn,v2,hv]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",u,NP,kP]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",f,NP,kP]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[kn,hv]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",h,NP,kP]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[kn,Pt,At]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[kn]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Pt,At]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[kn]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,At]}],filter:[{filter:["","none",Pt,At]}],blur:[{blur:oe()}],brightness:[{brightness:[kn,Pt,At]}],contrast:[{contrast:[kn,Pt,At]}],"drop-shadow":[{"drop-shadow":["","none",p,NP,kP]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",kn,Pt,At]}],"hue-rotate":[{"hue-rotate":[kn,Pt,At]}],invert:[{invert:["",kn,Pt,At]}],saturate:[{saturate:[kn,Pt,At]}],sepia:[{sepia:["",kn,Pt,At]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,At]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[kn,Pt,At]}],"backdrop-contrast":[{"backdrop-contrast":[kn,Pt,At]}],"backdrop-grayscale":[{"backdrop-grayscale":["",kn,Pt,At]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[kn,Pt,At]}],"backdrop-invert":[{"backdrop-invert":["",kn,Pt,At]}],"backdrop-opacity":[{"backdrop-opacity":[kn,Pt,At]}],"backdrop-saturate":[{"backdrop-saturate":[kn,Pt,At]}],"backdrop-sepia":[{"backdrop-sepia":["",kn,Pt,At]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,At]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[kn,"initial",Pt,At]}],ease:[{ease:["linear","initial",b,Pt,At]}],delay:[{delay:[kn,Pt,At]}],animate:[{animate:["none",S,Pt,At]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Pt,At]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[Pt,At,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,At]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,At]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[kn,v2,hv,JO]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},epe=Rhe(Qhe);function Xn(...n){return epe(Kt(n))}const tpe=I8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),zt=U.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?ZJ:"button";return v.jsx(a,{ref:s,"data-slot":"button",className:Xn(tpe({variant:e,size:t,className:n})),...i})});zt.displayName="Button";var u5=sJ();const uZ=qn(u5);var npe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cn=npe.reduce((n,e)=>{const t=Vw(`Primitive.${e}`),r=U.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function rpe(n,e){n&&u5.flushSync(()=>n.dispatchEvent(e))}var aa=globalThis!=null&&globalThis.document?U.useLayoutEffect:()=>{};function ipe(n,e){return U.useReducer((t,r)=>e[t][r]??t,n)}var tf=n=>{const{present:e,children:t}=n,r=spe(e),i=typeof t=="function"?t({present:r.isPresent}):U.Children.only(t),s=Kn(r.ref,ape(i));return typeof t=="function"||r.isPresent?U.cloneElement(i,{ref:s}):null};tf.displayName="Presence";function spe(n){const[e,t]=U.useState(),r=U.useRef(null),i=U.useRef(n),s=U.useRef("none"),a=n?"mounted":"unmounted",[o,l]=ipe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const c=OP(r.current);s.current=o==="mounted"?c:"none"},[o]),aa(()=>{const c=r.current,u=i.current;if(u!==n){const h=s.current,p=OP(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),aa(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=p=>{const y=OP(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&y&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=p=>{p.target===e&&(s.current=OP(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:U.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function OP(n){return(n==null?void 0:n.animationName)||"none"}function ape(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ope(n,e){const t=U.createContext(e),r=s=>{const{children:a,...o}=s,l=U.useMemo(()=>o,Object.values(o));return v.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function i(s){const a=U.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function nf(n,e=[]){let t=[];function r(s,a){const o=U.createContext(a),l=t.length;t=[...t,a];const c=f=>{var b;const{scope:h,children:p,...x}=f,y=((b=h==null?void 0:h[n])==null?void 0:b[l])||o,w=U.useMemo(()=>x,Object.values(x));return v.jsx(y.Provider,{value:w,children:p})};c.displayName=s+"Provider";function u(f,h){var y;const p=((y=h==null?void 0:h[n])==null?void 0:y[l])||o,x=U.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(a=>U.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return U.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,lpe(i,...e)]}function lpe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function So(n){const e=U.useRef(n);return U.useEffect(()=>{e.current=n}),U.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var cpe=U.createContext(void 0);function f5(n){const e=U.useContext(cpe);return n||e||"ltr"}function wI(n,[e,t]){return Math.min(t,Math.max(e,n))}function dn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function upe(n,e){return U.useReducer((t,r)=>e[t][r]??t,n)}var D8="ScrollArea",[fZ]=nf(D8),[fpe,eu]=fZ(D8),dZ=U.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=n,[o,l]=U.useState(null),[c,u]=U.useState(null),[f,h]=U.useState(null),[p,x]=U.useState(null),[y,w]=U.useState(null),[b,S]=U.useState(0),[_,P]=U.useState(0),[E,C]=U.useState(!1),[N,L]=U.useState(!1),R=Kn(e,j=>l(j)),F=f5(i);return v.jsx(fpe,{scope:t,type:r,dir:F,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:L,onCornerWidthChange:S,onCornerHeightChange:P,children:v.jsx(cn.div,{dir:F,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...n.style}})})});dZ.displayName=D8;var hZ="ScrollAreaViewport",pZ=U.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...s}=n,a=eu(hZ,t),o=U.useRef(null),l=Kn(e,o,a.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(cn.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:v.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pZ.displayName=hZ;var Ad="ScrollAreaScrollbar",mZ=U.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=eu(Ad,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=n.orientation==="horizontal";return U.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?v.jsx(dpe,{...r,ref:e,forceMount:t}):i.type==="scroll"?v.jsx(hpe,{...r,ref:e,forceMount:t}):i.type==="auto"?v.jsx(gZ,{...r,ref:e,forceMount:t}):i.type==="always"?v.jsx(F8,{...r,ref:e}):null});mZ.displayName=Ad;var dpe=U.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=eu(Ad,n.__scopeScrollArea),[s,a]=U.useState(!1);return U.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),v.jsx(tf,{present:t||s,children:v.jsx(gZ,{"data-state":s?"visible":"hidden",...r,ref:e})})}),hpe=U.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=eu(Ad,n.__scopeScrollArea),s=n.orientation==="horizontal",a=Ok(()=>l("SCROLL_END"),100),[o,l]=upe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return U.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),U.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const p=c[u];f!==p&&(l("SCROLL"),a()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,a]),v.jsx(tf,{present:t||o!=="hidden",children:v.jsx(F8,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:dn(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dn(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),gZ=U.forwardRef((n,e)=>{const t=eu(Ad,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,a]=U.useState(!1),o=n.orientation==="horizontal",l=Ok(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?c:u)}},10);return Ww(t.viewport,l),Ww(t.content,l),v.jsx(tf,{present:r||s,children:v.jsx(F8,{"data-state":s?"visible":"hidden",...i,ref:e})})}),F8=U.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=eu(Ad,n.__scopeScrollArea),s=U.useRef(null),a=U.useRef(0),[o,l]=U.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=xZ(o.viewport,o.content),u={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,p){return bpe(h,a.current,o,p)}return t==="horizontal"?v.jsx(ppe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=b9(h,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):t==="vertical"?v.jsx(mpe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=b9(h,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ppe=U.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=eu(Ad,n.__scopeScrollArea),[a,o]=U.useState(),l=U.useRef(null),c=Kn(e,l,s.onScrollbarXChange);return U.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),v.jsx(yZ,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Nk(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(h),SZ(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:AE(a.paddingLeft),paddingEnd:AE(a.paddingRight)}})}})}),mpe=U.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=eu(Ad,n.__scopeScrollArea),[a,o]=U.useState(),l=U.useRef(null),c=Kn(e,l,s.onScrollbarYChange);return U.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),v.jsx(yZ,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Nk(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(h),SZ(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:AE(a.paddingTop),paddingEnd:AE(a.paddingBottom)}})}})}),[gpe,vZ]=fZ(Ad),yZ=U.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=n,p=eu(Ad,t),[x,y]=U.useState(null),w=Kn(e,R=>y(R)),b=U.useRef(null),S=U.useRef(""),_=p.viewport,P=r.content-r.viewport,E=So(u),C=So(l),N=Ok(f,10);function L(R){if(b.current){const F=R.clientX-b.current.left,j=R.clientY-b.current.top;c({x:F,y:j})}}return U.useEffect(()=>{const R=F=>{const j=F.target;(x==null?void 0:x.contains(j))&&E(F,P)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,x,P,E]),U.useEffect(C,[r,C]),Ww(x,N),Ww(p.content,N),v.jsx(gpe,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:So(s),onThumbPointerUp:So(a),onThumbPositionChange:C,onThumbPointerDown:So(o),children:v.jsx(cn.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:dn(n.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),b.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),L(R))}),onPointerMove:dn(n.onPointerMove,L),onPointerUp:dn(n.onPointerUp,R=>{const F=R.target;F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=S.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),SE="ScrollAreaThumb",bZ=U.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=vZ(SE,n.__scopeScrollArea);return v.jsx(tf,{present:t||i.hasThumb,children:v.jsx(vpe,{ref:e,...r})})}),vpe=U.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=eu(SE,t),a=vZ(SE,t),{onThumbPositionChange:o}=a,l=Kn(e,f=>a.onThumbChange(f)),c=U.useRef(void 0),u=Ok(()=>{c.current&&(c.current(),c.current=void 0)},100);return U.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(u(),!c.current){const p=wpe(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,u,o]),v.jsx(cn.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dn(n.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,y=f.clientY-p.top;a.onThumbPointerDown({x,y})}),onPointerUp:dn(n.onPointerUp,a.onThumbPointerUp)})});bZ.displayName=SE;var B8="ScrollAreaCorner",wZ=U.forwardRef((n,e)=>{const t=eu(B8,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?v.jsx(ype,{...n,ref:e}):null});wZ.displayName=B8;var ype=U.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=eu(B8,t),[s,a]=U.useState(0),[o,l]=U.useState(0),c=!!(s&&o);return Ww(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Ww(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?v.jsx(cn.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function AE(n){return n?parseInt(n,10):0}function xZ(n,e){const t=n/e;return isNaN(t)?0:t}function Nk(n){const e=xZ(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function bpe(n,e,t,r="ltr"){const i=Nk(t),s=i/2,a=e||s,o=i-a,l=t.scrollbar.paddingStart+a,c=t.scrollbar.size-t.scrollbar.paddingEnd-o,u=t.content-t.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return _Z([l,c],f)(n)}function b9(n,e,t="ltr"){const r=Nk(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=t==="ltr"?[0,a]:[a*-1,0],c=wI(n,l);return _Z([0,a],[0,o])(c)}function _Z(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function SZ(n,e){return n>0&&n<e}var wpe=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function i(){const s={left:n.scrollLeft,top:n.scrollTop},a=t.left!==s.left,o=t.top!==s.top;(a||o)&&e(),t=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Ok(n,e){const t=So(n),r=U.useRef(0);return U.useEffect(()=>()=>window.clearTimeout(r.current),[]),U.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Ww(n,e){const t=So(e);aa(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}var xpe=dZ,_pe=pZ,Spe=wZ;function Ape({className:n,children:e,...t}){return v.jsxs(xpe,{"data-slot":"scroll-area",className:Xn("relative",n),...t,children:[v.jsx(_pe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),v.jsx(Ppe,{}),v.jsx(Spe,{})]})}function Ppe({className:n,orientation:e="vertical",...t}){return v.jsx(mZ,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Xn("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:v.jsx(bZ,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Cpe="Separator",w9="horizontal",Epe=["horizontal","vertical"],AZ=U.forwardRef((n,e)=>{const{decorative:t,orientation:r=w9,...i}=n,s=Tpe(r)?r:w9,o=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return v.jsx(cn.div,{"data-orientation":s,...o,...i,ref:e})});AZ.displayName=Cpe;function Tpe(n){return Epe.includes(n)}var kpe=AZ;function Ql({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return v.jsx(kpe,{"data-slot":"separator-root",decorative:t,orientation:e,className:Xn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ope=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),x9=n=>{const e=Ope(n);return e.charAt(0).toUpperCase()+e.slice(1)},PZ=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>U.createElement("svg",{ref:l,...jpe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PZ("lucide",i),...o},[...a.map(([c,u])=>U.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(n,e)=>{const t=U.forwardRef(({className:r,...i},s)=>U.createElement(Lpe,{ref:s,iconNode:e,className:PZ(`lucide-${Npe(x9(n))}`,`lucide-${n}`,r),...i}));return t.displayName=x9(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bd=mn("activity",Rpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mpe=mn("arrow-left",Ipe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],c_=mn("bell",Dpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Bpe=mn("book",Fpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],_C=mn("brain",$pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],I2=mn("calendar",qpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],CZ=mn("chart-column",Upe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hpe=mn("check",zpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$8=mn("chevron-down",Vpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gpe=mn("chevron-right",Wpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xpe=mn("chevron-up",Kpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tb=mn("circle-check-big",Ype);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PE=mn("circle-help",Jpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qpe=mn("circle-x",Zpe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tme=mn("circle",eme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],EZ=mn("clock",nme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],SC=mn("download",rme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nb=mn("eye-off",ime);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rb=mn("eye",sme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],TZ=mn("file-chart-column-increasing",ame);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],lme=mn("file-spreadsheet",ome);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sd=mn("file-text",cme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],fme=mn("heart",ume);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_9=mn("house",dme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xI=mn("image",hme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mme=mn("key",pme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ap=mn("loader-circle",gme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yme=mn("log-out",vme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],q8=mn("mail",bme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],S9=mn("message-circle",wme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],kZ=mn("phone",xme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Sme=mn("printer",_me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],d5=mn("search",Ame);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A9=mn("settings",Pme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],NZ=mn("shield",Cme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tme=mn("square-pen",Eme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Nme=mn("stethoscope",kme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_I=mn("trash-2",Ome);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],U8=mn("trending-up",jme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yg=mn("triangle-alert",Lme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],OZ=mn("upload",Rme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],SI=mn("user-plus",Ime);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jk=mn("user",Mme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ug=mn("users",Dme);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AI=mn("x",Fme),Bme="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function jZ(n){const[e,t]=U.useState(!1),r=()=>{t(!0)},{src:i,alt:s,style:a,className:o,...l}=n;return e?v.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${o??""}`,style:a,children:v.jsx("div",{className:"flex items-center justify-center w-full h-full",children:v.jsx("img",{src:Bme,alt:"Error loading image",...l,"data-original-url":i})})}):v.jsx("img",{src:i,alt:s,className:o,style:a,...l,onError:r})}const LZ="/assets/clinitrackLogo-B53NO0ar.png";function $me({activeView:n,onViewChange:e}){const{user:t,logout:r}=Ku(),i=[{id:"dashboard",label:"Dashboard",icon:_9},{id:"new-patient",label:"New Patient",icon:SI},{id:"existing-patient",label:"Existing Patients",icon:ug},{id:"settings",label:"Settings",icon:A9},{id:"help",label:"Help & Support",icon:PE}],s=[{id:"dashboard",label:"Dashboard",icon:_9},{id:"patients",label:"Patient Profiles",icon:ug},{id:"analytics",label:"Analytics",icon:CZ},{id:"risk-assessment",label:"AI Risk Assessment",icon:bd},{id:"reports",label:"Reports",icon:TZ},{id:"settings",label:"Settings",icon:A9},{id:"help",label:"Help & Support",icon:PE}],a=(t==null?void 0:t.role)==="secretary"?i:s;return v.jsxs("div",{className:"flex h-full w-64 flex-col sidebar-gradient border-r border-sidebar-border",children:[v.jsx("div",{className:"flex h-16 items-center border-b border-sidebar-border px-4",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(jZ,{src:LZ,alt:"CliniTrack Logo",className:"h-7 w-auto logo-no-bg"}),v.jsx("div",{children:v.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t==null?void 0:t.role})})]})}),v.jsx(Ape,{className:"flex-1 px-3 py-4",children:v.jsx("div",{className:"space-y-1",children:a.map(o=>{const l=o.icon,c=n===o.id;return v.jsxs(zt,{variant:c?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e(o.id),children:[v.jsx(l,{className:"mr-2 h-4 w-4"}),o.label]},o.id)})})}),v.jsxs("div",{className:"border-t border-sidebar-border p-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"font-medium text-sm",children:t==null?void 0:t.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]}),v.jsx(Ql,{className:"mb-4"}),v.jsxs(zt,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:r,children:[v.jsx(yme,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})}const RZ=U.createContext({});function qme(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const z8=typeof window<"u",Ume=z8?U.useLayoutEffect:U.useEffect,H8=U.createContext(null);function V8(n,e){n.indexOf(e)===-1&&n.push(e)}function W8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hp=(n,e,t)=>t>e?e:t<n?n:t;let G8=()=>{};const pp={},IZ=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function MZ(n){return typeof n=="object"&&n!==null}const DZ=n=>/^0[^.\s]+$/u.test(n);function K8(n){let e;return()=>(e===void 0&&(e=n()),e)}const Kc=n=>n,zme=(n,e)=>t=>e(n(t)),h5=(...n)=>n.reduce(zme),C_=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class X8{constructor(){this.subscriptions=[]}add(e){return V8(this.subscriptions,e),()=>W8(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ud=n=>n*1e3,Wc=n=>n/1e3;function FZ(n,e){return e?n*(1e3/e):0}const BZ=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Hme=1e-7,Vme=12;function Wme(n,e,t,r,i){let s,a,o=0;do a=e+(t-e)/2,s=BZ(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>Hme&&++o<Vme);return a}function p5(n,e,t,r){if(n===e&&t===r)return Kc;const i=s=>Wme(s,0,1,n,t);return s=>s===0||s===1?s:BZ(i(s),e,r)}const $Z=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,qZ=n=>e=>1-n(1-e),UZ=p5(.33,1.53,.69,.99),Y8=qZ(UZ),zZ=$Z(Y8),HZ=n=>(n*=2)<1?.5*Y8(n):.5*(2-Math.pow(2,-10*(n-1))),J8=n=>1-Math.sin(Math.acos(n)),VZ=qZ(J8),WZ=$Z(J8),Gme=p5(.42,0,1,1),Kme=p5(0,0,.58,1),GZ=p5(.42,0,.58,1),Xme=n=>Array.isArray(n)&&typeof n[0]!="number",KZ=n=>Array.isArray(n)&&typeof n[0]=="number",Yme={linear:Kc,easeIn:Gme,easeInOut:GZ,easeOut:Kme,circIn:J8,circInOut:WZ,circOut:VZ,backIn:Y8,backInOut:zZ,backOut:UZ,anticipate:HZ},Jme=n=>typeof n=="string",P9=n=>{if(KZ(n)){G8(n.length===4);const[e,t,r,i]=n;return p5(e,t,r,i)}else if(Jme(n))return Yme[n];return n},jP=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zme(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),n()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const x=h&&i?t:r;return f&&a.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const Qme=40;function XZ(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=jP.reduce((_,P)=>(_[P]=Zme(s),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:x}=a,y=()=>{const _=pp.useManualTiming?i.timestamp:performance.now();t=!1,pp.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,Qme),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),p.process(i),x.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(y))},w=()=>{t=!0,r=!0,i.isProcessing||n(y)};return{schedule:jP.reduce((_,P)=>{const E=a[P];return _[P]=(C,N=!1,L=!1)=>(t||w(),E.schedule(C,N,L)),_},{}),cancel:_=>{for(let P=0;P<jP.length;P++)a[jP[P]].cancel(_)},state:i,steps:a}}const{schedule:bi,cancel:bg,state:wa,steps:ZO}=XZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kc,!0);let AC;function ege(){AC=void 0}const ol={now:()=>(AC===void 0&&ol.set(wa.isProcessing||pp.useManualTiming?wa.timestamp:performance.now()),AC),set:n=>{AC=n,queueMicrotask(ege)}},YZ=n=>e=>typeof e=="string"&&e.startsWith(n),Z8=YZ("--"),tge=YZ("var(--"),Q8=n=>tge(n)?nge.test(n.split("/*")[0].trim()):!1,nge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ex={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},E_={...Ex,transform:n=>hp(0,1,n)},LP={...Ex,default:1},u_=n=>Math.round(n*1e5)/1e5,eF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rge(n){return n==null}const ige=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tF=(n,e)=>t=>!!(typeof t=="string"&&ige.test(t)&&t.startsWith(n)||e&&!rge(t)&&Object.prototype.hasOwnProperty.call(t,e)),JZ=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(eF);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},sge=n=>hp(0,255,n),QO={...Ex,transform:n=>Math.round(sge(n))},Lv={test:tF("rgb","red"),parse:JZ("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+QO.transform(n)+", "+QO.transform(e)+", "+QO.transform(t)+", "+u_(E_.transform(r))+")"};function age(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const PI={test:tF("#"),parse:age,transform:Lv.transform},m5=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),cm=m5("deg"),fd=m5("%"),ln=m5("px"),oge=m5("vh"),lge=m5("vw"),C9={...fd,parse:n=>fd.parse(n)/100,transform:n=>fd.transform(n*100)},D1={test:tF("hsl","hue"),parse:JZ("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+fd.transform(u_(e))+", "+fd.transform(u_(t))+", "+u_(E_.transform(r))+")"},gs={test:n=>Lv.test(n)||PI.test(n)||D1.test(n),parse:n=>Lv.test(n)?Lv.parse(n):D1.test(n)?D1.parse(n):PI.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Lv.transform(n):D1.transform(n),getAnimatableNone:n=>{const e=gs.parse(n);return e.alpha=0,gs.transform(e)}},cge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uge(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(eF))==null?void 0:e.length)||0)+(((t=n.match(cge))==null?void 0:t.length)||0)>0}const ZZ="number",QZ="color",fge="var",dge="var(",E9="${}",hge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function T_(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(hge,l=>(gs.test(l)?(r.color.push(s),i.push(QZ),t.push(gs.parse(l))):l.startsWith(dge)?(r.var.push(s),i.push(fge),t.push(l)):(r.number.push(s),i.push(ZZ),t.push(parseFloat(l))),++s,E9)).split(E9);return{values:t,split:o,indexes:r,types:i}}function eQ(n){return T_(n).values}function tQ(n){const{split:e,types:t}=T_(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===ZZ?s+=u_(i[a]):o===QZ?s+=gs.transform(i[a]):s+=i[a]}return s}}const pge=n=>typeof n=="number"?0:gs.test(n)?gs.getAnimatableNone(n):n;function mge(n){const e=eQ(n);return tQ(n)(e.map(pge))}const wg={test:uge,parse:eQ,createTransformer:tQ,getAnimatableNone:mge};function e3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function gge({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=e3(l,o,n+1/3),s=e3(l,o,n),a=e3(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function CE(n,e){return t=>t>0?e:n}const ji=(n,e,t)=>n+(e-n)*t,t3=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vge=[PI,Lv,D1],yge=n=>vge.find(e=>e.test(n));function T9(n){const e=yge(n);if(!e)return!1;let t=e.parse(n);return e===D1&&(t=gge(t)),t}const k9=(n,e)=>{const t=T9(n),r=T9(e);if(!t||!r)return CE(n,e);const i={...t};return s=>(i.red=t3(t.red,r.red,s),i.green=t3(t.green,r.green,s),i.blue=t3(t.blue,r.blue,s),i.alpha=ji(t.alpha,r.alpha,s),Lv.transform(i))},CI=new Set(["none","hidden"]);function bge(n,e){return CI.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function wge(n,e){return t=>ji(n,e,t)}function nF(n){return typeof n=="number"?wge:typeof n=="string"?Q8(n)?CE:gs.test(n)?k9:Sge:Array.isArray(n)?nQ:typeof n=="object"?gs.test(n)?k9:xge:CE}function nQ(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>nF(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function xge(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=nF(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function _ge(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=n.indexes[s][r[s]],o=n.values[a]??0;t[i]=o,r[s]++}return t}const Sge=(n,e)=>{const t=wg.createTransformer(e),r=T_(n),i=T_(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?CI.has(n)&&!i.values.length||CI.has(e)&&!r.values.length?bge(n,e):h5(nQ(_ge(r,i),i.values),t):CE(n,e)};function rQ(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ji(n,e,t):nF(n)(n,e)}const Age=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>bi.update(e,t),stop:()=>bg(e),now:()=>wa.isProcessing?wa.timestamp:ol.now()}},iQ=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},EE=2e4;function rF(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<EE;)e+=t,r=n.next(e);return e>=EE?1/0:e}function Pge(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(rF(r),EE);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Wc(i)}}const Cge=5;function sQ(n,e,t){const r=Math.max(e-Cge,0);return FZ(t-n(r),e-r)}const Vi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n3=.001;function Ege({duration:n=Vi.duration,bounce:e=Vi.bounce,velocity:t=Vi.velocity,mass:r=Vi.mass}){let i,s,a=1-e;a=hp(Vi.minDamping,Vi.maxDamping,a),n=hp(Vi.minDuration,Vi.maxDuration,Wc(n)),a<1?(i=c=>{const u=c*a,f=u*n,h=u-t,p=EI(c,a),x=Math.exp(-f);return n3-h/p*x},s=c=>{const f=c*a*n,h=f*t+t,p=Math.pow(a,2)*Math.pow(c,2)*n,x=Math.exp(-f),y=EI(Math.pow(c,2),a);return(-i(c)+n3>0?-1:1)*((h-p)*x)/y}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-n3+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const o=5/n,l=kge(i,s,o);if(n=ud(n),isNaN(l))return{stiffness:Vi.stiffness,damping:Vi.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:n}}}const Tge=12;function kge(n,e,t){let r=t;for(let i=1;i<Tge;i++)r=r-n(r)/e(r);return r}function EI(n,e){return n*Math.sqrt(1-e*e)}const Nge=["duration","bounce"],Oge=["stiffness","damping","mass"];function N9(n,e){return e.some(t=>n[t]!==void 0)}function jge(n){let e={velocity:Vi.velocity,stiffness:Vi.stiffness,damping:Vi.damping,mass:Vi.mass,isResolvedFromDuration:!1,...n};if(!N9(n,Oge)&&N9(n,Nge))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*hp(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Vi.mass,stiffness:i,damping:s}}else{const t=Ege(n);e={...e,...t,mass:Vi.mass},e.isResolvedFromDuration=!0}return e}function TE(n=Vi.visualDuration,e=Vi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=jge({...t,velocity:-Wc(t.velocity||0)}),x=h||0,y=c/(2*Math.sqrt(l*u)),w=a-s,b=Wc(Math.sqrt(l/u)),S=Math.abs(w)<5;r||(r=S?Vi.restSpeed.granular:Vi.restSpeed.default),i||(i=S?Vi.restDelta.granular:Vi.restDelta.default);let _;if(y<1){const E=EI(b,y);_=C=>{const N=Math.exp(-y*b*C);return a-N*((x+y*b*w)/E*Math.sin(E*C)+w*Math.cos(E*C))}}else if(y===1)_=E=>a-Math.exp(-b*E)*(w+(x+b*w)*E);else{const E=b*Math.sqrt(y*y-1);_=C=>{const N=Math.exp(-y*b*C),L=Math.min(E*C,300);return a-N*((x+y*b*w)*Math.sinh(L)+E*w*Math.cosh(L))/E}}const P={calculatedDuration:p&&f||null,next:E=>{const C=_(E);if(p)o.done=E>=f;else{let N=E===0?x:0;y<1&&(N=E===0?ud(x):sQ(_,E,C));const L=Math.abs(N)<=r,R=Math.abs(a-C)<=i;o.done=L&&R}return o.value=o.done?a:C,o},toString:()=>{const E=Math.min(rF(P),EE),C=iQ(N=>P.next(E*N).value,E,30);return E+"ms "+C},toTransition:()=>{}};return P}TE.applyToOptions=n=>{const e=Pge(n,100,TE);return n.ease=e.ease,n.duration=ud(e.duration),n.type="keyframes",n};function TI({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],h={done:!1,value:f},p=L=>o!==void 0&&L<o||l!==void 0&&L>l,x=L=>o===void 0?l:l===void 0||Math.abs(o-L)<Math.abs(l-L)?o:l;let y=t*e;const w=f+y,b=a===void 0?w:a(w);b!==w&&(y=b-f);const S=L=>-y*Math.exp(-L/r),_=L=>b+S(L),P=L=>{const R=S(L),F=_(L);h.done=Math.abs(R)<=c,h.value=h.done?b:F};let E,C;const N=L=>{p(h.value)&&(E=L,C=TE({keyframes:[h.value,x(h.value)],velocity:sQ(_,L,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:L=>{let R=!1;return!C&&E===void 0&&(R=!0,P(L),N(L)),E!==void 0&&L>=E?C.next(L-E):(!R&&P(L),h)}}}function Lge(n,e,t){const r=[],i=t||pp.mix||rQ,s=n.length-1;for(let a=0;a<s;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||Kc:e;o=h5(l,o)}r.push(o)}return r}function Rge(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(G8(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Lge(e,r,i),l=o.length,c=u=>{if(a&&u<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(u<n[f+1]);f++);const h=C_(n[f],n[f+1],u);return o[f](h)};return t?u=>c(hp(n[0],n[s-1],u)):c}function Ige(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=C_(0,e,r);n.push(ji(t,1,i))}}function Mge(n){const e=[0];return Ige(e,n.length-1),e}function Dge(n,e){return n.map(t=>t*e)}function Fge(n,e){return n.map(()=>e||GZ).splice(0,n.length-1)}function f_({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Xme(r)?r.map(P9):P9(r),s={done:!1,value:e[0]},a=Dge(t&&t.length===e.length?t:Mge(e),n),o=Rge(a,e,{ease:Array.isArray(i)?i:Fge(e,i)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const Bge=n=>n!==null;function iF(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(Bge),o=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const $ge={decay:TI,inertia:TI,tween:f_,keyframes:f_,spring:TE};function aQ(n){typeof n.type=="string"&&(n.type=$ge[n.type])}class sF{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const qge=n=>n/100;class aF extends sF{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==ol.now()&&this.tick(ol.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aQ(e);const{type:t=f_,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=t||f_;l!==f_&&typeof o[0]!="number"&&(this.mixKeyframes=h5(qge,rQ(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=rF(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,P=r;if(f){const L=Math.min(this.currentTime,i)/o;let R=Math.floor(L),F=L%1;!F&&L>=1&&(F=1),F===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(h==="reverse"?(F=1-F,p&&(F-=p/o)):h==="mirror"&&(P=a)),_=hp(0,1,F)*o}const E=S?{done:!1,value:u[0]}:P.next(_);s&&(E.value=s(E.value));let{done:C}=E;!S&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&x!==TI&&(E.value=iF(u,this.options,w,this.speed)),y&&y(E.value),N&&this.finish(),E}then(e,t){return this.finished.then(e,t)}get duration(){return Wc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wc(e)}get time(){return Wc(this.currentTime)}set time(e){var t;e=ud(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ol.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Wc(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Age,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ol.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Uge(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Rv=n=>n*180/Math.PI,kI=n=>{const e=Rv(Math.atan2(n[1],n[0]));return NI(e)},zge={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:kI,rotateZ:kI,skewX:n=>Rv(Math.atan(n[1])),skewY:n=>Rv(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},NI=n=>(n=n%360,n<0&&(n+=360),n),O9=kI,j9=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),L9=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Hge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j9,scaleY:L9,scale:n=>(j9(n)+L9(n))/2,rotateX:n=>NI(Rv(Math.atan2(n[6],n[5]))),rotateY:n=>NI(Rv(Math.atan2(-n[2],n[0]))),rotateZ:O9,rotate:O9,skewX:n=>Rv(Math.atan(n[4])),skewY:n=>Rv(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function OI(n){return n.includes("scale")?1:0}function jI(n,e){if(!n||n==="none")return OI(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=Hge,i=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zge,i=o}if(!i)return OI(e);const s=r[e],a=i[1].split(",").map(Wge);return typeof s=="function"?s(a):a[s]}const Vge=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return jI(t,e)};function Wge(n){return parseFloat(n.trim())}const Tx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kx=new Set(Tx),R9=n=>n===Ex||n===ln,Gge=new Set(["x","y","z"]),Kge=Tx.filter(n=>!Gge.has(n));function Xge(n){const e=[];return Kge.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Zy={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>jI(e,"x"),y:(n,{transform:e})=>jI(e,"y")};Zy.translateX=Zy.x;Zy.translateY=Zy.y;const Qy=new Set;let LI=!1,RI=!1,II=!1;function oQ(){if(RI){const n=Array.from(Qy).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Xge(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RI=!1,LI=!1,Qy.forEach(n=>n.complete(II)),Qy.clear()}function lQ(){Qy.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(RI=!0)})}function Yge(){II=!0,lQ(),oQ(),II=!1}class oF{constructor(e,t,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qy.add(this),LI||(LI=!0,bi.read(lQ),bi.resolveKeyframes(oQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const o=r.readValue(t,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Uge(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qy.delete(this)}cancel(){this.state==="scheduled"&&(Qy.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jge=n=>n.startsWith("--");function Zge(n,e,t){Jge(e)?n.style.setProperty(e,t):n.style[e]=t}const Qge=K8(()=>window.ScrollTimeline!==void 0),eve={};function tve(n,e){const t=K8(n);return()=>eve[e]??t()}const cQ=tve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),M2=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,I9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:M2([0,.65,.55,1]),circOut:M2([.55,0,1,.45]),backIn:M2([.31,.01,.66,-.59]),backOut:M2([.33,1.53,.69,.99])};function uQ(n,e){if(n)return typeof n=="function"?cQ()?iQ(n,e):"ease-out":KZ(n)?M2(n):Array.isArray(n)?n.map(t=>uQ(t,e)||I9.easeOut):I9[n]}function nve(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:t};l&&(u.offset=l);const f=uQ(o,i);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),n.animate(u,h)}function fQ(n){return typeof n=="function"&&"applyToOptions"in n}function rve({type:n,...e}){return fQ(n)&&cQ()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ive extends sF{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,G8(typeof e.type!="string");const c=rve(e);this.animation=nve(t,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=iF(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Zge(t,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Wc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wc(e)}get time(){return Wc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ud(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Qge()?(this.animation.timeline=e,Kc):t(this)}}const dQ={anticipate:HZ,backInOut:zZ,circInOut:WZ};function sve(n){return n in dQ}function ave(n){typeof n.ease=="string"&&sve(n.ease)&&(n.ease=dQ[n.ease])}const M9=10;class ove extends ive{constructor(e){ave(e),aQ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new aF({...a,autoplay:!1}),l=ud(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-M9).value,o.sample(l).value,M9),o.stop()}}const D9=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wg.test(n)||n==="0")&&!n.startsWith("url("));function lve(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function cve(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=D9(i,e),o=D9(s,e);return!a||!o?!1:lve(n)||(t==="spring"||fQ(t))&&r}function MI(n){n.duration=0,n.type="keyframes"}const uve=new Set(["opacity","clipPath","filter","transform"]),fve=K8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dve(n){var u;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:a}=n;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return fve()&&t&&uve.has(t)&&(t!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const hve=40;class pve extends sF{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var x;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ol.now();const h={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||oF;this.keyframeResolver=new p(o,(y,w,b)=>this.onKeyframesResolved(y,w,h,!b),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=ol.now(),cve(e,s,a,o)||((pp.instantAnimations||!l)&&(u==null||u(iF(e,r,t))),e[0]=e[e.length-1],MI(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>hve?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},p=!c&&dve(h)?new ove({...h,element:h.motionValue.owner.current}):new aF(h);p.finished.then(()=>this.notifyFinished()).catch(Kc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Yge()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const mve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gve(n){const e=mve.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function hQ(n,e,t=1){const[r,i]=gve(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return IZ(a)?parseFloat(a):a}return Q8(i)?hQ(i,e,t+1):i}function lF(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const pQ=new Set(["width","height","top","left","right","bottom",...Tx]),vve={test:n=>n==="auto",parse:n=>n},mQ=n=>e=>e.test(n),gQ=[Ex,ln,fd,cm,lge,oge,vve],F9=n=>gQ.find(mQ(n));function yve(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DZ(n):!0}const bve=new Set(["brightness","contrast","saturate","opacity"]);function wve(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(eF)||[];if(!r)return n;const i=t.replace(r,"");let s=bve.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const xve=/\b([a-z-]*)\(.*?\)/gu,DI={...wg,getAnimatableNone:n=>{const e=n.match(xve);return e?e.map(wve).join(" "):n}},B9={...Ex,transform:Math.round},_ve={rotate:cm,rotateX:cm,rotateY:cm,rotateZ:cm,scale:LP,scaleX:LP,scaleY:LP,scaleZ:LP,skew:cm,skewX:cm,skewY:cm,distance:ln,translateX:ln,translateY:ln,translateZ:ln,x:ln,y:ln,z:ln,perspective:ln,transformPerspective:ln,opacity:E_,originX:C9,originY:C9,originZ:ln},cF={borderWidth:ln,borderTopWidth:ln,borderRightWidth:ln,borderBottomWidth:ln,borderLeftWidth:ln,borderRadius:ln,radius:ln,borderTopLeftRadius:ln,borderTopRightRadius:ln,borderBottomRightRadius:ln,borderBottomLeftRadius:ln,width:ln,maxWidth:ln,height:ln,maxHeight:ln,top:ln,right:ln,bottom:ln,left:ln,padding:ln,paddingTop:ln,paddingRight:ln,paddingBottom:ln,paddingLeft:ln,margin:ln,marginTop:ln,marginRight:ln,marginBottom:ln,marginLeft:ln,backgroundPositionX:ln,backgroundPositionY:ln,..._ve,zIndex:B9,fillOpacity:E_,strokeOpacity:E_,numOctaves:B9},Sve={...cF,color:gs,backgroundColor:gs,outlineColor:gs,fill:gs,stroke:gs,borderColor:gs,borderTopColor:gs,borderRightColor:gs,borderBottomColor:gs,borderLeftColor:gs,filter:DI,WebkitFilter:DI},vQ=n=>Sve[n];function yQ(n,e){let t=vQ(n);return t!==DI&&(t=wg),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Ave=new Set(["auto","none","0"]);function Pve(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Ave.has(s)&&T_(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=yQ(t,i)}class Cve extends oF{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Q8(c))){const u=hQ(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pQ.has(r)||e.length!==2)return;const[i,s]=e,a=F9(i),o=F9(s);if(a!==o)if(R9(a)&&R9(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Zy[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||yve(e[i]))&&r.push(i);r.length&&Pve(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zy[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Zy[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Eve(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const bQ=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Tve(n){return MZ(n)&&"offsetHeight"in n}const $9=30,kve=n=>!isNaN(parseFloat(n));class Nve{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ol.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ol.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new X8);const r=this.events[e].add(t);return e==="change"?()=>{r(),bi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$9)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,$9);return FZ(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gw(n,e){return new Nve(n,e)}const{schedule:uF}=XZ(queueMicrotask,!1),Pu={x:!1,y:!1};function wQ(){return Pu.x||Pu.y}function Ove(n){return n==="x"||n==="y"?Pu[n]?null:(Pu[n]=!0,()=>{Pu[n]=!1}):Pu.x||Pu.y?null:(Pu.x=Pu.y=!0,()=>{Pu.x=Pu.y=!1})}function xQ(n,e){const t=Eve(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function q9(n){return!(n.pointerType==="touch"||wQ())}function jve(n,e,t={}){const[r,i,s]=xQ(n,t),a=o=>{if(!q9(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=f=>{q9(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const _Q=(n,e)=>e?n===e?!0:_Q(n,e.parentElement):!1,fF=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Lve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rve(n){return Lve.has(n.tagName)||n.tabIndex!==-1}const PC=new WeakSet;function U9(n){return e=>{e.key==="Enter"&&n(e)}}function r3(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ive=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=U9(()=>{if(PC.has(t))return;r3(t,"down");const i=U9(()=>{r3(t,"up")}),s=()=>r3(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function z9(n){return fF(n)&&!wQ()}function Mve(n,e,t={}){const[r,i,s]=xQ(n,t),a=o=>{const l=o.currentTarget;if(!z9(o))return;PC.add(l);const c=e(l,o),u=(p,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),PC.has(l)&&PC.delete(l),z9(p)&&typeof c=="function"&&c(p,{success:x})},f=p=>{u(p,l===window||l===document||t.useGlobalTarget||_Q(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),Tve(o)&&(o.addEventListener("focus",c=>Ive(c,i)),!Rve(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function SQ(n){return MZ(n)&&"ownerSVGElement"in n}function Dve(n){return SQ(n)&&n.tagName==="svg"}const Za=n=>!!(n&&n.getVelocity),Fve=[...gQ,gs,wg],Bve=n=>Fve.find(mQ(n)),AQ=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $ve(n=!0){const e=U.useContext(H8);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=U.useId();U.useEffect(()=>{if(n)return i(s)},[n]);const a=U.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const PQ=U.createContext({strict:!1}),H9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kw={};for(const n in H9)Kw[n]={isEnabled:e=>H9[n].some(t=>!!e[t])};function qve(n){for(const e in n)Kw[e]={...Kw[e],...n[e]}}const Uve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kE(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Uve.has(n)}let CQ=n=>!kE(n);function zve(n){typeof n=="function"&&(CQ=e=>e.startsWith("on")?!kE(e):n(e))}try{zve(require("@emotion/is-prop-valid").default)}catch{}function Hve(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(CQ(i)||t===!0&&kE(i)||!e&&!kE(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const Lk=U.createContext({});function Rk(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function k_(n){return typeof n=="string"||Array.isArray(n)}const dF=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hF=["initial",...dF];function Ik(n){return Rk(n.animate)||hF.some(e=>k_(n[e]))}function EQ(n){return!!(Ik(n)||n.variants)}function Vve(n,e){if(Ik(n)){const{initial:t,animate:r}=n;return{initial:t===!1||k_(t)?t:void 0,animate:k_(r)?r:void 0}}return n.inherit!==!1?e:{}}function Wve(n){const{initial:e,animate:t}=Vve(n,U.useContext(Lk));return U.useMemo(()=>({initial:e,animate:t}),[V9(e),V9(t)])}function V9(n){return Array.isArray(n)?n.join(" "):n}const N_={};function Gve(n){for(const e in n)N_[e]=n[e],Z8(e)&&(N_[e].isCSSVariable=!0)}function TQ(n,{layout:e,layoutId:t}){return kx.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!N_[n]||n==="opacity")}const Kve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xve=Tx.length;function Yve(n,e,t){let r="",i=!0;for(let s=0;s<Xve;s++){const a=Tx[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=bQ(o,cF[a]);if(!l){i=!1;const u=Kve[a]||a;r+=`${u}(${c}) `}t&&(e[a]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function pF(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(kx.has(l)){a=!0;continue}else if(Z8(l)){i[l]=c;continue}else{const u=bQ(c,cF[l]);l.startsWith("origin")?(o=!0,s[l]=u):r[l]=u}}if(e.transform||(a||t?r.transform=Yve(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const mF=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kQ(n,e,t){for(const r in e)!Za(e[r])&&!TQ(r,t)&&(n[r]=e[r])}function Jve({transformTemplate:n},e){return U.useMemo(()=>{const t=mF();return pF(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Zve(n,e){const t=n.style||{},r={};return kQ(r,t,n),Object.assign(r,Jve(n,e)),r}function Qve(n,e){const t={},r=Zve(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const eye={offset:"stroke-dashoffset",array:"stroke-dasharray"},tye={offset:"strokeDashoffset",array:"strokeDasharray"};function nye(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?eye:tye;n[s.offset]=ln.transform(-r);const a=ln.transform(e),o=ln.transform(t);n[s.array]=`${a} ${o}`}function NQ(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(pF(n,o,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:h}=n;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),r!==void 0&&(f.scale=r),i!==void 0&&nye(f,i,s,a,!1)}const OQ=()=>({...mF(),attrs:{}}),jQ=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rye(n,e,t,r){const i=U.useMemo(()=>{const s=OQ();return NQ(s,e,jQ(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};kQ(s,n.style,n),i.style={...s,...i.style}}return i}const iye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gF(n){return typeof n!="string"||n.includes("-")?!1:!!(iye.indexOf(n)>-1||/[A-Z]/u.test(n))}function sye(n,e,t,{latestValues:r},i,s=!1){const o=(gF(n)?rye:Qve)(e,r,i,n),l=Hve(e,typeof n=="string",s),c=n!==U.Fragment?{...l,...o,ref:t}:{},{children:u}=e,f=U.useMemo(()=>Za(u)?u.get():u,[u]);return U.createElement(n,{...c,children:f})}function W9(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function vF(n,e,t,r){if(typeof e=="function"){const[i,s]=W9(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=W9(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function CC(n){return Za(n)?n.get():n}function aye({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:oye(t,r,i,n),renderState:e()}}function oye(n,e,t,r){const i={},s=r(n,{});for(const h in s)i[h]=CC(s[h]);let{initial:a,animate:o}=n;const l=Ik(n),c=EQ(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=t?t.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!Rk(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const x=vF(n,h[p]);if(x){const{transitionEnd:y,transition:w,...b}=x;for(const S in b){let _=b[S];if(Array.isArray(_)){const P=u?_.length-1:0;_=_[P]}_!==null&&(i[S]=_)}for(const S in y)i[S]=y[S]}}}return i}const LQ=n=>(e,t)=>{const r=U.useContext(Lk),i=U.useContext(H8),s=()=>aye(n,e,r,i);return t?s():qme(s)};function yF(n,e,t){var s;const{style:r}=n,i={};for(const a in r)(Za(r[a])||e.style&&Za(e.style[a])||TQ(a,n)||((s=t==null?void 0:t.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const lye=LQ({scrapeMotionValuesFromProps:yF,createRenderState:mF});function RQ(n,e,t){const r=yF(n,e,t);for(const i in n)if(Za(n[i])||Za(e[i])){const s=Tx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const cye=LQ({scrapeMotionValuesFromProps:RQ,createRenderState:OQ}),uye=Symbol.for("motionComponentSymbol");function F1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fye(n,e,t){return U.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):F1(t)&&(t.current=r))},[e])}const bF=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dye="framerAppearId",IQ="data-"+bF(dye),MQ=U.createContext({});function hye(n,e,t,r,i){var y,w;const{visualElement:s}=U.useContext(Lk),a=U.useContext(PQ),o=U.useContext(H8),l=U.useContext(AQ).reducedMotion,c=U.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(n,{visualState:e,parent:s,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=U.useContext(MQ);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&pye(c.current,t,i,f);const h=U.useRef(!1);U.useInsertionEffect(()=>{u&&h.current&&u.update(t,o)});const p=t[IQ],x=U.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return Ume(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),x.current=!1),u.enteringChildren=void 0)}),u}function pye(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:DQ(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&F1(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function DQ(n){if(n)return n.options.allowProjection!==!1?n.projection:DQ(n.parent)}function i3(n,{forwardMotionProps:e=!1}={},t,r){t&&qve(t);const i=gF(n)?cye:lye;function s(o,l){let c;const u={...U.useContext(AQ),...o,layoutId:mye(o)},{isStatic:f}=u,h=Wve(o),p=i(o,f);if(!f&&z8){gye();const x=vye(u);c=x.MeasureLayout,h.visualElement=hye(n,p,u,r,x.ProjectionNode)}return v.jsxs(Lk.Provider,{value:h,children:[c&&h.visualElement?v.jsx(c,{visualElement:h.visualElement,...u}):null,sye(n,o,fye(p,h.visualElement,l),p,f,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const a=U.forwardRef(s);return a[uye]=n,a}function mye({layoutId:n}){const e=U.useContext(RZ).id;return e&&n!==void 0?e+"-"+n:n}function gye(n,e){U.useContext(PQ).strict}function vye(n){const{drag:e,layout:t}=Kw;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yye(n,e){if(typeof Proxy>"u")return i3;const t=new Map,r=(s,a)=>i3(s,a,n,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,i3(a,void 0,n,e)),t.get(a))})}function FQ({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function bye({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function wye(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function s3(n){return n===void 0||n===1}function FI({scale:n,scaleX:e,scaleY:t}){return!s3(n)||!s3(e)||!s3(t)}function yv(n){return FI(n)||BQ(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function BQ(n){return G9(n.x)||G9(n.y)}function G9(n){return n&&n!=="0%"}function NE(n,e,t){const r=n-t,i=e*r;return t+i}function K9(n,e,t,r,i){return i!==void 0&&(n=NE(n,i,r)),NE(n,t,r)+e}function BI(n,e=0,t=1,r,i){n.min=K9(n.min,e,t,r,i),n.max=K9(n.max,e,t,r,i)}function $Q(n,{x:e,y:t}){BI(n.x,e.translate,e.scale,e.originPoint),BI(n.y,t.translate,t.scale,t.originPoint)}const X9=.999999999999,Y9=1.0000000000001;function xye(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$1(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$Q(n,a)),r&&yv(s.latestValues)&&$1(n,s.latestValues))}e.x<Y9&&e.x>X9&&(e.x=1),e.y<Y9&&e.y>X9&&(e.y=1)}function B1(n,e){n.min=n.min+e,n.max=n.max+e}function J9(n,e,t,r,i=.5){const s=ji(n.min,n.max,i);BI(n,e,t,s,r)}function $1(n,e){J9(n.x,e.x,e.scaleX,e.scale,e.originX),J9(n.y,e.y,e.scaleY,e.scale,e.originY)}function qQ(n,e){return FQ(wye(n.getBoundingClientRect(),e))}function _ye(n,e,t){const r=qQ(n,t),{scroll:i}=e;return i&&(B1(r.x,i.offset.x),B1(r.y,i.offset.y)),r}const Z9=()=>({translate:0,scale:1,origin:0,originPoint:0}),q1=()=>({x:Z9(),y:Z9()}),Q9=()=>({min:0,max:0}),ts=()=>({x:Q9(),y:Q9()}),$I={current:null},UQ={current:!1};function Sye(){if(UQ.current=!0,!!z8)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>$I.current=n.matches;n.addEventListener("change",e),e()}else $I.current=!1}const Aye=new WeakMap;function Pye(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Za(i))n.addValue(r,i);else if(Za(s))n.addValue(r,Gw(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,Gw(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const eq=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cye{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ol.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,bi.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Ik(t),this.isVariantNode=EQ(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Za(p)&&p.set(l[h])}}mount(e){var t;this.current=e,Aye.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),UQ.current||Sye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$I.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),bg(this.notifyUpdate),bg(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=kx.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&bi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kw){const t=Kw[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ts()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<eq.length;r++){const i=eq[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Pye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Gw(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(IZ(r)||DZ(r))?r=parseFloat(r):!Bve(r)&&wg.test(t)&&(r=yQ(e,t)),this.setBaseTarget(e,Za(r)?r.get():r)),Za(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=vF(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Za(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new X8),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){uF.render(this.render)}}class zQ extends Cye{constructor(){super(...arguments),this.KeyframeResolver=Cve}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Za(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function HQ(n,{style:e,vars:t},r,i){const s=n.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in t)s.setProperty(a,t[a])}function Eye(n){return window.getComputedStyle(n)}class Tye extends zQ{constructor(){super(...arguments),this.type="html",this.renderInstance=HQ}readValueFromInstance(e,t){var r;if(kx.has(t))return(r=this.projection)!=null&&r.isProjecting?OI(t):Vge(e,t);{const i=Eye(e),s=(Z8(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qQ(e,t)}build(e,t,r){pF(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return yF(e,t,r)}}const VQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kye(n,e,t,r){HQ(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(VQ.has(i)?i:bF(i),e.attrs[i])}class Nye extends zQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ts}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(kx.has(t)){const r=vQ(t);return r&&r.default||0}return t=VQ.has(t)?t:bF(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return RQ(e,t,r)}build(e,t,r){NQ(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){kye(e,t,r,i)}mount(e){this.isSVGTag=jQ(e.tagName),super.mount(e)}}const Oye=(n,e)=>gF(n)?new Nye(e):new Tye(e,{allowProjection:n!==U.Fragment});function ib(n,e,t){const r=n.getProps();return vF(r,e,t!==void 0?t:r.custom,n)}const qI=n=>Array.isArray(n);function jye(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Gw(t))}function Lye(n){return qI(n)?n[n.length-1]||0:n}function Rye(n,e){const t=ib(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const o=Lye(s[a]);jye(n,a,o)}}function Iye(n){return!!(Za(n)&&n.add)}function UI(n,e){const t=n.getValue("willChange");if(Iye(t))return t.add(e);if(!t&&pp.WillChange){const r=new pp.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function WQ(n){return n.props[IQ]}const Mye=n=>n!==null;function Dye(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Mye),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Fye={type:"spring",stiffness:500,damping:25,restSpeed:10},Bye=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$ye={type:"keyframes",duration:.8},qye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uye=(n,{keyframes:e})=>e.length>2?$ye:kx.has(n)?n.startsWith("scale")?Bye(e[1]):Fye:qye;function zye({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const wF=(n,e,t,r={},i,s)=>a=>{const o=lF(r,n)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ud(l);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:i};zye(o)||Object.assign(u,Uye(n,u)),u.duration&&(u.duration=ud(u.duration)),u.repeatDelay&&(u.repeatDelay=ud(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(MI(u),u.delay===0&&(f=!0)),(pp.instantAnimations||pp.skipAnimations)&&(f=!0,MI(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const h=Dye(u.keyframes,o);if(h!==void 0){bi.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new aF(u):new pve(u)};function Hye({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function GQ(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const u in o){const f=n.getValue(u,n.latestValues[u]??null),h=o[u];if(h===void 0||c&&Hye(c,u))continue;const p={delay:t,...lF(s||{},u)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=WQ(n);if(b){const S=window.MotionHandoffAnimation(b,u,bi);S!==null&&(p.startTime=S,y=!0)}}UI(n,u),f.start(wF(u,f,h,n.shouldReduceMotion&&pQ.has(u)?{type:!1}:p,n,y));const w=f.animation;w&&l.push(w)}return a&&Promise.all(l).then(()=>{bi.update(()=>{a&&Rye(n,a)})}),l}function KQ(n,e,t,r=0,i=1){const s=Array.from(n).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=n.size,o=(a-1)*r;return typeof t=="function"?t(s,a):i===1?s*r:o-s*r}function zI(n,e,t={}){var l;const r=ib(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(GQ(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Vye(n,e,c,u,f,h,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(t.delay)])}function Vye(n,e,t=0,r=0,i=0,s=1,a){const o=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),o.push(zI(l,e,{...a,delay:t+(typeof r=="function"?0:r)+KQ(n.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Wye(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zI(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=zI(n,e,t);else{const i=typeof e=="function"?ib(n,e,t.custom):e;r=Promise.all(GQ(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function XQ(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Gye=hF.length;function YQ(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?YQ(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Gye;t++){const r=hF[t],i=n.props[r];(k_(i)||i===!1)&&(e[r]=i)}return e}const Kye=[...dF].reverse(),Xye=dF.length;function Yye(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Wye(n,t,r)))}function Jye(n){let e=Yye(n),t=tq(),r=!0;const i=l=>(c,u)=>{var h;const f=ib(n,u,l==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...y}=f;c={...c,...y,...x}}return c};function s(l){e=l(n)}function a(l){const{props:c}=n,u=YQ(n.parent)||{},f=[],h=new Set;let p={},x=1/0;for(let w=0;w<Xye;w++){const b=Kye[w],S=t[b],_=c[b]!==void 0?c[b]:u[b],P=k_(_),E=b===l?S.isActive:null;E===!1&&(x=w);let C=_===u[b]&&_!==c[b]&&P;if(C&&r&&n.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...p},!S.isActive&&E===null||!_&&!S.prevProp||Rk(_)||typeof _=="boolean")continue;const N=Zye(S.prevProp,_);let L=N||b===l&&S.isActive&&!C&&P||w>x&&P,R=!1;const F=Array.isArray(_)?_:[_];let j=F.reduce(i(b),{});E===!1&&(j={});const{prevResolvedValues:D={}}=S,W={...D,...j},V=K=>{L=!0,h.has(K)&&(R=!0,h.delete(K)),S.needsAnimating[K]=!0;const $=n.getValue(K);$&&($.liveStyle=!1)};for(const K in W){const $=j[K],te=D[K];if(p.hasOwnProperty(K))continue;let Q=!1;qI($)&&qI(te)?Q=!XQ($,te):Q=$!==te,Q?$!=null?V(K):h.add(K):$!==void 0&&h.has(K)?V(K):S.protectedKeys[K]=!0}S.prevProp=_,S.prevResolvedValues=j,S.isActive&&(p={...p,...j}),r&&n.blockInitialAnimation&&(L=!1);const Z=C&&N;L&&(!Z||R)&&f.push(...F.map(K=>{const $={type:b};if(typeof K=="string"&&r&&!Z&&n.manuallyAnimateOnMount&&n.parent){const{parent:te}=n,Q=ib(te,K);if(te.enteringChildren&&Q){const{delayChildren:X}=Q.transition||{};$.delay=KQ(te.enteringChildren,n,X)}}return{animation:K,options:$}}))}if(h.size){const w={};if(typeof c.initial!="boolean"){const b=ib(n,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(w.transition=b.transition)}h.forEach(b=>{const S=n.getBaseTarget(b),_=n.getValue(b);_&&(_.liveStyle=!0),w[b]=S??null}),f.push({animation:w})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function o(l,c){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),t[l].isActive=c;const u=a(l);for(const h in t)t[h].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=tq(),r=!0}}}function Zye(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!XQ(e,n):!1}function pv(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tq(){return{animate:pv(!0),whileInView:pv(),whileHover:pv(),whileTap:pv(),whileDrag:pv(),whileFocus:pv(),exit:pv()}}class kg{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qye extends kg{constructor(e){super(e),e.animationState||(e.animationState=Jye(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let e0e=0;class t0e extends kg{constructor(){super(...arguments),this.id=e0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const n0e={animation:{Feature:Qye},exit:{Feature:t0e}};function O_(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function g5(n){return{point:{x:n.pageX,y:n.pageY}}}const r0e=n=>e=>fF(e)&&n(e,g5(e));function d_(n,e,t,r){return O_(n,e,r0e(t),r)}const JQ=1e-4,i0e=1-JQ,s0e=1+JQ,ZQ=.01,a0e=0-ZQ,o0e=0+ZQ;function Co(n){return n.max-n.min}function l0e(n,e,t){return Math.abs(n-e)<=t}function nq(n,e,t,r=.5){n.origin=r,n.originPoint=ji(e.min,e.max,n.origin),n.scale=Co(t)/Co(e),n.translate=ji(t.min,t.max,n.origin)-n.originPoint,(n.scale>=i0e&&n.scale<=s0e||isNaN(n.scale))&&(n.scale=1),(n.translate>=a0e&&n.translate<=o0e||isNaN(n.translate))&&(n.translate=0)}function h_(n,e,t,r){nq(n.x,e.x,t.x,r?r.originX:void 0),nq(n.y,e.y,t.y,r?r.originY:void 0)}function rq(n,e,t){n.min=t.min+e.min,n.max=n.min+Co(e)}function c0e(n,e,t){rq(n.x,e.x,t.x),rq(n.y,e.y,t.y)}function iq(n,e,t){n.min=e.min-t.min,n.max=n.min+Co(e)}function p_(n,e,t){iq(n.x,e.x,t.x),iq(n.y,e.y,t.y)}function kc(n){return[n("x"),n("y")]}const QQ=({current:n})=>n?n.ownerDocument.defaultView:null,sq=(n,e)=>Math.abs(n-e);function u0e(n,e){const t=sq(n.x,e.x),r=sq(n.y,e.y);return Math.sqrt(t**2+r**2)}class eee{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=o3(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=u0e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:y}=h,{timestamp:w}=wa;this.history.push({...y,timestamp:w});const{onStart:b,onMove:S}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=a3(p,this.transformPagePoint),bi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=o3(h.type==="pointercancel"?this.lastMoveEventInfo:a3(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,b),y&&y(h,b)},!fF(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=g5(e),l=a3(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=wa;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=t;f&&f(e,o3(l,this.history)),this.removeListeners=h5(d_(this.contextWindow,"pointermove",this.handlePointerMove),d_(this.contextWindow,"pointerup",this.handlePointerUp),d_(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bg(this.updatePoint)}}function a3(n,e){return e?{point:e(n.point)}:n}function aq(n,e){return{x:n.x-e.x,y:n.y-e.y}}function o3({point:n},e){return{point:n,delta:aq(n,tee(e)),offset:aq(n,f0e(e)),velocity:d0e(e,.1)}}function f0e(n){return n[0]}function tee(n){return n[n.length-1]}function d0e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=tee(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ud(e)));)t--;if(!r)return{x:0,y:0};const s=Wc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function h0e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ji(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ji(t,n,r.max):Math.min(n,t)),n}function oq(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function p0e(n,{top:e,left:t,bottom:r,right:i}){return{x:oq(n.x,t,i),y:oq(n.y,e,r)}}function lq(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function m0e(n,e){return{x:lq(n.x,e.x),y:lq(n.y,e.y)}}function g0e(n,e){let t=.5;const r=Co(n),i=Co(e);return i>r?t=C_(e.min,e.max-r,n.min):r>i&&(t=C_(n.min,n.max-i,e.min)),hp(0,1,t)}function v0e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const HI=.35;function y0e(n=HI){return n===!1?n=0:n===!0&&(n=HI),{x:cq(n,"left","right"),y:cq(n,"top","bottom")}}function cq(n,e,t){return{min:uq(n,e),max:uq(n,t)}}function uq(n,e){return typeof n=="number"?n:n[e]||0}const b0e=new WeakMap;class w0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ts(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(g5(f).point)},a=(f,h)=>{const{drag:p,dragPropagation:x,onDragStart:y}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ove(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kc(b=>{let S=this.getAxisMotionValue(b).get()||0;if(fd.test(S)){const{projection:_}=this.visualElement;if(_&&_.layout){const P=_.layout.layoutBox[b];P&&(S=Co(P)*(parseFloat(S)/100))}}this.originPoint[b]=S}),y&&bi.postRender(()=>y(f,h)),UI(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=h;if(x&&this.currentDirection===null){this.currentDirection=x0e(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),w&&w(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>kc(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new eee(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:QQ(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&bi.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!RP(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=h0e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&F1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=p0e(r.layoutBox,e):this.constraints=!1,this.elastic=y0e(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kc(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=v0e(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!F1(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_ye(r,i.root,this.visualElement.getTransformPagePoint());let a=m0e(i.layout.layoutBox,s);if(t){const o=t(bye(a));this.hasMutatedConstraints=!!o,o&&(a=FQ(o))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=kc(u=>{if(!RP(u,t,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return UI(this.visualElement,e),r.start(wF(e,r,0,t,this.visualElement,!1))}stopAnimation(){kc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kc(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kc(t=>{const{drag:r}=this.getProps();if(!RP(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];s.set(e[t]-ji(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!F1(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kc(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=g0e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kc(a=>{if(!RP(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ji(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;b0e.set(this.visualElement,this);const e=this.visualElement.current,t=d_(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();F1(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bi.read(r);const a=O_(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=HI,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function RP(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function x0e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class _0e extends kg{constructor(e){super(e),this.removeGroupControls=Kc,this.removeListeners=Kc,this.controls=new w0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kc}unmount(){this.removeGroupControls(),this.removeListeners()}}const fq=n=>(e,t)=>{n&&bi.postRender(()=>n(e,t))};class S0e extends kg{constructor(){super(...arguments),this.removePointerDownListener=Kc}onPointerDown(e){this.session=new eee(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fq(e),onStart:fq(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&bi.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=d_(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const EC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dq(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const y2={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ln.test(n))n=parseFloat(n);else return n;const t=dq(n,e.target.x),r=dq(n,e.target.y);return`${t}% ${r}%`}},A0e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=wg.parse(n);if(i.length>5)return r;const s=wg.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=ji(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let l3=!1;class P0e extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Gve(C0e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),l3&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),EC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,l3=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||bi.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uF.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;l3=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nee(n){const[e,t]=$ve(),r=U.useContext(RZ);return v.jsx(P0e,{...n,layoutGroup:r,switchLayoutGroup:U.useContext(MQ),isPresent:e,safeToRemove:t})}const C0e={borderRadius:{...y2,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:y2,borderTopRightRadius:y2,borderBottomLeftRadius:y2,borderBottomRightRadius:y2,boxShadow:A0e};function E0e(n,e,t){const r=Za(n)?n:Gw(n);return r.start(wF("",r,e,t)),r.animation}const T0e=(n,e)=>n.depth-e.depth;class k0e{constructor(){this.children=[],this.isDirty=!1}add(e){V8(this.children,e),this.isDirty=!0}remove(e){W8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(T0e),this.isDirty=!1,this.children.forEach(e)}}function N0e(n,e){const t=ol.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(bg(r),n(s-e))};return bi.setup(r,!0),()=>bg(r)}const ree=["TopLeft","TopRight","BottomLeft","BottomRight"],O0e=ree.length,hq=n=>typeof n=="string"?parseFloat(n):n,pq=n=>typeof n=="number"||ln.test(n);function j0e(n,e,t,r,i,s){i?(n.opacity=ji(0,t.opacity??1,L0e(r)),n.opacityExit=ji(e.opacity??1,0,R0e(r))):s&&(n.opacity=ji(e.opacity??1,t.opacity??1,r));for(let a=0;a<O0e;a++){const o=`border${ree[a]}Radius`;let l=mq(e,o),c=mq(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pq(l)===pq(c)?(n[o]=Math.max(ji(hq(l),hq(c),r),0),(fd.test(c)||fd.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=ji(e.rotate||0,t.rotate||0,r))}function mq(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const L0e=iee(0,.5,VZ),R0e=iee(.5,.95,Kc);function iee(n,e,t){return r=>r<n?0:r>e?1:t(C_(n,e,r))}function gq(n,e){n.min=e.min,n.max=e.max}function Sc(n,e){gq(n.x,e.x),gq(n.y,e.y)}function vq(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function yq(n,e,t,r,i){return n-=e,n=NE(n,1/t,r),i!==void 0&&(n=NE(n,1/i,r)),n}function I0e(n,e=0,t=1,r=.5,i,s=n,a=n){if(fd.test(e)&&(e=parseFloat(e),e=ji(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ji(s.min,s.max,r);n===s&&(o-=e),n.min=yq(n.min,e,t,o,i),n.max=yq(n.max,e,t,o,i)}function bq(n,e,[t,r,i],s,a){I0e(n,e[t],e[r],e[i],e.scale,s,a)}const M0e=["x","scaleX","originX"],D0e=["y","scaleY","originY"];function wq(n,e,t,r){bq(n.x,e,M0e,t?t.x:void 0,r?r.x:void 0),bq(n.y,e,D0e,t?t.y:void 0,r?r.y:void 0)}function xq(n){return n.translate===0&&n.scale===1}function see(n){return xq(n.x)&&xq(n.y)}function _q(n,e){return n.min===e.min&&n.max===e.max}function F0e(n,e){return _q(n.x,e.x)&&_q(n.y,e.y)}function Sq(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function aee(n,e){return Sq(n.x,e.x)&&Sq(n.y,e.y)}function Aq(n){return Co(n.x)/Co(n.y)}function Pq(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class B0e{constructor(){this.members=[]}add(e){V8(this.members,e),e.scheduleRender()}remove(e){if(W8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $0e(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:x}=t;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const c3=["","X","Y","Z"],q0e=1e3;let U0e=0;function u3(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function oee(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=WQ(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",bi,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&oee(r)}function lee({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=U0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V0e),this.nodes.forEach(X0e),this.nodes.forEach(Y0e),this.nodes.forEach(W0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new k0e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new X8),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=SQ(a)&&!Dve(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;bi.read(()=>{f=window.innerWidth}),n(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=N0e(h,250),EC.hasAnimatedSinceResize&&(EC.hasAnimatedSinceResize=!1,this.nodes.forEach(Tq)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||t1e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=c.getProps(),b=!this.targetLayout||!aee(this.targetLayout,p),S=!f&&h;if(this.options.layoutRoot||this.resumeFrom||S||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...lF(x,"layout"),onPlay:y,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,S)}else f||Tq(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J0e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oee(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cq);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Eq);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K0e),this.nodes.forEach(z0e),this.nodes.forEach(H0e)):this.nodes.forEach(Eq),this.clearAllSnapshots();const o=ol.now();wa.delta=hp(0,1e3/60,o-wa.timestamp),wa.timestamp=o,wa.isProcessing=!0,ZO.update.process(wa),ZO.preRender.process(wa),ZO.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uF.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G0e),this.sharedNodes.forEach(Z0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Co(this.snapshot.measuredBox.x)&&!Co(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ts(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!see(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||yv(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),n1e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return ts();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(r1e))){const{scroll:u}=this.root;u&&(B1(o.x,u.offset.x),B1(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=ts();if(Sc(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Sc(o,a),B1(o.x,f.offset.x),B1(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=ts();Sc(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&$1(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yv(u.latestValues)&&$1(l,u.latestValues)}return yv(this.latestValues)&&$1(l,this.latestValues),l}removeTransform(a){const o=ts();Sc(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yv(c.latestValues))continue;FI(c.latestValues)&&c.updateSnapshot();const u=ts(),f=c.measurePageBox();Sc(u,f),wq(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yv(this.latestValues)&&wq(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=wa.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ts(),this.relativeTargetOrigin=ts(),p_(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ts(),this.targetWithTransforms=ts()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sc(this.target,this.layout.layoutBox),$Q(this.target,this.targetDelta)):Sc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ts(),this.relativeTargetOrigin=ts(),p_(this.relativeTargetOrigin,this.target,p.target),Sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FI(this.parent.latestValues)||BQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Sc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;xye(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ts());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vq(this.prevProjectionDelta.x,this.projectionDelta.x),vq(this.prevProjectionDelta.y,this.projectionDelta.y)),h_(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Pq(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pq(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=q1(),this.projectionDelta=q1(),this.projectionDeltaWithTransform=q1()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=q1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ts(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,w=this.getStack(),b=!w||w.members.length<=1,S=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(e1e));this.animationProgress=0;let _;this.mixTargetDelta=P=>{const E=P/1e3;kq(f.x,a.x,E),kq(f.y,a.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(p_(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q0e(this.relativeTarget,this.relativeTargetOrigin,h,E),_&&F0e(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ts()),Sc(_,this.relativeTarget)),y&&(this.animationValues=u,j0e(u,c,this.latestValues,E,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(bg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bi.update(()=>{EC.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gw(0)),this.currentAnimation=E0e(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&cee(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ts();const f=Co(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=Co(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Sc(o,l),$1(o,u),h_(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new B0e),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&u3("z",a,c,this.animationValues);for(let u=0;u<c3.length;u++)u3(`rotate${c3[u]}`,a,c,this.animationValues),u3(`skew${c3[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=CC(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=CC(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yv(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=$0e(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),a.transform=f;const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in N_){if(u[x]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:b}=N_[x],S=f==="none"?u[x]:y(u[x],c);if(w){const _=w.length;for(let P=0;P<_;P++)a[w[P]]=S}else b?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=c===this?CC(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Cq),this.root.sharedNodes.clear()}}}function z0e(n){n.updateLayout()}function H0e(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?kc(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],p=Co(h);h.min=r[f].min,h.max=h.min+p}):cee(s,e.layoutBox,r)&&kc(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],p=Co(r[f]);h.max=h.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const o=q1();h_(o,r,e.layoutBox);const l=q1();a?h_(l,n.applyTransform(i,!0),e.measuredBox):h_(l,r,e.layoutBox);const c=!see(o);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const x=ts();p_(x,e.layoutBox,h.layoutBox);const y=ts();p_(y,r,p.layoutBox),aee(x,y)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=x,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function V0e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function W0e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function G0e(n){n.clearSnapshot()}function Cq(n){n.clearMeasurements()}function Eq(n){n.isLayoutDirty=!1}function K0e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Tq(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function X0e(n){n.resolveTargetDelta()}function Y0e(n){n.calcProjection()}function J0e(n){n.resetSkewAndRotation()}function Z0e(n){n.removeLeadSnapshot()}function kq(n,e,t){n.translate=ji(e.translate,0,t),n.scale=ji(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Nq(n,e,t,r){n.min=ji(e.min,t.min,r),n.max=ji(e.max,t.max,r)}function Q0e(n,e,t,r){Nq(n.x,e.x,t.x,r),Nq(n.y,e.y,t.y,r)}function e1e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const t1e={duration:.45,ease:[.4,0,.1,1]},Oq=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),jq=Oq("applewebkit/")&&!Oq("chrome/")?Math.round:Kc;function Lq(n){n.min=jq(n.min),n.max=jq(n.max)}function n1e(n){Lq(n.x),Lq(n.y)}function cee(n,e,t){return n==="position"||n==="preserve-aspect"&&!l0e(Aq(e),Aq(t),.2)}function r1e(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const i1e=lee({attachResizeListener:(n,e)=>O_(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f3={current:void 0},uee=lee({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!f3.current){const n=new i1e({});n.mount(window),n.setOptions({layoutScroll:!0}),f3.current=n}return f3.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),s1e={pan:{Feature:S0e},drag:{Feature:_0e,ProjectionNode:uee,MeasureLayout:nee}};function Rq(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&bi.postRender(()=>s(e,g5(e)))}class a1e extends kg{mount(){const{current:e}=this.node;e&&(this.unmount=jve(e,(t,r)=>(Rq(this.node,r,"Start"),i=>Rq(this.node,i,"End"))))}unmount(){}}class o1e extends kg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=h5(O_(this.node.current,"focus",()=>this.onFocus()),O_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Iq(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&bi.postRender(()=>s(e,g5(e)))}class l1e extends kg{mount(){const{current:e}=this.node;e&&(this.unmount=Mve(e,(t,r)=>(Iq(this.node,r,"Start"),(i,{success:s})=>Iq(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const VI=new WeakMap,d3=new WeakMap,c1e=n=>{const e=VI.get(n.target);e&&e(n)},u1e=n=>{n.forEach(c1e)};function f1e({root:n,...e}){const t=n||document;d3.has(t)||d3.set(t,{});const r=d3.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(u1e,{root:n,...e})),r[i]}function d1e(n,e,t){const r=f1e(e);return VI.set(n,t),r.observe(n),()=>{VI.delete(n),r.unobserve(n)}}const h1e={some:0,all:1};class p1e extends kg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h1e[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return d1e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(m1e(e,t))&&this.startObserver()}unmount(){}}function m1e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const g1e={inView:{Feature:p1e},tap:{Feature:l1e},focus:{Feature:o1e},hover:{Feature:a1e}},v1e={layout:{ProjectionNode:uee,MeasureLayout:nee}},y1e={...n0e,...g1e,...s1e,...v1e},sb=yye(y1e,Oye),b1e=[{icon:fme,label:"Cardiac Risk",value:"12%",risk:"low",delay:0,duration:20,x:10,y:15},{icon:_C,label:"Neurological",value:"34%",risk:"moderate",delay:2,duration:25,x:85,y:20},{icon:bd,label:"Metabolic Score",value:"78%",risk:"high",delay:4,duration:22,x:20,y:70},{icon:U8,label:"Risk Trend",value:" 5%",risk:"moderate",delay:6,duration:18,x:75,y:75},{icon:yg,label:"Alert Level",value:"Medium",risk:"moderate",delay:1,duration:24,x:60,y:25},{icon:CZ,label:"Analytics",value:"89%",risk:"low",delay:3,duration:21,x:15,y:45},{icon:Nme,label:"Vital Signs",value:"Stable",risk:"low",delay:5,duration:19,x:80,y:50},{icon:NZ,label:"Prevention",value:"Active",risk:"low",delay:7,duration:23,x:40,y:80}];function w1e({indicator:n}){const e=n.icon,t=i=>{switch(i){case"low":return"text-emerald-500";case"moderate":return"text-amber-500";case"high":return"text-red-500";default:return"text-gray-500"}},r=i=>{switch(i){case"low":return"bg-emerald-500/10 border-emerald-500/20";case"moderate":return"bg-amber-500/10 border-amber-500/20";case"high":return"bg-red-500/10 border-red-500/20";default:return"bg-gray-500/10 border-gray-500/20"}};return v.jsxs(sb.div,{className:`absolute flex items-center space-x-2 px-3 py-2 rounded-lg border backdrop-blur-sm ${r(n.risk)}`,style:{left:`${n.x}%`,top:`${n.y}%`},initial:{opacity:0,scale:.8},animate:{opacity:[0,.7,.4,.7,0],scale:[.8,1,1,1,.8],y:[-20,0,-10,0,-20]},transition:{duration:n.duration,delay:n.delay,repeat:1/0,ease:"easeInOut"},children:[v.jsx(e,{className:`h-4 w-4 ${t(n.risk)}`}),v.jsxs("div",{className:"text-xs",children:[v.jsx("div",{className:"font-medium text-foreground/80",children:n.label}),v.jsx("div",{className:`${t(n.risk)}`,children:n.value})]})]})}function Mq({delay:n=0}){return v.jsx(sb.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{delay:n+1},children:[...Array(5)].map((e,t)=>v.jsx(sb.div,{className:"absolute w-px bg-gradient-to-b from-transparent via-primary/20 to-transparent",style:{left:`${20+t*15}%`,height:"100vh"},initial:{y:"-100vh"},animate:{y:"100vh"},transition:{duration:8+t*2,delay:n+t*.5,repeat:1/0,ease:"linear"}},t))})}function x1e(){return v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-30",children:v.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
          radial-gradient(circle at 25% 25%, var(--primary) 1px, transparent 1px),
          radial-gradient(circle at 75% 75%, var(--accent) 1px, transparent 1px)
        `,backgroundSize:"50px 50px",animation:"pulse 4s ease-in-out infinite"}})})}function _1e({children:n}){return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 relative overflow-hidden",children:[v.jsx(x1e,{}),v.jsx(Mq,{delay:0}),v.jsx(Mq,{delay:4}),v.jsx("div",{className:"absolute inset-0 pointer-events-none",children:b1e.map((e,t)=>v.jsx(w1e,{indicator:e},t))}),v.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[v.jsx(sb.div,{className:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-primary/5",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),v.jsx(sb.div,{className:"absolute bottom-1/4 right-1/4 w-24 h-24 rounded-full bg-accent/5",animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:2}})]}),v.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:v.jsx(sb.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md",children:n})}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background/50 to-transparent pointer-events-none"})]})}function In({className:n,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:Xn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var S1e="Label",fee=U.forwardRef((n,e)=>v.jsx(cn.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));fee.displayName=S1e;var A1e=fee;function It({className:n,...e}){return v.jsx(A1e,{"data-slot":"label",className:Xn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Ft({className:n,...e}){return v.jsx("div",{"data-slot":"card",className:Xn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Bn({className:n,...e}){return v.jsx("div",{"data-slot":"card-header",className:Xn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function $n({className:n,...e}){return v.jsx("h4",{"data-slot":"card-title",className:Xn("leading-none",n),...e})}function ai({className:n,...e}){return v.jsx("p",{"data-slot":"card-description",className:Xn("text-muted-foreground",n),...e})}function tn({className:n,...e}){return v.jsx("div",{"data-slot":"card-content",className:Xn("px-6 [&:last-child]:pb-6",n),...e})}const P1e=I8("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Uc({className:n,variant:e,...t}){return v.jsx("div",{"data-slot":"alert",role:"alert",className:Xn(P1e({variant:e}),n),...t})}function zc({className:n,...e}){return v.jsx("div",{"data-slot":"alert-description",className:Xn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}const C1e=new Gt("CliniTrack");function E1e({onForgotPassword:n,onRegister:e}){const{login:t,isLoading:r}=Ku(),[i,s]=U.useState({email:"",password:""}),[a,o]=U.useState(!1),[l,c]=U.useState(""),[u,f]=U.useState(!1),h=async p=>{if(p.preventDefault(),c(""),!i.email||!i.password){c("Please fill in all required fields.");return}f(!0);try{if(console.log(" Attempting remote login..."),(await t(i.email,i.password)).success){console.log(" Remote login successful!");return}console.log(" Remote login failed, checking local database...");try{const y=`user_${i.email}`,w=await C1e.get(y);if(w&&w.type==="user")if(w.password===i.password)if(console.log(" Local login successful!"),(await t(i.email,i.password)).success){console.log(" Local authentication completed!");return}else c("Local authentication failed.");else c("Invalid password.");else c("User not found locally. Please check your credentials.")}catch(y){y.name==="not_found"?c("User not found. Please check your email or register."):(console.error("Local auth error:",y),c("Authentication error. Please try again."))}}catch(x){console.error("Login error:",x),c("Login failed. Please try again.")}finally{f(!1)}};return v.jsxs(Ft,{className:"w-full max-w-md mx-auto",children:[v.jsx(Bn,{className:"space-y-4",children:v.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[v.jsx("div",{className:"flex items-center space-x-3",children:v.jsx(jZ,{src:LZ,alt:"CliniTrack Logo",className:"h-10 w-auto logo-no-bg"})}),v.jsxs("div",{className:"text-center",children:[v.jsx($n,{children:"Welcome Back"}),v.jsx(ai,{children:"Sign in to access your medical records system"})]})]})}),v.jsx(tn,{children:v.jsxs("form",{onSubmit:h,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"email",children:"Email"}),v.jsx(In,{id:"email",type:"email",placeholder:"Enter your email",value:i.email,onChange:p=>s(x=>({...x,email:p.target.value})),disabled:r||u})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:i.password,onChange:p=>s(x=>({...x,password:p.target.value})),disabled:r||u}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!a),disabled:r||u,children:a?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),l&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:l})}),v.jsx(zt,{type:"submit",className:"w-full",disabled:r||u,children:r||u?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),u?"Checking local database...":"Signing in..."]}):"Sign In"}),v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx(zt,{type:"button",variant:"link",className:"p-0 h-auto",onClick:n,children:"Forgot your password?"}),v.jsxs("div",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",v.jsx(zt,{type:"button",variant:"link",className:"p-0 h-auto",onClick:e,children:"Sign up"})]})]})]})})]})}function dee(n){const e=n+"CollectionProvider",[t,r]=nf(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:b}=y,S=de.useRef(null),_=de.useRef(new Map).current;return v.jsx(i,{scope:w,itemMap:_,collectionRef:S,children:b})};a.displayName=e;const o=n+"CollectionSlot",l=Vw(o),c=de.forwardRef((y,w)=>{const{scope:b,children:S}=y,_=s(o,b),P=Kn(w,_.collectionRef);return v.jsx(l,{ref:P,children:S})});c.displayName=o;const u=n+"CollectionItemSlot",f="data-radix-collection-item",h=Vw(u),p=de.forwardRef((y,w)=>{const{scope:b,children:S,..._}=y,P=de.useRef(null),E=Kn(w,P),C=s(u,b);return de.useEffect(()=>(C.itemMap.set(P,{ref:P,..._}),()=>void C.itemMap.delete(P))),v.jsx(h,{[f]:"",ref:E,children:S})});p.displayName=u;function x(y){const w=s(n+"CollectionConsumer",y);return de.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((C,N)=>_.indexOf(C.ref.current)-_.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},x,r]}var T1e=iJ[" useId ".trim().toString()]||(()=>{}),k1e=0;function op(n){const[e,t]=U.useState(T1e());return aa(()=>{t(r=>r??String(k1e++))},[n]),n||(e?`radix-${e}`:"")}var N1e=iJ[" useInsertionEffect ".trim().toString()]||aa;function xg({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,a]=O1e({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:i;{const u=U.useRef(n!==void 0);U.useEffect(()=>{const f=u.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=U.useCallback(u=>{var f;if(o){const h=j1e(u)?u(n):u;h!==n&&((f=a.current)==null||f.call(a,h))}else s(u)},[o,n,s,a]);return[l,c]}function O1e({defaultProp:n,onChange:e}){const[t,r]=U.useState(n),i=U.useRef(t),s=U.useRef(e);return N1e(()=>{s.current=e},[e]),U.useEffect(()=>{var a;i.current!==t&&((a=s.current)==null||a.call(s,t),i.current=t)},[t,i]),[t,r,s]}function j1e(n){return typeof n=="function"}var h3="rovingFocusGroup.onEntryFocus",L1e={bubbles:!1,cancelable:!0},v5="RovingFocusGroup",[WI,hee,R1e]=dee(v5),[I1e,Mk]=nf(v5,[R1e]),[M1e,D1e]=I1e(v5),pee=U.forwardRef((n,e)=>v.jsx(WI.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(WI.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(F1e,{...n,ref:e})})}));pee.displayName=v5;var F1e=U.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=n,h=U.useRef(null),p=Kn(e,h),x=f5(s),[y,w]=xg({prop:a,defaultProp:o??null,onChange:l,caller:v5}),[b,S]=U.useState(!1),_=So(c),P=hee(t),E=U.useRef(!1),[C,N]=U.useState(0);return U.useEffect(()=>{const L=h.current;if(L)return L.addEventListener(h3,_),()=>L.removeEventListener(h3,_)},[_]),v.jsx(M1e,{scope:t,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:U.useCallback(L=>w(L),[w]),onItemShiftTab:U.useCallback(()=>S(!0),[]),onFocusableItemAdd:U.useCallback(()=>N(L=>L+1),[]),onFocusableItemRemove:U.useCallback(()=>N(L=>L-1),[]),children:v.jsx(cn.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...n.style},onMouseDown:dn(n.onMouseDown,()=>{E.current=!0}),onFocus:dn(n.onFocus,L=>{const R=!E.current;if(L.target===L.currentTarget&&R&&!b){const F=new CustomEvent(h3,L1e);if(L.currentTarget.dispatchEvent(F),!F.defaultPrevented){const j=P().filter(J=>J.focusable),D=j.find(J=>J.active),W=j.find(J=>J.id===y),Z=[D,W,...j].filter(Boolean).map(J=>J.ref.current);vee(Z,u)}}E.current=!1}),onBlur:dn(n.onBlur,()=>S(!1))})})}),mee="RovingFocusGroupItem",gee=U.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=n,l=op(),c=s||l,u=D1e(mee,t),f=u.currentTabStopId===c,h=hee(t),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:y}=u;return U.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),v.jsx(WI.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:v.jsx(cn.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:dn(n.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:dn(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:dn(n.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=q1e(w,u.orientation,u.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const P=_.indexOf(w.currentTarget);_=u.loop?U1e(_,P+1):_.slice(P+1)}setTimeout(()=>vee(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});gee.displayName=mee;var B1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $1e(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function q1e(n,e,t){const r=$1e(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return B1e[r]}function vee(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function U1e(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var yee=pee,bee=gee;function xF(n){const[e,t]=U.useState(void 0);return aa(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function _F(n){const e=U.useRef({value:n,previous:n});return U.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var SF="Radio",[z1e,wee]=nf(SF),[H1e,V1e]=z1e(SF),xee=U.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:c,...u}=n,[f,h]=U.useState(null),p=Kn(e,w=>h(w)),x=U.useRef(!1),y=f?c||!!f.closest("form"):!0;return v.jsxs(H1e,{scope:t,checked:i,disabled:a,children:[v.jsx(cn.button,{type:"button",role:"radio","aria-checked":i,"data-state":Pee(i),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:p,onClick:dn(n.onClick,w=>{i||l==null||l(),y&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),y&&v.jsx(Aee,{control:f,bubbles:!x.current,name:r,value:o,checked:i,required:s,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});xee.displayName=SF;var _ee="RadioIndicator",See=U.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...i}=n,s=V1e(_ee,t);return v.jsx(tf,{present:r||s.checked,children:v.jsx(cn.span,{"data-state":Pee(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});See.displayName=_ee;var W1e="RadioBubbleInput",Aee=U.forwardRef(({__scopeRadio:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const a=U.useRef(null),o=Kn(a,s),l=_F(t),c=xF(e);return U.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&p){const x=new Event("click",{bubbles:r});p.call(u,t),u.dispatchEvent(x)}},[l,t,r]),v.jsx(cn.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Aee.displayName=W1e;function Pee(n){return n?"checked":"unchecked"}var G1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Dk="RadioGroup",[K1e]=nf(Dk,[Mk,wee]),Cee=Mk(),Eee=wee(),[X1e,Y1e]=K1e(Dk),Tee=U.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...h}=n,p=Cee(t),x=f5(c),[y,w]=xg({prop:s,defaultProp:i??null,onChange:f,caller:Dk});return v.jsx(X1e,{scope:t,name:r,required:a,disabled:o,value:y,onValueChange:w,children:v.jsx(yee,{asChild:!0,...p,orientation:l,dir:x,loop:u,children:v.jsx(cn.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:x,...h,ref:e})})})});Tee.displayName=Dk;var kee="RadioGroupItem",Nee=U.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...i}=n,s=Y1e(kee,t),a=s.disabled||r,o=Cee(t),l=Eee(t),c=U.useRef(null),u=Kn(e,c),f=s.value===i.value,h=U.useRef(!1);return U.useEffect(()=>{const p=y=>{G1e.includes(y.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),v.jsx(bee,{asChild:!0,...o,focusable:!a,active:f,children:v.jsx(xee,{disabled:a,required:s.required,checked:f,...l,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:dn(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:dn(i.onFocus,()=>{var p;h.current&&((p=c.current)==null||p.click())})})})});Nee.displayName=kee;var J1e="RadioGroupIndicator",Oee=U.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,i=Eee(t);return v.jsx(See,{...i,...r,ref:e})});Oee.displayName=J1e;var Z1e=Tee,Q1e=Nee,ebe=Oee;function tbe({className:n,...e}){return v.jsx(Z1e,{"data-slot":"radio-group",className:Xn("grid gap-3",n),...e})}function Dq({className:n,...e}){return v.jsx(Q1e,{"data-slot":"radio-group-item",className:Xn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:v.jsx(ebe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:v.jsx(tme,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Fq=new Gt("CliniTrack");function nbe({onBackToLogin:n}){const{register:e,isLoading:t}=Ku(),[r,i]=U.useState({name:"",email:"",password:"",confirmPassword:"",role:"secretary"}),[s,a]=U.useState(!1),[o,l]=U.useState(!1),[c,u]=U.useState(""),[f,h]=U.useState(!1),p=async x=>{if(x.preventDefault(),u(""),h(!1),!r.name||!r.email||!r.password||!r.confirmPassword){u("Please fill in all fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){u("Please enter a valid email address");return}if(r.password!==r.confirmPassword){u("Passwords do not match");return}if(r.password.length<6){u("Password must be at least 6 characters long");return}try{try{if(await Fq.get(r.email)){u("Email already exists locally.");return}}catch(S){S.name!=="not_found"&&console.warn("Error checking local user:",S)}const w=await e(r.email,r.password,r.name,r.role);w||console.log("Remote registration failed, saving locally for offline use...");const b={_id:`user_${r.email}`,type:"user",name:r.name,email:r.email,password:r.password,role:r.role,createdAt:new Date().toISOString(),synced:w};try{await Fq.put(b),console.log(" User saved locally to PouchDB:",r.email)}catch(S){if((S==null?void 0:S.name)==="conflict"){u("Email already exists locally.");return}else{console.error("Failed to save user locally:",S),u("Failed to create local account. Please try again.");return}}h(!0),setTimeout(()=>{n()},2e3)}catch(w){console.error("Registration error:",w),u("Registration failed. Please try again.")}};return f?v.jsx(Ft,{className:"w-full max-w-md mx-auto",children:v.jsx(tn,{className:"pt-6",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:v.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium",children:"Registration Successful!"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Your account has been created. Redirecting to login..."})]})]})})}):v.jsxs(Ft,{className:"w-full max-w-md mx-auto",children:[v.jsxs(Bn,{className:"space-y-1",children:[v.jsx($n,{className:"text-center",children:"Create Account"}),v.jsx(ai,{className:"text-center",children:"Register for CliniTrack access"})]}),v.jsx(tn,{children:v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"name",children:"Full Name"}),v.jsx(In,{id:"name",type:"text",placeholder:"Enter your full name",value:r.name,onChange:x=>i(y=>({...y,name:x.target.value})),disabled:t})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"email",children:"Email"}),v.jsx(In,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:x=>i(y=>({...y,email:x.target.value})),disabled:t})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"password",type:s?"text":"password",placeholder:"Create a password",value:r.password,onChange:x=>i(y=>({...y,password:x.target.value})),disabled:t}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>a(!s),children:s?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"confirmPassword",type:o?"text":"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:x=>i(y=>({...y,confirmPassword:x.target.value})),disabled:t}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!o),children:o?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(It,{children:"Role"}),v.jsxs(tbe,{value:r.role,onValueChange:x=>i(y=>({...y,role:x})),className:"flex space-x-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Dq,{value:"secretary",id:"secretary"}),v.jsx(It,{htmlFor:"secretary",children:"Secretary"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Dq,{value:"doctor",id:"doctor"}),v.jsx(It,{htmlFor:"doctor",children:"Doctor"})]})]})]}),c&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:c})}),v.jsx(zt,{type:"submit",className:"w-full",disabled:t,children:t?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"}),v.jsx("div",{className:"text-center",children:v.jsx(zt,{type:"button",variant:"link",className:"p-0 h-auto text-sm",onClick:n,children:"Already have an account? Sign in"})})]})})]})}class y5{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const rbe=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Aa={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:rbe()},AF=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},ibe=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=AF(n);Aa.publicKey=t.publicKey,Aa.blockHeadless=t.blockHeadless,Aa.storageProvider=t.storageProvider,Aa.blockList=t.blockList,Aa.limitRate=t.limitRate,Aa.origin=t.origin||e},jee=async(n,e,t={})=>{const r=await fetch(Aa.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),s=new y5(r.status,i);if(r.ok)return s;throw s},Lee=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},sbe=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Ree=n=>n.webdriver||!n.languages||n.languages.length===0,Iee=()=>new y5(451,"Unavailable For Headless Browser"),abe=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},obe=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},lbe=(n,e)=>n instanceof FormData?n.get(e):n[e],Mee=(n,e)=>{if(obe(n))return!1;abe(n.list,n.watchVariable);const t=lbe(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},Dee=()=>new y5(403,"Forbidden"),cbe=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},ube=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},Fee=async(n,e,t)=>{if(!e.throttle||!t)return!1;cbe(e.throttle,e.id);const r=e.id||n;return await ube(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},Bee=()=>new y5(429,"Too Many Requests"),fbe=async(n,e,t,r)=>{const i=AF(r),s=i.publicKey||Aa.publicKey,a=i.blockHeadless||Aa.blockHeadless,o=i.storageProvider||Aa.storageProvider,l={...Aa.blockList,...i.blockList},c={...Aa.limitRate,...i.limitRate};return a&&Ree(navigator)?Promise.reject(Iee()):(Lee(s,n,e),sbe(t),t&&Mee(l,t)?Promise.reject(Dee()):await Fee(location.pathname,c,o)?Promise.reject(Bee()):jee("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},dbe=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},hbe=n=>typeof n=="string"?document.querySelector(n):n,pbe=async(n,e,t,r)=>{const i=AF(r),s=i.publicKey||Aa.publicKey,a=i.blockHeadless||Aa.blockHeadless,o=Aa.storageProvider||i.storageProvider,l={...Aa.blockList,...i.blockList},c={...Aa.limitRate,...i.limitRate};if(a&&Ree(navigator))return Promise.reject(Iee());const u=hbe(t);Lee(s,n,e),dbe(u);const f=new FormData(u);return Mee(l,f)?Promise.reject(Dee()):await Fee(location.pathname,c,o)?Promise.reject(Bee()):(f.append("lib_version","4.4.1"),f.append("service_id",n),f.append("template_id",e),f.append("user_id",s),jee("/api/v1.0/email/send-form",f))},GI={init:ibe,send:fbe,sendForm:pbe,EmailJSResponseStatus:y5};GI.init("YOUR_PUBLIC_KEY");function mbe(){const[n,e]=U.useState(!1),[t,r]=U.useState(null);return{sendPasswordResetEmail:async a=>{e(!0),r(null);try{const o={to_email:a.to,to_name:a.name,reset_link:a.resetLink,app_name:"CliniTrack",support_email:"support@clinitrack.com"},l=await GI.send("service_gmqos6h","template_mrkvcrh",o);return console.log(" Email sent successfully:",l),{success:!0}}catch(o){console.error(" Email sending failed:",o);const l=o instanceof Error?o.message:"Failed to send email";return r(l),{success:!1,error:l}}finally{e(!1)}},sendWelcomeEmail:async(a,o)=>{e(!0),r(null);try{const l={to_email:a,to_name:o,app_name:"CliniTrack",welcome_message:"Welcome to our medical records system!"};return await GI.send("YOUR_SERVICE_ID","YOUR_WELCOME_TEMPLATE_ID",l),{success:!0}}catch(l){const c=l instanceof Error?l.message:"Failed to send welcome email";return r(c),{success:!1,error:c}}finally{e(!1)}},isLoading:n,error:t,clearError:()=>r(null)}}const Bq=new Gt("CliniTrack");function gbe({onBackToLogin:n}){const[e,t]=U.useState(""),[r,i]=U.useState(""),[s,a]=U.useState(""),[o,l]=U.useState(!1),{sendPasswordResetEmail:c,isLoading:u,error:f,clearError:h}=mbe(),p=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Date.now().toString(36),x=async b=>{if(b.preventDefault(),a(""),i(""),h(),!e){a("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){a("Please enter a valid email address");return}try{let _=!1,P="";try{const R=`user_${e}`,F=await Bq.get(R);F&&F.type==="user"&&(_=!0,P=F.name)}catch(R){R.name!=="not_found"&&console.error("Error checking user:",R)}if(!_){i("If an account with this email exists, password reset instructions have been sent."),l(!0);return}const E=p(),C=`${window.location.origin}/reset-password?token=${E}`,N={_id:`reset_token_${E}`,type:"password_reset_token",email:e,token:E,expiresAt:new Date(Date.now()+1440*60*1e3).toISOString(),used:!1,createdAt:new Date().toISOString()};await Bq.put(N);const L=await c({to:e,name:P,resetLink:C});L.success?(i(`Password reset instructions have been sent to ${e}. Check your inbox!`),l(!0)):a(L.error||"Failed to send reset email. Please try again.")}catch(_){console.error("Password reset error:",_),a("An unexpected error occurred. Please try again.")}},y=()=>{l(!1),t(""),i(""),a(""),h()},w=s||f;return v.jsxs(Ft,{className:"w-full max-w-md mx-auto",children:[v.jsxs(Bn,{className:"space-y-1",children:[v.jsx($n,{className:"text-center",children:"Reset Password"}),v.jsx(ai,{className:"text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),v.jsxs(tn,{children:[o?v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:v.jsx(tb,{className:"w-6 h-6 text-green-600"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-lg",children:"Check Your Email"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r}),v.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Follow the instructions in the email to reset your password."})]}),v.jsx(zt,{type:"button",variant:"outline",onClick:y,className:"w-full",children:"Reset Another Email"})]}):v.jsxs("form",{onSubmit:x,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"email",children:"Email Address"}),v.jsx(In,{id:"email",type:"email",placeholder:"Enter your email address",value:e,onChange:b=>t(b.target.value),disabled:u,required:!0})]}),w&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:w})}),v.jsx(zt,{type:"submit",className:"w-full",disabled:u,children:u?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Reset Instructions..."]}):v.jsxs(v.Fragment,{children:[v.jsx(q8,{className:"w-4 h-4 mr-2"}),"Send Reset Instructions"]})})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(zt,{type:"button",variant:"link",className:"p-0 h-auto text-sm",onClick:n,disabled:u,children:[v.jsx(Mpe,{className:"w-4 h-4 mr-1"}),"Back to sign in"]})}),!o&&v.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:v.jsxs("p",{className:"text-xs text-green-700",children:[v.jsx("strong",{children:"Powered by EmailJS:"})," Real emails will be sent instantly. No backend setup required!"]})})]})]})}const vbe=I8("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ir({className:n,variant:e,asChild:t=!1,...r}){const i=t?ZJ:"span";return v.jsx(i,{"data-slot":"badge",className:Xn(vbe({variant:e}),n),...r})}function $q({patients:n,labResults:e,visits:t,riskAssessments:r,onViewChange:i}){var C;const{user:s}=Ku(),[a,o]=U.useState(0),[l,c]=U.useState(0),[u,f]=U.useState([]),h=new Gt("CliniTrack");U.useEffect(()=>{(async()=>{try{const R=(await h.allDocs({include_docs:!0})).rows.map(D=>D.doc).filter(D=>(D==null?void 0:D.type)==="labResult");o(R.length);const F=new Date;F.setDate(F.getDate()-30);const j=R.filter(D=>new Date(D.date)>F);c(j.length)}catch(L){console.error("Failed to fetch lab files count:",L)}})()},[n]),U.useEffect(()=>{const N=async()=>{try{const j=(await h.allDocs({include_docs:!0})).rows.map(D=>D.doc).filter(D=>(D==null?void 0:D.type)==="activity").sort((D,W)=>new Date(W.timestamp).getTime()-new Date(D.timestamp).getTime()).slice(0,2);f(j)}catch(R){console.error("Failed to fetch recent activities:",R)}};N();const L=setInterval(N,3e4);return()=>clearInterval(L)},[n]);const p=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=N=>{switch(N){case"Blood Test":return"default";case"Imaging":return"secondary";case"Biopsy":return"destructive";case"Urine Test":return"outline";default:return"outline"}},y=n.length,w=n.filter(N=>{const L=new Date(N.createdAt),R=new Date;return R.setDate(R.getDate()-30),L>R}).length;e.sort((N,L)=>new Date(L.date).getTime()-new Date(N.date).getTime()).slice(0,5);const b=r.filter(N=>N.riskLevel==="High").length;t.sort((N,L)=>new Date(L.date).getTime()-new Date(N.date).getTime()).slice(0,5);const S=n.filter(N=>{const L=t.filter(j=>j.patientId===N.id);if(L.length===0)return!0;const R=L.sort((j,D)=>new Date(D.date).getTime()-new Date(j.date).getTime())[0],F=new Date;return F.setMonth(F.getMonth()-3),new Date(R.date)<F}),_=[{title:"Total Patients",value:y.toString(),subtitle:`+${w} this month`,icon:ug,color:"text-primary"},{title:"Recent Lab Uploads",value:a.toString(),subtitle:`${l} recent uploads`,icon:sd,color:"text-accent"},{title:"Pending Reviews",value:e.filter(N=>{const L=new Date(N.date),F=Math.abs(new Date().getTime()-L.getTime());return Math.ceil(F/(1e3*60*60*24))<=3}).length.toString(),subtitle:"Awaiting doctor review",icon:EZ,color:"text-orange-500"}],P=[{title:"Total Patients",value:y.toString(),subtitle:`+${w} new patients`,icon:ug,color:"text-primary"},{title:"High Risk Cases",value:b.toString(),subtitle:"Require attention",icon:yg,color:"text-red-500"},{title:"Follow-up Alerts",value:S.length.toString(),subtitle:"3+ months overdue",icon:c_,color:"text-orange-500"},{title:"Recent Assessments",value:r.filter(N=>{const L=new Date(N.date),R=new Date;return R.setDate(R.getDate()-7),L>R}).length.toString(),subtitle:"Last 7 days",icon:bd,color:"text-accent"}],E=(s==null?void 0:s.role)==="secretary"?_:P;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-semibold",children:["Welcome back, ",(C=s==null?void 0:s.name)==null?void 0:C.split(" ")[0],"!"]}),v.jsxs("p",{className:"text-muted-foreground",children:["Here's an overview of your ",(s==null?void 0:s.role)==="secretary"?"patient registration activities":"patient care dashboard"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.map((N,L)=>{const R=N.icon;return v.jsx(Ft,{children:v.jsxs(tn,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:N.title}),v.jsx("p",{className:"text-3xl font-bold",children:N.value})]}),v.jsx(R,{className:`h-8 w-8 ${N.color}`})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:N.subtitle})]})},L)})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs($n,{className:"flex items-center space-x-2",children:[v.jsx(bd,{className:"h-5 w-5"}),v.jsx("span",{children:"Recent Activity"})]}),v.jsx(ai,{children:(s==null?void 0:s.role)==="secretary"?"Latest patient registrations and file uploads":"Recent patient visits and assessments"})]}),v.jsx(tn,{children:v.jsx("div",{className:"space-y-3",children:(s==null?void 0:s.role)==="secretary"?u.length>0?u.map(N=>v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium text-sm",children:N.activityType==="patient_create"?`Added new patient: ${N.patientName}`:N.activityType==="patient_edit"?`Edited ${N.patientName}'s profile`:N.labFileName||"Lab file uploaded"}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.patientName,"  ",p(N.timestamp)]})]}),N.activityType==="lab_upload"&&N.labType&&v.jsx(ir,{variant:x(N.labType),className:"text-xs",children:N.labType}),N.activityType==="patient_edit"&&v.jsx(ir,{variant:"outline",className:"text-xs",children:"Edit"})]},N._id)):v.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent activity"}):r.length>0?r.sort((N,L)=>new Date(L.date).getTime()-new Date(N.date).getTime()).slice(0,3).map(N=>{const L=n.find(R=>R.id===N.patientId);return v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium text-sm",children:L==null?void 0:L.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Assessment  ",p(N.date)]})]}),v.jsx(ir,{variant:N.riskLevel==="High"?"destructive":N.riskLevel==="Moderate"?"secondary":"default",className:"text-xs",children:N.riskLevel})]},N.id)}):v.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent assessments"})})})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{className:"flex items-center space-x-2",children:(s==null?void 0:s.role)==="secretary"?v.jsxs(v.Fragment,{children:[v.jsx(SI,{className:"h-5 w-5"}),v.jsx("span",{children:"Quick Actions"})]}):v.jsxs(v.Fragment,{children:[v.jsx(c_,{className:"h-5 w-5"}),v.jsx("span",{children:"Alerts & Reminders"})]})}),v.jsx(ai,{children:(s==null?void 0:s.role)==="secretary"?"Common tasks and shortcuts":"Important notifications and follow-ups"})]}),v.jsx(tn,{children:(s==null?void 0:s.role)==="secretary"?v.jsxs("div",{className:"space-y-3",children:[v.jsxs(zt,{variant:"outline",className:"w-full justify-start",onClick:()=>i("new-patient"),children:[v.jsx(SI,{className:"h-4 w-4 mr-2"}),"Register New Patient"]}),v.jsxs(zt,{variant:"outline",className:"w-full justify-start",onClick:()=>i("existing-patient"),children:[v.jsx(ug,{className:"h-4 w-4 mr-2"}),"Search Existing Patients"]}),v.jsxs(zt,{variant:"outline",className:"w-full justify-start",onClick:()=>i("existing-patient"),children:[v.jsx(sd,{className:"h-4 w-4 mr-2"}),"Upload Lab Results"]})]}):v.jsxs("div",{className:"space-y-3",children:[S.length>0&&v.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(c_,{className:"h-4 w-4 text-orange-600"}),v.jsxs("p",{className:"text-sm font-medium text-orange-800",children:[S.length," patients need follow-up"]})]}),v.jsx(zt,{variant:"link",className:"p-0 h-auto text-orange-600 text-xs",onClick:()=>i("patients"),children:"View patients "})]}),b>0&&v.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(yg,{className:"h-4 w-4 text-red-600"}),v.jsxs("p",{className:"text-sm font-medium text-red-800",children:[b," high-risk patients"]})]}),v.jsx(zt,{variant:"link",className:"p-0 h-auto text-red-600 text-xs",onClick:()=>i("patients"),children:"Review cases "})]}),v.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(U8,{className:"h-4 w-4 text-blue-600"}),v.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Monthly analytics available"})]}),v.jsx(zt,{variant:"link",className:"p-0 h-auto text-blue-600 text-xs",onClick:()=>i("analytics"),children:"View analytics "})]})]})})]})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs($n,{className:"flex items-center space-x-2",children:[v.jsx(ug,{className:"h-5 w-5"}),v.jsx("span",{children:"Recent Patients"})]}),v.jsx(zt,{variant:"outline",size:"sm",onClick:()=>i((s==null?void 0:s.role)==="secretary"?"existing-patient":"patients"),children:"View All"})]}),v.jsx(ai,{children:"Recently registered or updated patient records"})]}),v.jsx(tn,{children:v.jsx("div",{className:"space-y-3",children:[...n].sort((N,L)=>new Date(L.createdAt).getTime()-new Date(N.createdAt).getTime()).slice(0,5).map(N=>{const L=r.filter(R=>R.patientId===N.id).sort((R,F)=>new Date(F.date).getTime()-new Date(R.date).getTime())[0];return v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("p",{className:"font-medium",children:N.name}),v.jsxs(ir,{variant:"outline",className:"text-xs",children:[N.age,"y, ",N.gender]})]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.email,"  Added ",p(N.createdAt)]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[L&&v.jsx(ir,{variant:L.riskLevel==="High"?"destructive":L.riskLevel==="Moderate"?"secondary":"default",className:"text-xs",children:L.riskLevel}),v.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>i((s==null?void 0:s.role)==="secretary"?"existing-patient":"patients"),children:"View"})]})]},N.id)})})})]})]})}function Xw({className:n,...e}){return v.jsx("textarea",{"data-slot":"textarea",className:Xn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function ybe(n,e=globalThis==null?void 0:globalThis.document){const t=So(n);U.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var bbe="DismissableLayer",KI="dismissableLayer.update",wbe="dismissableLayer.pointerDownOutside",xbe="dismissableLayer.focusOutside",qq,$ee=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PF=U.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,c=U.useContext($ee),[u,f]=U.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=U.useState({}),x=Kn(e,N=>f(N)),y=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(w),S=u?y.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,P=S>=b,E=Abe(N=>{const L=N.target,R=[...c.branches].some(F=>F.contains(L));!P||R||(i==null||i(N),a==null||a(N),N.defaultPrevented||o==null||o())},h),C=Pbe(N=>{const L=N.target;[...c.branches].some(F=>F.contains(L))||(s==null||s(N),a==null||a(N),N.defaultPrevented||o==null||o())},h);return ybe(N=>{S===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},h),U.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(qq=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Uq(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qq)}},[u,h,t,c]),U.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Uq())},[u,c]),U.useEffect(()=>{const N=()=>p({});return document.addEventListener(KI,N),()=>document.removeEventListener(KI,N)},[]),v.jsx(cn.div,{...l,ref:x,style:{pointerEvents:_?P?"auto":"none":void 0,...n.style},onFocusCapture:dn(n.onFocusCapture,C.onFocusCapture),onBlurCapture:dn(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:dn(n.onPointerDownCapture,E.onPointerDownCapture)})});PF.displayName=bbe;var _be="DismissableLayerBranch",Sbe=U.forwardRef((n,e)=>{const t=U.useContext($ee),r=U.useRef(null),i=Kn(e,r);return U.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),v.jsx(cn.div,{...n,ref:i})});Sbe.displayName=_be;function Abe(n,e=globalThis==null?void 0:globalThis.document){const t=So(n),r=U.useRef(!1),i=U.useRef(()=>{});return U.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){qee(wbe,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Pbe(n,e=globalThis==null?void 0:globalThis.document){const t=So(n),r=U.useRef(!1);return U.useEffect(()=>{const i=s=>{s.target&&!r.current&&qee(xbe,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uq(){const n=new CustomEvent(KI);document.dispatchEvent(n)}function qee(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?rpe(i,s):i.dispatchEvent(s)}var p3=0;function Uee(){U.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??zq()),document.body.insertAdjacentElement("beforeend",n[1]??zq()),p3++,()=>{p3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),p3--}},[])}function zq(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var m3="focusScope.autoFocusOnMount",g3="focusScope.autoFocusOnUnmount",Hq={bubbles:!1,cancelable:!0},Cbe="FocusScope",CF=U.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=n,[o,l]=U.useState(null),c=So(i),u=So(s),f=U.useRef(null),h=Kn(e,y=>l(y)),p=U.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;U.useEffect(()=>{if(r){let y=function(_){if(p.paused||!o)return;const P=_.target;o.contains(P)?f.current=P:um(f.current,{select:!0})},w=function(_){if(p.paused||!o)return;const P=_.relatedTarget;P!==null&&(o.contains(P)||um(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&um(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(b);return o&&S.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,o,p.paused]),U.useEffect(()=>{if(o){Wq.add(p);const y=document.activeElement;if(!o.contains(y)){const b=new CustomEvent(m3,Hq);o.addEventListener(m3,c),o.dispatchEvent(b),b.defaultPrevented||(Ebe(jbe(zee(o)),{select:!0}),document.activeElement===y&&um(o))}return()=>{o.removeEventListener(m3,c),setTimeout(()=>{const b=new CustomEvent(g3,Hq);o.addEventListener(g3,u),o.dispatchEvent(b),b.defaultPrevented||um(y??document.body,{select:!0}),o.removeEventListener(g3,u),Wq.remove(p)},0)}}},[o,c,u,p]);const x=U.useCallback(y=>{if(!t&&!r||p.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(w&&b){const S=y.currentTarget,[_,P]=Tbe(S);_&&P?!y.shiftKey&&b===P?(y.preventDefault(),t&&um(_,{select:!0})):y.shiftKey&&b===_&&(y.preventDefault(),t&&um(P,{select:!0})):b===S&&y.preventDefault()}},[t,r,p.paused]);return v.jsx(cn.div,{tabIndex:-1,...a,ref:h,onKeyDown:x})});CF.displayName=Cbe;function Ebe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(um(r,{select:e}),document.activeElement!==t)return}function Tbe(n){const e=zee(n),t=Vq(e,n),r=Vq(e.reverse(),n);return[t,r]}function zee(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Vq(n,e){for(const t of n)if(!kbe(t,{upTo:e}))return t}function kbe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Nbe(n){return n instanceof HTMLInputElement&&"select"in n}function um(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Nbe(n)&&e&&n.select()}}var Wq=Obe();function Obe(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Gq(n,e),n.unshift(e)},remove(e){var t;n=Gq(n,e),(t=n[0])==null||t.resume()}}}function Gq(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function jbe(n){return n.filter(e=>e.tagName!=="A")}const Lbe=["top","right","bottom","left"],_g=Math.min,Jl=Math.max,OE=Math.round,IP=Math.floor,dd=n=>({x:n,y:n}),Rbe={left:"right",right:"left",bottom:"top",top:"bottom"},Ibe={start:"end",end:"start"};function XI(n,e,t){return Jl(n,_g(e,t))}function mp(n,e){return typeof n=="function"?n(e):n}function gp(n){return n.split("-")[0]}function Nx(n){return n.split("-")[1]}function EF(n){return n==="x"?"y":"x"}function TF(n){return n==="y"?"height":"width"}const Mbe=new Set(["top","bottom"]);function ad(n){return Mbe.has(gp(n))?"y":"x"}function kF(n){return EF(ad(n))}function Dbe(n,e,t){t===void 0&&(t=!1);const r=Nx(n),i=kF(n),s=TF(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=jE(a)),[a,jE(a)]}function Fbe(n){const e=jE(n);return[YI(n),e,YI(e)]}function YI(n){return n.replace(/start|end/g,e=>Ibe[e])}const Kq=["left","right"],Xq=["right","left"],Bbe=["top","bottom"],$be=["bottom","top"];function qbe(n,e,t){switch(n){case"top":case"bottom":return t?e?Xq:Kq:e?Kq:Xq;case"left":case"right":return e?Bbe:$be;default:return[]}}function Ube(n,e,t,r){const i=Nx(n);let s=qbe(gp(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(YI)))),s}function jE(n){return n.replace(/left|right|bottom|top/g,e=>Rbe[e])}function zbe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Hee(n){return typeof n!="number"?zbe(n):{top:n,right:n,bottom:n,left:n}}function LE(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Yq(n,e,t){let{reference:r,floating:i}=n;const s=ad(e),a=kF(e),o=TF(a),l=gp(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Nx(e)){case"start":p[a]-=h*(t&&c?-1:1);break;case"end":p[a]+=h*(t&&c?-1:1);break}return p}const Hbe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=Yq(c,r,l),h=r,p={},x=0;for(let y=0;y<o.length;y++){const{name:w,fn:b}=o[y],{x:S,y:_,data:P,reset:E}=await b({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:e}});u=S??u,f=_??f,p={...p,[w]:{...p[w],...P}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):E.rects),{x:u,y:f}=Yq(c,h,l)),y=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function j_(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=mp(e,n),x=Hee(p),w=o[h?f==="floating"?"reference":"floating":f],b=LE(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),S=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),P=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=LE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:_,strategy:l}):S);return{top:(b.top-E.top+x.top)/P.y,bottom:(E.bottom-b.bottom+x.bottom)/P.y,left:(b.left-E.left+x.left)/P.x,right:(E.right-b.right+x.right)/P.x}}const Vbe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=mp(n,e)||{};if(c==null)return{};const f=Hee(u),h={x:t,y:r},p=kF(i),x=TF(p),y=await a.getDimensions(c),w=p==="y",b=w?"top":"left",S=w?"bottom":"right",_=w?"clientHeight":"clientWidth",P=s.reference[x]+s.reference[p]-h[p]-s.floating[x],E=h[p]-s.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let N=C?C[_]:0;(!N||!await(a.isElement==null?void 0:a.isElement(C)))&&(N=o.floating[_]||s.floating[x]);const L=P/2-E/2,R=N/2-y[x]/2-1,F=_g(f[b],R),j=_g(f[S],R),D=F,W=N-y[x]-j,V=N/2-y[x]/2+L,Z=XI(D,V,W),J=!l.arrow&&Nx(i)!=null&&V!==Z&&s.reference[x]/2-(V<D?F:j)-y[x]/2<0,K=J?V<D?V-D:V-W:0;return{[p]:h[p]+K,data:{[p]:Z,centerOffset:V-Z-K,...J&&{alignmentOffset:K}},reset:J}}}),Wbe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=mp(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=gp(i),S=ad(o),_=gp(o)===o,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(_||!y?[jE(o)]:Fbe(o)),C=x!=="none";!h&&C&&E.push(...Ube(o,y,x,P));const N=[o,...E],L=await j_(e,w),R=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(L[b]),f){const V=Dbe(i,a,P);R.push(L[V[0]],L[V[1]])}if(F=[...F,{placement:i,overflows:R}],!R.every(V=>V<=0)){var j,D;const V=(((j=s.flip)==null?void 0:j.index)||0)+1,Z=N[V];if(Z&&(!(f==="alignment"?S!==ad(Z):!1)||F.every($=>ad($.placement)===S?$.overflows[0]>0:!0)))return{data:{index:V,overflows:F},reset:{placement:Z}};let J=(D=F.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(p){case"bestFit":{var W;const K=(W=F.filter($=>{if(C){const te=ad($.placement);return te===S||te==="y"}return!0}).map($=>[$.placement,$.overflows.filter(te=>te>0).reduce((te,Q)=>te+Q,0)]).sort(($,te)=>$[1]-te[1])[0])==null?void 0:W[0];K&&(J=K);break}case"initialPlacement":J=o;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function Jq(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Zq(n){return Lbe.some(e=>n[e]>=0)}const Gbe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=mp(n,e);switch(r){case"referenceHidden":{const s=await j_(e,{...i,elementContext:"reference"}),a=Jq(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Zq(a)}}}case"escaped":{const s=await j_(e,{...i,altBoundary:!0}),a=Jq(s,t.floating);return{data:{escapedOffsets:a,escaped:Zq(a)}}}default:return{}}}}},Vee=new Set(["left","top"]);async function Kbe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=gp(t),o=Nx(t),l=ad(t)==="y",c=Vee.has(a)?-1:1,u=s&&l?-1:1,f=mp(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof x=="number"&&(p=o==="end"?x*-1:x),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Xbe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Kbe(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Ybe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:b,y:S}=w;return{x:b,y:S}}},...l}=mp(n,e),c={x:t,y:r},u=await j_(e,l),f=ad(gp(i)),h=EF(f);let p=c[h],x=c[f];if(s){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=p+u[w],_=p-u[b];p=XI(S,p,_)}if(a){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",S=x+u[w],_=x-u[b];x=XI(S,x,_)}const y=o.fn({...e,[h]:p,[f]:x});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[h]:s,[f]:a}}}}}},Jbe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=mp(n,e),u={x:t,y:r},f=ad(i),h=EF(f);let p=u[h],x=u[f];const y=mp(o,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",P=s.reference[h]-s.floating[_]+w.mainAxis,E=s.reference[h]+s.reference[_]-w.mainAxis;p<P?p=P:p>E&&(p=E)}if(c){var b,S;const _=h==="y"?"width":"height",P=Vee.has(gp(i)),E=s.reference[f]-s.floating[_]+(P&&((b=a.offset)==null?void 0:b[f])||0)+(P?0:w.crossAxis),C=s.reference[f]+s.reference[_]+(P?0:((S=a.offset)==null?void 0:S[f])||0)-(P?w.crossAxis:0);x<E?x=E:x>C&&(x=C)}return{[h]:p,[f]:x}}}},Zbe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=mp(n,e),u=await j_(e,c),f=gp(i),h=Nx(i),p=ad(i)==="y",{width:x,height:y}=s.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,w=h==="end"?"top":"bottom");const S=y-u.top-u.bottom,_=x-u.left-u.right,P=_g(y-u[w],S),E=_g(x-u[b],_),C=!e.middlewareData.shift;let N=P,L=E;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(L=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=S),C&&!h){const F=Jl(u.left,0),j=Jl(u.right,0),D=Jl(u.top,0),W=Jl(u.bottom,0);p?L=x-2*(F!==0||j!==0?F+j:Jl(u.left,u.right)):N=y-2*(D!==0||W!==0?D+W:Jl(u.top,u.bottom))}await l({...e,availableWidth:L,availableHeight:N});const R=await a.getDimensions(o.floating);return x!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Fk(){return typeof window<"u"}function Ox(n){return Wee(n)?(n.nodeName||"").toLowerCase():"#document"}function nc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Pd(n){var e;return(e=(Wee(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Wee(n){return Fk()?n instanceof Node||n instanceof nc(n).Node:!1}function Xu(n){return Fk()?n instanceof Element||n instanceof nc(n).Element:!1}function wd(n){return Fk()?n instanceof HTMLElement||n instanceof nc(n).HTMLElement:!1}function Qq(n){return!Fk()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof nc(n).ShadowRoot}const Qbe=new Set(["inline","contents"]);function b5(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Yu(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Qbe.has(i)}const ewe=new Set(["table","td","th"]);function twe(n){return ewe.has(Ox(n))}const nwe=[":popover-open",":modal"];function Bk(n){return nwe.some(e=>{try{return n.matches(e)}catch{return!1}})}const rwe=["transform","translate","scale","rotate","perspective"],iwe=["transform","translate","scale","rotate","perspective","filter"],swe=["paint","layout","strict","content"];function NF(n){const e=OF(),t=Xu(n)?Yu(n):n;return rwe.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||iwe.some(r=>(t.willChange||"").includes(r))||swe.some(r=>(t.contain||"").includes(r))}function awe(n){let e=Sg(n);for(;wd(e)&&!Yw(e);){if(NF(e))return e;if(Bk(e))return null;e=Sg(e)}return null}function OF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const owe=new Set(["html","body","#document"]);function Yw(n){return owe.has(Ox(n))}function Yu(n){return nc(n).getComputedStyle(n)}function $k(n){return Xu(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Sg(n){if(Ox(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Qq(n)&&n.host||Pd(n);return Qq(e)?e.host:e}function Gee(n){const e=Sg(n);return Yw(e)?n.ownerDocument?n.ownerDocument.body:n.body:wd(e)&&b5(e)?e:Gee(e)}function L_(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Gee(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=nc(i);if(s){const o=JI(a);return e.concat(a,a.visualViewport||[],b5(i)?i:[],o&&t?L_(o):[])}return e.concat(i,L_(i,[],t))}function JI(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Kee(n){const e=Yu(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=wd(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=OE(t)!==s||OE(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function jF(n){return Xu(n)?n:n.contextElement}function ab(n){const e=jF(n);if(!wd(e))return dd(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Kee(e);let a=(s?OE(t.width):t.width)/r,o=(s?OE(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const lwe=dd(0);function Xee(n){const e=nc(n);return!OF()||!e.visualViewport?lwe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cwe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==nc(n)?!1:e}function c0(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=jF(n);let a=dd(1);e&&(r?Xu(r)&&(a=ab(r)):a=ab(n));const o=cwe(s,t,r)?Xee(s):dd(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(s){const h=nc(s),p=r&&Xu(r)?nc(r):r;let x=h,y=JI(x);for(;y&&r&&p!==x;){const w=ab(y),b=y.getBoundingClientRect(),S=Yu(y),_=b.left+(y.clientLeft+parseFloat(S.paddingLeft))*w.x,P=b.top+(y.clientTop+parseFloat(S.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=_,c+=P,x=nc(y),y=JI(x)}}return LE({width:u,height:f,x:l,y:c})}function qk(n,e){const t=$k(n).scrollLeft;return e?e.left+t:c0(Pd(n)).left+t}function Yee(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-qk(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function uwe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=Pd(r),o=e?Bk(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=dd(1);const u=dd(0),f=wd(r);if((f||!f&&!s)&&((Ox(r)!=="body"||b5(a))&&(l=$k(r)),wd(r))){const p=c0(r);c=ab(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=a&&!f&&!s?Yee(a,l):dd(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function fwe(n){return Array.from(n.getClientRects())}function dwe(n){const e=Pd(n),t=$k(n),r=n.ownerDocument.body,i=Jl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Jl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+qk(n);const o=-t.scrollTop;return Yu(r).direction==="rtl"&&(a+=Jl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const eU=25;function hwe(n,e){const t=nc(n),r=Pd(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=OF();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=qk(r);if(c<=0){const u=r.ownerDocument,f=u.body,h=getComputedStyle(f),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(r.clientWidth-f.clientWidth-p);x<=eU&&(s-=x)}else c<=eU&&(s+=c);return{width:s,height:a,x:o,y:l}}const pwe=new Set(["absolute","fixed"]);function mwe(n,e){const t=c0(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=wd(n)?ab(n):dd(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function tU(n,e,t){let r;if(e==="viewport")r=hwe(n,t);else if(e==="document")r=dwe(Pd(n));else if(Xu(e))r=mwe(e,t);else{const i=Xee(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return LE(r)}function Jee(n,e){const t=Sg(n);return t===e||!Xu(t)||Yw(t)?!1:Yu(t).position==="fixed"||Jee(t,e)}function gwe(n,e){const t=e.get(n);if(t)return t;let r=L_(n,[],!1).filter(o=>Xu(o)&&Ox(o)!=="body"),i=null;const s=Yu(n).position==="fixed";let a=s?Sg(n):n;for(;Xu(a)&&!Yw(a);){const o=Yu(a),l=NF(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&pwe.has(i.position)||b5(a)&&!l&&Jee(n,a))?r=r.filter(u=>u!==a):i=o,a=Sg(a)}return e.set(n,r),r}function vwe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?Bk(e)?[]:gwe(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,u)=>{const f=tU(e,u,i);return c.top=Jl(f.top,c.top),c.right=_g(f.right,c.right),c.bottom=_g(f.bottom,c.bottom),c.left=Jl(f.left,c.left),c},tU(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ywe(n){const{width:e,height:t}=Kee(n);return{width:e,height:t}}function bwe(n,e,t){const r=wd(e),i=Pd(e),s=t==="fixed",a=c0(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=dd(0);function c(){l.x=qk(i)}if(r||!r&&!s)if((Ox(e)!=="body"||b5(i))&&(o=$k(e)),r){const p=c0(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?Yee(i,o):dd(0),f=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:f,y:h,width:a.width,height:a.height}}function v3(n){return Yu(n).position==="static"}function nU(n,e){if(!wd(n)||Yu(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Pd(n)===t&&(t=t.ownerDocument.body),t}function Zee(n,e){const t=nc(n);if(Bk(n))return t;if(!wd(n)){let i=Sg(n);for(;i&&!Yw(i);){if(Xu(i)&&!v3(i))return i;i=Sg(i)}return t}let r=nU(n,e);for(;r&&twe(r)&&v3(r);)r=nU(r,e);return r&&Yw(r)&&v3(r)&&!NF(r)?t:r||awe(n)||t}const wwe=async function(n){const e=this.getOffsetParent||Zee,t=this.getDimensions,r=await t(n.floating);return{reference:bwe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xwe(n){return Yu(n).direction==="rtl"}const _we={convertOffsetParentRelativeRectToViewportRelativeRect:uwe,getDocumentElement:Pd,getClippingRect:vwe,getOffsetParent:Zee,getElementRects:wwe,getClientRects:fwe,getDimensions:ywe,getScale:ab,isElement:Xu,isRTL:xwe};function Qee(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Swe(n,e){let t=null,r;const i=Pd(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(o||e(),!h||!p)return;const x=IP(f),y=IP(i.clientWidth-(u+h)),w=IP(i.clientHeight-(f+p)),b=IP(u),_={rootMargin:-x+"px "+-y+"px "+-w+"px "+-b+"px",threshold:Jl(0,_g(1,l))||1};let P=!0;function E(C){const N=C[0].intersectionRatio;if(N!==l){if(!P)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!Qee(c,n.getBoundingClientRect())&&a(),P=!1}try{t=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(E,_)}t.observe(n)}return a(!0),s}function Awe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=jF(n),u=i||s?[...c?L_(c):[],...L_(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const f=c&&o?Swe(c,t):null;let h=-1,p=null;a&&(p=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let x,y=l?c0(n):null;l&&w();function w(){const b=c0(n);y&&!Qee(y,b)&&t(),y=b,x=requestAnimationFrame(w)}return t(),()=>{var b;u.forEach(S=>{i&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const Pwe=Xbe,Cwe=Ybe,Ewe=Wbe,Twe=Zbe,kwe=Gbe,rU=Vbe,Nwe=Jbe,Owe=(n,e,t)=>{const r=new Map,i={platform:_we,...t},s={...i.platform,_c:r};return Hbe(n,e,{...i,platform:s})};var jwe=typeof document<"u",Lwe=function(){},TC=jwe?U.useLayoutEffect:Lwe;function RE(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!RE(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!RE(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function ete(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function iU(n,e){const t=ete(n);return Math.round(e*t)/t}function y3(n){const e=U.useRef(n);return TC(()=>{e.current=n}),e}function Rwe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[u,f]=U.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=U.useState(r);RE(h,r)||p(r);const[x,y]=U.useState(null),[w,b]=U.useState(null),S=U.useCallback($=>{$!==C.current&&(C.current=$,y($))},[]),_=U.useCallback($=>{$!==N.current&&(N.current=$,b($))},[]),P=s||x,E=a||w,C=U.useRef(null),N=U.useRef(null),L=U.useRef(u),R=l!=null,F=y3(l),j=y3(i),D=y3(c),W=U.useCallback(()=>{if(!C.current||!N.current)return;const $={placement:e,strategy:t,middleware:h};j.current&&($.platform=j.current),Owe(C.current,N.current,$).then(te=>{const Q={...te,isPositioned:D.current!==!1};V.current&&!RE(L.current,Q)&&(L.current=Q,u5.flushSync(()=>{f(Q)}))})},[h,e,t,j,D]);TC(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const V=U.useRef(!1);TC(()=>(V.current=!0,()=>{V.current=!1}),[]),TC(()=>{if(P&&(C.current=P),E&&(N.current=E),P&&E){if(F.current)return F.current(P,E,W);W()}},[P,E,W,F,R]);const Z=U.useMemo(()=>({reference:C,floating:N,setReference:S,setFloating:_}),[S,_]),J=U.useMemo(()=>({reference:P,floating:E}),[P,E]),K=U.useMemo(()=>{const $={position:t,left:0,top:0};if(!J.floating)return $;const te=iU(J.floating,u.x),Q=iU(J.floating,u.y);return o?{...$,transform:"translate("+te+"px, "+Q+"px)",...ete(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:Q}},[t,o,J.floating,u.x,u.y]);return U.useMemo(()=>({...u,update:W,refs:Z,elements:J,floatingStyles:K}),[u,W,Z,J,K])}const Iwe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?rU({element:r.current,padding:i}).fn(t):{}:r?rU({element:r,padding:i}).fn(t):{}}}},Mwe=(n,e)=>({...Pwe(n),options:[n,e]}),Dwe=(n,e)=>({...Cwe(n),options:[n,e]}),Fwe=(n,e)=>({...Nwe(n),options:[n,e]}),Bwe=(n,e)=>({...Ewe(n),options:[n,e]}),$we=(n,e)=>({...Twe(n),options:[n,e]}),qwe=(n,e)=>({...kwe(n),options:[n,e]}),Uwe=(n,e)=>({...Iwe(n),options:[n,e]});var zwe="Arrow",tte=U.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return v.jsx(cn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});tte.displayName=zwe;var Hwe=tte,LF="Popper",[nte,rte]=nf(LF),[Vwe,ite]=nte(LF),ste=n=>{const{__scopePopper:e,children:t}=n,[r,i]=U.useState(null);return v.jsx(Vwe,{scope:e,anchor:r,onAnchorChange:i,children:t})};ste.displayName=LF;var ate="PopperAnchor",ote=U.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=ite(ate,t),a=U.useRef(null),o=Kn(e,a),l=U.useRef(null);return U.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:v.jsx(cn.div,{...i,ref:o})});ote.displayName=ate;var RF="PopperContent",[Wwe,Gwe]=nte(RF),lte=U.forwardRef((n,e)=>{var he,oe,pe,Se,be,ye;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...y}=n,w=ite(RF,t),[b,S]=U.useState(null),_=Kn(e,Oe=>S(Oe)),[P,E]=U.useState(null),C=xF(P),N=(C==null?void 0:C.width)??0,L=(C==null?void 0:C.height)??0,R=r+(s!=="center"?"-"+s:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],D=j.length>0,W={padding:F,boundary:j.filter(Xwe),altBoundary:D},{refs:V,floatingStyles:Z,placement:J,isPositioned:K,middlewareData:$}=Rwe({strategy:"fixed",placement:R,whileElementsMounted:(...Oe)=>Awe(...Oe,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[Mwe({mainAxis:i+L,alignmentAxis:a}),l&&Dwe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fwe():void 0,...W}),l&&Bwe({...W}),$we({...W,apply:({elements:Oe,rects:Pe,availableWidth:ge,availableHeight:Ke})=>{const{width:Xe,height:rt}=Pe.reference,$e=Oe.floating.style;$e.setProperty("--radix-popper-available-width",`${ge}px`),$e.setProperty("--radix-popper-available-height",`${Ke}px`),$e.setProperty("--radix-popper-anchor-width",`${Xe}px`),$e.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),P&&Uwe({element:P,padding:o}),Ywe({arrowWidth:N,arrowHeight:L}),h&&qwe({strategy:"referenceHidden",...W})]}),[te,Q]=fte(J),X=So(x);aa(()=>{K&&(X==null||X())},[K,X]);const B=(he=$.arrow)==null?void 0:he.x,G=(oe=$.arrow)==null?void 0:oe.y,ne=((pe=$.arrow)==null?void 0:pe.centerOffset)!==0,[ie,fe]=U.useState();return aa(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),v.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:K?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Se=$.transformOrigin)==null?void 0:Se.x,(be=$.transformOrigin)==null?void 0:be.y].join(" "),...((ye=$.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(Wwe,{scope:t,placedSide:te,onArrowChange:E,arrowX:B,arrowY:G,shouldHideArrow:ne,children:v.jsx(cn.div,{"data-side":te,"data-align":Q,...y,ref:_,style:{...y.style,animation:K?void 0:"none"}})})})});lte.displayName=RF;var cte="PopperArrow",Kwe={top:"bottom",right:"left",bottom:"top",left:"right"},ute=U.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Gwe(cte,r),a=Kwe[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(Hwe,{...i,ref:t,style:{...i.style,display:"block"}})})});ute.displayName=cte;function Xwe(n){return n!==null}var Ywe=n=>({name:"transformOrigin",options:n,fn(e){var w,b,S;const{placement:t,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,u]=fte(t),f={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+o/2,p=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=a?f:`${h}px`,y=`${-l}px`):c==="top"?(x=a?f:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=a?f:`${p}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=a?f:`${p}px`),{data:{x,y}}}});function fte(n){const[e,t="center"]=n.split("-");return[e,t]}var Jwe=ste,Zwe=ote,Qwe=lte,exe=ute,txe="Portal",IF=U.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[i,s]=U.useState(!1);aa(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?uZ.createPortal(v.jsx(cn.div,{...r,ref:e}),a):null});IF.displayName=txe;var dte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nxe="VisuallyHidden",rxe=U.forwardRef((n,e)=>v.jsx(cn.span,{...n,ref:e,style:{...dte,...n.style}}));rxe.displayName=nxe;var ixe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},g1=new WeakMap,MP=new WeakMap,DP={},b3=0,hte=function(n){return n&&(n.host||hte(n.parentNode))},sxe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=hte(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},axe=function(n,e,t,r){var i=sxe(e,Array.isArray(n)?n:[n]);DP[t]||(DP[t]=new WeakMap);var s=DP[t],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))u(h);else try{var p=h.getAttribute(r),x=p!==null&&p!=="false",y=(g1.get(h)||0)+1,w=(s.get(h)||0)+1;g1.set(h,y),s.set(h,w),a.push(h),y===1&&x&&MP.set(h,!0),w===1&&h.setAttribute(t,"true"),x||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),o.clear(),b3++,function(){a.forEach(function(f){var h=g1.get(f)-1,p=s.get(f)-1;g1.set(f,h),s.set(f,p),h||(MP.has(f)||f.removeAttribute(r),MP.delete(f)),p||f.removeAttribute(t)}),b3--,b3||(g1=new WeakMap,g1=new WeakMap,MP=new WeakMap,DP={})}},pte=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=ixe(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),axe(r,i,t,"aria-hidden")):function(){return null}},rd=function(){return rd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},rd.apply(this,arguments)};function mte(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function oxe(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var kC="right-scroll-bar-position",NC="width-before-scroll-bar",lxe="with-scroll-bars-hidden",cxe="--removed-body-scroll-bar-size";function w3(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function uxe(n,e){var t=U.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var fxe=typeof window<"u"?U.useLayoutEffect:U.useEffect,sU=new WeakMap;function dxe(n,e){var t=uxe(null,function(r){return n.forEach(function(i){return w3(i,r)})});return fxe(function(){var r=sU.get(t);if(r){var i=new Set(r),s=new Set(n),a=t.current;i.forEach(function(o){s.has(o)||w3(o,null)}),s.forEach(function(o){i.has(o)||w3(o,a)})}sU.set(t,n)},[n]),t}function hxe(n){return n}function pxe(n,e){e===void 0&&(e=hxe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),t}}}};return i}function mxe(n){n===void 0&&(n={});var e=pxe(null);return e.options=rd({async:!0,ssr:!1},n),e}var gte=function(n){var e=n.sideCar,t=mte(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return U.createElement(r,rd({},t))};gte.isSideCarExport=!0;function gxe(n,e){return n.useMedium(e),gte}var vte=mxe(),x3=function(){},Uk=U.forwardRef(function(n,e){var t=U.useRef(null),r=U.useState({onScrollCapture:x3,onWheelCapture:x3,onTouchMoveCapture:x3}),i=r[0],s=r[1],a=n.forwardProps,o=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,f=n.shards,h=n.sideCar,p=n.noRelative,x=n.noIsolation,y=n.inert,w=n.allowPinchZoom,b=n.as,S=b===void 0?"div":b,_=n.gapMode,P=mte(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=dxe([t,e]),N=rd(rd({},P),i);return U.createElement(U.Fragment,null,u&&U.createElement(E,{sideCar:vte,removeScrollBar:c,shards:f,noRelative:p,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!w,lockRef:t,gapMode:_}),a?U.cloneElement(U.Children.only(o),rd(rd({},N),{ref:C})):U.createElement(S,rd({},N,{className:l,ref:C}),o))});Uk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uk.classNames={fullWidth:NC,zeroRight:kC};var vxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yxe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=vxe();return e&&n.setAttribute("nonce",e),n}function bxe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function wxe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var xxe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=yxe())&&(bxe(e,t),wxe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_xe=function(){var n=xxe();return function(e,t){U.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},yte=function(){var n=_xe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Sxe={left:0,top:0,right:0,gap:0},_3=function(n){return parseInt(n||"",10)||0},Axe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[_3(t),_3(r),_3(i)]},Pxe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Sxe;var e=Axe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Cxe=yte(),ob="data-scroll-locked",Exe=function(n,e,t,r){var i=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(lxe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ob,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kC,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(NC,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(kC," .").concat(kC,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(NC," .").concat(NC,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ob,`] {
    `).concat(cxe,": ").concat(o,`px;
  }
`)},aU=function(){var n=parseInt(document.body.getAttribute(ob)||"0",10);return isFinite(n)?n:0},Txe=function(){U.useEffect(function(){return document.body.setAttribute(ob,(aU()+1).toString()),function(){var n=aU()-1;n<=0?document.body.removeAttribute(ob):document.body.setAttribute(ob,n.toString())}},[])},kxe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Txe();var s=U.useMemo(function(){return Pxe(i)},[i]);return U.createElement(Cxe,{styles:Exe(s,!e,i,t?"":"!important")})},ZI=!1;if(typeof window<"u")try{var FP=Object.defineProperty({},"passive",{get:function(){return ZI=!0,!0}});window.addEventListener("test",FP,FP),window.removeEventListener("test",FP,FP)}catch{ZI=!1}var v1=ZI?{passive:!1}:!1,Nxe=function(n){return n.tagName==="TEXTAREA"},bte=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Nxe(n)&&t[e]==="visible")},Oxe=function(n){return bte(n,"overflowY")},jxe=function(n){return bte(n,"overflowX")},oU=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wte(n,r);if(i){var s=xte(n,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Lxe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Rxe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},wte=function(n,e){return n==="v"?Oxe(e):jxe(e)},xte=function(n,e){return n==="v"?Lxe(e):Rxe(e)},Ixe=function(n,e){return n==="h"&&e==="rtl"?-1:1},Mxe=function(n,e,t,r,i){var s=Ixe(n,window.getComputedStyle(e).direction),a=s*r,o=t.target,l=e.contains(o),c=!1,u=a>0,f=0,h=0;do{if(!o)break;var p=xte(n,o),x=p[0],y=p[1],w=p[2],b=y-w-s*x;(x||b)&&wte(n,o)&&(f+=b,h+=x);var S=o.parentNode;o=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},BP=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},lU=function(n){return[n.deltaX,n.deltaY]},cU=function(n){return n&&"current"in n?n.current:n},Dxe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Fxe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Bxe=0,y1=[];function $xe(n){var e=U.useRef([]),t=U.useRef([0,0]),r=U.useRef(),i=U.useState(Bxe++)[0],s=U.useState(yte)[0],a=U.useRef(n);U.useEffect(function(){a.current=n},[n]),U.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=oxe([n.lockRef.current],(n.shards||[]).map(cU),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=U.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var b=BP(y),S=t.current,_="deltaX"in y?y.deltaX:S[0]-b[0],P="deltaY"in y?y.deltaY:S[1]-b[1],E,C=y.target,N=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in y&&N==="h"&&C.type==="range")return!1;var L=oU(N,C);if(!L)return!0;if(L?E=N:(E=N==="v"?"h":"v",L=oU(N,C)),!L)return!1;if(!r.current&&"changedTouches"in y&&(_||P)&&(r.current=E),!E)return!0;var R=r.current||E;return Mxe(R,w,y,R==="h"?_:P)},[]),l=U.useCallback(function(y){var w=y;if(!(!y1.length||y1[y1.length-1]!==s)){var b="deltaY"in w?lU(w):BP(w),S=e.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&Dxe(E.delta,b)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var _=(a.current.shards||[]).map(cU).filter(Boolean).filter(function(E){return E.contains(w.target)}),P=_.length>0?o(w,_[0]):!a.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),c=U.useCallback(function(y,w,b,S){var _={name:y,delta:w,target:b,should:S,shadowParent:qxe(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(P){return P!==_})},1)},[]),u=U.useCallback(function(y){t.current=BP(y),r.current=void 0},[]),f=U.useCallback(function(y){c(y.type,lU(y),y.target,o(y,n.lockRef.current))},[]),h=U.useCallback(function(y){c(y.type,BP(y),y.target,o(y,n.lockRef.current))},[]);U.useEffect(function(){return y1.push(s),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,v1),document.addEventListener("touchmove",l,v1),document.addEventListener("touchstart",u,v1),function(){y1=y1.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,v1),document.removeEventListener("touchmove",l,v1),document.removeEventListener("touchstart",u,v1)}},[]);var p=n.removeScrollBar,x=n.inert;return U.createElement(U.Fragment,null,x?U.createElement(s,{styles:Fxe(i)}):null,p?U.createElement(kxe,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function qxe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Uxe=gxe(vte,$xe);var MF=U.forwardRef(function(n,e){return U.createElement(Uk,rd({},n,{ref:e,sideCar:Uxe}))});MF.classNames=Uk.classNames;var zxe=[" ","Enter","ArrowUp","ArrowDown"],Hxe=[" ","Enter"],u0="Select",[zk,Hk,Vxe]=dee(u0),[jx]=nf(u0,[Vxe,rte]),Vk=rte(),[Wxe,Ng]=jx(u0),[Gxe,Kxe]=jx(u0),_te=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p,form:x}=n,y=Vk(e),[w,b]=U.useState(null),[S,_]=U.useState(null),[P,E]=U.useState(!1),C=f5(c),[N,L]=xg({prop:r,defaultProp:i??!1,onChange:s,caller:u0}),[R,F]=xg({prop:a,defaultProp:o,onChange:l,caller:u0}),j=U.useRef(null),D=w?x||!!w.closest("form"):!0,[W,V]=U.useState(new Set),Z=Array.from(W).map(J=>J.props.value).join(";");return v.jsx(Jwe,{...y,children:v.jsxs(Wxe,{required:p,scope:e,trigger:w,onTriggerChange:b,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:op(),value:R,onValueChange:F,open:N,onOpenChange:L,dir:C,triggerPointerDownPosRef:j,disabled:h,children:[v.jsx(zk.Provider,{scope:e,children:v.jsx(Gxe,{scope:n.__scopeSelect,onNativeOptionAdd:U.useCallback(J=>{V(K=>new Set(K).add(J))},[]),onNativeOptionRemove:U.useCallback(J=>{V(K=>{const $=new Set(K);return $.delete(J),$})},[]),children:t})}),D?v.jsxs(Hte,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:J=>F(J.target.value),disabled:h,form:x,children:[R===void 0?v.jsx("option",{value:""}):null,Array.from(W)]},Z):null]})})};_te.displayName=u0;var Ste="SelectTrigger",Ate=U.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Vk(t),a=Ng(Ste,t),o=a.disabled||r,l=Kn(e,a.onTriggerChange),c=Hk(t),u=U.useRef("touch"),[f,h,p]=Wte(y=>{const w=c().filter(_=>!_.disabled),b=w.find(_=>_.value===a.value),S=Gte(w,y,b);S!==void 0&&a.onValueChange(S.value)}),x=y=>{o||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return v.jsx(Zwe,{asChild:!0,...s,children:v.jsx(cn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Vte(a.value)?"":void 0,...i,ref:l,onClick:dn(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&x(y)}),onPointerDown:dn(i.onPointerDown,y=>{u.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:dn(i.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(w&&y.key===" ")&&zxe.includes(y.key)&&(x(),y.preventDefault())})})})});Ate.displayName=Ste;var Pte="SelectValue",Cte=U.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:a="",...o}=n,l=Ng(Pte,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=Kn(e,l.onValueNodeChange);return aa(()=>{c(u)},[c,u]),v.jsx(cn.span,{...o,ref:f,style:{pointerEvents:"none"},children:Vte(l.value)?v.jsx(v.Fragment,{children:a}):s})});Cte.displayName=Pte;var Xxe="SelectIcon",Ete=U.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return v.jsx(cn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Ete.displayName=Xxe;var Yxe="SelectPortal",Tte=n=>v.jsx(IF,{asChild:!0,...n});Tte.displayName=Yxe;var f0="SelectContent",kte=U.forwardRef((n,e)=>{const t=Ng(f0,n.__scopeSelect),[r,i]=U.useState();if(aa(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?u5.createPortal(v.jsx(Nte,{scope:n.__scopeSelect,children:v.jsx(zk.Slot,{scope:n.__scopeSelect,children:v.jsx("div",{children:n.children})})}),s):null}return v.jsx(Ote,{...n,ref:e})});kte.displayName=f0;var Cu=10,[Nte,Og]=jx(f0),Jxe="SelectContentImpl",Zxe=Vw("SelectContent.RemoveScroll"),Ote=U.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:w,...b}=n,S=Ng(f0,t),[_,P]=U.useState(null),[E,C]=U.useState(null),N=Kn(e,he=>P(he)),[L,R]=U.useState(null),[F,j]=U.useState(null),D=Hk(t),[W,V]=U.useState(!1),Z=U.useRef(!1);U.useEffect(()=>{if(_)return pte(_)},[_]),Uee();const J=U.useCallback(he=>{const[oe,...pe]=D().map(ye=>ye.ref.current),[Se]=pe.slice(-1),be=document.activeElement;for(const ye of he)if(ye===be||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===oe&&E&&(E.scrollTop=0),ye===Se&&E&&(E.scrollTop=E.scrollHeight),ye==null||ye.focus(),document.activeElement!==be))return},[D,E]),K=U.useCallback(()=>J([L,_]),[J,L,_]);U.useEffect(()=>{W&&K()},[W,K]);const{onOpenChange:$,triggerPointerDownPosRef:te}=S;U.useEffect(()=>{if(_){let he={x:0,y:0};const oe=Se=>{var be,ye;he={x:Math.abs(Math.round(Se.pageX)-(((be=te.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((ye=te.current)==null?void 0:ye.y)??0))}},pe=Se=>{he.x<=10&&he.y<=10?Se.preventDefault():_.contains(Se.target)||$(!1),document.removeEventListener("pointermove",oe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",pe,{capture:!0})}}},[_,$,te]),U.useEffect(()=>{const he=()=>$(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[$]);const[Q,X]=Wte(he=>{const oe=D().filter(be=>!be.disabled),pe=oe.find(be=>be.ref.current===document.activeElement),Se=Gte(oe,he,pe);Se&&setTimeout(()=>Se.ref.current.focus())}),B=U.useCallback((he,oe,pe)=>{const Se=!Z.current&&!pe;(S.value!==void 0&&S.value===oe||Se)&&(R(he),Se&&(Z.current=!0))},[S.value]),G=U.useCallback(()=>_==null?void 0:_.focus(),[_]),ne=U.useCallback((he,oe,pe)=>{const Se=!Z.current&&!pe;(S.value!==void 0&&S.value===oe||Se)&&j(he)},[S.value]),ie=r==="popper"?QI:jte,fe=ie===QI?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return v.jsx(Nte,{scope:t,content:_,viewport:E,onViewportChange:C,itemRefCallback:B,selectedItem:L,onItemLeave:G,itemTextRefCallback:ne,focusSelectedItem:K,selectedItemText:F,position:r,isPositioned:W,searchRef:Q,children:v.jsx(MF,{as:Zxe,allowPinchZoom:!0,children:v.jsx(CF,{asChild:!0,trapped:S.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:dn(i,he=>{var oe;(oe=S.trigger)==null||oe.focus({preventScroll:!0}),he.preventDefault()}),children:v.jsx(PF,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:v.jsx(ie,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:he=>he.preventDefault(),...b,...fe,onPlaced:()=>V(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:dn(b.onKeyDown,he=>{const oe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!oe&&he.key.length===1&&X(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Se=D().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const be=he.target,ye=Se.indexOf(be);Se=Se.slice(ye+1)}setTimeout(()=>J(Se)),he.preventDefault()}})})})})})})});Ote.displayName=Jxe;var Qxe="SelectItemAlignedPosition",jte=U.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Ng(f0,t),a=Og(f0,t),[o,l]=U.useState(null),[c,u]=U.useState(null),f=Kn(e,N=>u(N)),h=Hk(t),p=U.useRef(!1),x=U.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:b,focusSelectedItem:S}=a,_=U.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&y&&w&&b){const N=s.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),F=b.getBoundingClientRect();if(s.dir!=="rtl"){const be=F.left-L.left,ye=R.left-be,Oe=N.left-ye,Pe=N.width+Oe,ge=Math.max(Pe,L.width),Ke=window.innerWidth-Cu,Xe=wI(ye,[Cu,Math.max(Cu,Ke-ge)]);o.style.minWidth=Pe+"px",o.style.left=Xe+"px"}else{const be=L.right-F.right,ye=window.innerWidth-R.right-be,Oe=window.innerWidth-N.right-ye,Pe=N.width+Oe,ge=Math.max(Pe,L.width),Ke=window.innerWidth-Cu,Xe=wI(ye,[Cu,Math.max(Cu,Ke-ge)]);o.style.minWidth=Pe+"px",o.style.right=Xe+"px"}const j=h(),D=window.innerHeight-Cu*2,W=y.scrollHeight,V=window.getComputedStyle(c),Z=parseInt(V.borderTopWidth,10),J=parseInt(V.paddingTop,10),K=parseInt(V.borderBottomWidth,10),$=parseInt(V.paddingBottom,10),te=Z+J+W+$+K,Q=Math.min(w.offsetHeight*5,te),X=window.getComputedStyle(y),B=parseInt(X.paddingTop,10),G=parseInt(X.paddingBottom,10),ne=N.top+N.height/2-Cu,ie=D-ne,fe=w.offsetHeight/2,he=w.offsetTop+fe,oe=Z+J+he,pe=te-oe;if(oe<=ne){const be=j.length>0&&w===j[j.length-1].ref.current;o.style.bottom="0px";const ye=c.clientHeight-y.offsetTop-y.offsetHeight,Oe=Math.max(ie,fe+(be?G:0)+ye+K),Pe=oe+Oe;o.style.height=Pe+"px"}else{const be=j.length>0&&w===j[0].ref.current;o.style.top="0px";const Oe=Math.max(ne,Z+y.offsetTop+(be?B:0)+fe)+pe;o.style.height=Oe+"px",y.scrollTop=oe-ne+y.offsetTop}o.style.margin=`${Cu}px 0`,o.style.minHeight=Q+"px",o.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,c,y,w,b,s.dir,r]);aa(()=>_(),[_]);const[P,E]=U.useState();aa(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const C=U.useCallback(N=>{N&&x.current===!0&&(_(),S==null||S(),x.current=!1)},[_,S]);return v.jsx(t2e,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:v.jsx(cn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});jte.displayName=Qxe;var e2e="SelectPopperPosition",QI=U.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Cu,...s}=n,a=Vk(t);return v.jsx(Qwe,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QI.displayName=e2e;var[t2e,DF]=jx(f0,{}),eM="SelectViewport",Lte=U.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Og(eM,t),a=DF(eM,t),o=Kn(e,s.onViewportChange),l=U.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(zk.Slot,{scope:t,children:v.jsx(cn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dn(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const x=window.innerHeight-Cu*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(y,w);if(b<x){const S=b+p,_=Math.min(x,S),P=S-_;f.style.height=_+"px",f.style.bottom==="0px"&&(u.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Lte.displayName=eM;var Rte="SelectGroup",[n2e,r2e]=jx(Rte),i2e=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=op();return v.jsx(n2e,{scope:t,id:i,children:v.jsx(cn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});i2e.displayName=Rte;var Ite="SelectLabel",s2e=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=r2e(Ite,t);return v.jsx(cn.div,{id:i.id,...r,ref:e})});s2e.displayName=Ite;var IE="SelectItem",[a2e,Mte]=jx(IE),Dte=U.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...a}=n,o=Ng(IE,t),l=Og(IE,t),c=o.value===r,[u,f]=U.useState(s??""),[h,p]=U.useState(!1),x=Kn(e,S=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,S,r,i)}),y=op(),w=U.useRef("touch"),b=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(a2e,{scope:t,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:U.useCallback(S=>{f(_=>_||((S==null?void 0:S.textContent)??"").trim())},[]),children:v.jsx(zk.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:v.jsx(cn.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:dn(a.onFocus,()=>p(!0)),onBlur:dn(a.onBlur,()=>p(!1)),onClick:dn(a.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:dn(a.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:dn(a.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:dn(a.onPointerMove,S=>{var _;w.current=S.pointerType,i?(_=l.onItemLeave)==null||_.call(l):w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dn(a.onPointerLeave,S=>{var _;S.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:dn(a.onKeyDown,S=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(Hxe.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});Dte.displayName=IE;var D2="SelectItemText",Fte=U.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,a=Ng(D2,t),o=Og(D2,t),l=Mte(D2,t),c=Kxe(D2,t),[u,f]=U.useState(null),h=Kn(e,b=>f(b),l.onItemTextChange,b=>{var S;return(S=o.itemTextRefCallback)==null?void 0:S.call(o,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,x=U.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=c;return aa(()=>(y(x),()=>w(x)),[y,w,x]),v.jsxs(v.Fragment,{children:[v.jsx(cn.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?u5.createPortal(s.children,a.valueNode):null]})});Fte.displayName=D2;var Bte="SelectItemIndicator",$te=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Mte(Bte,t).isSelected?v.jsx(cn.span,{"aria-hidden":!0,...r,ref:e}):null});$te.displayName=Bte;var tM="SelectScrollUpButton",qte=U.forwardRef((n,e)=>{const t=Og(tM,n.__scopeSelect),r=DF(tM,n.__scopeSelect),[i,s]=U.useState(!1),a=Kn(e,r.onScrollButtonChange);return aa(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?v.jsx(zte,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});qte.displayName=tM;var nM="SelectScrollDownButton",Ute=U.forwardRef((n,e)=>{const t=Og(nM,n.__scopeSelect),r=DF(nM,n.__scopeSelect),[i,s]=U.useState(!1),a=Kn(e,r.onScrollButtonChange);return aa(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?v.jsx(zte,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});Ute.displayName=nM;var zte=U.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Og("SelectScrollButton",t),a=U.useRef(null),o=Hk(t),l=U.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return U.useEffect(()=>()=>l(),[l]),aa(()=>{var u;const c=o().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),v.jsx(cn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:dn(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:dn(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:dn(i.onPointerLeave,()=>{l()})})}),o2e="SelectSeparator",l2e=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return v.jsx(cn.div,{"aria-hidden":!0,...r,ref:e})});l2e.displayName=o2e;var rM="SelectArrow",c2e=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Vk(t),s=Ng(rM,t),a=Og(rM,t);return s.open&&a.position==="popper"?v.jsx(exe,{...i,...r,ref:e}):null});c2e.displayName=rM;var u2e="SelectBubbleInput",Hte=U.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=U.useRef(null),s=Kn(r,i),a=_F(e);return U.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(f)}},[a,e]),v.jsx(cn.select,{...t,style:{...dte,...t.style},ref:s,defaultValue:e})});Hte.displayName=u2e;function Vte(n){return n===""||n===void 0}function Wte(n){const e=So(n),t=U.useRef(""),r=U.useRef(0),i=U.useCallback(a=>{const o=t.current+a;e(o),(function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=U.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function Gte(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=f2e(n,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function f2e(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var d2e=_te,h2e=Ate,p2e=Cte,m2e=Ete,g2e=Tte,v2e=kte,y2e=Lte,b2e=Dte,w2e=Fte,x2e=$te,_2e=qte,S2e=Ute;function bo({...n}){return v.jsx(d2e,{"data-slot":"select",...n})}function wo({...n}){return v.jsx(p2e,{"data-slot":"select-value",...n})}function xo({className:n,size:e="default",children:t,...r}){return v.jsxs(h2e,{"data-slot":"select-trigger","data-size":e,className:Xn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,v.jsx(m2e,{asChild:!0,children:v.jsx($8,{className:"size-4 opacity-50"})})]})}function _o({className:n,children:e,position:t="popper",...r}){return v.jsx(g2e,{children:v.jsxs(v2e,{"data-slot":"select-content",className:Xn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[v.jsx(A2e,{}),v.jsx(y2e,{className:Xn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),v.jsx(P2e,{})]})})}function Mt({className:n,children:e,...t}){return v.jsxs(b2e,{"data-slot":"select-item",className:Xn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[v.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:v.jsx(x2e,{children:v.jsx(Hpe,{className:"size-4"})})}),v.jsx(w2e,{children:e})]})}function A2e({className:n,...e}){return v.jsx(_2e,{"data-slot":"select-scroll-up-button",className:Xn("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(Xpe,{className:"size-4"})})}function P2e({className:n,...e}){return v.jsx(S2e,{"data-slot":"select-scroll-down-button",className:Xn("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx($8,{className:"size-4"})})}function C2e({onPatientCreated:n}){const[e,t]=U.useState({name:"",age:"",gender:"",email:"",phone:"",address:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",medicalHistory:"",allergies:"",status:"Under Observation",cancerType:"None",stage:"Unknown",diagnosisDate:"",cancerHistory:"false",smokingStatus:"Non-Smoker",alcoholFrequency:"Never",processedFoodPreference:"Non-Frequent",fruitVegetableIntake:"Frequent",weight:"",height:""}),[r,i]=U.useState([]),[s,a]=U.useState(!1),[o,l]=U.useState(""),[c,u]=U.useState(!1),f=(b,S)=>{t(_=>({..._,[b]:S}))},h=async b=>{const S=b.target.files;if(S)for(const _ of Array.from(S)){let P;_.type.startsWith("image/")&&(P=await new Promise(C=>{const N=new FileReader;N.onloadend=()=>C(N.result),N.readAsDataURL(_)}));const E={id:Math.random().toString(36).substring(2,9),name:_.name,type:_.type,size:_.size,file:_,preview:P};i(C=>[...C,E])}},p=b=>{i(S=>{const _=S.find(P=>P.id===b);return _!=null&&_.preview&&URL.revokeObjectURL(_.preview),S.filter(P=>P.id!==b)})},x=b=>{if(b===0)return"0 Bytes";const S=1024,_=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(b)/Math.log(S));return parseFloat((b/Math.pow(S,P)).toFixed(2))+" "+_[P]},y=new Gt("CliniTrack"),w=async b=>{if(b.preventDefault(),l(""),a(!0),!e.name||!e.age||!e.gender||!e.phone){l("Please fill in all required fields"),a(!1);return}if(isNaN(Number(e.age))||Number(e.age)<0||Number(e.age)>150){l("Please enter a valid age"),a(!1);return}await new Promise(S=>setTimeout(S,1500));try{const S={id:Math.random().toString(36).substr(2,9),name:e.name,age:Number(e.age),gender:e.gender,email:e.email,phone:e.phone,address:e.address,emergencyContact:{name:e.emergencyContactName,phone:e.emergencyContactPhone,relationship:e.emergencyContactRelationship},medicalHistory:e.medicalHistory?e.medicalHistory.split(",").map(_=>_.trim()):[],allergies:e.allergies?e.allergies.split(",").map(_=>_.trim()):[],status:e.status,cancerType:e.cancerType!=="None"?e.cancerType:void 0,stage:e.stage!=="Unknown"?e.stage:void 0,diagnosisDate:e.diagnosisDate||void 0,cancerHistory:e.cancerHistory==="true",smokingStatus:e.smokingStatus,alcoholFrequency:e.alcoholFrequency,processedFoodPreference:e.processedFoodPreference,fruitVegetableIntake:e.fruitVegetableIntake,weight:e.weight?Number(e.weight):void 0,height:e.height?Number(e.height):void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{await y.put({_id:S.id,type:"patient",...S}),await y.put({_id:`activity_patient_${S.id}_${Date.now()}`,type:"activity",activityType:"patient_create",patientId:S.id,patientName:S.name,performedBy:"Secretary",timestamp:new Date().toISOString(),details:"New patient registered"}),console.log(" Patient saved locally to PouchDB:",S.name);for(const _ of r){const P=await _.file.arrayBuffer(),E=btoa(new Uint8Array(P).reduce((N,L)=>N+String.fromCharCode(L),"")),C=`lab_${S.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await y.put({_id:C,type:"labResult",patientId:S.id,name:_.name,fileType:_.type,fileName:_.name,fileSize:_.size,fileData:E,date:new Date().toISOString(),uploadedBy:"Secretary"}),console.log(" File saved to PouchDB:",_.name)}}catch(_){console.error(" Failed to save to PouchDB:",_)}n(S),u(!0),setTimeout(()=>{t({name:"",age:"",gender:"",email:"",phone:"",address:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",medicalHistory:"",allergies:"",status:"Under Observation",cancerType:"None",stage:"Unknown",diagnosisDate:"",cancerHistory:"false",smokingStatus:"Non-Smoker",alcoholFrequency:"Never",processedFoodPreference:"Non-Frequent",fruitVegetableIntake:"Frequent",weight:"",height:""}),i([]),u(!1)},2e3)}catch{l("Failed to create patient record. Please try again.")}finally{a(!1)}};return c?v.jsx(Ft,{children:v.jsx(tn,{className:"pt-6",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:v.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium",children:"Patient Registered Successfully!"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"The patient record has been created and is now available for doctor review."})]})]})})}):v.jsx("div",{className:"space-y-6",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Register New Patient"}),v.jsx(ai,{children:"Enter patient demographics and upload any lab/imaging files"})]}),v.jsx(tn,{children:v.jsxs("form",{onSubmit:w,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Basic Demographics"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"name",children:"Full Name *"}),v.jsx(In,{id:"name",value:e.name,onChange:b=>f("name",b.target.value),placeholder:"Enter patient's full name",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"age",children:"Age *"}),v.jsx(In,{id:"age",type:"number",value:e.age,onChange:b=>f("age",b.target.value),placeholder:"Enter age",min:"0",max:"150",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"gender",children:"Gender *"}),v.jsxs(bo,{value:e.gender,onValueChange:b=>f("gender",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select gender"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Male",children:"Male"}),v.jsx(Mt,{value:"Female",children:"Female"}),v.jsx(Mt,{value:"Other",children:"Other"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"email",children:"Email (Optional)"}),v.jsx(In,{id:"email",type:"email",value:e.email,onChange:b=>f("email",b.target.value),placeholder:"Enter email address",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"phone",children:"Phone *"}),v.jsx(In,{id:"phone",value:e.phone,onChange:b=>f("phone",b.target.value),placeholder:"Enter phone number",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"address",children:"Address"}),v.jsx(In,{id:"address",value:e.address,onChange:b=>f("address",b.target.value),placeholder:"Enter full address",disabled:s})]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Emergency Contact"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"emergencyContactName",children:"Contact Name"}),v.jsx(In,{id:"emergencyContactName",value:e.emergencyContactName,onChange:b=>f("emergencyContactName",b.target.value),placeholder:"Enter contact name",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"emergencyContactPhone",children:"Contact Phone"}),v.jsx(In,{id:"emergencyContactPhone",value:e.emergencyContactPhone,onChange:b=>f("emergencyContactPhone",b.target.value),placeholder:"Enter contact phone",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"emergencyContactRelationship",children:"Relationship"}),v.jsx(In,{id:"emergencyContactRelationship",value:e.emergencyContactRelationship,onChange:b=>f("emergencyContactRelationship",b.target.value),placeholder:"e.g., Spouse, Parent, Child",disabled:s})]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Medical Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"medicalHistory",children:"Medical History"}),v.jsx(Xw,{id:"medicalHistory",value:e.medicalHistory,onChange:b=>f("medicalHistory",b.target.value),placeholder:"Enter medical history (separate with commas)",rows:3,disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"allergies",children:"Allergies"}),v.jsx(Xw,{id:"allergies",value:e.allergies,onChange:b=>f("allergies",b.target.value),placeholder:"Enter known allergies (separate with commas)",rows:3,disabled:s})]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Cancer Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"status",children:"Patient Status *"}),v.jsxs(bo,{value:e.status,onValueChange:b=>f("status",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select patient status"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Ongoing",children:"Ongoing"}),v.jsx(Mt,{value:"Cancer-Free",children:"Cancer-Free"}),v.jsx(Mt,{value:"Under Observation",children:"Under Observation"}),v.jsx(Mt,{value:"Recurrence",children:"Recurrence"}),v.jsx(Mt,{value:"Deceased",children:"Deceased"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"cancerType",children:"Cancer Type"}),v.jsxs(bo,{value:e.cancerType,onValueChange:b=>f("cancerType",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select cancer type (if applicable)"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"None",children:"None"}),v.jsx(Mt,{value:"Breast Cancer",children:"Breast Cancer"}),v.jsx(Mt,{value:"Lung Cancer",children:"Lung Cancer"}),v.jsx(Mt,{value:"Colorectal Cancer",children:"Colorectal Cancer"}),v.jsx(Mt,{value:"Prostate Cancer",children:"Prostate Cancer"}),v.jsx(Mt,{value:"Other",children:"Other"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"stage",children:"Cancer Stage"}),v.jsxs(bo,{value:e.stage,onValueChange:b=>f("stage",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select stage (if applicable)"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Unknown",children:"Unknown"}),v.jsx(Mt,{value:"Stage I",children:"Stage I"}),v.jsx(Mt,{value:"Stage II",children:"Stage II"}),v.jsx(Mt,{value:"Stage III",children:"Stage III"}),v.jsx(Mt,{value:"Stage IV",children:"Stage IV"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"diagnosisDate",children:"Diagnosis Date"}),v.jsx(In,{id:"diagnosisDate",type:"date",value:e.diagnosisDate,onChange:b=>f("diagnosisDate",b.target.value),disabled:s})]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Lifestyle & Risk Factors"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"cancerHistory",children:"Previous Cancer History"}),v.jsxs(bo,{value:e.cancerHistory,onValueChange:b=>f("cancerHistory",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select cancer history"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"false",children:"No"}),v.jsx(Mt,{value:"true",children:"Yes"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"smokingStatus",children:"Smoking Status"}),v.jsxs(bo,{value:e.smokingStatus,onValueChange:b=>f("smokingStatus",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select smoking status"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Non-Smoker",children:"Non-Smoker"}),v.jsx(Mt,{value:"Current Smoker",children:"Current Smoker"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"alcoholFrequency",children:"Alcohol Consumption"}),v.jsxs(bo,{value:e.alcoholFrequency,onValueChange:b=>f("alcoholFrequency",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select alcohol frequency"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Never",children:"Never"}),v.jsx(Mt,{value:"Occasional",children:"Occasional"}),v.jsx(Mt,{value:"Every Week",children:"Every Week"}),v.jsx(Mt,{value:"Everyday",children:"Everyday"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"processedFoodPreference",children:"Processed Food Intake"}),v.jsxs(bo,{value:e.processedFoodPreference,onValueChange:b=>f("processedFoodPreference",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select processed food frequency"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Non-Frequent",children:"Non-Frequent"}),v.jsx(Mt,{value:"Frequent",children:"Frequent"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"fruitVegetableIntake",children:"Fruit & Vegetable Intake"}),v.jsxs(bo,{value:e.fruitVegetableIntake,onValueChange:b=>f("fruitVegetableIntake",b),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select fruit/vegetable intake"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Non-Frequent",children:"Non-Frequent"}),v.jsx(Mt,{value:"Frequent",children:"Frequent"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"weight",children:"Weight (kg)"}),v.jsx(In,{id:"weight",type:"number",value:e.weight,onChange:b=>f("weight",b.target.value),placeholder:"Enter weight in kilograms",min:"1",max:"300",disabled:s})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"height",children:"Height (cm)"}),v.jsx(In,{id:"height",type:"number",value:e.height,onChange:b=>f("height",b.target.value),placeholder:"Enter height in centimeters",min:"50",max:"250",disabled:s})]})]}),e.weight&&e.height&&v.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[v.jsx("p",{className:"text-sm font-medium",children:"BMI Calculation"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["BMI: ",(Number(e.weight)/Math.pow(Number(e.height)/100,2)).toFixed(1),Number(e.weight)&&Number(e.height)&&(()=>{const b=Number(e.weight)/Math.pow(Number(e.height)/100,2);return b<18.5?" (Underweight)":b<25?" (Normal weight)":b<30?" (Overweight)":" (Obese)"})()]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Lab/Imaging Files"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(OZ,{className:"mx-auto h-8 w-8 text-muted-foreground"}),v.jsx("div",{className:"mt-2",children:v.jsxs(It,{htmlFor:"file-upload",className:"cursor-pointer",children:[v.jsx("span",{className:"text-primary hover:text-primary/80",children:"Click to upload files"}),v.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]})}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, PNG, JPG up to 10MB"})]}),v.jsx(In,{id:"file-upload",type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg",onChange:h,className:"hidden",disabled:s})]}),r.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-sm font-medium",children:"Uploaded Files"}),r.map(b=>v.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:b.preview?v.jsxs("div",{className:"aspect-video bg-muted relative",children:[v.jsx(zt,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-0 h-6 w-6",onClick:()=>p(b.id),disabled:s,children:v.jsx(AI,{className:"h-3 w-3"})}),v.jsx("img",{src:b.preview,alt:b.name,className:"w-full h-full object-cover"}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2",children:[v.jsx("p",{className:"text-xs truncate",children:b.name}),v.jsx("p",{className:"text-xs text-gray-300",children:x(b.size)})]})]}):v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(sd,{className:"h-4 w-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm",children:b.name}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",x(b.size),")"]})]}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",onClick:()=>p(b.id),disabled:s,children:v.jsx(AI,{className:"h-4 w-4"})})]})},b.id))]})]})]}),o&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:o})}),v.jsxs("div",{className:"flex justify-end space-x-4",children:[v.jsx(zt,{type:"button",variant:"outline",disabled:s,children:"Cancel"}),v.jsx(zt,{type:"submit",disabled:s,children:s?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Record..."]}):"Create Patient Record"})]})]})})]})})}var Wk="Dialog",[Kte]=nf(Wk),[E2e,rf]=Kte(Wk),Xte=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,o=U.useRef(null),l=U.useRef(null),[c,u]=xg({prop:r,defaultProp:i??!1,onChange:s,caller:Wk});return v.jsx(E2e,{scope:e,triggerRef:o,contentRef:l,contentId:op(),titleId:op(),descriptionId:op(),open:c,onOpenChange:u,onOpenToggle:U.useCallback(()=>u(f=>!f),[u]),modal:a,children:t})};Xte.displayName=Wk;var Yte="DialogTrigger",Jte=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rf(Yte,t),s=Kn(e,i.triggerRef);return v.jsx(cn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$F(i.open),...r,ref:s,onClick:dn(n.onClick,i.onOpenToggle)})});Jte.displayName=Yte;var FF="DialogPortal",[T2e,Zte]=Kte(FF,{forceMount:void 0}),Qte=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=rf(FF,e);return v.jsx(T2e,{scope:e,forceMount:t,children:U.Children.map(r,a=>v.jsx(tf,{present:t||s.open,children:v.jsx(IF,{asChild:!0,container:i,children:a})}))})};Qte.displayName=FF;var ME="DialogOverlay",ene=U.forwardRef((n,e)=>{const t=Zte(ME,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=rf(ME,n.__scopeDialog);return s.modal?v.jsx(tf,{present:r||s.open,children:v.jsx(N2e,{...i,ref:e})}):null});ene.displayName=ME;var k2e=Vw("DialogOverlay.RemoveScroll"),N2e=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rf(ME,t);return v.jsx(MF,{as:k2e,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(cn.div,{"data-state":$F(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),d0="DialogContent",tne=U.forwardRef((n,e)=>{const t=Zte(d0,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=rf(d0,n.__scopeDialog);return v.jsx(tf,{present:r||s.open,children:s.modal?v.jsx(O2e,{...i,ref:e}):v.jsx(j2e,{...i,ref:e})})});tne.displayName=d0;var O2e=U.forwardRef((n,e)=>{const t=rf(d0,n.__scopeDialog),r=U.useRef(null),i=Kn(e,t.contentRef,r);return U.useEffect(()=>{const s=r.current;if(s)return pte(s)},[]),v.jsx(nne,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dn(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:dn(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:dn(n.onFocusOutside,s=>s.preventDefault())})}),j2e=U.forwardRef((n,e)=>{const t=rf(d0,n.__scopeDialog),r=U.useRef(!1),i=U.useRef(!1);return v.jsx(nne,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nne=U.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=n,o=rf(d0,t),l=U.useRef(null),c=Kn(e,l);return Uee(),v.jsxs(v.Fragment,{children:[v.jsx(CF,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(PF,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":$F(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(L2e,{titleId:o.titleId}),v.jsx(I2e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),BF="DialogTitle",rne=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rf(BF,t);return v.jsx(cn.h2,{id:i.titleId,...r,ref:e})});rne.displayName=BF;var ine="DialogDescription",sne=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rf(ine,t);return v.jsx(cn.p,{id:i.descriptionId,...r,ref:e})});sne.displayName=ine;var ane="DialogClose",one=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rf(ane,t);return v.jsx(cn.button,{type:"button",...r,ref:e,onClick:dn(n.onClick,()=>i.onOpenChange(!1))})});one.displayName=ane;function $F(n){return n?"open":"closed"}var lne="DialogTitleWarning",[x$e,cne]=ope(lne,{contentName:d0,titleName:BF,docsSlug:"dialog"}),L2e=({titleId:n})=>{const e=cne(lne),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return U.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},R2e="DialogDescriptionWarning",I2e=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cne(R2e).contentName}}.`;return U.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},M2e=Xte,D2e=Jte,F2e=Qte,B2e=ene,$2e=tne,q2e=rne,U2e=sne,z2e=one;const DE=M2e,une=U.forwardRef(function({...e},t){return v.jsx(D2e,{ref:t,"data-slot":"dialog-trigger",...e})}),H2e=F2e,V2e=U.forwardRef(function({...e},t){return v.jsx(z2e,{ref:t,"data-slot":"dialog-close",...e})}),W2e=U.forwardRef(function({className:e,...t},r){return v.jsx(B2e,{ref:r,className:Xn("data-[state=open]:animate-in data-[state=closed]:animate-out fixed inset-0 z-50 bg-black/50",e),...t})}),FE=U.forwardRef(function({className:e,children:t,...r},i){return v.jsxs(H2e,{children:[v.jsx(W2e,{}),v.jsxs($2e,{ref:i,className:Xn("fixed top-1/2 left-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-lg border bg-background p-6 shadow-lg",e),...r,children:[t,v.jsx(V2e,{className:"absolute right-4 top-4 opacity-70 hover:opacity-100",children:v.jsx(AI,{className:"size-4"})})]})]})}),BE=({className:n,...e})=>v.jsx("div",{className:Xn("flex flex-col gap-2 text-center sm:text-left",n),...e}),$E=U.forwardRef(function({className:e,...t},r){return v.jsx(q2e,{ref:r,className:Xn("text-lg font-semibold leading-none",e),...t})}),fne=U.forwardRef(function({className:e,...t},r){return v.jsx(U2e,{ref:r,className:Xn("text-sm text-muted-foreground",e),...t})}),go=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),iM=[.001,0,0,.001,0,0],S3=1.35,Gl={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},pm={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},R_="pdfjs_internal_editor_",xn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},zn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},G2e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ha={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},OC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ds={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},E1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gk={ERRORS:0,WARNINGS:1,INFOS:5},I_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},$P={moveTo:0,lineTo:1,curveTo:2,closePath:3},K2e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Kk=Gk.WARNINGS;function X2e(n){Number.isInteger(n)&&(Kk=n)}function Y2e(){return Kk}function Xk(n){Kk>=Gk.INFOS&&console.info(`Info: ${n}`)}function yn(n){Kk>=Gk.WARNINGS&&console.warn(`Warning: ${n}`)}function zr(n){throw new Error(n)}function Hn(n,e){n||zr(e)}function J2e(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dne(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=n_e(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return J2e(r)?r:null}function hne(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&dne(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Cn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const E0=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class uU extends E0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class A3 extends E0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class sM extends E0{constructor(e){super(e,"InvalidPDFException")}}class qE extends E0{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class Z2e extends E0{constructor(e){super(e,"FormatError")}}class Ag extends E0{constructor(e){super(e,"AbortException")}}function pne(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&zr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function w5(n){typeof n!="string"&&zr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Q2e(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function e_e(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function t_e(){try{return new Function(""),!0}catch{return!1}}class Ca{static get isLittleEndian(){return Cn(this,"isLittleEndian",e_e())}static get isEvalSupported(){return Cn(this,"isEvalSupported",t_e())}static get isOffscreenCanvasSupported(){return Cn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Cn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Cn(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Cn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const P3=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var fp,jC,aM;class vt{static makeHexColor(e,t,r){return`#${P3[e]}${P3[t]}${P3[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const f=e[r+u],h=e[r+u+1];e[r+u]=f*i+h*a+l,e[r+u+1]=f*s+h*o+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5],u=e[0],f=e[1],h=e[2],p=e[3];let x=i*u+l,y=x,w=i*h+l,b=w,S=o*f+c,_=S,P=o*p+c,E=P;if(s!==0||a!==0){const C=s*u,N=s*h,L=a*f,R=a*p;x+=L,b+=L,w+=R,y+=R,S+=C,E+=C,P+=N,_+=N}r[0]=Math.min(r[0],x,w,y,b),r[1]=Math.min(r[1],S,P,_,E),r[2]=Math.max(r[2],x,w,y,b),r[3]=Math.max(r[3],S,P,_,E)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,u=(o+c)/2,f=Math.sqrt(u**2-(o*c-l**2));t[0]=Math.sqrt(u+f||1),t[1]=Math.sqrt(u-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l),re(this,fp,aM).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),re(this,fp,aM).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c)}}fp=new WeakSet,jC=function(e,t,r,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,h=c*c,p=h*c,x=f*(f*(f*e+3*c*t)+3*h*r)+p*i,y=f*(f*(f*s+3*c*a)+3*h*o)+p*l;u[0]=Math.min(u[0],x),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],x),u[3]=Math.max(u[3],y)},aM=function(e,t,r,i,s,a,o,l,c,u,f,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&re(this,fp,jC).call(this,e,t,r,i,s,a,o,l,-f/u,h);return}const p=u**2-4*f*c;if(p<0)return;const x=Math.sqrt(p),y=2*c;re(this,fp,jC).call(this,e,t,r,i,s,a,o,l,(-u+x)/y,h),re(this,fp,jC).call(this,e,t,r,i,s,a,o,l,(-u-x)/y,h)},ee(vt,fp);function n_e(n){return decodeURIComponent(escape(n))}let C3=null,fU=null;function r_e(n){return C3||(C3=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fU=new Map([["","t"]])),n.replaceAll(C3,(e,t,r)=>t?t.normalize("NFKC"):fU.get(r))}function mne(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),pne(n)}const qF="pdfjs_internal_id_";function i_e(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function vo(n,e,t){return Math.min(Math.max(n,e),t)}function gne(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(pne(n))}function s_e(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):w5(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class M_{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(M_.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class vne{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var f,h;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&M_.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,x,y]=u.at(-1);if(x+1===p.children.length){u.pop();continue}const w=p.children[++u.at(-1)[1]];if(w===null)continue;const{name:b}=w;if(b==="#text"){const _=document.createTextNode(w.value);c.push(_),y.append(_);continue}const S=(f=w==null?void 0:w.attributes)!=null&&f.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(y.append(S),w.attributes&&this.setAttributes({html:S,element:w,storage:t,intent:s,linkService:r}),((h=w.children)==null?void 0:h.length)>0)u.push([w,-1,S]);else if(w.value){const _=document.createTextNode(w.value);o&&M_.shouldBuildText(b)&&c.push(_),S.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ph="http://www.w3.org/2000/svg",Tv=class Tv{};He(Tv,"CSS",96),He(Tv,"PDF",72),He(Tv,"PDF_TO_CSS_UNITS",Tv.CSS/Tv.PDF);let Pg=Tv;async function x5(n,e="text"){if(F2(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class _5{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,f,h,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,f=0,h=0,p=1;break;case 90:u=0,f=1,h=1,p=0;break;case 270:u=0,f=-1,h=-1,p=0;break;case 0:u=1,f=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let x,y,w,b;u===0?(x=Math.abs(c-e[1])*r+s,y=Math.abs(l-e[0])*r+a,w=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(x=Math.abs(l-e[0])*r+s,y=Math.abs(c-e[1])*r+a,w=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[u*r,f*r,h*r,p*r,x-u*r*l-h*r*c,y-f*r*l-p*r*c],this.width=w,this.height=b}get rawDims(){const e=this.viewBox;return Cn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new _5({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return vt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];vt.applyTransform(t,this.transform);const r=[e[2],e[3]];return vt.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return vt.applyInverseTransform(r,this.transform),r}}class UF extends E0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Yk(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function zF(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function a_e(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function o_e(n,e="document.pdf"){if(typeof n!="string")return e;if(Yk(n))return yn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class dU{constructor(){He(this,"started",Object.create(null));He(this,"times",[])}time(e){e in this.started&&yn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function F2(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Jc(n){n.preventDefault()}function Gi(n){n.preventDefault(),n.stopPropagation()}function l_e(n){console.log("Deprecated API usage: "+n)}var SS;class UE{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;g(this,SS)||z(this,SS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,SS).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=u,o+=f):c==="+"&&(a-=u,o-=f),new Date(Date.UTC(r,i,s,a,o,l))}}SS=new WeakMap,ee(UE,SS);function c_e(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new _5({viewBox:s,userUnit:1,scale:e,rotation:t})}function S5(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yn(`Not a valid color format: "${n}"`),[0,0,0])}function u_e(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,S5(r))}e.remove()}function Oi(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Pf(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function h0(n,e,t=!1,r=!0){if(e instanceof _5){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Ca.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class xd{constructor(){const{pixelRatio:e}=xd;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=xd.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const oM=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class f_e{static get isDarkMode(){var e;return Cn(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class d_e{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Cn(this,"commentForegroundColor",S5(r))}}function h_e(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function hU(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function lM(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function pU(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function mU(n,e,t){lM(n,t),t.map(pU);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];lM(e,t),t.map(pU);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const gU=new Map;function p_e(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=gU.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);hU(n,a);const o=i.subarray(6,9);hU(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),mU(a,o,s)<c){let u,f;l?(u=a[2],f=1):(u=0,f=a[2]);const h=.005;for(;f-u>h;){const p=a[2]=(u+f)/2;l===mU(a,o,s)<c?u=p:f=p}a[2]=l?f:u}return lM(a,s),r=vt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),gU.set(t,r),r}function yne({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else vne.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),r.append(i)}var gm,vm,Nc,Oc,AS,ym,vb,yb,PS,rk,bne,Pa,wne,xne,T1,B2;const yh=class yh{constructor(e){ee(this,Pa);ee(this,gm,null);ee(this,vm,null);ee(this,Nc);ee(this,Oc,null);ee(this,AS,null);ee(this,ym,null);ee(this,vb,null);ee(this,yb,null);z(this,Nc,e),g(yh,PS)||z(yh,PS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=z(this,gm,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,Nc)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Jc,{signal:t}),e.addEventListener("pointerdown",re(yh,rk,bne),{signal:t}));const r=z(this,Oc,document.createElement("div"));r.className="buttons",e.append(r);const i=g(this,Nc).toolbarPosition;if(i){const{style:s}=e,a=g(this,Nc)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return g(this,gm)}hide(){var e;g(this,gm).classList.add("hidden"),(e=g(this,vm))==null||e.hideDropdown()}show(){var e,t;g(this,gm).classList.remove("hidden"),(e=g(this,AS))==null||e.shown(),(t=g(this,ym))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=g(this,Nc),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",g(yh,PS)[e]),re(this,Pa,T1).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),g(this,Oc).append(r)}async addAltText(e){const t=await e.render();re(this,Pa,T1).call(this,t),g(this,Oc).append(t,g(this,Pa,B2)),z(this,AS,e)}addComment(e,t=null){if(g(this,ym))return;const r=e.renderForToolbar();if(!r)return;re(this,Pa,T1).call(this,r);const i=z(this,vb,g(this,Pa,B2));t?(g(this,Oc).insertBefore(r,t),g(this,Oc).insertBefore(i,t)):g(this,Oc).append(r,i),z(this,ym,e),e.toolbar=this}addColorPicker(e){if(g(this,vm))return;z(this,vm,e);const t=e.renderButton();re(this,Pa,T1).call(this,t),g(this,Oc).append(t,g(this,Pa,B2))}async addEditSignatureButton(e){const t=z(this,yb,await e.renderEditButton(g(this,Nc)));re(this,Pa,T1).call(this,t),g(this,Oc).append(t,g(this,Pa,B2))}removeButton(e){var t,r;switch(e){case"comment":(t=g(this,ym))==null||t.removeToolbarCommentButton(),z(this,ym,null),(r=g(this,vb))==null||r.remove(),z(this,vb,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,r){const i=g(this,Oc).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){g(this,yb)&&(g(this,yb).title=e)}remove(){var e;g(this,gm).remove(),(e=g(this,vm))==null||e.destroy(),z(this,vm,null)}};gm=new WeakMap,vm=new WeakMap,Nc=new WeakMap,Oc=new WeakMap,AS=new WeakMap,ym=new WeakMap,vb=new WeakMap,yb=new WeakMap,PS=new WeakMap,rk=new WeakSet,bne=function(e){e.stopPropagation()},Pa=new WeakSet,wne=function(e){g(this,Nc)._focusEventsAllowed=!1,Gi(e)},xne=function(e){g(this,Nc)._focusEventsAllowed=!0,Gi(e)},T1=function(e){const t=g(this,Nc)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",re(this,Pa,wne).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",re(this,Pa,xne).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Jc,{signal:t}),!0)},B2=function(){const e=document.createElement("div");return e.className="divider",e},ee(yh,rk),ee(yh,PS,null);let cM=yh;var CS,$v,xh,xp,_ne,Sne,uM;class m_e{constructor(e){ee(this,xp);ee(this,CS,null);ee(this,$v,null);ee(this,xh);z(this,xh,e)}show(e,t,r){const[i,s]=re(this,xp,Sne).call(this,t,r),{style:a}=g(this,$v)||z(this,$v,re(this,xp,_ne).call(this));e.append(g(this,$v)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,$v).remove()}}CS=new WeakMap,$v=new WeakMap,xh=new WeakMap,xp=new WeakSet,_ne=function(){const e=z(this,$v,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=g(this,xh)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Jc,{signal:t});const r=z(this,CS,document.createElement("div"));return r.className="buttons",e.append(r),g(this,xh).hasCommentManager()&&re(this,xp,uM).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{g(this,xh).commentSelection("floating_button")}),re(this,xp,uM).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{g(this,xh).highlightSelection("floating_button")}),e},Sne=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},uM=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=g(this,xh)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Jc,{signal:o}),s.addEventListener("click",i,{signal:o})),g(this,CS).append(s)};function Ane(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var ik;class g_e{constructor(){ee(this,ik,0)}get id(){return`${R_}${Cs(this,ik)._++}`}}ik=new WeakMap;var bb,ES,za,wb,LC;const u7=class u7{constructor(){ee(this,wb);ee(this,bb,mne());ee(this,ES,0);ee(this,za,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Cn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return re(this,wb,LC).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return re(this,wb,LC).call(this,e,e)}async getFromBlob(e,t){const r=await t;return re(this,wb,LC).call(this,e,r)}async getFromId(e){g(this,za)||z(this,za,new Map);const t=g(this,za).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,za)||z(this,za,new Map);let r=g(this,za).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${g(this,bb)}_${Cs(this,ES)._++}`,refCounter:1,isSvg:!1},g(this,za).set(e,r),g(this,za).set(r.id,r),r}getSvgUrl(e){const t=g(this,za).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;g(this,za)||z(this,za,new Map);const t=g(this,za).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,bb)}_`)}};bb=new WeakMap,ES=new WeakMap,za=new WeakMap,wb=new WeakSet,LC=async function(e,t){g(this,za)||z(this,za,new Map);let r=g(this,za).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${g(this,bb)}_${Cs(this,ES)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await x5(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=u7._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const f=r.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){yn(i),r=null}return g(this,za).set(e,r),r&&g(this,za).set(r.id,r),r};let fM=u7;var Qi,bm,TS,Ni;class v_e{constructor(e=128){ee(this,Qi,[]);ee(this,bm,!1);ee(this,TS);ee(this,Ni,-1);z(this,TS,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),g(this,bm))return;const l={cmd:e,undo:t,post:r,type:s};if(g(this,Ni)===-1){g(this,Qi).length>0&&(g(this,Qi).length=0),z(this,Ni,0),g(this,Qi).push(l);return}if(a&&g(this,Qi)[g(this,Ni)].type===s){o&&(l.undo=g(this,Qi)[g(this,Ni)].undo),g(this,Qi)[g(this,Ni)]=l;return}const c=g(this,Ni)+1;c===g(this,TS)?g(this,Qi).splice(0,1):(z(this,Ni,c),c<g(this,Qi).length&&g(this,Qi).splice(c)),g(this,Qi).push(l)}undo(){if(g(this,Ni)===-1)return;z(this,bm,!0);const{undo:e,post:t}=g(this,Qi)[g(this,Ni)];e(),t==null||t(),z(this,bm,!1),z(this,Ni,g(this,Ni)-1)}redo(){if(g(this,Ni)<g(this,Qi).length-1){z(this,Ni,g(this,Ni)+1),z(this,bm,!0);const{cmd:e,post:t}=g(this,Qi)[g(this,Ni)];e(),t==null||t(),z(this,bm,!1)}}hasSomethingToUndo(){return g(this,Ni)!==-1}hasSomethingToRedo(){return g(this,Ni)<g(this,Qi).length-1}cleanType(e){if(g(this,Ni)!==-1){for(let t=g(this,Ni);t>=0;t--)if(g(this,Qi)[t].type!==e){g(this,Qi).splice(t+1,g(this,Ni)-t),z(this,Ni,t);return}g(this,Qi).length=0,z(this,Ni,-1)}}destroy(){z(this,Qi,null)}}Qi=new WeakMap,bm=new WeakMap,TS=new WeakMap,Ni=new WeakMap;var sk,Pne;class A5{constructor(e){ee(this,sk);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ca.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(re(this,sk,Pne).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||Gi(t))}}sk=new WeakSet,Pne=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const ak=class ak{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return u_e(e),Cn(this,"_colors",e)}convert(e){const t=S5(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return ak._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?vt.makeHexColor(...t):e}};He(ak,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dM=ak;var xb,Nl,_b,qi,Ls,Sb,jc,Ab,Lc,Ha,wm,xm,Pb,_m,Lf,Rc,qv,kS,NS,Cb,OS,Rf,Sm,Eb,Am,If,ok,Pm,Tb,jS,Cm,Uv,kb,Em,LS,hs,_r,_h,Tm,km,RS,Nb,IS,Nm,Mf,Sh,MS,DS,Ic,st,RC,hM,Cne,Ene,$2,Tne,kne,Nne,pM,One,mM,gM,jne,uo,mh,Lne,Rne,vM,Ine,q2,yM;const X1=class X1{constructor(e,t,r,i,s,a,o,l,c,u,f,h,p,x,y,w){ee(this,st);ee(this,xb,new AbortController);ee(this,Nl,null);ee(this,_b,null);ee(this,qi,new Map);ee(this,Ls,new Map);ee(this,Sb,null);ee(this,jc,null);ee(this,Ab,null);ee(this,Lc,new v_e);ee(this,Ha,null);ee(this,wm,null);ee(this,xm,null);ee(this,Pb,0);ee(this,_m,new Set);ee(this,Lf,null);ee(this,Rc,null);ee(this,qv,new Set);He(this,"_editorUndoBar",null);ee(this,kS,!1);ee(this,NS,!1);ee(this,Cb,!1);ee(this,OS,null);ee(this,Rf,null);ee(this,Sm,null);ee(this,Eb,null);ee(this,Am,!1);ee(this,If,null);ee(this,ok,new g_e);ee(this,Pm,!1);ee(this,Tb,!1);ee(this,jS,!1);ee(this,Cm,null);ee(this,Uv,null);ee(this,kb,null);ee(this,Em,null);ee(this,LS,null);ee(this,hs,xn.NONE);ee(this,_r,new Set);ee(this,_h,null);ee(this,Tm,null);ee(this,km,null);ee(this,RS,null);ee(this,Nb,null);ee(this,IS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ee(this,Nm,[0,0]);ee(this,Mf,null);ee(this,Sh,null);ee(this,MS,null);ee(this,DS,null);ee(this,Ic,null);const b=this._signal=g(this,xb).signal;z(this,Sh,e),z(this,MS,t),z(this,DS,r),z(this,Sb,i),z(this,Ha,s),z(this,Tm,a),z(this,Nb,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:b}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),o._on("setpreference",this.onSetPreference.bind(this),{signal:b}),o._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:b}),window.addEventListener("pointerdown",()=>{z(this,Tb,!0)},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{z(this,Tb,!1)},{capture:!0,signal:b}),re(this,st,Tne).call(this),re(this,st,jne).call(this),re(this,st,pM).call(this),z(this,jc,l.annotationStorage),z(this,OS,l.filterFactory),z(this,km,c),z(this,Eb,u||null),z(this,kS,f),z(this,NS,h),z(this,Cb,p),z(this,LS,x||null),this.viewParameters={realScale:Pg.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=w!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=X1.prototype,t=a=>g(a,Sh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Cn(this,"_keyboardManager",new A5([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,Sh).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,Sh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,c;(e=g(this,Ic))==null||e.resolve(),z(this,Ic,null),(t=g(this,xb))==null||t.abort(),z(this,xb,null),this._signal=null;for(const u of g(this,Ls).values())u.destroy();g(this,Ls).clear(),g(this,qi).clear(),g(this,qv).clear(),(r=g(this,Em))==null||r.clear(),z(this,Nl,null),g(this,_r).clear(),g(this,Lc).destroy(),(i=g(this,Sb))==null||i.destroy(),(s=g(this,Ha))==null||s.destroy(),(a=g(this,Tm))==null||a.destroy(),(o=g(this,If))==null||o.hide(),z(this,If,null),(l=g(this,kb))==null||l.destroy(),z(this,kb,null),z(this,_b,null),g(this,Rf)&&(clearTimeout(g(this,Rf)),z(this,Rf,null)),g(this,Mf)&&(clearTimeout(g(this,Mf)),z(this,Mf,null)),(c=this._editorUndoBar)==null||c.destroy(),z(this,Nb,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,LS)}get useNewAltTextFlow(){return g(this,NS)}get useNewAltTextWhenAddingImage(){return g(this,Cb)}get hcmFilter(){return Cn(this,"hcmFilter",g(this,km)?g(this,OS).addHCMFilter(g(this,km).foreground,g(this,km).background):"none")}get direction(){return Cn(this,"direction",getComputedStyle(g(this,Sh)).direction)}get _highlightColors(){return Cn(this,"_highlightColors",g(this,Eb)?new Map(g(this,Eb).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Cn(this,"highlightColors",null);const t=new Map,r=!!g(this,km);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return Cn(this,"highlightColors",t)}get highlightColorNames(){return Cn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),z(this,xm,e)}setMainHighlightColorPicker(e){z(this,kb,e)}editAltText(e,t=!1){var r;(r=g(this,Sb))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!g(this,Ha)}editComment(e,t,r,i){var s;(s=g(this,Ha))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=g(this,Ls).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=g(this,Ha))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=g(this,Ha))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=g(this,Ha))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=g(this,Ha))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=g(this,Ha))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=g(this,Ha))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(g(this,Ls).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=g(this,Tm))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return g(this,Tm)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":z(this,Cb,t);break}}onPageChanging({pageNumber:e}){z(this,Pb,e-1)}focusMainContainer(){g(this,Sh).focus()}findParent(e,t){for(const r of g(this,Ls).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){g(this,MS).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,qv).add(e)}removeShouldRescale(e){g(this,qv).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Pg.PDF_TO_CSS_UNITS;for(const r of g(this,qv))r.onScaleChanging();(t=g(this,xm))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),u=re(this,st,RC).call(this,r).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;r.empty();const h=re(this,st,hM).call(this,u),p=g(this,hs)===xn.NONE,x=()=>{const y=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),t&&(y==null||y.editComment())};if(p){this.switchToMode(xn.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!g(this,jc))return null;const t=`${R_}${e}`,r=g(this,jc).getRawValue(t);return r&&g(this,jc).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&g(this,jc)&&!g(this,jc).has(e.id)&&g(this,jc).setValue(e.id,e)}a11yAlert(e,t=null){const r=g(this,DS);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,g(this,Am)&&(z(this,Am,!1),re(this,st,$2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,_r))if(t.div.contains(e)){z(this,Uv,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,Uv))return;const[e,t]=g(this,Uv);z(this,Uv,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){re(this,st,pM).call(this),re(this,st,mM).call(this)}removeEditListeners(){re(this,st,One).call(this),re(this,st,gM).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of g(this,Rc))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of g(this,Rc))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=g(this,Nl))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of g(this,_r)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of g(this,Rc))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){yn(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)re(this,st,vM).call(this,l);re(this,st,yM).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){yn(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,hs)!==xn.NONE&&!this.isEditorHandlingKeyboard&&X1._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Am)&&(z(this,Am,!1),re(this,st,$2).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(re(this,st,kne).call(this),re(this,st,mM).call(this),re(this,st,uo).call(this,{isEditing:g(this,hs)!==xn.NONE,isEmpty:re(this,st,q2).call(this),hasSomethingToUndo:g(this,Lc).hasSomethingToUndo(),hasSomethingToRedo:g(this,Lc).hasSomethingToRedo(),hasSelectedEditor:!1})):(re(this,st,Nne).call(this),re(this,st,gM).call(this),re(this,st,uo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,Rc)){z(this,Rc,e);for(const t of g(this,Rc))re(this,st,mh).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,ok).id}get currentLayer(){return g(this,Ls).get(g(this,Pb))}getLayer(e){return g(this,Ls).get(e)}get currentPageIndex(){return g(this,Pb)}addLayer(e){g(this,Ls).set(e.pageIndex,e),g(this,Pm)?e.enable():e.disable()}removeLayer(e){g(this,Ls).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,c,u,f;if(g(this,hs)!==e&&!(g(this,Ic)&&(await g(this,Ic).promise,!g(this,Ic)))){if(z(this,Ic,Promise.withResolvers()),(a=g(this,xm))==null||a.commitOrRemove(),g(this,hs)===xn.POPUP&&((o=g(this,Ha))==null||o.hideSidebar()),(l=g(this,Ha))==null||l.destroyPopup(),z(this,hs,e),e===xn.NONE){this.setEditingState(!1),re(this,st,Rne).call(this);for(const h of g(this,qi).values())h.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),g(this,Ic).resolve();return}for(const h of g(this,qi).values())h.addStandaloneCommentButton();e===xn.SIGNATURE&&await((u=g(this,Tm))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await re(this,st,Lne).call(this),this.unselectAll();for(const h of g(this,Ls).values())h.updateMode(e);if(e===xn.POPUP){g(this,_b)||z(this,_b,await g(this,Nb).getAnnotationsByType(new Set(g(this,Rc).map(x=>x._editorType))));const h=new Set,p=[];for(const x of g(this,qi).values()){const{annotationElementId:y,hasComment:w,deleted:b}=x;y&&h.add(y),w&&!b&&p.push(x.getData())}for(const x of g(this,_b)){const{id:y,popupRef:w,contentsObj:b}=x;w&&(b!=null&&b.str)&&!h.has(y)&&!g(this,_m).has(y)&&p.push(x)}(f=g(this,Ha))==null||f.showSidebar(p)}if(!t){r&&this.addNewEditorFromKeyboard(),g(this,Ic).resolve();return}for(const h of g(this,qi).values())h.uid===t?(this.setSelected(h),s?h.editComment():i?h.enterInEditMode():h.focus()):h.unselect();g(this,Ic).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==g(this,hs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(g(this,Rc)){switch(e){case zn.CREATE:this.currentLayer.addNewEditor(t);return;case zn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,RS)||z(this,RS,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of g(this,_r))r.updateParams(e,t);else for(const r of g(this,Rc))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of g(this,qi).values())a.editorType===e&&a.show(t);(((s=g(this,RS))==null?void 0:s.get(zn.HIGHLIGHT_SHOW_ALL))??!0)!==t&&re(this,st,mh).call(this,[[zn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,jS)!==e){z(this,jS,e);for(const t of g(this,Ls).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of g(this,qi).values())t.pageIndex===e&&(yield t)}getEditor(e){return g(this,qi).get(e)}addEditor(e){g(this,qi).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(g(this,Rf)&&clearTimeout(g(this,Rf)),z(this,Rf,setTimeout(()=>{this.focusMainContainer(),z(this,Rf,null)},0))),g(this,qi).delete(e.id),e.annotationElementId&&((t=g(this,Em))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!g(this,_m).has(e.annotationElementId))&&((r=g(this,jc))==null||r.remove(e.id))}addDeletedAnnotationElement(e){g(this,_m).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,_m).has(e)}removeDeletedAnnotationElement(e){g(this,_m).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Nl)!==e&&(z(this,Nl,e),e&&re(this,st,mh).call(this,e.propertiesToUpdate))}updateUI(e){g(this,st,Ine)===e&&re(this,st,mh).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){re(this,st,mh).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(g(this,_r).has(e)){g(this,_r).delete(e),e.unselect(),re(this,st,uo).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,_r).add(e),e.select(),re(this,st,mh).call(this,e.propertiesToUpdate),re(this,st,uo).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=g(this,xm))==null||t.commitOrRemove();for(const r of g(this,_r))r!==e&&r.unselect();g(this,_r).clear(),g(this,_r).add(e),e.select(),re(this,st,mh).call(this,e.propertiesToUpdate),re(this,st,uo).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,_r).has(e)}get firstSelectedEditor(){return g(this,_r).values().next().value}unselect(e){e.unselect(),g(this,_r).delete(e),re(this,st,uo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,_r).size!==0}get isEnterHandled(){return g(this,_r).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;g(this,Lc).undo(),re(this,st,uo).call(this,{hasSomethingToUndo:g(this,Lc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:re(this,st,q2).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){g(this,Lc).redo(),re(this,st,uo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Lc).hasSomethingToRedo(),isEmpty:re(this,st,q2).call(this)})}addCommands(e){g(this,Lc).add(e),re(this,st,uo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:re(this,st,q2).call(this)})}cleanUndoStack(e){g(this,Lc).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...g(this,_r)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)re(this,st,vM).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Nl))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Nl)||this.hasSelection}selectAll(){for(const e of g(this,_r))e.commit();re(this,st,yM).call(this,g(this,qi).values())}unselectAll(){var e;if(!(g(this,Nl)&&(g(this,Nl).commitOrRemove(),g(this,hs)!==xn.NONE))&&!((e=g(this,xm))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of g(this,_r))t.unselect();g(this,_r).clear(),re(this,st,uo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;g(this,Nm)[0]+=e,g(this,Nm)[1]+=t;const[i,s]=g(this,Nm),a=[...g(this,_r)],o=1e3;g(this,Mf)&&clearTimeout(g(this,Mf)),z(this,Mf,setTimeout(()=>{z(this,Mf,null),g(this,Nm)[0]=g(this,Nm)[1]=0,this.addCommands({cmd:()=>{for(const l of a)g(this,qi).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)g(this,qi).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,Lf,new Map);for(const e of g(this,_r))g(this,Lf).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Lf))return!1;this.disableUserSelect(!1);const e=g(this,Lf);z(this,Lf,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(g(this,qi).has(i.id)){const l=g(this,Ls).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,Lf))for(const r of g(this,Lf).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,_r).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Nl)===e}getActive(){return g(this,Nl)}getMode(){return g(this,hs)}isEditingMode(){return g(this,hs)!==xn.NONE}get imageManager(){return Cn(this,"imageManager",new fM)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,f,h)=>({x:(u-i)/a,y:1-(c+f-r)/s,width:h/a,height:f/s});break;case"180":o=(c,u,f,h)=>({x:1-(c+f-r)/s,y:1-(u+h-i)/a,width:f/s,height:h/a});break;case"270":o=(c,u,f,h)=>({x:1-(u+h-i)/a,y:(c-r)/s,width:h/a,height:f/s});break;default:o=(c,u,f,h)=>({x:(c-r)/s,y:(u-i)/a,width:f/s,height:h/a});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const f=t.getRangeAt(c);if(!f.collapsed)for(const{x:h,y:p,width:x,height:y}of f.getClientRects())x===0||y===0||l.push(o(h,p,x,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,Ab)||z(this,Ab,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,Ab))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=g(this,Ab))==null?void 0:i.get(e.data.id);if(!t)return;const r=g(this,jc).getRawValue(t);r&&(g(this,hs)===xn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=g(this,Em))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),g(this,Em).delete(e))}addMissingCanvas(e,t){(g(this,Em)||z(this,Em,new Map)).set(e,t)}};xb=new WeakMap,Nl=new WeakMap,_b=new WeakMap,qi=new WeakMap,Ls=new WeakMap,Sb=new WeakMap,jc=new WeakMap,Ab=new WeakMap,Lc=new WeakMap,Ha=new WeakMap,wm=new WeakMap,xm=new WeakMap,Pb=new WeakMap,_m=new WeakMap,Lf=new WeakMap,Rc=new WeakMap,qv=new WeakMap,kS=new WeakMap,NS=new WeakMap,Cb=new WeakMap,OS=new WeakMap,Rf=new WeakMap,Sm=new WeakMap,Eb=new WeakMap,Am=new WeakMap,If=new WeakMap,ok=new WeakMap,Pm=new WeakMap,Tb=new WeakMap,jS=new WeakMap,Cm=new WeakMap,Uv=new WeakMap,kb=new WeakMap,Em=new WeakMap,LS=new WeakMap,hs=new WeakMap,_r=new WeakMap,_h=new WeakMap,Tm=new WeakMap,km=new WeakMap,RS=new WeakMap,Nb=new WeakMap,IS=new WeakMap,Nm=new WeakMap,Mf=new WeakMap,Sh=new WeakMap,MS=new WeakMap,DS=new WeakMap,Ic=new WeakMap,st=new WeakSet,RC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},hM=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of g(this,Ls).values())if(r.hasTextLayer(e))return r;return null},Cne=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=re(this,st,RC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(g(this,If)||z(this,If,new m_e(this)),g(this,If).show(r,i,this.direction==="ltr"))},Ene=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,_h)&&((s=g(this,If))==null||s.hide(),z(this,_h,null),re(this,st,uo).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,_h))return;const i=re(this,st,RC).call(this,e).closest(".textLayer");if(!i){g(this,_h)&&((a=g(this,If))==null||a.hide(),z(this,_h,null),re(this,st,uo).call(this,{hasSelectedText:!1}));return}if((o=g(this,If))==null||o.hide(),z(this,_h,t),re(this,st,uo).call(this,{hasSelectedText:!0}),!(g(this,hs)!==xn.HIGHLIGHT&&g(this,hs)!==xn.NONE)&&(g(this,hs)===xn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Am,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=g(this,hs)===xn.HIGHLIGHT?re(this,st,hM).call(this,i):null;if(l==null||l.toggleDrawing(),g(this,Tb)){const c=new AbortController,u=this.combinedSignal(c),f=h=>{h.type==="pointerup"&&h.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&re(this,st,$2).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}else l==null||l.toggleDrawing(!0),re(this,st,$2).call(this,"main_toolbar")}},$2=function(e=""){g(this,hs)===xn.HIGHLIGHT?this.highlightSelection(e):g(this,kS)&&re(this,st,Cne).call(this)},Tne=function(){document.addEventListener("selectionchange",re(this,st,Ene).bind(this),{signal:this._signal})},kne=function(){if(g(this,Sm))return;z(this,Sm,new AbortController);const e=this.combinedSignal(g(this,Sm));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Nne=function(){var e;(e=g(this,Sm))==null||e.abort(),z(this,Sm,null)},pM=function(){if(g(this,Cm))return;z(this,Cm,new AbortController);const e=this.combinedSignal(g(this,Cm));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},One=function(){var e;(e=g(this,Cm))==null||e.abort(),z(this,Cm,null)},mM=function(){if(g(this,wm))return;z(this,wm,new AbortController);const e=this.combinedSignal(g(this,wm));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},gM=function(){var e;(e=g(this,wm))==null||e.abort(),z(this,wm,null)},jne=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},uo=function(e){Object.entries(e).some(([r,i])=>g(this,IS)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,IS),e)}),g(this,hs)===xn.HIGHLIGHT&&e.hasSelectedEditor===!1&&re(this,st,mh).call(this,[[zn.HIGHLIGHT_FREE,!0]]))},mh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Lne=async function(){if(!g(this,Pm)){z(this,Pm,!0);const e=[];for(const t of g(this,Ls).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,qi).values())t.enable()}},Rne=function(){if(this.unselectAll(),g(this,Pm)){z(this,Pm,!1);for(const e of g(this,Ls).values())e.disable();for(const e of g(this,qi).values())e.disable()}},vM=function(e){const t=g(this,Ls).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Ine=function(){let e=null;for(e of g(this,_r));return e},q2=function(){if(g(this,qi).size===0)return!0;if(g(this,qi).size===1)for(const e of g(this,qi).values())return e.isEmpty();return!1},yM=function(e){for(const t of g(this,_r))t.unselect();g(this,_r).clear();for(const t of e)t.isEmpty()||(g(this,_r).add(t),t.select());re(this,st,uo).call(this,{hasSelectedEditor:this.hasSelection})},He(X1,"TRANSLATE_SMALL",1),He(X1,"TRANSLATE_BIG",10);let p0=X1;var Ys,Df,Nu,Ob,Ff,Ol,jb,Bf,Jo,Ah,zv,$f,Om,Wu,U2,IC;const fo=class fo{constructor(e){ee(this,Wu);ee(this,Ys,null);ee(this,Df,!1);ee(this,Nu,null);ee(this,Ob,null);ee(this,Ff,null);ee(this,Ol,null);ee(this,jb,!1);ee(this,Bf,null);ee(this,Jo,null);ee(this,Ah,null);ee(this,zv,null);ee(this,$f,!1);z(this,Jo,e),z(this,$f,e._uiManager.useNewAltTextFlow),g(fo,Om)||z(fo,Om,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){fo._l10n??(fo._l10n=e)}async render(){const e=z(this,Nu,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=z(this,Ob,document.createElement("span"));e.append(t),g(this,$f)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(fo,Om).missing),t.setAttribute("data-l10n-id",g(fo,Om)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=g(this,Jo)._uiManager._signal;e.addEventListener("contextmenu",Jc,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),g(this,Jo)._uiManager.editAltText(g(this,Jo)),g(this,$f)&&g(this,Jo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Wu,U2)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,jb,!0),i(s))},{signal:r}),await re(this,Wu,IC).call(this),e}finish(){g(this,Nu)&&(g(this,Nu).focus({focusVisible:g(this,jb)}),z(this,jb,!1))}isEmpty(){return g(this,$f)?g(this,Ys)===null:!g(this,Ys)&&!g(this,Df)}hasData(){return g(this,$f)?g(this,Ys)!==null||!!g(this,Ah):this.isEmpty()}get guessedText(){return g(this,Ah)}async setGuessedText(e){g(this,Ys)===null&&(z(this,Ah,e),z(this,zv,await fo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),re(this,Wu,IC).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,$f)||g(this,Ys)){(t=g(this,Bf))==null||t.remove(),z(this,Bf,null);return}if(!g(this,Bf)){const r=z(this,Bf,document.createElement("div"));r.className="noAltTextBadge",g(this,Jo).div.append(r)}g(this,Bf).classList.toggle("hidden",!e)}serialize(e){let t=g(this,Ys);return!e&&g(this,Ah)===t&&(t=g(this,zv)),{altText:t,decorative:g(this,Df),guessedText:g(this,Ah),textWithDisclaimer:g(this,zv)}}get data(){return{altText:g(this,Ys),decorative:g(this,Df)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(z(this,Ah,r),z(this,zv,i)),!(g(this,Ys)===e&&g(this,Df)===t)&&(s||(z(this,Ys,e),z(this,Df,t)),re(this,Wu,IC).call(this))}toggle(e=!1){g(this,Nu)&&(!e&&g(this,Ol)&&(clearTimeout(g(this,Ol)),z(this,Ol,null)),g(this,Nu).disabled=!e)}shown(){g(this,Jo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Wu,U2)}})}destroy(){var e,t;(e=g(this,Nu))==null||e.remove(),z(this,Nu,null),z(this,Ob,null),z(this,Ff,null),(t=g(this,Bf))==null||t.remove(),z(this,Bf,null)}};Ys=new WeakMap,Df=new WeakMap,Nu=new WeakMap,Ob=new WeakMap,Ff=new WeakMap,Ol=new WeakMap,jb=new WeakMap,Bf=new WeakMap,Jo=new WeakMap,Ah=new WeakMap,zv=new WeakMap,$f=new WeakMap,Om=new WeakMap,Wu=new WeakSet,U2=function(){return g(this,Ys)&&"added"||g(this,Ys)===null&&this.guessedText&&"review"||"missing"},IC=async function(){var i,s,a;const e=g(this,Nu);if(!e)return;if(g(this,$f)){if(e.classList.toggle("done",!!g(this,Ys)),e.setAttribute("data-l10n-id",g(fo,Om)[g(this,Wu,U2)]),(i=g(this,Ob))==null||i.setAttribute("data-l10n-id",g(fo,Om)[`${g(this,Wu,U2)}-label`]),!g(this,Ys)){(s=g(this,Ff))==null||s.remove();return}}else{if(!g(this,Ys)&&!g(this,Df)){e.classList.remove("done"),(a=g(this,Ff))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,Ff);if(!t){z(this,Ff,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,Jo).id}`;const o=100,l=g(this,Jo)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(g(this,Ol)),z(this,Ol,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,Ol,setTimeout(()=>{z(this,Ol,null),g(this,Ff).classList.add("show"),g(this,Jo)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;g(this,Ol)&&(clearTimeout(g(this,Ol)),z(this,Ol,null)),(c=g(this,Ff))==null||c.classList.remove("show")},{signal:l})}g(this,Df)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,Ys)),t.parentNode||e.append(t);const r=g(this,Jo).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ee(fo,Om,null),He(fo,"_l10n",null);let zE=fo;var pa,Mc,Hv,Jr,FS,Vv,Ou,Wv,Gv,Kv,BS,bM;class qP{constructor(e){ee(this,BS);ee(this,pa,null);ee(this,Mc,null);ee(this,Hv,!1);ee(this,Jr,null);ee(this,FS,null);ee(this,Vv,null);ee(this,Ou,null);ee(this,Wv,null);ee(this,Gv,!1);ee(this,Kv,null);z(this,Jr,e)}renderForToolbar(){const e=z(this,Mc,document.createElement("button"));return e.className="comment",re(this,BS,bM).call(this,e,!1)}renderForStandalone(){const e=z(this,pa,document.createElement("button"));e.className="annotationCommentButton";const t=g(this,Jr).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(g(this,Jr)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=g(this,Jr).commentButtonColor;i&&(r.backgroundColor=i)}return re(this,BS,bM).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=g(this,pa)??g(this,Mc))==null||e.focus()},0)}onUpdatedColor(){if(!g(this,pa))return;const e=g(this,Jr).commentButtonColor;e&&(g(this,pa).style.backgroundColor=e),g(this,Jr)._uiManager.updatePopupColor(g(this,Jr))}get commentButtonWidth(){var e;return(((e=g(this,pa))==null?void 0:e.getBoundingClientRect().width)??0)/g(this,Jr).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(g(this,Kv))return g(this,Kv);if(!g(this,pa))return null;const{x:e,y:t,height:r}=g(this,pa).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=g(this,Jr).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){z(this,Kv,e)}hasDefaultPopupPosition(){return g(this,Kv)===null}removeStandaloneCommentButton(){var e;(e=g(this,pa))==null||e.remove(),z(this,pa,null)}removeToolbarCommentButton(){var e;(e=g(this,Mc))==null||e.remove(),z(this,Mc,null)}setCommentButtonStates({selected:e,hasPopup:t}){g(this,pa)&&(g(this,pa).classList.toggle("selected",e),g(this,pa).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=g(this,Jr).commentButtonPosition;const{width:u,height:f,x:h,y:p}=g(this,Jr);r=h+r*u,i=p+i*f}const s=g(this,Jr).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;g(this,Jr)._uiManager.editComment(g(this,Jr),a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){g(this,Mc)&&(g(this,Mc).focus({focusVisible:g(this,Hv)}),z(this,Hv,!1))}isDeleted(){return g(this,Gv)||g(this,Ou)===""}isEmpty(){return g(this,Ou)===null}hasBeenEdited(){return this.isDeleted()||g(this,Ou)!==g(this,FS)}serialize(){return this.data}get data(){return{text:g(this,Ou),richText:g(this,Vv),date:g(this,Wv),deleted:this.isDeleted()}}set data(e){if(e!==g(this,Ou)&&z(this,Vv,null),e===null){z(this,Ou,""),z(this,Gv,!0);return}z(this,Ou,e),z(this,Wv,new Date),z(this,Gv,!1)}setInitialText(e,t=null){z(this,FS,e),this.data=e,z(this,Wv,null),z(this,Vv,t)}shown(){}destroy(){var e,t;(e=g(this,Mc))==null||e.remove(),z(this,Mc,null),(t=g(this,pa))==null||t.remove(),z(this,pa,null),z(this,Ou,""),z(this,Vv,null),z(this,Wv,null),z(this,Jr,null),z(this,Hv,!1),z(this,Gv,!1)}}pa=new WeakMap,Mc=new WeakMap,Hv=new WeakMap,Jr=new WeakMap,FS=new WeakMap,Vv=new WeakMap,Ou=new WeakMap,Wv=new WeakMap,Gv=new WeakMap,Kv=new WeakMap,BS=new WeakSet,bM=function(e,t){if(!g(this,Jr)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[g(this,Jr)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=g(this,Jr)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Jc,{signal:r}),t&&(e.addEventListener("focusin",s=>{g(this,Jr)._focusEventsAllowed=!1,Gi(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{g(this,Jr)._focusEventsAllowed=!0,Gi(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===g(this,Mc)?this.edit():g(this,Jr).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,Hv,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{g(this,Jr).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{g(this,Jr).toggleComment(!1,!1)},{signal:r}),e};var Lb,Xv,$S,qS,US,zS,HS,Ph,Yv,Ch,Jv,Eh,Eg,Mne,Dne,Fne;const f7=class f7{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ee(this,Eg);ee(this,Lb);ee(this,Xv,!1);ee(this,$S,null);ee(this,qS);ee(this,US);ee(this,zS);ee(this,HS);ee(this,Ph,null);ee(this,Yv);ee(this,Ch,null);ee(this,Jv);ee(this,Eh,null);z(this,Lb,e),z(this,$S,r),z(this,qS,t),z(this,US,i),z(this,zS,s),z(this,HS,a),z(this,Jv,new AbortController),z(this,Yv,AbortSignal.any([o,g(this,Jv).signal])),e.addEventListener("touchstart",re(this,Eg,Mne).bind(this),{passive:!1,signal:g(this,Yv)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/xd.pixelRatio}destroy(){var e,t;(e=g(this,Jv))==null||e.abort(),z(this,Jv,null),(t=g(this,Ph))==null||t.abort(),z(this,Ph,null)}};Lb=new WeakMap,Xv=new WeakMap,$S=new WeakMap,qS=new WeakMap,US=new WeakMap,zS=new WeakMap,HS=new WeakMap,Ph=new WeakMap,Yv=new WeakMap,Ch=new WeakMap,Jv=new WeakMap,Eh=new WeakMap,Eg=new WeakSet,Mne=function(e){var i,s,a;if((i=g(this,qS))!=null&&i.call(this))return;if(e.touches.length===1){if(g(this,Ph))return;const o=z(this,Ph,new AbortController),l=AbortSignal.any([g(this,Yv),o.signal]),c=g(this,Lb),u={capture:!0,signal:l,passive:!1},f=h=>{var p;h.pointerType==="touch"&&((p=g(this,Ph))==null||p.abort(),z(this,Ph,null))};c.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Gi(h),f(h))},u),c.addEventListener("pointerup",f,u),c.addEventListener("pointercancel",f,u);return}if(!g(this,Eh)){z(this,Eh,new AbortController);const o=AbortSignal.any([g(this,Yv),g(this,Eh).signal]),l=g(this,Lb),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",re(this,Eg,Dne).bind(this),c);const u=re(this,Eg,Fne).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Gi,c),l.addEventListener("pointermove",Gi,c),l.addEventListener("pointercancel",Gi,c),l.addEventListener("pointerup",Gi,c),(s=g(this,US))==null||s.call(this)}if(Gi(e),e.touches.length!==2||(a=g(this,$S))!=null&&a.call(this)){z(this,Ch,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),z(this,Ch,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},Dne=function(e){var P;if(!g(this,Ch)||e.touches.length!==2)return;Gi(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=g(this,Ch),{touch0X:c,touch0Y:u,touch1X:f,touch1Y:h}=l,p=f-c,x=h-u,y=a-i,w=o-s,b=Math.hypot(y,w)||1,S=Math.hypot(p,x)||1;if(!g(this,Xv)&&Math.abs(S-b)<=f7.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!g(this,Xv)){z(this,Xv,!0);return}const _=[(i+a)/2,(s+o)/2];(P=g(this,zS))==null||P.call(this,_,S,b)},Fne=function(e){var t;e.touches.length>=2||(g(this,Eh)&&(g(this,Eh).abort(),z(this,Eh,null),(t=g(this,HS))==null||t.call(this)),g(this,Ch)&&(Gi(e),z(this,Ch,null),z(this,Xv,!1)))};let HE=f7;var Zv,ju,vi,Br,Th,Rb,jm,VS,ma,Qv,kh,qf,Lm,WS,ey,jl,GS,ty,Nh,Uf,Ib,Mb,Dc,ny,KS,lk,Zt,wM,XS,xM,MC,Bne,$ne,_M,DC,SM,qne,Une,zne,AM,Hne,PM,Vne,Wne,Gne,CM,z2;const wn=class wn{constructor(e){ee(this,Zt);ee(this,Zv,null);ee(this,ju,null);ee(this,vi,null);ee(this,Br,null);ee(this,Th,null);ee(this,Rb,!1);ee(this,jm,null);ee(this,VS,"");ee(this,ma,null);ee(this,Qv,null);ee(this,kh,null);ee(this,qf,null);ee(this,Lm,null);ee(this,WS,"");ee(this,ey,!1);ee(this,jl,null);ee(this,GS,!1);ee(this,ty,!1);ee(this,Nh,!1);ee(this,Uf,null);ee(this,Ib,0);ee(this,Mb,0);ee(this,Dc,null);ee(this,ny,null);He(this,"isSelected",!1);He(this,"_isCopy",!1);He(this,"_editToolbar",null);He(this,"_initialOptions",Object.create(null));He(this,"_initialData",null);He(this,"_isVisible",!0);He(this,"_uiManager",null);He(this,"_focusEventsAllowed",!0);ee(this,KS,!1);ee(this,lk,wn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=wn.prototype._resizeWithKeyboard,t=p0.TRANSLATE_SMALL,r=p0.TRANSLATE_BIG;return Cn(this,"_resizerKeyboardManager",new A5([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],wn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Cn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new y_e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(wn._l10n??(wn._l10n=e),wn._l10nResizer||(wn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),wn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);wn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){zr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,KS)}set _isDraggable(e){var t;z(this,KS,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,lk)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(re(this,Zt,z2).call(this),(t=g(this,qf))==null||t.remove(),z(this,qf,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,ey)?z(this,ey,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){re(this,Zt,wM).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,jl)||z(this,jl,[this.x,this.y,this.width,this.height]),re(this,Zt,wM).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){g(this,jl)||z(this,jl,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!g(this,jl)&&(g(this,jl)[0]!==this.x||g(this,jl)[1]!==this.y)}get _hasBeenResized(){return!!g(this,jl)&&(g(this,jl)[2]!==this.width||g(this,jl)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=wn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=vo(s,0,r-o),a=vo(a,0,i-l);break;case 90:s=vo(s,0,r-l),a=vo(a,o,i);break;case 180:s=vo(s,o,r),a=vo(a,l,i);break;case 270:s=vo(s,l,r),a=vo(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return re(r=wn,XS,xM).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return re(r=wn,XS,xM).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=g(this,vi))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||g(this,ty))return this._editToolbar;this._editToolbar=new cM(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=g(this,vi))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return g(this,vi)||(zE.initialize(wn._l10n),z(this,vi,new zE(this)),g(this,Zv)&&(g(this,vi).data=g(this,Zv),z(this,Zv,null))),g(this,vi)}get altTextData(){var e;return(e=g(this,vi))==null?void 0:e.data}set altTextData(e){g(this,vi)&&(g(this,vi).data=e)}get guessedAltText(){var e;return(e=g(this,vi))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,vi))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,vi))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,vi)&&!g(this,vi).isEmpty()}hasAltTextData(){var e;return((e=g(this,vi))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=g(this,Br))==null||e.focusButton()}addCommentButton(){return g(this,Br)||z(this,Br,new qP(this))}addStandaloneCommentButton(){if(g(this,Th)){this._uiManager.isEditingMode()&&g(this,Th).classList.remove("hidden");return}this.hasComment&&(z(this,Th,g(this,Br).renderForStandalone()),this.div.append(g(this,Th)))}removeStandaloneCommentButton(){g(this,Br).removeStandaloneCommentButton(),z(this,Th,null)}hideStandaloneCommentButton(){var e;(e=g(this,Th))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=g(this,Br);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){g(this,Br)||z(this,Br,new qP(this)),g(this,Br).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(g(this,Br)||z(this,Br,new qP(this)),g(this,Br).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=g(this,Br))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=g(this,Br))==null?void 0:e.isDeleted()}get hasComment(){return!!g(this,Br)&&!g(this,Br).isEmpty()&&!g(this,Br).isDeleted()}async editComment(e){g(this,Br)||z(this,Br,new qP(this)),g(this,Br).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){g(this,Br).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){g(this,Br).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=g(this,Rb)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),re(this,Zt,PM).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Ane(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(g(this,ny)||z(this,ny,new HE({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:re(this,Zt,qne).bind(this),onPinching:re(this,Zt,Une).bind(this),onPinchEnd:re(this,Zt,zne).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Ca.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,ey,!0),this._isDraggable){re(this,Zt,Hne).call(this,e);return}re(this,Zt,AM).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){g(this,Uf)&&clearTimeout(g(this,Uf)),z(this,Uf,setTimeout(()=>{var e;z(this,Uf,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=t/i,f=this.x*s,h=this.y*a,p=this.width*s,x=this.height*a;switch(r){case 0:return[f+c+o,a-h-u-x+l,f+c+p+o,a-h-u+l];case 90:return[f+u+o,a-h+c+l,f+u+x+o,a-h+c+p+l];case 180:return[f-c-p+o,a-h+u+l,f-c+o,a-h+u+x+l];case 270:return[f-u-x+o,a-h-c-p+l,f-u+o,a-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&wn._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=g(this,Br))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),z(this,ty,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),z(this,ty,!1),!0):!1}isInEditMode(){return g(this,ty)}shouldGetKeyboardEvents(){return g(this,Nh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){re(this,Zt,PM).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,z(i,Zv,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=g(this,Lm))==null||e.abort(),z(this,Lm,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Uf)&&(clearTimeout(g(this,Uf)),z(this,Uf,null)),re(this,Zt,z2).call(this),this.removeEditToolbar(),g(this,Dc)){for(const r of g(this,Dc).values())clearTimeout(r);z(this,Dc,null)}this.parent=null,(t=g(this,ny))==null||t.destroy(),z(this,ny,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(re(this,Zt,Bne).call(this),g(this,ma).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[wn._round(r+(s-r)*e),wn._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return g(this,Br).commentPopupPositionInLayer}set commentPopupPosition(e){g(this,Br).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return g(this,Br).hasDefaultPopupPosition()}get commentButtonWidth(){return g(this,Br).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){g(this,Br).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,kh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,ma).children;if(!g(this,ju)){z(this,ju,Array.from(t));const a=re(this,Zt,Vne).bind(this),o=re(this,Zt,Wne).bind(this),l=this._uiManager._signal;for(const c of g(this,ju)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",re(this,Zt,Gne).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",wn._l10nResizer[u])}}const r=g(this,ju)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(g(this,ju).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)g(this,ma).append(g(this,ma).firstChild);else if(s>i)for(let o=0;o<s-i;o++)g(this,ma).firstChild.before(g(this,ma).lastChild);let a=0;for(const o of t){const c=g(this,ju)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",wn._l10nResizer[c])}}re(this,Zt,CM).call(this,0),z(this,Nh,!0),g(this,ma).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,Nh)&&re(this,Zt,SM).call(this,g(this,WS),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){re(this,Zt,z2).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=g(this,vi))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=g(this,ma))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=g(this,vi))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return g(this,GS)}set isEditing(e){z(this,GS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,Dc)||z(this,Dc,new Map);const{action:r}=e;let i=g(this,Dc).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,Dc).delete(r),g(this,Dc).size===0&&z(this,Dc,null)},wn._telemetryTimeout),g(this,Dc).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,Rb,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,Rb,!0)}updateFakeAnnotationElement(e){if(!g(this,qf)&&!this.deleted){z(this,qf,e.addFakeAnnotation(this));return}if(this.deleted){g(this,qf).remove(),z(this,qf,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&g(this,qf).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Zv=new WeakMap,ju=new WeakMap,vi=new WeakMap,Br=new WeakMap,Th=new WeakMap,Rb=new WeakMap,jm=new WeakMap,VS=new WeakMap,ma=new WeakMap,Qv=new WeakMap,kh=new WeakMap,qf=new WeakMap,Lm=new WeakMap,WS=new WeakMap,ey=new WeakMap,jl=new WeakMap,GS=new WeakMap,ty=new WeakMap,Nh=new WeakMap,Uf=new WeakMap,Ib=new WeakMap,Mb=new WeakMap,Dc=new WeakMap,ny=new WeakMap,KS=new WeakMap,lk=new WeakMap,Zt=new WeakSet,wM=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},XS=new WeakSet,xM=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},MC=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Bne=function(){if(g(this,ma))return;z(this,ma,document.createElement("div")),g(this,ma).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");g(this,ma).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",re(this,Zt,$ne).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Jc,{signal:t}),i.tabIndex=-1}this.div.prepend(g(this,ma))},$ne=function(e,t){var u;t.preventDefault();const{isMac:r}=Ca.platform;if(t.button!==0||t.ctrlKey&&r)return;(u=g(this,vi))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,z(this,Qv,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",re(this,Zt,SM).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Gi,{passive:!1,signal:a}),window.addEventListener("contextmenu",Jc,{signal:a}),z(this,kh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=g(this,vi))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,re(this,Zt,DC).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},_M=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},DC=function(){if(!g(this,kh))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=g(this,kh);z(this,kh,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:re(this,Zt,_M).bind(this,s,a,o,l),undo:re(this,Zt,_M).bind(this,e,t,r,i),mustExec:!0})},SM=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=wn.MIN_SIZE/r,u=wn.MIN_SIZE/i,f=re(this,Zt,MC).call(this,this.rotation),h=(J,K)=>[f[0]*J+f[2]*K,f[1]*J+f[3]*K],p=re(this,Zt,MC).call(this,360-this.rotation),x=(J,K)=>[p[0]*J+p[2]*K,p[1]*J+p[3]*K];let y,w,b=!1,S=!1;switch(e){case"topLeft":b=!0,y=(J,K)=>[0,0],w=(J,K)=>[J,K];break;case"topMiddle":y=(J,K)=>[J/2,0],w=(J,K)=>[J/2,K];break;case"topRight":b=!0,y=(J,K)=>[J,0],w=(J,K)=>[0,K];break;case"middleRight":S=!0,y=(J,K)=>[J,K/2],w=(J,K)=>[0,K/2];break;case"bottomRight":b=!0,y=(J,K)=>[J,K],w=(J,K)=>[0,0];break;case"bottomMiddle":y=(J,K)=>[J/2,K],w=(J,K)=>[J/2,0];break;case"bottomLeft":b=!0,y=(J,K)=>[0,K],w=(J,K)=>[J,0];break;case"middleLeft":S=!0,y=(J,K)=>[0,K/2],w=(J,K)=>[J,K/2];break}const _=y(o,l),P=w(o,l);let E=h(...P);const C=wn._round(s+E[0]),N=wn._round(a+E[1]);let L=1,R=1,F,j;if(t.fromKeyboard)({deltaX:F,deltaY:j}=t);else{const{screenX:J,screenY:K}=t,[$,te]=g(this,Qv);[F,j]=this.screenToPageTranslation(J-$,K-te),g(this,Qv)[0]=J,g(this,Qv)[1]=K}if([F,j]=x(F/r,j/i),b){const J=Math.hypot(o,l);L=R=Math.max(Math.min(Math.hypot(P[0]-_[0]-F,P[1]-_[1]-j)/J,1/o,1/l),c/o,u/l)}else S?L=vo(Math.abs(P[0]-_[0]-F),c,1)/o:R=vo(Math.abs(P[1]-_[1]-j),u,1)/l;const D=wn._round(o*L),W=wn._round(l*R);E=h(...w(D,W));const V=C-E[0],Z=N-E[1];g(this,jl)||z(this,jl,[this.x,this.y,this.width,this.height]),this.width=D,this.height=W,this.x=V,this.y=Z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},qne=function(){var e;z(this,kh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=g(this,vi))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Une=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=re(this,Zt,MC).call(this,this.rotation),o=(C,N)=>[a[0]*C+a[2]*N,a[1]*C+a[3]*N],[l,c]=this.parentDimensions,u=this.x,f=this.y,h=this.width,p=this.height,x=wn.MIN_SIZE/l,y=wn.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/p),x/h,y/p);const w=wn._round(h*s),b=wn._round(p*s);if(w===h&&b===p)return;g(this,jl)||z(this,jl,[u,f,h,p]);const S=o(h/2,p/2),_=wn._round(u+S[0]),P=wn._round(f+S[1]),E=o(w/2,b/2);this.x=_-E[0],this.y=P-E[1],this.width=w,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()},zne=function(){var e;(e=g(this,vi))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),re(this,Zt,DC).call(this)},AM=function(e){const{isMac:t}=Ca.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Hne=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),z(this,jm,null),z(this,ey,!1),this._uiManager.endDragSession()||re(this,Zt,AM).call(this,c),r&&this._onStopDragging()};t&&(z(this,Ib,e.clientX),z(this,Mb,e.clientY),z(this,jm,e.pointerId),z(this,VS,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:f,pointerId:h}=c;if(h!==g(this,jm)){Gi(c);return}const[p,x]=this.screenToPageTranslation(u-g(this,Ib),f-g(this,Mb));z(this,Ib,u),z(this,Mb,f),this._uiManager.dragSelectedEditors(p,x)},a),window.addEventListener("touchmove",Gi,a),window.addEventListener("pointerdown",c=>{c.pointerType===g(this,VS)&&(g(this,ny)||c.isPrimary)&&o(c),Gi(c)},a));const l=c=>{if(!g(this,jm)||g(this,jm)===c.pointerId){o(c);return}Gi(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},PM=function(){if(g(this,Lm)||!this.div)return;z(this,Lm,new AbortController);const e=this._uiManager.combinedSignal(g(this,Lm));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Vne=function(e){wn._resizerKeyboardManager.exec(this,e)},Wne=function(e){var t;g(this,Nh)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,ma)&&re(this,Zt,z2).call(this)},Gne=function(e){z(this,WS,g(this,Nh)?e:"")},CM=function(e){if(g(this,ju))for(const t of g(this,ju))t.tabIndex=e},z2=function(){z(this,Nh,!1),re(this,Zt,CM).call(this,-1),re(this,Zt,DC).call(this)},ee(wn,XS),He(wn,"_l10n",null),He(wn,"_l10nResizer",null),He(wn,"_borderLineWidth",-1),He(wn,"_colorManager",new dM),He(wn,"_zIndex",1),He(wn,"_telemetryTimeout",1e3);let ei=wn;class y_e extends ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const vU=3285377520,Ac=4294901760,Cf=65535;class Kne{constructor(e){this.h1=e?e&4294967295:vU,this.h2=e?e&4294967295:vU}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,w=e.length;y<w;y++){const b=e.charCodeAt(y);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,h=461845907,p=f&Cf,x=h&Cf;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*f&Ac|o*p&Cf,o=o<<15|o>>>17,o=o*h&Ac|o*x&Cf,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*f&Ac|l*p&Cf,l=l<<15|l>>>17,l=l*h&Ac|l*x&Cf,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&Ac|o*p&Cf,o=o<<15|o>>>17,o=o*h&Ac|o*x&Cf,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ac|e*36045&Cf,t=t*4283543511&Ac|((t<<16|e>>>16)*2950163797&Ac)>>>16,e^=t>>>1,e=e*444984403&Ac|e*60499&Cf,t=t*3301882366&Ac|((t<<16|e>>>16)*3120437893&Ac)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const EM=Object.freeze({map:null,hash:"",transfer:void 0});var ry,iy,Oh,ga,ck,Xne;class HF{constructor(){ee(this,ck);ee(this,ry,!1);ee(this,iy,null);ee(this,Oh,null);ee(this,ga,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=g(this,ga).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return g(this,ga).get(e)}remove(e){const t=g(this,ga).get(e);if(t!==void 0&&(t instanceof ei&&g(this,Oh).delete(t.annotationElementId),g(this,ga).delete(e),g(this,ga).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of g(this,ga).values())if(r instanceof ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=g(this,ga).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,g(this,ga).set(e,t);i&&re(this,ck,Xne).call(this),t instanceof ei&&((g(this,Oh)||z(this,Oh,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return g(this,ga).has(e)}get size(){return g(this,ga).size}resetModified(){g(this,ry)&&(z(this,ry,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Yne(this)}get serializable(){if(g(this,ga).size===0)return EM;const e=new Map,t=new Kne,r=[],i=Object.create(null);let s=!1;for(const[a,o]of g(this,ga)){const l=o instanceof ei?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:EM}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of g(this,ga).values()){if(!(s instanceof ei)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const h=f.get(u)??0;f.set(u,h+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){z(this,iy,null)}updateEditor(e,t){var i;const r=(i=g(this,Oh))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=g(this,Oh))==null?void 0:t.get(e))||null}get modifiedIds(){if(g(this,iy))return g(this,iy);const e=[];if(g(this,Oh))for(const t of g(this,Oh).values())t.serialize()&&e.push(t.annotationElementId);return z(this,iy,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return g(this,ga).entries()}}ry=new WeakMap,iy=new WeakMap,Oh=new WeakMap,ga=new WeakMap,ck=new WeakSet,Xne=function(){g(this,ry)||(z(this,ry,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var YS;class Yne extends HF{constructor(t){super();ee(this,YS);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);z(this,YS,{map:a,hash:i,transfer:s})}get print(){zr("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,YS)}get modifiedIds(){return Cn(this,"modifiedIds",{ids:new Set,hash:""})}}YS=new WeakMap;var Db;class b_e{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ee(this,Db,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Db).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||g(this,Db).has(e.loadedName))){if(Hn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),g(this,Db).add(i),r==null||r(e)}catch{yn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}zr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw yn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Cn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Cn(this,"isSyncFontLoadingSupported",go||Ca.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Hn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Cn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(P,E){return P.charCodeAt(E)<<24|P.charCodeAt(E+1)<<16|P.charCodeAt(E+2)<<8|P.charCodeAt(E+3)&255}function i(P,E,C,N){const L=P.substring(0,E),R=P.substring(E+C);return L+N+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(P,E){if(++c>30){yn("Load test font never loaded."),E();return}if(l.font="30px "+P,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(u.bind(null,P,E))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,f.length,f);const x=16,y=1482184792;let w=r(h,x);for(s=0,a=f.length-3;s<a;s+=4)w=w-y+r(f,s)|0;s<f.length&&(w=w-y+r(f+"XXX",s)|0),h=i(h,x,4,Q2e(w));const b=`url(data:font/opentype;base64,${btoa(h)});`,S=`@font-face {font-family:"${f}";src:${b}}`;this.insertRule(S);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const P of[e.loadedName,f]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=P,_.append(E)}this._document.body.append(_),u(f,()=>{_.remove(),t.complete()})}}Db=new WeakMap;var kr;class w_e{constructor(e,t=null,r,i){ee(this,kr);this.compiledGlyphs=Object.create(null),z(this,kr,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${gne(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){yn(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return g(this,kr).black}get bold(){return g(this,kr).bold}get disableFontFace(){return g(this,kr).disableFontFace??!1}get fontExtraProperties(){return g(this,kr).fontExtraProperties??!1}get isInvalidPDFjsFont(){return g(this,kr).isInvalidPDFjsFont}get isType3Font(){return g(this,kr).isType3Font}get italic(){return g(this,kr).italic}get missingFile(){return g(this,kr).missingFile}get remeasure(){return g(this,kr).remeasure}get vertical(){return g(this,kr).vertical}get ascent(){return g(this,kr).ascent}get defaultWidth(){return g(this,kr).defaultWidth}get descent(){return g(this,kr).descent}get bbox(){return g(this,kr).bbox}get fontMatrix(){return g(this,kr).fontMatrix}get fallbackName(){return g(this,kr).fallbackName}get loadedName(){return g(this,kr).loadedName}get mimetype(){return g(this,kr).mimetype}get name(){return g(this,kr).name}get data(){return g(this,kr).data}clearData(){g(this,kr).clearData()}get cssFontInfo(){return g(this,kr).cssFontInfo}get systemFontInfo(){return g(this,kr).systemFontInfo}get defaultVMetrics(){return g(this,kr).defaultVMetrics}}kr=new WeakMap;function x_e(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(go)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function __e(n){if(go&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return w5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function UP(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const TM=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,S_e=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",A_e=i_e.bind(null,TM,S_e);var jh,uk;class P_e{constructor(){ee(this,jh,new Map);ee(this,uk,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};g(this,uk).then(()=>{for(const[i]of g(this,jh))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){yn("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}g(this,jh).set(t,i)}removeEventListener(e,t){const r=g(this,jh).get(t);r==null||r(),g(this,jh).delete(t)}terminate(){for(const[,e]of g(this,jh))e==null||e();g(this,jh).clear()}}jh=new WeakMap,uk=new WeakMap;const zP={DATA:1,ERROR:2},fs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function yU(){}function Xo(n){if(n instanceof Ag||n instanceof sM||n instanceof uU||n instanceof qE||n instanceof A3)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||zr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ag(n.message);case"InvalidPDFException":return new sM(n.message);case"PasswordException":return new uU(n.message,n.code);case"ResponseException":return new qE(n.message,n.status,n.missing);case"UnknownErrorException":return new A3(n.message,n.details)}return new A3(n.message,n.toString())}var Fb,Xc,Jne,Zne,Qne,FC;class H2{constructor(e,t,r){ee(this,Xc);ee(this,Fb,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",re(this,Xc,Jne).bind(this),{signal:g(this,Fb).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:fs.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Hn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:fs.CANCEL,streamId:s,reason:Xo(c)}),u.promise}},r)}destroy(){var e;(e=g(this,Fb))==null||e.abort(),z(this,Fb,null)}}Fb=new WeakMap,Xc=new WeakSet,Jne=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){re(this,Xc,Qne).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===zP.DATA)i.resolve(e.data);else if(e.callback===zP.ERROR)i.reject(Xo(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:zP.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:zP.ERROR,callbackId:e.callbackId,reason:Xo(a)})});return}if(e.streamId){re(this,Xc,Zne).call(this,e);return}t(e.data)},Zne=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:fs.ENQUEUE,streamId:t,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:fs.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){Hn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:fs.ERROR,streamId:t,reason:Xo(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fs.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:fs.START_COMPLETE,streamId:t,reason:Xo(c)})})},Qne=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case fs.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Xo(e.reason));break;case fs.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Xo(e.reason));break;case fs.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:fs.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||yU).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fs.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:fs.PULL_COMPLETE,streamId:t,reason:Xo(c)})});break;case fs.ENQUEUE:if(Hn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case fs.CLOSE:if(Hn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),re(this,Xc,FC).call(this,a,t);break;case fs.ERROR:Hn(a,"error should have stream controller"),a.controller.error(Xo(e.reason)),re(this,Xc,FC).call(this,a,t);break;case fs.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Xo(e.reason)),re(this,Xc,FC).call(this,a,t);break;case fs.CANCEL:if(!o)break;const l=Xo(e.reason);Promise.try(o.onCancel||yU,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fs.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:fs.CANCEL_COMPLETE,streamId:t,reason:Xo(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},FC=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var JS;class ere{constructor({enableHWA:e=!1}){ee(this,JS,!1);z(this,JS,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!g(this,JS)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){zr("Abstract method `_createCanvas` called.")}}JS=new WeakMap;class C_e extends ere{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class tre{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){zr("Abstract method `_fetch` called.")}}class bU extends tre{async _fetch(e){const t=await x5(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):w5(t)}}class nre{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var sy,Bb,Lh,Rh,Va,ay,oy,pt,Ua,V2,k1,BC,N1,rre,kM,O1,W2,G2,NM,K2;class E_e extends nre{constructor({docId:t,ownerDocument:r=globalThis.document}){super();ee(this,pt);ee(this,sy);ee(this,Bb);ee(this,Lh);ee(this,Rh);ee(this,Va);ee(this,ay);ee(this,oy,0);z(this,Rh,t),z(this,Va,r)}addFilter(t){if(!t)return"none";let r=g(this,pt,Ua).get(t);if(r)return r;const[i,s,a]=re(this,pt,BC).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=g(this,pt,Ua).get(o),r)return g(this,pt,Ua).set(t,r),r;const l=`g_${g(this,Rh)}_transfer_map_${Cs(this,oy)._++}`,c=re(this,pt,N1).call(this,l);g(this,pt,Ua).set(t,c),g(this,pt,Ua).set(o,c);const u=re(this,pt,O1).call(this,l);return re(this,pt,G2).call(this,i,s,a,u),c}addHCMFilter(t,r){var x;const i=`${t}-${r}`,s="base";let a=g(this,pt,V2).get(s);if((a==null?void 0:a.key)===i||(a?((x=a.filter)==null||x.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},g(this,pt,V2).set(s,a)),!t||!r))return a.url;const o=re(this,pt,K2).call(this,t);t=vt.makeHexColor(...o);const l=re(this,pt,K2).call(this,r);if(r=vt.makeHexColor(...l),g(this,pt,k1).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const c=new Array(256);for(let y=0;y<=255;y++){const w=y/255;c[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const u=c.join(","),f=`g_${g(this,Rh)}_hcm_filter`,h=a.filter=re(this,pt,O1).call(this,f);re(this,pt,G2).call(this,u,u,u,h),re(this,pt,kM).call(this,h);const p=(y,w)=>{const b=o[y]/255,S=l[y]/255,_=new Array(w+1);for(let P=0;P<=w;P++)_[P]=b+P/w*(S-b);return _.join(",")};return re(this,pt,G2).call(this,p(0,5),p(1,5),p(2,5),h),a.url=re(this,pt,N1).call(this,f),a.url}addAlphaFilter(t){let r=g(this,pt,Ua).get(t);if(r)return r;const[i]=re(this,pt,BC).call(this,[t]),s=`alpha_${i}`;if(r=g(this,pt,Ua).get(s),r)return g(this,pt,Ua).set(t,r),r;const a=`g_${g(this,Rh)}_alpha_map_${Cs(this,oy)._++}`,o=re(this,pt,N1).call(this,a);g(this,pt,Ua).set(t,o),g(this,pt,Ua).set(s,o);const l=re(this,pt,O1).call(this,a);return re(this,pt,NM).call(this,i,l),o}addLuminosityFilter(t){let r=g(this,pt,Ua).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=re(this,pt,BC).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=g(this,pt,Ua).get(s),r)return g(this,pt,Ua).set(t,r),r;const a=`g_${g(this,Rh)}_luminosity_map_${Cs(this,oy)._++}`,o=re(this,pt,N1).call(this,a);g(this,pt,Ua).set(t,o),g(this,pt,Ua).set(s,o);const l=re(this,pt,O1).call(this,a);return re(this,pt,rre).call(this,l),t&&re(this,pt,NM).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var S;const o=`${r}-${i}-${s}-${a}`;let l=g(this,pt,V2).get(t);if((l==null?void 0:l.key)===o||(l?((S=l.filter)==null||S.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},g(this,pt,V2).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(re(this,pt,K2).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,x]=[s,a].map(re(this,pt,K2).bind(this));h<f&&([f,h,p,x]=[h,f,x,p]),g(this,pt,k1).style.color="";const y=(_,P,E)=>{const C=new Array(256),N=(h-f)/E,L=_/255,R=(P-_)/(255*E);let F=0;for(let j=0;j<=E;j++){const D=Math.round(f+j*N),W=L+j*R;for(let V=F;V<=D;V++)C[V]=W;F=D+1}for(let j=F;j<256;j++)C[j]=C[F-1];return C.join(",")},w=`g_${g(this,Rh)}_hcm_${t}_filter`,b=l.filter=re(this,pt,O1).call(this,w);return re(this,pt,kM).call(this,b),re(this,pt,G2).call(this,y(p[0],x[0],5),y(p[1],x[1],5),y(p[2],x[2],5),b),l.url=re(this,pt,N1).call(this,w),l.url}destroy(t=!1){var r,i,s,a;t&&((r=g(this,ay))!=null&&r.size)||((i=g(this,Lh))==null||i.parentNode.parentNode.remove(),z(this,Lh,null),(s=g(this,Bb))==null||s.clear(),z(this,Bb,null),(a=g(this,ay))==null||a.clear(),z(this,ay,null),z(this,oy,0))}}sy=new WeakMap,Bb=new WeakMap,Lh=new WeakMap,Rh=new WeakMap,Va=new WeakMap,ay=new WeakMap,oy=new WeakMap,pt=new WeakSet,Ua=function(){return g(this,Bb)||z(this,Bb,new Map)},V2=function(){return g(this,ay)||z(this,ay,new Map)},k1=function(){if(!g(this,Lh)){const t=g(this,Va).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=g(this,Va).createElementNS(ph,"svg");i.setAttribute("width",0),i.setAttribute("height",0),z(this,Lh,g(this,Va).createElementNS(ph,"defs")),t.append(i),i.append(g(this,Lh)),g(this,Va).body.append(t)}return g(this,Lh)},BC=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const f=u.join(",");return[f,f,f]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},N1=function(t){if(g(this,sy)===void 0){z(this,sy,"");const r=g(this,Va).URL;r!==g(this,Va).baseURI&&(Yk(r)?yn('#createUrl: ignore "data:"-URL for performance reasons.'):z(this,sy,hne(r,"")))}return`url(${g(this,sy)}#${t})`},rre=function(t){const r=g(this,Va).createElementNS(ph,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},kM=function(t){const r=g(this,Va).createElementNS(ph,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},O1=function(t){const r=g(this,Va).createElementNS(ph,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),g(this,pt,k1).append(r),r},W2=function(t,r,i){const s=g(this,Va).createElementNS(ph,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},G2=function(t,r,i,s){const a=g(this,Va).createElementNS(ph,"feComponentTransfer");s.append(a),re(this,pt,W2).call(this,a,"feFuncR",t),re(this,pt,W2).call(this,a,"feFuncG",r),re(this,pt,W2).call(this,a,"feFuncB",i)},NM=function(t,r){const i=g(this,Va).createElementNS(ph,"feComponentTransfer");r.append(i),re(this,pt,W2).call(this,i,"feFuncA",t)},K2=function(t){return g(this,pt,k1).style.color=t,S5(getComputedStyle(g(this,pt,k1)).getPropertyValue("color"))};class ire{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){zr("Abstract method `_fetch` called.")}}class wU extends ire{async _fetch(e){const t=await x5(e,"arraybuffer");return new Uint8Array(t)}}class sre{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){zr("Abstract method `_fetch` called.")}}class xU extends sre{async _fetch(e){const t=await x5(e,"arraybuffer");return new Uint8Array(t)}}go&&yn("Please use the `legacy` build in Node.js environments.");async function VF(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class T_e extends nre{}class k_e extends ere{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class N_e extends tre{async _fetch(e){return VF(e)}}class O_e extends ire{async _fetch(e){return VF(e)}}class j_e extends sre{async _fetch(e){return VF(e)}}const b1="__forcedDependency",{floor:_U,ceil:SU}=Math;function HP(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const OM=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var $b,Rm;class L_e{constructor(e,t){ee(this,$b);ee(this,Rm);z(this,$b,e),z(this,Rm,t)}get length(){return g(this,$b).length}isEmpty(e){return g(this,$b)[e]===OM}minX(e){return g(this,Rm)[e*4+0]/256}minY(e){return g(this,Rm)[e*4+1]/256}maxX(e){return(g(this,Rm)[e*4+2]+1)/256}maxY(e){return(g(this,Rm)[e*4+3]+1)/256}}$b=new WeakMap,Rm=new WeakMap;const VP=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Zo,Qo,ly,Lu,cy,Ih,Sr,Nr,Mh,el,ZS,qb,uy,fy,Dh,Wa,zf,QS,jM;class R_e{constructor(e,t,r=!1){ee(this,QS);ee(this,Zo,{__proto__:null});ee(this,Qo,{__proto__:null,transform:[],moveText:[],sameLineText:[],[b1]:[]});ee(this,ly,new Map);ee(this,Lu,[]);ee(this,cy,[]);ee(this,Ih,[[1,0,0,1,0,0]]);ee(this,Sr,[-1/0,-1/0,1/0,1/0]);ee(this,Nr,new Float64Array([1/0,1/0,-1/0,-1/0]));ee(this,Mh,-1);ee(this,el,new Set);ee(this,ZS,new Map);ee(this,qb,new Map);ee(this,uy);ee(this,fy);ee(this,Dh);ee(this,Wa);ee(this,zf);z(this,uy,e.width),z(this,fy,e.height),re(this,QS,jM).call(this,t),r&&z(this,zf,new Map)}growOperationsCount(e){e>=g(this,Wa).length&&re(this,QS,jM).call(this,e,g(this,Wa))}save(e){return z(this,Zo,{__proto__:g(this,Zo)}),z(this,Qo,{__proto__:g(this,Qo),transform:{__proto__:g(this,Qo).transform},moveText:{__proto__:g(this,Qo).moveText},sameLineText:{__proto__:g(this,Qo).sameLineText},[b1]:{__proto__:g(this,Qo)[b1]}}),z(this,Sr,{__proto__:g(this,Sr)}),g(this,Lu).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(g(this,Zo));if(t===null)return this;z(this,Zo,t),z(this,Qo,Object.getPrototypeOf(g(this,Qo))),z(this,Sr,Object.getPrototypeOf(g(this,Sr)));const r=g(this,Lu).pop();return r!==void 0&&((i=VP(g(this,zf),e))==null||i.dependencies.add(r),g(this,Wa)[e]=g(this,Wa)[r]),this}recordOpenMarker(e){return g(this,Lu).push(e),this}getOpenMarker(){return g(this,Lu).length===0?null:g(this,Lu).at(-1)}recordCloseMarker(e){var r;const t=g(this,Lu).pop();return t!==void 0&&((r=VP(g(this,zf),e))==null||r.dependencies.add(t),g(this,Wa)[e]=g(this,Wa)[t]),this}beginMarkedContent(e){return g(this,cy).push(e),this}endMarkedContent(e){var r;const t=g(this,cy).pop();return t!==void 0&&((r=VP(g(this,zf),e))==null||r.dependencies.add(t),g(this,Wa)[e]=g(this,Wa)[t]),this}pushBaseTransform(e){return g(this,Ih).push(vt.multiplyByDOMMatrix(g(this,Ih).at(-1),e.getTransform())),this}popBaseTransform(){return g(this,Ih).length>1&&g(this,Ih).pop(),this}recordSimpleData(e,t){return g(this,Zo)[e]=t,this}recordIncrementalData(e,t){return g(this,Qo)[e].push(t),this}resetIncrementalData(e,t){return g(this,Qo)[e].length=0,this}recordNamedData(e,t){return g(this,ly).set(e,t),this}recordSimpleDataFromNamed(e,t,r){g(this,Zo)[e]=g(this,ly).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(b1,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in g(this,Zo)&&this.recordFutureForcedDependency(t,g(this,Zo)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of g(this,el))this.recordFutureForcedDependency(b1,e);return this}resetBBox(e){return g(this,Mh)!==e&&(z(this,Mh,e),g(this,Nr)[0]=1/0,g(this,Nr)[1]=1/0,g(this,Nr)[2]=-1/0,g(this,Nr)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=vt.multiplyByDOMMatrix(g(this,Ih).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];vt.axialAlignedBoundingBox([r,s,i,a],o,l);const c=vt.intersect(g(this,Sr),l);return c?(g(this,Sr)[0]=c[0],g(this,Sr)[1]=c[1],g(this,Sr)[2]=c[2],g(this,Sr)[3]=c[3]):(g(this,Sr)[0]=g(this,Sr)[1]=1/0,g(this,Sr)[2]=g(this,Sr)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=g(this,Sr);if(o[0]===1/0)return this;const l=vt.multiplyByDOMMatrix(g(this,Ih).at(-1),t.getTransform());if(o[0]===-1/0)return vt.axialAlignedBoundingBox([r,s,i,a],l,g(this,Nr)),this;const c=[1/0,1/0,-1/0,-1/0];return vt.axialAlignedBoundingBox([r,s,i,a],l,c),g(this,Nr)[0]=Math.min(g(this,Nr)[0],Math.max(c[0],o[0])),g(this,Nr)[1]=Math.min(g(this,Nr)[1],Math.max(c[1],o[1])),g(this,Nr)[2]=Math.max(g(this,Nr)[2],Math.min(c[2],o[2])),g(this,Nr)[3]=Math.max(g(this,Nr)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&g(this,qb).get(r),c!==!1&&(u=[0,0,0,0],vt.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||s!==0||a!==0)&&vt.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return l&&u&&c===void 0&&(c=u[0]<=s-f.actualBoundingBoxLeft&&u[2]>=s+f.actualBoundingBoxRight&&u[1]<=a-f.actualBoundingBoxAscent&&u[3]>=a+f.actualBoundingBoxDescent,g(this,qb).set(r,c),c)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return g(this,Nr)[0]=Math.max(0,g(this,Sr)[0]),g(this,Nr)[1]=Math.max(0,g(this,Sr)[1]),g(this,Nr)[2]=Math.min(g(this,uy),g(this,Sr)[2]),g(this,Nr)[3]=Math.min(g(this,fy),g(this,Sr)[3]),this}getSimpleIndex(e){return g(this,Zo)[e]}recordDependencies(e,t){const r=g(this,el),i=g(this,Zo),s=g(this,Qo);for(const a of t)a in g(this,Zo)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return g(this,ly).has(t)&&g(this,el).add(g(this,ly).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[b1]),g(this,zf)){const r=VP(g(this,zf),e),{dependencies:i}=r;g(this,el).forEach(i.add,i),g(this,Lu).forEach(i.add,i),g(this,cy).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(g(this,Mh)===e){const r=_U(g(this,Nr)[0]*256/g(this,uy)),i=_U(g(this,Nr)[1]*256/g(this,fy)),s=SU(g(this,Nr)[2]*256/g(this,uy)),a=SU(g(this,Nr)[3]*256/g(this,fy));HP(g(this,Dh),e,r,i,s,a);for(const o of g(this,el))o!==e&&HP(g(this,Dh),o,r,i,s,a);for(const o of g(this,Lu))o!==e&&HP(g(this,Dh),o,r,i,s,a);for(const o of g(this,cy))o!==e&&HP(g(this,Dh),o,r,i,s,a);t||(g(this,el).clear(),z(this,Mh,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(g(this,el));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return g(this,Mh)===e&&(z(this,Mh,-1),g(this,Sr)[0]=Math.max(g(this,Sr)[0],g(this,Nr)[0]),g(this,Sr)[1]=Math.max(g(this,Sr)[1],g(this,Nr)[1]),g(this,Sr)[2]=Math.min(g(this,Sr)[2],g(this,Nr)[2]),g(this,Sr)[3]=Math.min(g(this,Sr)[3],g(this,Nr)[3]),t||g(this,el).clear()),this}_takePendingDependencies(){const e=g(this,el);return z(this,el,new Set),e}_extractOperation(e){const t=g(this,ZS).get(e);return g(this,ZS).delete(e),t}_pushPendingDependencies(e){for(const t of e)g(this,el).add(t)}take(){return g(this,qb).clear(),new L_e(g(this,Wa),g(this,Dh))}takeDebugMetadata(){return g(this,zf)}}Zo=new WeakMap,Qo=new WeakMap,ly=new WeakMap,Lu=new WeakMap,cy=new WeakMap,Ih=new WeakMap,Sr=new WeakMap,Nr=new WeakMap,Mh=new WeakMap,el=new WeakMap,ZS=new WeakMap,qb=new WeakMap,uy=new WeakMap,fy=new WeakMap,Dh=new WeakMap,Wa=new WeakMap,zf=new WeakMap,QS=new WeakSet,jM=function(e,t){const r=new ArrayBuffer(e*4);z(this,Dh,new Uint8ClampedArray(r)),z(this,Wa,new Uint32Array(r)),t&&t.length>0?(g(this,Wa).set(t),g(this,Wa).fill(OM,t.length)):g(this,Wa).fill(OM)};var $r,Ui,Ru,Ub,zb;const d7=class d7{constructor(e,t,r){ee(this,$r);ee(this,Ui);ee(this,Ru);ee(this,Ub,0);ee(this,zb,0);if(e instanceof d7&&g(e,Ru)===!!r)return e;z(this,$r,e),z(this,Ui,t),z(this,Ru,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Cs(this,zb)._++,g(this,$r).save(g(this,Ui)),this}restore(e){return g(this,zb)>0&&(g(this,$r).restore(g(this,Ui)),Cs(this,zb)._--),this}recordOpenMarker(e){return Cs(this,Ub)._++,this}getOpenMarker(){return g(this,Ub)>0?g(this,Ui):g(this,$r).getOpenMarker()}recordCloseMarker(e){return Cs(this,Ub)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return g(this,$r).pushBaseTransform(e),this}popBaseTransform(){return g(this,$r).popBaseTransform(),this}recordSimpleData(e,t){return g(this,$r).recordSimpleData(e,g(this,Ui)),this}recordIncrementalData(e,t){return g(this,$r).recordIncrementalData(e,g(this,Ui)),this}resetIncrementalData(e,t){return g(this,$r).resetIncrementalData(e,g(this,Ui)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return g(this,$r).recordSimpleDataFromNamed(e,t,g(this,Ui)),this}recordFutureForcedDependency(e,t){return g(this,$r).recordFutureForcedDependency(e,g(this,Ui)),this}inheritSimpleDataAsFutureForcedDependencies(e){return g(this,$r).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return g(this,$r).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return g(this,Ru)||g(this,$r).resetBBox(g(this,Ui)),this}recordClipBox(e,t,r,i,s,a){return g(this,Ru)||g(this,$r).recordClipBox(g(this,Ui),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return g(this,Ru)||g(this,$r).recordBBox(g(this,Ui),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return g(this,Ru)||g(this,$r).recordCharacterBBox(g(this,Ui),t,r,i,s,a,o),this}recordFullPageBBox(e){return g(this,Ru)||g(this,$r).recordFullPageBBox(g(this,Ui)),this}getSimpleIndex(e){return g(this,$r).getSimpleIndex(e)}recordDependencies(e,t){return g(this,$r).recordDependencies(g(this,Ui),t),this}recordNamedDependency(e,t){return g(this,$r).recordNamedDependency(g(this,Ui),t),this}recordOperation(e){return g(this,$r).recordOperation(g(this,Ui),!0),this}recordShowTextOperation(e){return g(this,$r).recordShowTextOperation(g(this,Ui),!0),this}bboxToClipBoxDropOperation(e){return g(this,Ru)||g(this,$r).bboxToClipBoxDropOperation(g(this,Ui),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};$r=new WeakMap,Ui=new WeakMap,Ru=new WeakMap,Ub=new WeakMap,zb=new WeakMap;let VE=d7;const Pc={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},_a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LM(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class WF{isModifyingCurrentTransform(){return!1}getPattern(){zr("Abstract method `getPattern` called.")}}class I_e extends WF{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===_a.STROKE||i===_a.FILL){const a=t.current.getClippedPathBoundingBox(i,Oi(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=vt.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),LM(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else LM(e,this._bbox),s=this._createGradient(e);return s}}function E3(n,e,t,r,i,s,a,o){const l=e.coords,c=e.colors,u=n.data,f=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=a,a=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=a,a=o,o=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=a,a=h);const p=(l[t]+e.offsetX)*e.scaleX,x=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY;if(x>=S)return;const _=c[s],P=c[s+1],E=c[s+2],C=c[a],N=c[a+1],L=c[a+2],R=c[o],F=c[o+1],j=c[o+2],D=Math.round(x),W=Math.round(S);let V,Z,J,K,$,te,Q,X;for(let B=D;B<=W;B++){if(B<w){const he=B<x?0:(x-B)/(x-w);V=p-(p-y)*he,Z=_-(_-C)*he,J=P-(P-N)*he,K=E-(E-L)*he}else{let he;B>S?he=1:w===S?he=0:he=(w-B)/(w-S),V=y-(y-b)*he,Z=C-(C-R)*he,J=N-(N-F)*he,K=L-(L-j)*he}let G;B<x?G=0:B>S?G=1:G=(x-B)/(x-S),$=p-(p-b)*G,te=_-(_-R)*G,Q=P-(P-F)*G,X=E-(E-j)*G;const ne=Math.round(Math.min(V,$)),ie=Math.round(Math.max(V,$));let fe=f*B+ne*4;for(let he=ne;he<=ie;he++)G=(V-he)/(V-$),G<0?G=0:G>1&&(G=1),u[fe++]=Z-(Z-te)*G|0,u[fe++]=J-(J-Q)*G|0,u[fe++]=K-(K-X)*G|0,u[fe++]=255}}function M_e(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let f=0;f<c;f++,u++)E3(n,t,r[u],r[u+1],r[u+o],i[u],i[u+1],i[u+o]),E3(n,t,r[u+o+1],r[u+1],r[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)E3(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class D_e extends WF{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/f,x=u/h,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/x},w=f+4,b=h+4,S=r.getCanvas("mesh",w,b),_=S.context,P=_.createImageData(f,h);if(t){const C=P.data;for(let N=0,L=C.length;N<L;N+=4)C[N]=t[0],C[N+1]=t[1],C[N+2]=t[2],C[N+3]=255}for(const C of this._figures)M_e(P,C,y);return _.putImageData(P,2,2),{canvas:S.canvas,offsetX:o-2*p,offsetY:l-2*x,scaleX:p,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){LM(e,this._bbox);const s=new Float32Array(2);if(i===_a.SHADING)vt.singularValueDecompose2dScale(Oi(e),s);else if(this.matrix){vt.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;vt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else vt.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===_a.SHADING?null:this._background,t.cachedCanvases);return i!==_a.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class F_e extends WF{getPattern(){return"hotpink"}}function B_e(n){switch(n[0]){case"RadialAxial":return new I_e(n);case"Mesh":return new D_e(n);case"Dummy":return new F_e}throw new Error(`Unknown IR type: ${n[0]}`)}const AU={COLORED:1,UNCOLORED:2},fk=class fk{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var te,Q;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),Xk("TilingType: "+a);const f=r[0],h=r[1],p=r[2],x=r[3],y=p-f,w=x-h,b=new Float32Array(2);vt.singularValueDecompose2dScale(this.matrix,b);const[S,_]=b;vt.singularValueDecompose2dScale(this.baseTransform,b);const P=S*b[0],E=_*b[1];let C=y,N=w,L=!1,R=!1;const F=Math.ceil(c*P),j=Math.ceil(u*E),D=Math.ceil(y*P),W=Math.ceil(w*E);F>=D?C=c:L=!0,j>=W?N=u:R=!0;const V=this.getSizeAndScale(C,this.ctx.canvas.width,P),Z=this.getSizeAndScale(N,this.ctx.canvas.height,E),J=e.cachedCanvases.getCanvas("pattern",V.size,Z.size),K=J.context,$=l.createCanvasGraphics(K,t);if($.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($,s,o),K.translate(-V.scale*f,-Z.scale*h),$.transform(0,V.scale,0,0,Z.scale,0,0),K.save(),(te=$.dependencyTracker)==null||te.save(),this.clipBbox($,f,h,p,x),$.baseTransform=Oi($.ctx),$.executeOperatorList(i),$.endDrawing(),(Q=$.dependencyTracker)==null||Q.restore(),K.restore(),L||R){const X=J.canvas;L&&(C=c),R&&(N=u);const B=this.getSizeAndScale(C,this.ctx.canvas.width,P),G=this.getSizeAndScale(N,this.ctx.canvas.height,E),ne=B.size,ie=G.size,fe=e.cachedCanvases.getCanvas("pattern-workaround",ne,ie),he=fe.context,oe=L?Math.floor(y/c):0,pe=R?Math.floor(w/u):0;for(let Se=0;Se<=oe;Se++)for(let be=0;be<=pe;be++)he.drawImage(X,ne*Se,ie*be,ne,ie,0,0,ne,ie);return{canvas:fe.canvas,scaleX:B.scale,scaleY:G.scale,offsetX:f,offsetY:h}}return{canvas:J.canvas,scaleX:V.scale,scaleY:Z.scale,offsetX:f,offsetY:h}}getSizeAndScale(e,t,r){const i=Math.max(fk.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),vt.axialAlignedBoundingBox([t,r,i,s],Oi(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case AU.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case AU.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Z2e(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==_a.SHADING&&(a=vt.transform(a,t.baseTransform),this.matrix&&(a=vt.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};He(fk,"MAX_PATTERN_SIZE",3e3);let RM=fk;function $_e({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ca.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=r>>3,f=r&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let x=0;x<i;x++){for(const w=e+u;e<w;e++){const b=e<h?n[e]:255;t[p++]=b&128?c:l,t[p++]=b&64?c:l,t[p++]=b&32?c:l,t[p++]=b&16?c:l,t[p++]=b&8?c:l,t[p++]=b&4?c:l,t[p++]=b&2?c:l,t[p++]=b&1?c:l}if(f===0)continue;const y=e<h?n[e++]:255;for(let w=0;w<f;w++)t[p++]=y&1<<7-w?c:l}return{srcPos:e,destPos:p}}const PU=16,CU=100,q_e=15,EU=10,il=16,T3=new DOMMatrix,Xl=new Float32Array(2),U1=new Float32Array([1/0,1/0,-1/0,-1/0]);function U_e(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class z_e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function WP(n,e,t,r,i,s,a,o,l,c){const[u,f,h,p,x,y]=Oi(n);if(f===0&&h===0){const S=a*u+x,_=Math.round(S),P=o*p+y,E=Math.round(P),C=(a+l)*u+x,N=Math.abs(Math.round(C)-_)||1,L=(o+c)*p+y,R=Math.abs(Math.round(L)-E)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),_,E),n.drawImage(e,t,r,i,s,0,0,N,R),n.setTransform(u,f,h,p,x,y),[N,R]}if(u===0&&p===0){const S=o*h+x,_=Math.round(S),P=a*f+y,E=Math.round(P),C=(o+c)*h+x,N=Math.abs(Math.round(C)-_)||1,L=(a+l)*f+y,R=Math.abs(Math.round(L)-E)||1;return n.setTransform(0,Math.sign(f),Math.sign(h),0,_,E),n.drawImage(e,t,r,i,s,0,0,R,N),n.setTransform(u,f,h,p,x,y),[R,N]}n.drawImage(e,t,r,i,s,a,o,l,c);const w=Math.hypot(u,f),b=Math.hypot(h,p);return[w*l,b*c]}class TU{constructor(e,t,r){He(this,"alphaIsShape",!1);He(this,"fontSize",0);He(this,"fontSizeScale",1);He(this,"textMatrix",null);He(this,"textMatrixScale",1);He(this,"fontMatrix",iM);He(this,"leading",0);He(this,"x",0);He(this,"y",0);He(this,"lineX",0);He(this,"lineY",0);He(this,"charSpacing",0);He(this,"wordSpacing",0);He(this,"textHScale",1);He(this,"textRenderingMode",ha.FILL);He(this,"textRise",0);He(this,"fillColor","#000000");He(this,"strokeColor","#000000");He(this,"patternFill",!1);He(this,"patternStroke",!1);He(this,"fillAlpha",1);He(this,"strokeAlpha",1);He(this,"lineWidth",1);He(this,"activeSMask",null);He(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=U1.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=_a.FILL,t=null){const r=this.minMax.slice();if(e===_a.STROKE){t||zr("Stroke bounding box must include transform."),vt.singularValueDecompose2dScale(t,Xl);const i=Xl[0]*this.lineWidth/2,s=Xl[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(U1,0)}getClippedPathBoundingBox(e=_a.FILL,t=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function kU(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%il,s=(t-i)/il,a=i===0?s:s+1,o=n.createImageData(r,il);let l=0,c;const u=e.data,f=o.data;let h,p,x,y;if(e.kind===OC.GRAYSCALE_1BPP){const w=u.byteLength,b=new Uint32Array(f.buffer,0,f.byteLength>>2),S=b.length,_=r+7>>3,P=4294967295,E=Ca.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(x=h<s?il:i,c=0,p=0;p<x;p++){const C=w-l;let N=0;const L=C>_?r:C*8-7,R=L&-8;let F=0,j=0;for(;N<R;N+=8)j=u[l++],b[c++]=j&128?P:E,b[c++]=j&64?P:E,b[c++]=j&32?P:E,b[c++]=j&16?P:E,b[c++]=j&8?P:E,b[c++]=j&4?P:E,b[c++]=j&2?P:E,b[c++]=j&1?P:E;for(;N<L;N++)F===0&&(j=u[l++],F=128),b[c++]=j&F?P:E,F>>=1}for(;c<S;)b[c++]=0;n.putImageData(o,0,h*il)}}else if(e.kind===OC.RGBA_32BPP){for(p=0,y=r*il*4,h=0;h<s;h++)f.set(u.subarray(l,l+y)),l+=y,n.putImageData(o,0,p),p+=il;h<a&&(y=r*i*4,f.set(u.subarray(l,l+y)),n.putImageData(o,0,p))}else if(e.kind===OC.RGB_24BPP)for(x=il,y=r*x,h=0;h<a;h++){for(h>=s&&(x=i,y=r*x),c=0,p=y;p--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;n.putImageData(o,0,h*il)}else throw new Error(`bad image kind: ${e.kind}`)}function NU(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%il,s=(t-i)/il,a=i===0?s:s+1,o=n.createImageData(r,il);let l=0;const c=e.data,u=o.data;for(let f=0;f<a;f++){const h=f<s?il:i;({srcPos:l}=$_e({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(o,0,f*il)}}function b2(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function GP(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function OU(n,e){if(e)return!0;vt.singularValueDecompose2dScale(n,Xl);const t=Math.fround(xd.pixelRatio*Pg.PDF_TO_CSS_UNITS);return Xl[0]<=t&&Xl[1]<=t}const H_e=["butt","round","square"],V_e=["miter","round","bevel"],W_e={},jU={};var Qu,IM,MM,DM;const h7=class h7{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){ee(this,Qu);this.ctx=e,this.current=new TU(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new z_e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Oi(this.compositeCtx))}this.ctx.save(),GP(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Oi(this.ctx)}executeOperatorList(e,t,r,i,s){var b;const a=e.argsArray,o=e.fnArray;let l=t||0;const c=a.length;if(c===l)return l;const u=c-l>EU&&typeof r=="function",f=u?Date.now()+q_e:0;let h=0;const p=this.commonObjs,x=this.objs;let y,w;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(y=o[l],w=a[l]??null,y!==I_.dependency)w===null?this[y](l):this[y](l,...w);else for(const S of w){(b=this.dependencyTracker)==null||b.recordNamedData(S,l);const _=S.startsWith("g_")?p:x;if(!_.has(S))return _.get(S,r),l}if(l++,l===c)return l;if(u&&++h>EU){if(Date.now()>f)return r(),l;h=0}}}endDrawing(){re(this,Qu,IM).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),re(this,Qu,MM).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,c="prescale1",u,f;for(;s>2&&o>1||a>2&&l>1;){let h=o,p=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,h,p),f=u.context,f.clearRect(0,0,h,p),f.drawImage(e,0,0,o,l,0,0,h,p),e=u.canvas,o=h,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var F,j;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Oi(r);let c,u,f,h;if((t.bitmap||t.data)&&t.count>1){const D=t.bitmap||t.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(D),c||(c=new Map,this._cachedBitmapsMap.set(D,c));const W=c.get(u);if(W&&!o){const V=Math.round(Math.min(l[0],l[2])+l[4]),Z=Math.round(Math.min(l[1],l[3])+l[5]);return(F=this.dependencyTracker)==null||F.recordDependencies(e,Pc.transformAndFill),{canvas:W,offsetX:V,offsetY:Z}}f=W}f||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),NU(h.context,t));let p=vt.transform(l,[1/i,0,0,-1/s,0,0]);p=vt.transform(p,[1,0,0,1,0,-s]);const x=U1.slice();vt.axialAlignedBoundingBox([0,0,i,s],p,x);const[y,w,b,S]=x,_=Math.round(b-y)||1,P=Math.round(S-w)||1,E=this.cachedCanvases.getCanvas("fillCanvas",_,P),C=E.context,N=y,L=w;C.translate(-N,-L),C.transform(...p),f||(f=this._scaleImage(h.canvas,Pf(C)),f=f.img,c&&o&&c.set(u,f)),C.imageSmoothingEnabled=OU(Oi(C),t.interpolate),WP(C,f,0,0,f.width,f.height,0,0,i,s),C.globalCompositeOperation="source-in";const R=vt.transform(Pf(C),[1,0,0,1,-N,-L]);return C.fillStyle=o?a.getPattern(r,this,R,_a.FILL,e):a,C.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,E.canvas)),(j=this.dependencyTracker)==null||j.recordDependencies(e,Pc.transformAndFill),{canvas:E.canvas,offsetX:Math.round(N),offsetY:Math.round(L)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=H_e[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=V_e[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,c]of t)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),b2(this.suspendedCtx,a),U_e(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b2(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,c,u,f){let h=e.canvas,p=l-u,x=c-f;if(a)if(p<0||x<0||p+r>h.width||x+i>h.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),b=w.context;b.drawImage(h,-p,-x),b.globalCompositeOperation="destination-atop",b.fillStyle=a,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",h=w.canvas,p=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(p,x,r,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,x,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(h,p,x,r,i,l,c,r,i),t.restore()}save(e){var r;this.inSMaskMode&&b2(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&b2(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===I_.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const a=r[0]=new Path2D;for(let o=0,l=s.length;o<l;)switch(s[o++]){case $P.moveTo:a.moveTo(s[o++],s[o++]);break;case $P.lineTo:a.lineTo(s[o++],s[o++]);break;case $P.curveTo:a.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case $P.closePath:a.closePath();break;default:yn(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=a}vt.axialAlignedBoundingBox(i,Oi(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Pf(i),_a.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Pc.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(_a.STROKE,Oi(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var c,u,f;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Pf(i),_a.FILL,e),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(u=this.dependencyTracker)==null||u.recordDependencies(e,Pc.fill),o&&(i.restore(),(f=this.dependencyTracker)==null||f.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Pc.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=W_e}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=jU}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of t)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var f,h;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||iM,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&yn("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<PU?u=PU:r>CU&&(u=CU),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var b,S,_,P;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,h=u&ha.FILL_STROKE_MASK,p=!!(u&ha.ADD_TO_PATH_FLAG),x=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let w;if((c.disableFontFace||p||x||y)&&!c.missingFile&&(w=c.getPathGenerator(this.commonObjs,t)),w&&(c.disableFontFace||x||y)){o.save(),o.translate(r,i),o.scale(f,-f),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,o,c);let E;if(h===ha.FILL||h===ha.FILL_STROKE)if(s){E=o.getTransform(),o.setTransform(...s);const C=re(this,Qu,DM).call(this,w,E,s);o.fill(C)}else o.fill(w);if(h===ha.STROKE||h===ha.FILL_STROKE)if(a){E||(E=o.getTransform()),o.setTransform(...a);const{a:C,b:N,c:L,d:R}=E,F=vt.inverseTransform(a),j=vt.transform([C,N,L,R,0,0],F);vt.singularValueDecompose2dScale(j,Xl),o.lineWidth*=Math.max(Xl[0],Xl[1])/f,o.stroke(re(this,Qu,DM).call(this,w,E,a))}else o.lineWidth/=f,o.stroke(w);o.restore()}else(h===ha.FILL||h===ha.FILL_STROKE)&&(o.fillText(t,r,i),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,c,f,r,i,()=>o.measureText(t))),(h===ha.STROKE||h===ha.FILL_STROKE)&&(this.dependencyTracker&&((_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,c,f,r,i,()=>o.measureText(t)).recordDependencies(e,Pc.stroke)),o.strokeText(t,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Oi(o),x:r,y:i,fontSize:f,path:w}),(P=this.dependencyTracker)==null||P.recordCharacterBBox(e,o,c,f,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Cn(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var L,R,F,j;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Pc.showText).resetBBox(e),this.current.textRenderingMode&ha.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(L=this.dependencyTracker)==null||L.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(R=this.dependencyTracker)==null||R.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,f=r.textHScale*u,h=t.length,p=i.vertical,x=p?1:-1,y=i.defaultVMetrics,w=s*r.fontMatrix[0],b=r.textRenderingMode===ha.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(f,-1):a.scale(f,1);let S,_;if(r.patternFill){a.save();const D=r.fillColor.getPattern(a,this,Pf(a),_a.FILL,e);S=Oi(a),a.restore(),a.fillStyle=D}if(r.patternStroke){a.save();const D=r.strokeColor.getPattern(a,this,Pf(a),_a.STROKE,e);_=Oi(a),a.restore(),a.strokeStyle=D}let P=r.lineWidth;const E=r.textMatrixScale;if(E===0||P===0){const D=r.textRenderingMode&ha.FILL_STROKE_MASK;(D===ha.STROKE||D===ha.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=E;if(o!==1&&(a.scale(o,o),P/=o),a.lineWidth=P,i.isInvalidPDFjsFont){const D=[];let W=0;for(const Z of t)D.push(Z.unicode),W+=Z.width;const V=D.join("");if(a.fillText(V,0,0),this.dependencyTracker!==null){const Z=a.measureText(V);this.dependencyTracker.recordBBox(e,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=W*w*f,a.restore(),this.compose();return}let C=0,N;for(N=0;N<h;++N){const D=t[N];if(typeof D=="number"){C+=x*D*s/1e3;continue}let W=!1;const V=(D.isSpace?c:0)+l,Z=D.fontChar,J=D.accent;let K,$,te=D.width;if(p){const B=D.vmetric||y,G=-(D.vmetric?B[1]:te*.5)*w,ne=B[2]*w;te=B?-B[0]:te,K=G/o,$=(C+ne)/o}else K=C/o,$=0;let Q;if(i.remeasure&&te>0){Q=a.measureText(Z);const B=Q.width*1e3/s*o;if(te<B&&this.isFontSubpixelAAEnabled){const G=te/B;W=!0,a.save(),a.scale(G,1),K/=G}else te!==B&&(K+=(te-B)/2e3*s/o)}if(this.contentVisible&&(D.isInFont||i.missingFile)){if(b&&!J)a.fillText(Z,K,$),(F=this.dependencyTracker)==null||F.recordCharacterBBox(e,a,Q?{bbox:null}:i,s/o,K,$,()=>Q??a.measureText(Z));else if(this.paintChar(e,Z,K,$,S,_),J){const B=K+s*J.offset.x/o,G=$-s*J.offset.y/o;this.paintChar(e,J.fontChar,B,G,S,_)}}const X=p?te*w-V*u:te*w+V*u;C+=X,W&&a.restore()}p?r.y-=C:r.x+=C*f,a.restore(),this.compose(),(j=this.dependencyTracker)==null||j.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,f=i.textHScale*o,h=i.fontMatrix||iM,p=t.length,x=i.textRenderingMode===ha.INVISIBLE;let y,w,b,S;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(f,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new VE(_,e):null,y=0;y<p;++y){if(w=t[y],typeof w=="number"){S=l*w*a/1e3,this.ctx.translate(S,0),i.x+=S*f;continue}const P=(w.isSpace?u:0)+c,E=s.charProcOperatorList[w.operatorListId];E?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...h),this.executeOperatorList(E),this.restore()):yn(`Type3 character "${w.operatorListId}" is not available.`);const C=[w.width,0];vt.applyTransform(C,h),b=C[0]*a+P,r.translate(b,0),i.x+=b*f}r.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||Oi(this.ctx),s={createCanvasGraphics:(a,o)=>new h7(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new VE(this.dependencyTracker,o,!0):null)};r=new RM(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=B_e(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Pf(r),_a.SHADING,e);const s=Pf(r);if(s){const{width:o,height:l}=r.canvas,c=U1.slice();vt.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,f,h,p]=c;this.ctx.fillRect(u,f,h-u,p-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Pc.transform).recordDependencies(e,Pc.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){zr("Should not call beginInlineImage")}beginImageData(){zr("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Oi(this.ctx),r)){vt.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var _;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||Xk("TODO: Support non-isolated groups."),t.knockout&&yn("Knockout groups not supported.");const i=Oi(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=U1.slice();vt.axialAlignedBoundingBox(t.bbox,Oi(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=vt.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(f,c,u),p=h.context;p.translate(-o,-l),p.transform(...i);let x=new Path2D;const[y,w,b,S]=t.bbox;if(x.rect(y,w,b-y,S-w),t.matrix){const P=new Path2D;P.addPath(x,new DOMMatrix(t.matrix)),x=P}p.clip(x),t.smask&&this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),b2(r,p),this.ctx=p,(_=this.dependencyTracker)==null||_.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Oi(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=U1.slice();vt.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(re(this,Qu,IM).call(this),GP(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,vt.singularValueDecompose2dScale(Oi(this.ctx),Xl);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Xl[0],0,0,-Xl[1],0,l*Xl[1]),GP(this.ctx)}else{GP(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new TU(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),re(this,Qu,MM).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var f,h,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=Oi(l);l.transform(r,i,s,a,0,0);const u=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let x=0,y=o.length;x<y;x+=2){const w=vt.transform(c,[r,i,s,a,o[x],o[x+1]]);l.drawImage(u.canvas,w[4],w[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,w[4],w[4]+u.canvas.width,w[5],w[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Pc.transformAndFill);for(const c of t){const{data:u,width:f,height:h,transform:p}=c,x=this.cachedCanvases.getCanvas("maskCanvas",f,h),y=x.context;y.save();const w=this.getObject(e,u,c);NU(y,w),y.globalCompositeOperation="source-in",y.fillStyle=s?i.getPattern(y,this,Pf(r),_a.FILL,e):i,y.fillRect(0,0,f,h),y.restore(),r.save(),r.transform(...p),r.scale(1,-1),WP(r,x.canvas,0,0,f,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,f,0,h),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){yn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){yn("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,f=s.length;u<f;u+=2)c.push({transform:[r,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;kU(f,t),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,Pf(s));s.imageSmoothingEnabled=OU(Oi(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Pc.imageXObject).recordOperation(e),WP(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,u=t.height,h=this.cachedCanvases.getCanvas("inlineImage",c,u).context;kU(h,t),s=this.applyTransferMapsToCanvas(h)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),WP(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Pc.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===jU?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Oi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,f=c*e;a=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const f=e*l;a=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),T3.a=1/s,T3.d=1/a;const l=new Path2D;if(l.addPath(e,T3),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qu=new WeakSet,IM=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},MM=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},DM=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let lb=h7;for(const n in I_)lb.prototype[n]!==void 0&&(lb.prototype[I_[n]]=lb.prototype[n]);var Hb,Vb,eA,Wb,$C;const Y1=class Y1{constructor(e){ee(this,Wb);ee(this,Hb);ee(this,Vb);ee(this,eA);z(this,Hb,e),z(this,Vb,new DataView(g(this,Hb))),z(this,eA,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const c of Y1.strings){const u=t.encode(e[c]);r[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of Y1.strings){const u=r[c],f=u.length;o.setUint32(l,f),a.set(u,l+4),l+=4+f}return Hn(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return re(this,Wb,$C).call(this,0)}get fontWeight(){return re(this,Wb,$C).call(this,1)}get italicAngle(){return re(this,Wb,$C).call(this,2)}};Hb=new WeakMap,Vb=new WeakMap,eA=new WeakMap,Wb=new WeakSet,$C=function(e){Hn(e<Y1.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=g(this,Vb).getUint32(t)+4;const r=g(this,Vb).getUint32(t);return g(this,eA).decode(new Uint8Array(g(this,Hb),t+4,r))},He(Y1,"strings",["fontFamily","fontWeight","italicAngle"]);let WE=Y1;var Im,Hf,dy,hy,X2;const J1=class J1{constructor(e){ee(this,hy);ee(this,Im);ee(this,Hf);ee(this,dy);z(this,Im,e),z(this,Hf,new DataView(g(this,Im))),z(this,dy,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const h of J1.strings){const p=t.encode(e[h]);r[h]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let f=0;u.setUint8(f++,e.guessFallback?1:0),u.setUint32(f,0),f+=4,i=0;for(const h of J1.strings){const p=r[h],x=p.length;i+=4+x,u.setUint32(f,x),c.set(p,f+4),f+=4+x}return u.setUint32(f-i-4,i),e.style&&(u.setUint32(f,s.length),c.set(s,f+4),f+=4+s.length,u.setUint32(f,a.length),c.set(a,f+4),f+=4+a.length),Hn(f<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(f)}get guessFallback(){return g(this,Hf).getUint8(0)!==0}get css(){return re(this,hy,X2).call(this,0)}get loadedName(){return re(this,hy,X2).call(this,1)}get baseFontName(){return re(this,hy,X2).call(this,2)}get src(){return re(this,hy,X2).call(this,3)}get style(){let e=1;e+=4+g(this,Hf).getUint32(e);const t=g(this,Hf).getUint32(e),r=g(this,dy).decode(new Uint8Array(g(this,Im),e+4,t));e+=4+t;const i=g(this,Hf).getUint32(e),s=g(this,dy).decode(new Uint8Array(g(this,Im),e+4,i));return{style:r,weight:s}}};Im=new WeakMap,Hf=new WeakMap,dy=new WeakMap,hy=new WeakSet,X2=function(e){Hn(e<J1.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=g(this,Hf).getUint32(t)+4;const r=g(this,Hf).getUint32(t);return g(this,dy).decode(new Uint8Array(g(this,Im),t+4,r))},He(J1,"strings",["css","loadedName","baseFontName","src"]);let GE=J1;var Gb,Kb,Xb,Yb,Ll,Vf,tA,Or,Wi,Au,qC,Y2;const _n=class _n{constructor({data:e,extra:t}){ee(this,Wi);ee(this,Vf);ee(this,tA);ee(this,Or);z(this,Vf,e),z(this,tA,new TextDecoder),z(this,Or,new DataView(g(this,Vf))),t&&Object.assign(this,t)}get black(){return re(this,Wi,Au).call(this,0)}get bold(){return re(this,Wi,Au).call(this,1)}get disableFontFace(){return re(this,Wi,Au).call(this,2)}get fontExtraProperties(){return re(this,Wi,Au).call(this,3)}get isInvalidPDFjsFont(){return re(this,Wi,Au).call(this,4)}get isType3Font(){return re(this,Wi,Au).call(this,5)}get italic(){return re(this,Wi,Au).call(this,6)}get missingFile(){return re(this,Wi,Au).call(this,7)}get remeasure(){return re(this,Wi,Au).call(this,8)}get vertical(){return re(this,Wi,Au).call(this,9)}get ascent(){return re(this,Wi,qC).call(this,0)}get defaultWidth(){return re(this,Wi,qC).call(this,1)}get descent(){return re(this,Wi,qC).call(this,2)}get bbox(){let e=g(_n,Kb);if(g(this,Or).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(g(this,Or).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=g(_n,Xb);if(g(this,Or).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(g(this,Or).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=g(_n,Yb);if(g(this,Or).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(g(this,Or).getInt16(e,!0)),e+=2;return r}get fallbackName(){return re(this,Wi,Y2).call(this,0)}get loadedName(){return re(this,Wi,Y2).call(this,1)}get mimetype(){return re(this,Wi,Y2).call(this,2)}get name(){return re(this,Wi,Y2).call(this,3)}get data(){let e=g(_n,Ll);const t=g(this,Or).getUint32(e);e+=4+t;const r=g(this,Or).getUint32(e);e+=4+r;const i=g(this,Or).getUint32(e);e+=4+i;const s=g(this,Or).getUint32(e);if(s!==0)return new Uint8Array(g(this,Vf),e+4,s)}clearData(){let e=g(_n,Ll);const t=g(this,Or).getUint32(e);e+=4+t;const r=g(this,Or).getUint32(e);e+=4+r;const i=g(this,Or).getUint32(e);e+=4+i;const s=g(this,Or).getUint32(e);new Uint8Array(g(this,Vf),e+4,s).fill(0),g(this,Or).setUint32(e,0)}get cssFontInfo(){let e=g(_n,Ll);const t=g(this,Or).getUint32(e);e+=4+t;const r=g(this,Or).getUint32(e);e+=4+r;const i=g(this,Or).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(g(this,Vf),e+4,i)),new WE(s.buffer)}get systemFontInfo(){let e=g(_n,Ll);const t=g(this,Or).getUint32(e);e+=4+t;const r=g(this,Or).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(g(this,Vf),e+4,r)),new GE(i.buffer)}static write(e){const t=e.systemFontInfo?GE.write(e.systemFontInfo):null,r=e.cssFontInfo?WE.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of _n.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=g(_n,Ll)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let f=0;const h=_n.bools.length;let p=0,x=0;for(let y=0;y<h;y++){const w=e[_n.bools[y]];p|=(w===void 0?0:w?2:1)<<x,x+=2,(x===8||y===h-1)&&(u.setUint8(f++,p),p=0,x=0)}Hn(f===g(_n,Gb),"FontInfo.write: Boolean properties offset mismatch");for(const y of _n.numbers)u.setFloat64(f,e[y]),f+=8;if(Hn(f===g(_n,Kb),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(f++,4);for(const y of e.bbox)u.setInt16(f,y,!0),f+=2}else u.setUint8(f++,0),f+=8;if(Hn(f===g(_n,Xb),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(f++,6);for(const y of e.fontMatrix)u.setFloat64(f,y,!0),f+=8}else u.setUint8(f++,0),f+=48;if(Hn(f===g(_n,Yb),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(f++,1);for(const y of e.defaultVMetrics)u.setInt16(f,y,!0),f+=2}else u.setUint8(f++,0),f+=6;Hn(f===g(_n,Ll),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(g(_n,Ll),0),f+=4;for(const y of _n.strings){const w=s[y],b=w.length;u.setUint32(f,b),c.set(w,f+4),f+=4+b}if(u.setUint32(g(_n,Ll),f-g(_n,Ll)-4),!t)u.setUint32(f,0),f+=4;else{const y=t.byteLength;u.setUint32(f,y),Hn(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),f+4),f+=4+y}if(!r)u.setUint32(f,0),f+=4;else{const y=r.byteLength;u.setUint32(f,y),Hn(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),f+4),f+=4+y}return e.data===void 0?(u.setUint32(f,0),f+=4):(u.setUint32(f,e.data.length),c.set(e.data,f+4),f+=4+e.data.length),Hn(f<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(f)}};Gb=new WeakMap,Kb=new WeakMap,Xb=new WeakMap,Yb=new WeakMap,Ll=new WeakMap,Vf=new WeakMap,tA=new WeakMap,Or=new WeakMap,Wi=new WeakSet,Au=function(e){Hn(e<_n.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=g(this,Or).getUint8(t)>>r&3;return i===0?void 0:i===2},qC=function(e){return Hn(e<_n.numbers.length,"Invalid number index"),g(this,Or).getFloat64(g(_n,Gb)+e*8)},Y2=function(e){Hn(e<_n.strings.length,"Invalid string index");let t=g(_n,Ll)+4;for(let s=0;s<e;s++)t+=g(this,Or).getUint32(t)+4;const r=g(this,Or).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(g(this,Vf),t+4,r)),g(this,tA).decode(i)},He(_n,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),He(_n,"numbers",["ascent","defaultWidth","descent"]),He(_n,"strings",["fallbackName","loadedName","mimetype","name"]),ee(_n,Gb,Math.ceil(_n.bools.length*2/8)),ee(_n,Kb,g(_n,Gb)+_n.numbers.length*8),ee(_n,Xb,g(_n,Kb)+1+8),ee(_n,Yb,g(_n,Xb)+1+48),ee(_n,Ll,g(_n,Yb)+1+6);let FM=_n;var nA,rA;class id{static get workerPort(){return g(this,nA)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,nA,e)}static get workerSrc(){return g(this,rA)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,rA,e)}}nA=new WeakMap,rA=new WeakMap,ee(id,nA,null),ee(id,rA,"");var Jb,iA;class G_e{constructor({parsedData:e,rawData:t}){ee(this,Jb);ee(this,iA);z(this,Jb,e),z(this,iA,t)}getRaw(){return g(this,iA)}get(e){return g(this,Jb).get(e)??null}[Symbol.iterator](){return g(this,Jb).entries()}}Jb=new WeakMap,iA=new WeakMap;const j1=Symbol("INTERNAL");var sA,aA,oA,Zb;class K_e{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){ee(this,sA,!1);ee(this,aA,!1);ee(this,oA,!1);ee(this,Zb,!0);z(this,sA,!!(e&Gl.DISPLAY)),z(this,aA,!!(e&Gl.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(g(this,oA))return g(this,Zb);if(!g(this,Zb))return!1;const{print:e,view:t}=this.usage;return g(this,sA)?(t==null?void 0:t.viewState)!=="OFF":g(this,aA)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==j1&&zr("Internal method `_setVisible` called."),z(this,oA,r),z(this,Zb,t)}}sA=new WeakMap,aA=new WeakMap,oA=new WeakMap,Zb=new WeakMap;var Mm,jr,Qb,ew,lA,BM;class X_e{constructor(e,t=Gl.DISPLAY){ee(this,lA);ee(this,Mm,null);ee(this,jr,new Map);ee(this,Qb,null);ee(this,ew,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,ew,e.order);for(const r of e.groups)g(this,jr).set(r.id,new K_e(t,r));if(e.baseState==="OFF")for(const r of g(this,jr).values())r._setVisible(j1,!1);for(const r of e.on)g(this,jr).get(r)._setVisible(j1,!0);for(const r of e.off)g(this,jr).get(r)._setVisible(j1,!1);z(this,Qb,this.getHash())}}isVisible(e){if(g(this,jr).size===0)return!0;if(!e)return Xk("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,jr).has(e.id)?g(this,jr).get(e.id).visible:(yn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return re(this,lA,BM).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,jr).has(t))return yn(`Optional content group not found: ${t}`),!0;if(g(this,jr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,jr).has(t))return yn(`Optional content group not found: ${t}`),!0;if(!g(this,jr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,jr).has(t))return yn(`Optional content group not found: ${t}`),!0;if(!g(this,jr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,jr).has(t))return yn(`Optional content group not found: ${t}`),!0;if(g(this,jr).get(t).visible)return!1}return!0}return yn(`Unknown optional content policy ${e.policy}.`),!0}return yn(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=g(this,jr).get(e);if(!i){yn(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=g(this,jr).get(o))==null||s._setVisible(j1,!1,!0));i._setVisible(j1,!!t,!0),z(this,Mm,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=g(this,jr).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}z(this,Mm,null)}get hasInitialVisibility(){return g(this,Qb)===null||this.getHash()===g(this,Qb)}getOrder(){return g(this,jr).size?g(this,ew)?g(this,ew).slice():[...g(this,jr).keys()]:null}getGroup(e){return g(this,jr).get(e)||null}getHash(){if(g(this,Mm)!==null)return g(this,Mm);const e=new Kne;for(const[t,r]of g(this,jr))e.update(`${t}:${r.visible}`);return z(this,Mm,e.hexdigest())}[Symbol.iterator](){return g(this,jr).entries()}}Mm=new WeakMap,jr=new WeakMap,Qb=new WeakMap,ew=new WeakMap,lA=new WeakSet,BM=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=re(this,lA,BM).call(this,s);else if(g(this,jr).has(s))a=g(this,jr).get(s).visible;else return yn(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class Y_e{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Hn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new J_e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Z_e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class J_e{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=zF(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Z_e{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Q_e(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=o(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=a(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=o(t);return u=c(u),s(u)}function r(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const h=new TextDecoder(u,{fatal:!0}),p=w5(f);f=h.decode(p),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const f=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,y,w,b]=h;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[w,b]}const x=[];for(let y=0;y<f.length&&y in f;++y){let[w,b]=f[y];b=o(b),w&&(b=unescape(b),y===0&&(b=l(b))),x.push(b)}return x.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let h=0;h<f.length;++h){const p=f[h].indexOf('"');p!==-1&&(f[h]=f[h].slice(0,p),f.length=h+1),f[h]=f[h].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const h=u.slice(0,f),x=u.slice(f+1).replace(/^[^']*'/,"");return i(h,x)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,h,p,x){if(p==="q"||p==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,w){return String.fromCharCode(parseInt(w,16))}),i(h,x);try{x=atob(x)}catch{}return i(h,x)})}return""}function are(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function Jk(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function ore({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function lre(n){const e=n.get("Content-Disposition");if(e){let t=Q_e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(zF(t))return t}return null}function P5(n,e){return new qE(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function cre(n){return n===200||n===206}function ure(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function fre(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(yn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class eSe{constructor(e){He(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=are(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tSe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new nSe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class tSe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,ure(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Jk(s.url),!cre(s.status))throw P5(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=ore({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=lre(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ag("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:fre(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class nSe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,ure(s,this._withCredentials,this._abortController)).then(o=>{const l=Jk(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!cre(o.status))throw P5(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:fre(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const k3=200,N3=206;function rSe(n){const e=n.response;return typeof e!="string"?e:w5(e).buffer}class iSe{constructor({url:e,httpHeaders:t,withCredentials:r}){He(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=are(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=N3):i.expectedStatus=k3,t.responseType="arraybuffer",Hn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||k3;if(!(s===k3&&r.expectedStatus===N3)&&s!==r.expectedStatus){r.onError(i.status);return}const o=rSe(i);if(s===N3){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(yn('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class sSe{constructor(e){this._source=e,this._manager=new iSe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aSe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new oSe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class aSe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Jk(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=ore({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=lre(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=P5(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oSe{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Jk((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=P5(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lSe=/^[a-z][a-z0-9\-+.]+:/i;function cSe(n){if(lSe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class uSe{constructor(e){this.source=e,this.url=cSe(e.url),Hn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new fSe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new dSe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class fSe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=P5(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ag("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class dSe{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const w2=Symbol("INITIAL_DATA");var Rl,cA,$M;class dre{constructor(){ee(this,cA);ee(this,Rl,Object.create(null))}get(e,t=null){if(t){const i=re(this,cA,$M).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=g(this,Rl)[e];if(!r||r.data===w2)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=g(this,Rl)[e];return!!t&&t.data!==w2}delete(e){const t=g(this,Rl)[e];return!t||t.data===w2?!1:(delete g(this,Rl)[e],!0)}resolve(e,t=null){const r=re(this,cA,$M).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in g(this,Rl)){const{data:r}=g(this,Rl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}z(this,Rl,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,Rl)){const{data:t}=g(this,Rl)[e];t!==w2&&(yield[e,t])}}}Rl=new WeakMap,cA=new WeakSet,$M=function(e){var t;return(t=g(this,Rl))[e]||(t[e]={...Promise.withResolvers(),data:w2})};const hSe=1e5,LU=30;var rJ,Dm,tl,uA,fA,py,Fh,dA,hA,my,tw,nw,Fm,rw,pA,iw,gy,mA,gA,sw,vy,vA,Bm,aw,_p,hre,pre,qM,sc,UC,UM,mre,gre;const Os=class Os{constructor({textContentSource:e,container:t,viewport:r}){ee(this,_p);ee(this,Dm,Promise.withResolvers());ee(this,tl,null);ee(this,uA,!1);ee(this,fA,!!((rJ=globalThis.FontInspector)!=null&&rJ.enabled));ee(this,py,null);ee(this,Fh,null);ee(this,dA,0);ee(this,hA,0);ee(this,my,null);ee(this,tw,null);ee(this,nw,0);ee(this,Fm,0);ee(this,rw,Object.create(null));ee(this,pA,[]);ee(this,iw,null);ee(this,gy,[]);ee(this,mA,new WeakMap);ee(this,gA,null);var l;if(e instanceof ReadableStream)z(this,iw,e);else if(typeof e=="object")z(this,iw,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,tl,z(this,tw,t)),z(this,Fm,r.scale*xd.pixelRatio),z(this,nw,r.rotation),z(this,Fh,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;z(this,gA,[1,0,0,-1,-a,o+s]),z(this,hA,i),z(this,dA,s),re(l=Os,sc,mre).call(l),h0(t,r),g(this,Dm).promise.finally(()=>{g(Os,aw).delete(this),z(this,Fh,null),z(this,rw,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ca.platform;return Cn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,my).read().then(({value:t,done:r})=>{if(r){g(this,Dm).resolve();return}g(this,py)??z(this,py,t.lang),Object.assign(g(this,rw),t.styles),re(this,_p,hre).call(this,t.items),e()},g(this,Dm).reject)};return z(this,my,g(this,iw).getReader()),g(Os,aw).add(this),e(),g(this,Dm).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*xd.pixelRatio,i=e.rotation;if(i!==g(this,nw)&&(t==null||t(),z(this,nw,i),h0(g(this,tw),{rotation:i})),r!==g(this,Fm)){t==null||t(),z(this,Fm,r);const a={div:null,properties:null,ctx:re(s=Os,sc,UC).call(s,g(this,py))};for(const o of g(this,gy))a.properties=g(this,mA).get(o),a.div=o,re(this,_p,qM).call(this,a)}}cancel(){var t;const e=new Ag("TextLayer task cancelled.");(t=g(this,my))==null||t.cancel(e).catch(()=>{}),z(this,my,null),g(this,Dm).reject(e)}get textDivs(){return g(this,gy)}get textContentItemsStr(){return g(this,pA)}static cleanup(){if(!(g(this,aw).size>0)){g(this,sw).clear();for(const{canvas:e}of g(this,vy).values())e.remove();g(this,vy).clear()}}};Dm=new WeakMap,tl=new WeakMap,uA=new WeakMap,fA=new WeakMap,py=new WeakMap,Fh=new WeakMap,dA=new WeakMap,hA=new WeakMap,my=new WeakMap,tw=new WeakMap,nw=new WeakMap,Fm=new WeakMap,rw=new WeakMap,pA=new WeakMap,iw=new WeakMap,gy=new WeakMap,mA=new WeakMap,gA=new WeakMap,sw=new WeakMap,vy=new WeakMap,vA=new WeakMap,Bm=new WeakMap,aw=new WeakMap,_p=new WeakSet,hre=function(e){var i,s;if(g(this,uA))return;(s=g(this,Fh)).ctx??(s.ctx=re(i=Os,sc,UC).call(i,g(this,py)));const t=g(this,gy),r=g(this,pA);for(const a of e){if(t.length>hSe){yn("Ignoring additional textDivs for performance reasons."),z(this,uA,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=g(this,tl);z(this,tl,document.createElement("span")),g(this,tl).classList.add("markedContent"),a.id&&g(this,tl).setAttribute("id",`${a.id}`),o.append(g(this,tl))}else a.type==="endMarkedContent"&&z(this,tl,g(this,tl).parentNode);continue}r.push(a.str),re(this,_p,pre).call(this,a)}},pre=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,gy).push(t);const i=vt.transform(g(this,gA),e.transform);let s=Math.atan2(i[1],i[0]);const a=g(this,rw)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=g(this,fA)&&a.fontSubstitution||a.fontFamily;o=Os.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*re(y=Os,sc,gre).call(y,o,a,g(this,py));let u,f;s===0?(u=i[4],f=i[5]-c):(u=i[4]+c*Math.sin(s),f=i[5]-c*Math.cos(s));const h="calc(var(--total-scale-factor) *",p=t.style;g(this,tl)===g(this,tw)?(p.left=`${(100*u/g(this,hA)).toFixed(2)}%`,p.top=`${(100*f/g(this,dA)).toFixed(2)}%`):(p.left=`${h}${u.toFixed(2)}px)`,p.top=`${h}${f.toFixed(2)}px)`),p.fontSize=`${h}${(g(Os,Bm)*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,fA)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);w!==b&&Math.max(w,b)/Math.min(w,b)>1.5&&(x=!0)}if(x&&(r.canvasWidth=a.vertical?e.height:e.width),g(this,mA).set(t,r),g(this,Fh).div=t,g(this,Fh).properties=r,re(this,_p,qM).call(this,g(this,Fh)),r.hasText&&g(this,tl).append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),g(this,tl).append(w)}},qM=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(g(Os,Bm)>1&&(a=`scale(${1/g(Os,Bm)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;re(o=Os,sc,UM).call(o,i,u*g(this,Fm),l);const{width:f}=i.measureText(t.textContent);f>0&&(a=`scaleX(${c*g(this,Fm)/f}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},sc=new WeakSet,UC=function(e=null){let t=g(this,vy).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,vy).set(e,t),g(this,vA).set(t,{size:0,family:""})}return t},UM=function(e,t,r){const i=g(this,vA).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},mre=function(){if(g(this,Bm)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),z(this,Bm,e.getBoundingClientRect().height),e.remove()},gre=function(e,t,r){const i=g(this,sw).get(e);if(i)return i;const s=re(this,sc,UC).call(this,r);s.canvas.width=s.canvas.height=LU,re(this,sc,UM).call(this,s,LU,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(Ca.platform.isFirefox&&yn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),g(this,sw).set(e,c),c},ee(Os,sc),ee(Os,sw,new Map),ee(Os,vy,new Map),ee(Os,vA,new WeakMap),ee(Os,Bm,null),ee(Os,aw,new Set);let D_=Os;const pSe=100;function mSe(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new zM,{docId:t}=e,r=n.url?x_e(n.url):null,i=n.data?__e(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof vre?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof F_?n.worker:null;const f=n.verbosity,h=typeof n.docBaseUrl=="string"&&!Yk(n.docBaseUrl)?n.docBaseUrl:null,p=UP(n.cMapUrl),x=n.cMapPacked!==!1,y=n.CMapReaderFactory||(go?N_e:bU),w=UP(n.iccUrl),b=UP(n.standardFontDataUrl),S=n.StandardFontDataFactory||(go?O_e:wU),_=UP(n.wasmUrl),P=n.WasmFactory||(go?j_e:xU),E=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!go,R=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!go&&(Ca.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,j=typeof n.disableFontFace=="boolean"?n.disableFontFace:go,D=n.fontExtraProperties===!0,W=n.enableXfa===!0,V=n.ownerDocument||globalThis.document,Z=n.disableRange===!0,J=n.disableStream===!0,K=n.disableAutoFetch===!0,$=n.pdfBug===!0,te=n.CanvasFactory||(go?k_e:C_e),Q=n.FilterFactory||(go?T_e:E_e),X=n.enableHWA===!0,B=n.useWasm!==!1,G=l?l.length:n.length??NaN,ne=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!go&&!j,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(y===bU&&S===wU&&P===xU&&p&&b&&_&&F2(p,document.baseURI)&&F2(b,document.baseURI)&&F2(_,document.baseURI)),fe=null;X2e(f);const he={canvasFactory:new te({ownerDocument:V,enableHWA:X}),filterFactory:new Q({docId:t,ownerDocument:V}),cMapReaderFactory:ie?null:new y({baseUrl:p,isCompressed:x}),standardFontDataFactory:ie?null:new S({baseUrl:b}),wasmFactory:ie?null:new P({baseUrl:_})};u||(u=F_.create({verbosity:f,port:id.workerPort}),e._worker=u);const oe={docId:t,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:K,rangeChunkSize:c,length:G,docBaseUrl:h,enableXfa:W,evaluatorOptions:{maxImageSize:C,disableFontFace:j,ignoreErrors:E,isEvalSupported:N,isOffscreenCanvasSupported:L,isImageDecoderSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:D,useSystemFonts:ne,useWasm:B,useWorkerFetch:ie,cMapUrl:p,iccUrl:w,standardFontDataUrl:b,wasmUrl:_}},pe={ownerDocument:V,pdfBug:$,styleElement:fe,loadingParams:{disableAutoFetch:K,enableXfa:W}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Se=u.messageHandler.sendWithPromise("GetDocRequest",oe,i?[i.buffer]:null);let be;if(l)be=new Y_e(l,{disableRange:Z,disableStream:J});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ye=F2(r)?eSe:go?uSe:sSe;be=new ye({url:r,length:G,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:Z,disableStream:J})}return Se.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Oe=new H2(t,ye,u.port),Pe=new ySe(Oe,e,be,pe,he,X);e._transport=Pe,Oe.send("Ready",null)})}).catch(e._capability.reject),e}var dk;const hk=class hk{constructor(){He(this,"_capability",Promise.withResolvers());He(this,"_transport",null);He(this,"_worker",null);He(this,"docId",`d${Cs(hk,dk)._++}`);He(this,"destroyed",!1);He(this,"onPassword",null);He(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};dk=new WeakMap,ee(hk,dk,0);let zM=hk;var yy,yA,bA,wA,xA;class vre{constructor(e,t,r=!1,i=null){ee(this,yy,Promise.withResolvers());ee(this,yA,[]);ee(this,bA,[]);ee(this,wA,[]);ee(this,xA,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){g(this,xA).push(e)}addProgressListener(e){g(this,wA).push(e)}addProgressiveReadListener(e){g(this,bA).push(e)}addProgressiveDoneListener(e){g(this,yA).push(e)}onDataRange(e,t){for(const r of g(this,xA))r(e,t)}onDataProgress(e,t){g(this,yy).promise.then(()=>{for(const r of g(this,wA))r(e,t)})}onDataProgressiveRead(e){g(this,yy).promise.then(()=>{for(const t of g(this,bA))t(e)})}onDataProgressiveDone(){g(this,yy).promise.then(()=>{for(const e of g(this,yA))e()})}transportReady(){g(this,yy).resolve()}requestDataRange(e,t){zr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}yy=new WeakMap,yA=new WeakMap,bA=new WeakMap,wA=new WeakMap,xA=new WeakMap;class gSe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Cn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bh,by,J2;class vSe{constructor(e,t,r,i=!1){ee(this,by);ee(this,Bh,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new dU:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new dre,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new _5({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Cn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=pm.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:f=null,isEditing:h=!1,recordOperations:p=!1,operationsFilter:x=null}){var R,F,j;(R=this._stats)==null||R.time("Overall");const y=this._transport.getRenderingIntent(i,s,f,h),{renderingIntent:w,cacheKey:b}=y;z(this,Bh,!1),l||(l=this._transport.getOptionalContentConfig(w));let S=this._intentStates.get(b);S||(S=Object.create(null),this._intentStates.set(b,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const _=!!(w&Gl.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const P=!!(this._pdfBug&&((j=globalThis.StepperManager)!=null&&j.enabled)),E=!this.recordedBBoxes&&(p||P),C=D=>{var W,V;if(S.renderTasks.delete(N),E){const Z=(W=N.gfx)==null?void 0:W.dependencyTracker.take();Z&&(N.stepper&&N.stepper.setOperatorBBoxes(Z,N.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=Z))}_&&z(this,Bh,!0),re(this,by,J2).call(this),D?(N.capability.reject(D),this._abortOperatorList({intentState:S,reason:D instanceof Error?D:new Error(D)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new HM({callback:C,params:{canvas:t,canvasContext:e,dependencyTracker:E?new R_e(t,S.operatorList.length,P):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:x});(S.renderTasks||(S.renderTasks=new Set)).add(N);const L=N.task;return Promise.all([S.displayReadyCapability.promise,l]).then(([D,W])=>{var V;if(this.destroyed){C();return}if((V=this._stats)==null||V.time("Rendering"),!(W.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:D,optionalContentConfig:W}),N.operatorListChanged()}).catch(C),L}getOperatorList({intent:e="display",annotationMode:t=pm.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>M_.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),z(this,Bh,!1),Promise.all(e)}cleanup(e=!1){z(this,Bh,!0);const t=re(this,by,J2).call(this);return e&&t&&this._stats&&(this._stats=new dU),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&re(this,by,J2).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();re(this,by,J2).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof UF){let i=pSe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ag(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Bh=new WeakMap,by=new WeakSet,J2=function(){if(!g(this,Bh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,Bh,!1),!0};var $m,Iu,$h,wy,pk,xy,_y,Oo,zC,yre,bre,Z2,ow,HC;const gi=class gi{constructor({name:e=null,port:t=null,verbosity:r=Y2e()}={}){ee(this,Oo);ee(this,$m,Promise.withResolvers());ee(this,Iu,null);ee(this,$h,null);ee(this,wy,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(g(gi,_y).has(t))throw new Error("Cannot use more than one PDFWorker per port.");g(gi,_y).set(t,this),re(this,Oo,yre).call(this,t)}else re(this,Oo,bre).call(this)}get promise(){return g(this,$m).promise}get port(){return g(this,$h)}get messageHandler(){return g(this,Iu)}destroy(){var e,t;this.destroyed=!0,(e=g(this,wy))==null||e.terminate(),z(this,wy,null),g(gi,_y).delete(g(this,$h)),z(this,$h,null),(t=g(this,Iu))==null||t.destroy(),z(this,Iu,null)}static create(e){const t=g(this,_y).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gi(e)}static get workerSrc(){if(id.workerSrc)return id.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Cn(this,"_setupFakeWorkerGlobal",(async()=>g(this,ow,HC)?g(this,ow,HC):(await import(this.workerSrc)).WorkerMessageHandler)())}};$m=new WeakMap,Iu=new WeakMap,$h=new WeakMap,wy=new WeakMap,pk=new WeakMap,xy=new WeakMap,_y=new WeakMap,Oo=new WeakSet,zC=function(){g(this,$m).resolve(),g(this,Iu).send("configure",{verbosity:this.verbosity})},yre=function(e){z(this,$h,e),z(this,Iu,new H2("main","worker",e)),g(this,Iu).on("ready",()=>{}),re(this,Oo,zC).call(this)},bre=function(){if(g(gi,xy)||g(gi,ow,HC)){re(this,Oo,Z2).call(this);return}let{workerSrc:e}=gi;try{gi._isSameOrigin(window.location,e)||(e=gi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new H2("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?g(this,$m).reject(new Error("Worker was destroyed")):re(this,Oo,Z2).call(this)},s=new AbortController;t.addEventListener("error",()=>{g(this,wy)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}z(this,Iu,r),z(this,$h,t),z(this,wy,t),re(this,Oo,zC).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{re(this,Oo,Z2).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{Xk("The worker has been disabled.")}re(this,Oo,Z2).call(this)},Z2=function(){g(gi,xy)||(yn("Setting up fake worker."),z(gi,xy,!0)),gi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){g(this,$m).reject(new Error("Worker was destroyed"));return}const t=new P_e;z(this,$h,t);const r=`fake${Cs(gi,pk)._++}`,i=new H2(r+"_worker",r,t);e.setup(i,t),z(this,Iu,new H2(r,r+"_worker",t)),re(this,Oo,zC).call(this)}).catch(e=>{g(this,$m).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ow=new WeakSet,HC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ee(gi,ow),ee(gi,pk,0),ee(gi,xy,!1),ee(gi,_y,new WeakMap),go&&(z(gi,xy,!0),id.workerSrc||(id.workerSrc="./pdf.worker.mjs")),gi._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},gi._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},gi.fromPort=e=>{if(l_e("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return gi.create(e)};let F_=gi;var qh,Wf,lw,cw,Uh,Sy,Q2;class ySe{constructor(e,t,r,i,s,a){ee(this,Sy);ee(this,qh,new Map);ee(this,Wf,new Map);ee(this,lw,new Map);ee(this,cw,new Map);ee(this,Uh,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new dre,this.fontLoader=new b_e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Cn(this,"annotationStorage",new HF)}getRenderingIntent(e,t=pm.ENABLE,r=null,i=!1,s=!1){let a=Gl.DISPLAY,o=EM;switch(e){case"any":a=Gl.ANY;break;case"display":break;case"print":a=Gl.PRINT;break;default:yn(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Gl.PRINT&&r instanceof Yne?r:this.annotationStorage;switch(t){case pm.DISABLE:a+=Gl.ANNOTATIONS_DISABLE;break;case pm.ENABLE:break;case pm.ENABLE_FORMS:a+=Gl.ANNOTATIONS_FORMS;break;case pm.ENABLE_STORAGE:a+=Gl.ANNOTATIONS_STORAGE,o=l.serializable;break;default:yn(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Gl.IS_EDITING),s&&(a+=Gl.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[a,o.hash,u];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=g(this,Uh))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,Wf).values())e.push(i._destroy());g(this,Wf).clear(),g(this,lw).clear(),g(this,cw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,qh).clear(),this.filterFactory.destroy(),D_.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ag("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Hn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Hn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new gSe(r,this))}),e.on("DocException",r=>{t._capability.reject(Xo(r))}),e.on("PasswordRequest",r=>{z(this,Uh,Promise.withResolvers());try{if(!t.onPassword)throw Xo(r);const i=s=>{s instanceof Error?g(this,Uh).reject(s):g(this,Uh).resolve({password:s})};t.onPassword(i,r.code)}catch(i){g(this,Uh).reject(i)}return g(this,Uh).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;g(this,Wf).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;yn(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const o=new FM(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,h)=>globalThis.FontInspector.fontAdded(f,h):null,c=new w_e(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Hn(u,"The imageRef must be defined.");for(const f of g(this,Wf).values())for(const[,h]of f.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(r,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=g(this,Wf).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&yn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=g(this,lw).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&g(this,cw).set(s.refStr,e);const a=new vSe(t,s,this,this._params.pdfBug);return g(this,Wf).set(t,a),a});return g(this,lw).set(t,i),i}getPageIndex(e){return TM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return re(this,Sy,Q2).call(this,"GetFieldObjects")}hasJSActions(){return re(this,Sy,Q2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return re(this,Sy,Q2).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return re(this,Sy,Q2).call(this,"GetOptionalContentConfig").then(t=>new X_e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,qh).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new G_e(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,qh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,Wf).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,qh).clear(),this.filterFactory.destroy(!0),D_.cleanup()}}cachedPageNumber(e){if(!TM(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,cw).get(t)??null}}qh=new WeakMap,Wf=new WeakMap,lw=new WeakMap,cw=new WeakMap,Uh=new WeakMap,Sy=new WeakSet,Q2=function(e,t=null){const r=g(this,qh).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return g(this,qh).set(e,i),i};var qm;class bSe{constructor(e){ee(this,qm,null);He(this,"onContinue",null);He(this,"onError",null);z(this,qm,e)}get promise(){return g(this,qm).capability.promise}cancel(e=0){g(this,qm).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,qm).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,qm);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}qm=new WeakMap;var Um,Ay;const kv=class kv{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:h=null,enableHWA:p=!1,operationsFilter:x=null}){ee(this,Um,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bSe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(g(kv,Ay).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(kv,Ay).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new lb(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),g(this,Um)&&(window.cancelAnimationFrame(g(this,Um)),z(this,Um,null)),g(kv,Ay).delete(this._canvas),e||(e=new UF(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,Um,window.requestAnimationFrame(()=>{z(this,Um,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(kv,Ay).delete(this._canvas),this.callback())))}};Um=new WeakMap,Ay=new WeakMap,ee(kv,Ay,new WeakSet);let HM=kv;const wSe="5.4.296",xSe="f56dc8601";var Il,Py,uw,Rs,_A,fw,zh,SA,zm,Mu,AA,Rr,VM,WM,GM,bv,wre,fm;const Yo=class Yo{constructor({editor:e=null,uiManager:t=null}){ee(this,Rr);ee(this,Il,null);ee(this,Py,null);ee(this,uw);ee(this,Rs,null);ee(this,_A,!1);ee(this,fw,!1);ee(this,zh,null);ee(this,SA);ee(this,zm,null);ee(this,Mu,null);var r,i;e?(z(this,fw,!1),z(this,zh,e)):z(this,fw,!0),z(this,Mu,(e==null?void 0:e._uiManager)||t),z(this,SA,g(this,Mu)._eventBus),z(this,uw,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=g(this,Mu))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),g(Yo,AA)||z(Yo,AA,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Cn(this,"_keyboardManager",new A5([[["Escape","mac+Escape"],Yo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yo.prototype._moveToPrevious],[["Home","mac+Home"],Yo.prototype._moveToBeginning],[["End","mac+End"],Yo.prototype._moveToEnd]]))}renderButton(){const e=z(this,Il,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",g(this,zh)&&(e.ariaControls=`${g(this,zh).id}_colorpicker_dropdown`);const t=g(this,Mu)._signal;e.addEventListener("click",re(this,Rr,bv).bind(this),{signal:t}),e.addEventListener("keydown",re(this,Rr,GM).bind(this),{signal:t});const r=z(this,Py,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=g(this,uw),e.append(r),e}renderMainDropdown(){const e=z(this,Rs,re(this,Rr,VM).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===g(this,Il)){re(this,Rr,bv).call(this,e);return}const t=e.target.getAttribute("data-color");t&&re(this,Rr,WM).call(this,t,e)}_moveToNext(e){var t,r;if(!g(this,Rr,fm)){re(this,Rr,bv).call(this,e);return}if(e.target===g(this,Il)){(t=g(this,Rs).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=g(this,Rs))==null?void 0:t.firstChild)||e.target===g(this,Il)){g(this,Rr,fm)&&this._hideDropdownFromKeyboard();return}g(this,Rr,fm)||re(this,Rr,bv).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!g(this,Rr,fm)){re(this,Rr,bv).call(this,e);return}(t=g(this,Rs).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,Rr,fm)){re(this,Rr,bv).call(this,e);return}(t=g(this,Rs).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,Rs))==null||e.classList.add("hidden"),g(this,Il).ariaExpanded="false",(t=g(this,zm))==null||t.abort(),z(this,zm,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,fw)){if(!g(this,Rr,fm)){(e=g(this,zh))==null||e.unselect();return}this.hideDropdown(),g(this,Il).focus({preventScroll:!0,focusVisible:g(this,_A)})}}updateColor(e){if(g(this,Py)&&(g(this,Py).style.backgroundColor=e),!g(this,Rs))return;const t=g(this,Mu).highlightColors.values();for(const r of g(this,Rs).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=g(this,Il))==null||e.remove(),z(this,Il,null),z(this,Py,null),(t=g(this,Rs))==null||t.remove(),z(this,Rs,null)}};Il=new WeakMap,Py=new WeakMap,uw=new WeakMap,Rs=new WeakMap,_A=new WeakMap,fw=new WeakMap,zh=new WeakMap,SA=new WeakMap,zm=new WeakMap,Mu=new WeakMap,AA=new WeakMap,Rr=new WeakSet,VM=function(){const e=document.createElement("div"),t=g(this,Mu)._signal;e.addEventListener("contextmenu",Jc,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),g(this,zh)&&(e.id=`${g(this,zh).id}_colorpicker_dropdown`);for(const[r,i]of g(this,Mu).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",g(Yo,AA)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===g(this,uw),s.addEventListener("click",re(this,Rr,WM).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",re(this,Rr,GM).bind(this),{signal:t}),e},WM=function(e,t){t.stopPropagation(),g(this,SA).dispatch("switchannotationeditorparams",{source:this,type:zn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},GM=function(e){Yo._keyboardManager.exec(this,e)},bv=function(e){if(g(this,Rr,fm)){this.hideDropdown();return}if(z(this,_A,e.detail===0),g(this,zm)||(z(this,zm,new AbortController),window.addEventListener("pointerdown",re(this,Rr,wre).bind(this),{signal:g(this,Mu).combinedSignal(g(this,zm))})),g(this,Il).ariaExpanded="true",g(this,Rs)){g(this,Rs).classList.remove("hidden");return}const t=z(this,Rs,re(this,Rr,VM).call(this));g(this,Il).append(t)},wre=function(e){var t;(t=g(this,Rs))!=null&&t.contains(e.target)||this.hideDropdown()},fm=function(){return g(this,Rs)&&!g(this,Rs).classList.contains("hidden")},ee(Yo,AA,null);let KE=Yo;var Gf,PA,dw,CA;const Nv=class Nv{constructor(e){ee(this,Gf,null);ee(this,PA,null);ee(this,dw,null);z(this,PA,e),z(this,dw,e._uiManager),g(Nv,CA)||z(Nv,CA,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(g(this,Gf))return g(this,Gf);const{editorType:e,colorType:t,colorValue:r}=g(this,PA),i=z(this,Gf,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",g(Nv,CA)[e]),i.addEventListener("input",()=>{g(this,dw).updateParams(t,i.value)},{signal:g(this,dw)._signal}),i}update(e){g(this,Gf)&&(g(this,Gf).value=e)}destroy(){var e;(e=g(this,Gf))==null||e.remove(),z(this,Gf,null)}hideDropdown(){}};Gf=new WeakMap,PA=new WeakMap,dw=new WeakMap,CA=new WeakMap,ee(Nv,CA,null);let XE=Nv;function RU(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function x2(n){return Math.max(0,Math.min(255,255*n))}class IU{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=x2(e),[e,e,e]}static G_HTML([e]){const t=RU(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(x2)}static RGB_HTML(e){return`#${e.map(RU).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[x2(1-Math.min(1,e+i)),x2(1-Math.min(1,r+i)),x2(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class _Se{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){zr("Abstract method `_createSVG` called.")}}class YE extends _Se{_createSVG(e){return document.createElementNS(ph,e)}}const SSe=9,m0=new WeakSet,ASe=new Date().getTimezoneOffset()*60*1e3;class MU{static create(e){switch(e.data.annotationType){case ds.LINK:return new GF(e);case ds.TEXT:return new CSe(e);case ds.WIDGET:switch(e.data.fieldType){case"Tx":return new ESe(e);case"Btn":return e.data.radioButton?new Sre(e):e.data.checkBox?new kSe(e):new NSe(e);case"Ch":return new OSe(e);case"Sig":return new TSe(e)}return new T0(e);case ds.POPUP:return new XM(e);case ds.FREETEXT:return new Tre(e);case ds.LINE:return new LSe(e);case ds.SQUARE:return new RSe(e);case ds.CIRCLE:return new ISe(e);case ds.POLYLINE:return new kre(e);case ds.CARET:return new DSe(e);case ds.INK:return new KF(e);case ds.POLYGON:return new MSe(e);case ds.HIGHLIGHT:return new Nre(e);case ds.UNDERLINE:return new FSe(e);case ds.SQUIGGLY:return new BSe(e);case ds.STRIKEOUT:return new $Se(e);case ds.STAMP:return new Ore(e);case ds.FILEATTACHMENT:return new qSe(e);default:return new Li(e)}}}var Cy,hw,Fc,EA,KM;const p7=class p7{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ee(this,EA);ee(this,Cy,null);ee(this,hw,!1);ee(this,Fc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return p7._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${R_}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${R_}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=g(this,Fc))==null?void 0:e.popup)||this.popup)==null||t.remove(),z(this,Fc,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(g(this,Cy)||z(this,Cy,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&re(this,EA,KM).call(this,t);let i=((s=g(this,Fc))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=g(this,Fc).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),z(this,Fc,null),this.popup=null))}resetEdited(){var e;g(this,Cy)&&(re(this,EA,KM).call(this,g(this,Cy).rect),(e=g(this,Fc))==null||e.popup.resetEdited(),z(this,Cy,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof T0)&&!(this instanceof GF)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof XM){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(y>0||w>0){const S=`calc(${y}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;a.borderRadius=S}else if(this instanceof Sre){const S=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=S}switch(t.borderStyle.style){case E1.SOLID:a.borderStyle="solid";break;case E1.DASHED:a.borderStyle="dashed";break;case E1.BEVELED:yn("Unimplemented border style: beveled");break;case E1.INSET:yn("Unimplemented border style: inset");break;case E1.UNDERLINE:a.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(z(this,hw,!0),a.borderColor=vt.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}const c=vt.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:f,pageX:h,pageY:p}=i.rawDims;a.left=`${100*(c[0]-h)/u}%`,a.top=`${100*(c[1]-p)/f}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(a.width=`${100*o/u}%`,a.height=`${100*l/f}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=IU[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:IU[`${a}_rgb`](o)})};return Cn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,w,b,S]=e.subarray(2,6);if(i===y&&s===w&&t===b&&r===S)return}const{style:a}=this.container;let o;if(g(this,hw)){const{borderColor:y,borderWidth:w}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const h=u.createElement("defs");f.append(h);const p=u.createElement("clipPath"),x=`clippath_${this.data.id}`;p.setAttribute("id",x),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let y=2,w=e.length;y<w;y+=8){const b=e[y],S=e[y+1],_=e[y+2],P=e[y+3],E=u.createElement("rect"),C=(_-t)/l,N=(s-S)/c,L=(b-_)/l,R=(S-P)/c;E.setAttribute("x",C),E.setAttribute("y",N),E.setAttribute("width",L),E.setAttribute("height",R),p.append(E),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${N}" width="${L}" height="${R}"/>`)}g(this,hw)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate);const s=z(this,Fc,new XM({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(g(this,Fc)||this.popup||this.data.popupRef)}get extraPopupElement(){return g(this,Fc)}render(){zr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!m0.has(c)){yn(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&m0.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Cy=new WeakMap,hw=new WeakMap,Fc=new WeakMap,EA=new WeakSet,KM=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Li=p7;class PSe extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Zl,wv,xre,_re;class GF extends Li{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ee(this,Zl);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(re(this,Zl,xre).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(re(this,Zl,_re).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&re(this,Zl,wv).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),re(this,Zl,wv).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),re(this,Zl,wv).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),re(this,Zl,wv).call(this),!this._fieldObjects){yn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const p of s){const x=this._fieldObjects[p]||[];for(const{id:y}of x)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const x of p)h.has(x.id)===o&&l.push(x)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:p}=h;switch(u.push(p),h.type){case"text":{const y=h.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const x=document.querySelector(`[data-element-id="${p}"]`);if(x){if(!m0.has(x)){yn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Zl=new WeakSet,wv=function(){this.container.setAttribute("data-internal-link","")},xre=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},re(this,Zl,wv).call(this)},_re=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),re(this,Zl,wv).call(this)};class CSe extends Li{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class T0 extends Li{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ca.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||SSe,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(S3*i))||1,f=c/u;a=Math.min(i,l(f/S3))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/S3))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=vt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ESe extends T0{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),m0.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:f,datetimeType:h,timeStep:p}=this.data,x=!!h&&this.enableScripting;f&&(r.title=f),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(r,"value",w.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";r.value=u.userValue=b,u.formattedValue=null});let y=w=>{const{formattedValue:b}=u;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",b=>{var _;if(u.focused)return;const{target:S}=b;if(x&&(S.type=h,p&&(S.step=p)),u.userValue){const P=u.userValue;if(x)if(h==="time"){const E=new Date(P),C=[E.getHours(),E.getMinutes(),E.getSeconds()];S.value=C.map(N=>N.toString().padStart(2,"0")).join(":")}else S.value=new Date(P-ASe).toISOString().split(h==="date"?"T":".",1)[0];else S.value=P}u.lastCommittedValue=S.value,u.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const S={value(_){u.userValue=_.detail.value??"",x||e.setValue(t,{value:u.userValue.toString()}),_.target.value=u.userValue},formattedValue(_){const{formattedValue:P}=_.detail;u.formattedValue=P,P!=null&&_.target!==document.activeElement&&(_.target.value=P);const E={formattedValue:P};x&&(E.value=P),e.setValue(t,E)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var N;const{charLimit:P}=_.detail,{target:E}=_;if(P===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",P);let C=u.userValue;!C||C.length<=P||(C=C.slice(0,P),E.value=u.userValue=C,e.setValue(t,{value:C}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(S,b)}),r.addEventListener("keydown",b=>{var P;u.commitKey=1;let S=-1;if(b.key==="Escape"?S=0:b.key==="Enter"&&!this.data.multiLine?S=2:b.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:_}=b.target;u.lastCommittedValue!==_&&(u.lastCommittedValue=_,u.userValue=_,(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:S,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=y;y=null,r.addEventListener("blur",b=>{var P,E;if(!u.focused||!b.relatedTarget)return;(P=this.data.actions)!=null&&P.Blur||(u.focused=!1);const{target:S}=b;let{value:_}=S;if(x){if(_&&h==="time"){const C=_.split(":").map(N=>parseInt(N,10));_=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),S.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();S.type="text"}u.userValue=_,u.lastCommittedValue!==_&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),w(b)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",b=>{var R;u.lastCommittedValue=null;const{data:S,target:_}=b,{value:P,selectionStart:E,selectionEnd:C}=_;let N=E,L=C;switch(b.inputType){case"deleteWordBackward":{const F=P.substring(0,E).match(/\w*[^\w]*$/);F&&(N-=F[0].length);break}case"deleteWordForward":{const F=P.substring(E).match(/^[^\w]*\w*/);F&&(L+=F[0].length);break}case"deleteContentBackward":E===C&&(N-=1);break;case"deleteContentForward":E===C&&(L+=1);break}b.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,change:S||"",willCommit:!1,selStart:N,selEnd:L}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class TSe extends T0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class kSe extends T0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return m0.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Sre extends T0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(m0.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const h=u&&f.id===r;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NSe extends GF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class OSe extends T0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");m0.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,r.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,x=>x.selected).map(x=>x[f]):h.selectedIndex===-1?null:h[h.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const f={value(h){a==null||a();const p=h.detail.value,x=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=x.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,x=h.detail.remove;p[x].selected=!1,i.remove(x),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:p,displayValue:x,exportValue:y}=h.detail.insert,w=i.children[p],b=document.createElement("option");b.textContent=x,b.value=y,w?w.before(b):i.append(b),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const x of p){const{displayValue:y,exportValue:w}=x,b=document.createElement("option");b.textContent=y,b.value=w,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const x of h.target.options)x.selected=p.has(x.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(f,u)}),i.addEventListener("input",u=>{var p;const f=o(!0),h=o(!1);e.setValue(t,{value:f}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var TA,YM;class XM extends Li{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Li._hasPopupData(r)});ee(this,TA);if(this.elements=i,a&&Li._hasPopupData(r)){const o=this.popup=re(this,TA,YM).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=re(this,TA,YM).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${qF}${s}`).join(",")),this.container}}TA=new WeakSet,YM=function(){return new jSe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ml,Hm,mk,gk,pw,mw,zi,Kf,Vm,Ey,gw,vw,Xf,Dl,Hh,Vh,Js,Wh,Wm,kA,Gh,yw,Ty,Gm,Ga,Km,An,VC,JM,ZM,QM,WC,eD,Are,Pre,Cre,Ere,GC,KC,tD;class jSe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:f,commentManager:h=null}){ee(this,An);ee(this,Ml,null);ee(this,Hm,re(this,An,Cre).bind(this));ee(this,mk,re(this,An,tD).bind(this));ee(this,gk,re(this,An,KC).bind(this));ee(this,pw,re(this,An,GC).bind(this));ee(this,mw,null);ee(this,zi,null);ee(this,Kf,null);ee(this,Vm,null);ee(this,Ey,null);ee(this,gw,null);ee(this,vw,null);ee(this,Xf,!1);ee(this,Dl,null);ee(this,Hh,null);ee(this,Vh,null);ee(this,Js,null);ee(this,Wh,null);ee(this,Wm,null);ee(this,kA,null);ee(this,Gh,null);ee(this,yw,null);ee(this,Ty,null);ee(this,Gm,!1);ee(this,Ga,null);ee(this,Km,null);z(this,zi,e),z(this,yw,i),z(this,Kf,a),z(this,Gh,o),z(this,gw,l),z(this,mw,t),z(this,kA,c),z(this,vw,u),z(this,Ey,r),z(this,Ml,h),z(this,Ga,r[0]),z(this,Vm,UE.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),h?this.renderCommentButton():(re(this,An,VC).call(this),g(this,zi).hidden=!0,f&&re(this,An,GC).call(this))}renderCommentButton(){if(g(this,Js)||(g(this,Wh)||re(this,An,JM).call(this),!g(this,Wh)))return;const{signal:e}=z(this,Hh,new AbortController),t=!!g(this,Ga).extraPopupElement,r=()=>{g(this,Ml).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{g(this,Ml).toggleCommentPopup(this,!1,!0,!t)},s=()=>{g(this,Ml).toggleCommentPopup(this,!1,!1)};if(t){z(this,Js,g(this,Ga).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",g(this,Hm),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=z(this,Js,document.createElement("button"));a.className="annotationCommentButton";const o=g(this,Ga).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),re(this,An,QM).call(this),re(this,An,ZM).call(this),a.addEventListener("keydown",g(this,Hm),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=g(this,Ga).commentData;return e?g(this,gw)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=g(this,Js))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=g(this,Ga).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return g(this,Js)}get comment(){return g(this,Km)||z(this,Km,g(this,Ga).commentText),g(this,Km)}set comment(e){e!==this.comment&&(g(this,Ga).commentText=z(this,Km,e))}get parentBoundingClientRect(){return g(this,Ga).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){g(this,Js)&&(g(this,Js).classList.toggle("selected",e),g(this,Js).ariaExpanded=t)}setSelectedCommentButton(e){g(this,Js).classList.toggle("selected",e)}get commentPopupPosition(){if(g(this,Wm))return g(this,Wm);const{x:e,y:t,height:r}=g(this,Js).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=g(this,Ga).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){z(this,Wm,e)}hasDefaultPopupPosition(){return g(this,Wm)===null}get commentButtonPosition(){return g(this,Wh)}get commentButtonWidth(){return g(this,Js).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=g(this,Wm)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;g(this,Ml).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(g(this,Dl))return;const e=z(this,Dl,document.createElement("div"));if(e.className="popup",g(this,mw)){const s=e.style.outlineColor=vt.makeHexColor(...g(this,mw));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=g(this,yw))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=g(this,yw)}if(e.append(t),g(this,Vm)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Vm).valueOf()})),s.dateTime=g(this,Vm).toISOString(),t.append(s)}yne({html:g(this,An,WC)||g(this,Kf).str,dir:(i=g(this,Kf))==null?void 0:i.dir,className:"popupContent"},e),g(this,zi).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(g(this,Ml)){r?(this.remove(),z(this,Km,null)):t&&(t.deleted?this.remove():(re(this,An,QM).call(this),z(this,Km,t.text))),e&&(z(this,Wh,null),re(this,An,JM).call(this),re(this,An,ZM).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}re(this,An,VC).call(this),g(this,Ty)||z(this,Ty,{contentsObj:g(this,Kf),richText:g(this,Gh)}),e&&z(this,Vh,null),t&&t.text&&(z(this,Gh,re(this,An,Pre).call(this,t.text)),z(this,Vm,UE.toDateObject(t.date)),z(this,Kf,null)),(i=g(this,Dl))==null||i.remove(),z(this,Dl,null)}resetEdited(){var e;g(this,Ty)&&({contentsObj:Cs(this,Kf)._,richText:Cs(this,Gh)._}=g(this,Ty),z(this,Ty,null),(e=g(this,Dl))==null||e.remove(),z(this,Dl,null),z(this,Vh,null))}remove(){var e,t,r;if((e=g(this,Hh))==null||e.abort(),z(this,Hh,null),(t=g(this,Dl))==null||t.remove(),z(this,Dl,null),z(this,Gm,!1),z(this,Xf,!1),(r=g(this,Js))==null||r.remove(),z(this,Js,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){z(this,Gm,this.isVisible),g(this,Gm)&&(g(this,zi).hidden=!0)}maybeShow(){g(this,Ml)||(re(this,An,VC).call(this),g(this,Gm)&&(g(this,Dl)||re(this,An,KC).call(this),z(this,Gm,!1),g(this,zi).hidden=!1))}get isVisible(){return g(this,Ml)?!1:g(this,zi).hidden===!1}}Ml=new WeakMap,Hm=new WeakMap,mk=new WeakMap,gk=new WeakMap,pw=new WeakMap,mw=new WeakMap,zi=new WeakMap,Kf=new WeakMap,Vm=new WeakMap,Ey=new WeakMap,gw=new WeakMap,vw=new WeakMap,Xf=new WeakMap,Dl=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,Js=new WeakMap,Wh=new WeakMap,Wm=new WeakMap,kA=new WeakMap,Gh=new WeakMap,yw=new WeakMap,Ty=new WeakMap,Gm=new WeakMap,Ga=new WeakMap,Km=new WeakMap,An=new WeakSet,VC=function(){var t;if(g(this,Hh))return;z(this,Hh,new AbortController);const{signal:e}=g(this,Hh);for(const r of this.trigger)r.addEventListener("click",g(this,pw),{signal:e}),r.addEventListener("pointerenter",g(this,gk),{signal:e}),r.addEventListener("pointerleave",g(this,mk),{signal:e}),r.classList.add("popupTriggerArea");for(const r of g(this,Ey))(t=r.container)==null||t.addEventListener("keydown",g(this,Hm),{signal:e})},JM=function(){const e=g(this,Ey).find(t=>t.hasCommentButton);e&&z(this,Wh,e._normalizePoint(e.commentButtonPosition))},ZM=function(){if(g(this,Ga).extraPopupElement&&!g(this,Ga).editor)return;this.renderCommentButton();const[e,t]=g(this,Wh),{style:r}=g(this,Js);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},QM=function(){g(this,Ga).extraPopupElement||(this.renderCommentButton(),g(this,Js).style.backgroundColor=this.commentButtonColor||"")},WC=function(){const e=g(this,Gh),t=g(this,Kf);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,Gh).html||null},eD=function(){var e,t,r;return((r=(t=(e=g(this,An,WC))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},Are=function(){var e,t,r;return((r=(t=(e=g(this,An,WC))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},Pre=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:g(this,An,Are),fontSize:g(this,An,eD)?`calc(${g(this,An,eD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},Cre=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Xf))&&re(this,An,GC).call(this)},Ere=function(){if(g(this,Vh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=g(this,gw);let a=!!g(this,vw),o=a?g(this,vw):g(this,kA);for(const x of g(this,Ey))if(!o||vt.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=vt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,f=l[0]+u,h=l[1];z(this,Vh,[100*(f-i)/t,100*(h-s)/r]);const{style:p}=g(this,zi);p.left=`${g(this,Vh)[0]}%`,p.top=`${g(this,Vh)[1]}%`},GC=function(){if(g(this,Ml)){g(this,Ml).toggleCommentPopup(this,!1);return}z(this,Xf,!g(this,Xf)),g(this,Xf)?(re(this,An,KC).call(this),g(this,zi).addEventListener("click",g(this,pw)),g(this,zi).addEventListener("keydown",g(this,Hm))):(re(this,An,tD).call(this),g(this,zi).removeEventListener("click",g(this,pw)),g(this,zi).removeEventListener("keydown",g(this,Hm)))},KC=function(){g(this,Dl)||this.render(),this.isVisible?g(this,Xf)&&g(this,zi).classList.add("focused"):(re(this,An,Ere).call(this),g(this,zi).hidden=!1,g(this,zi).style.zIndex=parseInt(g(this,zi).style.zIndex)+1e3)},tD=function(){g(this,zi).classList.remove("focused"),!(g(this,Xf)||!this.isVisible)&&(g(this,zi).hidden=!0,g(this,zi).style.zIndex=parseInt(g(this,zi).style.zIndex)-1e3)};class Tre extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=xn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var NA;class LSe extends Li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,NA,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=z(this,NA,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,NA)}addHighlightArea(){this.container.classList.add("highlightArea")}}NA=new WeakMap;var OA;class RSe extends Li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,OA,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=z(this,OA,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,OA)}addHighlightArea(){this.container.classList.add("highlightArea")}}OA=new WeakMap;var jA;class ISe extends Li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,jA,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=z(this,jA,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,jA)}addHighlightArea(){this.container.classList.add("highlightArea")}}jA=new WeakMap;var LA;class kre extends Li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,LA,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,h=r.length;f<h;f+=2){const p=r[f]-t[0],x=t[3]-r[f+1];c.push(`${p},${x}`)}c=c.join(" ");const u=z(this,LA,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,LA)}addHighlightArea(){this.container.classList.add("highlightArea")}}LA=new WeakMap;class MSe extends kre{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DSe extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var RA,ky,IA,nD;class KF extends Li{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,IA);ee(this,RA,null);ee(this,ky,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?xn.HIGHLIGHT:xn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=re(this,IA,nD).call(this,r,t),u=this.svgFactory.create(l,c,!0),f=z(this,RA,this.svgFactory.createElement("svg:g"));u.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let h=0,p=i.length;h<p;h++){const x=this.svgFactory.createElement(this.svgElementName);g(this,ky).push(x),x.setAttribute("points",i[h].join(",")),f.append(x)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=g(this,RA);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=g(this,ky).length;o<l;o++)g(this,ky)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=re(this,IA,nD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return g(this,ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}RA=new WeakMap,ky=new WeakMap,IA=new WeakSet,nD=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class Nre extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=xn.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class FSe extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class BSe extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class $Se extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Ore extends Li{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=xn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var MA,DA,rD;class qSe extends Li{constructor(t){var i;super(t,{isRenderable:!0});ee(this,DA);ee(this,MA,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",re(this,DA,rD).bind(this)),z(this,MA,i);const{isMac:s}=Ca.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&re(this,DA,rD).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return g(this,MA)}addHighlightArea(){this.container.classList.add("highlightArea")}}MA=new WeakMap,DA=new WeakSet,rD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var bw,Ny,ww,Xm,FA,Oy,Tg,sD,aD;const m7=class m7{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){ee(this,Tg);ee(this,bw,null);ee(this,Ny,null);ee(this,ww,null);ee(this,Xm,new Map);ee(this,FA,null);ee(this,Oy,null);this.div=e,z(this,bw,t),z(this,Ny,r),z(this,FA,o||null),z(this,Oy,c||null),z(this,ww,u||new HF),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return g(this,Xm).size>0}async render(e){var a,o,l;const{annotations:t}=e,r=this.div;h0(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:g(this,Oy),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new YE,annotationStorage:g(this,ww),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const u=c.annotationType===ds.POPUP;if(u){const p=i.get(c.id);if(!p)continue;s.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;s.data=c;const f=MU.create(s);if(!f.isRenderable)continue;if(!u&&c.popupRef){const p=i.get(c.popupRef);p?p.push(f):i.set(c.popupRef,[f])}const h=f.render();c.hidden&&(h.style.visibility="hidden"),await re(this,Tg,sD).call(this,h,c.id,s.elements),(o=(a=f.extraPopupElement)==null?void 0:a.popup)==null||o.renderCommentButton(),f._isEditable&&(g(this,Xm).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}re(this,Tg,aD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:g(this,Oy),svgFactory:new YE,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=m7._defaultBorderStyle),t.data=r;const i=MU.create(t);if(!i.isRenderable)continue;const s=i.render();await re(this,Tg,sD).call(this,s,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,h0(t,{rotation:e.rotation}),re(this,Tg,aD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Xm).values())}getEditableAnnotation(e){return g(this,Xm).get(e)}addFakeAnnotation(e){var o;const{div:t}=this,{id:r,rotation:i}=e,s=new PSe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:g(this,Oy),annotationStorage:g(this,ww)}),a=s.render();return t.append(a),(o=g(this,bw))==null||o.moveElementInDOM(t,a,a,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return Cn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:E1.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};bw=new WeakMap,Ny=new WeakMap,ww=new WeakMap,Xm=new WeakMap,FA=new WeakMap,Oy=new WeakMap,Tg=new WeakSet,sD=async function(e,t,r){var o,l;const i=e.firstChild||e,s=i.id=`${qF}${t}`,a=await((o=g(this,FA))==null?void 0:o.getAriaAttributes(s));if(a)for(const[c,u]of a)i.setAttribute(c,u);r?r.at(-1).container.after(e):(this.div.append(e),(l=g(this,bw))==null||l.moveElementInDOM(this.div,e,i,!1))},aD=function(){var t;if(!g(this,Ny))return;const e=this.div;for(const[r,i]of g(this,Ny)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=g(this,Xm).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}g(this,Ny).clear()};let iD=m7;const KP=/\r\n?|\n/g;var Fl,BA,jy,Bl,ys,jre,Lre,Rre,XC,dp,YC,JC,Ire,lD,Mre;const ii=class ii extends ei{constructor(t){super({...t,name:"freeTextEditor"});ee(this,ys);ee(this,Fl,"");ee(this,BA,`${this.id}-editor`);ee(this,jy,null);ee(this,Bl);He(this,"_colorPicker",null);this.color=t.color||ii._defaultColor||ei._defaultLineColor,z(this,Bl,t.fontSize||ii._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=ii.prototype,r=a=>a.isEmpty(),i=p0.TRANSLATE_SMALL,s=p0.TRANSLATE_BIG;return Cn(this,"_keyboardManager",new A5([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){ei.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case zn.FREETEXT_SIZE:ii._defaultFontSize=r;break;case zn.FREETEXT_COLOR:ii._defaultColor=r;break}}updateParams(t,r){switch(t){case zn.FREETEXT_SIZE:re(this,ys,jre).call(this,r);break;case zn.FREETEXT_COLOR:re(this,ys,Lre).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[zn.FREETEXT_SIZE,ii._defaultFontSize],[zn.FREETEXT_COLOR,ii._defaultColor||ei._defaultLineColor]]}get propertiesToUpdate(){return[[zn.FREETEXT_SIZE,g(this,Bl)],[zn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new XE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return zn.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-ii._internalPadding*t,-(ii._internalPadding+g(this,Bl))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),z(this,jy,new AbortController);const t=this._uiManager.combinedSignal(g(this,jy));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,BA)),this._isDraggable=!0,(t=g(this,jy))==null||t.abort(),z(this,jy,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Fl),r=z(this,Fl,re(this,ys,Rre).call(this).trimEnd());if(t===r)return;const i=s=>{if(z(this,Fl,s),!s){this.remove();return}re(this,ys,JC).call(this),this._uiManager.rebuild(this),re(this,ys,XC).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),re(this,ys,XC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ii._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,BA)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,Bl)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[h,p]=this.pageTranslation;let x,y;switch(this.rotation){case 0:x=t+(o[0]-h)/u,y=r+this.height-(o[1]-p)/f;break;case 90:x=t+(o[0]-h)/u,y=r-(o[1]-p)/f,[l,c]=[c,-l];break;case 180:x=t-this.width+(o[0]-h)/u,y=r-(o[1]-p)/f,[l,c]=[-l,-c];break;case 270:x=t+(o[0]-h-this.height*f)/u,y=r+(o[1]-p-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(x*s,y*a,l,c)}else this._moveAfterPaste(t,r);re(this,ys,JC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,y,w;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=re(x=ii,dp,lD).call(x,r.getData("text")||"").replaceAll(KP,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(KP,"")),b!==this.editorDiv){let S=u;for(const _ of this.editorDiv.childNodes){if(_===b){S=f;continue}S.push(re(y=ii,dp,YC).call(y,_))}}u.push(l.nodeValue.slice(0,c).replaceAll(KP,""))}else if(l===this.editorDiv){let b=u,S=0;for(const _ of this.editorDiv.childNodes)S++===c&&(b=f),b.push(re(w=ii,dp,YC).call(w,_))}z(this,Fl,`${u.join(`
`)}${s}${f.join(`
`)}`),re(this,ys,JC).call(this);const h=new Range;let p=Math.sumPrecise(u.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(p<=S){h.setStart(b,p),h.setEnd(b,p);break}p-=S}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=ii._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof Tre){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:h,popupRef:p,richText:x,contentsObj:y,creationDate:w,modificationDate:b},textContent:S,textPosition:_,parent:{page:{pageNumber:P}}}=t;if(!S||S.length===0)return null;s=t={annotationType:xn.FREETEXT,color:Array.from(c),fontSize:l,value:S.join(`
`),position:_,pageIndex:P-1,rect:u.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:(y==null?void 0:y.str)||null,richText:x,creationDate:w,modificationDate:b}}const a=await super.deserialize(t,r,i);return z(a,Bl,t.fontSize),a.color=vt.makeHexColor(...t.color),z(a,Fl,re(o=ii,dp,lD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:g(this,Bl),value:re(this,ys,Ire).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!re(this,ys,Mre).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${g(this,Bl)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of g(this,Fl).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:g(this,Fl)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Fl=new WeakMap,BA=new WeakMap,jy=new WeakMap,Bl=new WeakMap,ys=new WeakSet,jre=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-g(this,Bl))*this.parentScale),z(this,Bl,s),re(this,ys,XC).call(this)},i=g(this,Bl);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Lre=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Rre=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(re(i=ii,dp,YC).call(i,s)),r=s);return t.join(`
`)},XC=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},dp=new WeakSet,YC=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(KP,"")},JC=function(){if(this.editorDiv.replaceChildren(),!!g(this,Fl))for(const t of g(this,Fl).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Ire=function(){return g(this,Fl).replaceAll(""," ")},lD=function(t){return t.replaceAll(" ","")},Mre=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},ee(ii,dp),He(ii,"_freeTextDefaultContent",""),He(ii,"_internalPadding",0),He(ii,"_defaultColor",null),He(ii,"_defaultFontSize",10),He(ii,"_type","freetext"),He(ii,"_editorType",xn.FREETEXT);let oD=ii;class mt{toSVGPath(){zr("Abstract method `toSVGPath` must be implemented.")}get box(){zr("Abstract getter `box` must be implemented.")}serialize(e,t){zr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}He(mt,"PRECISION",1e-4);var $l,Du,xw,_w,Yf,jn,Ly,Ry,$A,qA,Sw,Aw,Ym,UA,vk,yk,Fs,e_,Dre,Fre,Bre,$re,qre,Ure;const bh=class bh{constructor({x:e,y:t},r,i,s,a,o=0){ee(this,Fs);ee(this,$l);ee(this,Du,[]);ee(this,xw);ee(this,_w);ee(this,Yf,[]);ee(this,jn,new Float32Array(18));ee(this,Ly);ee(this,Ry);ee(this,$A);ee(this,qA);ee(this,Sw);ee(this,Aw);ee(this,Ym,[]);z(this,$l,r),z(this,Aw,s*i),z(this,_w,a),g(this,jn).set([NaN,NaN,NaN,NaN,e,t],6),z(this,xw,o),z(this,qA,g(bh,UA)*i),z(this,$A,g(bh,yk)*i),z(this,Sw,i),g(this,Ym).push(e,t)}isEmpty(){return isNaN(g(this,jn)[8])}add({x:e,y:t}){var R;z(this,Ly,e),z(this,Ry,t);const[r,i,s,a]=g(this,$l);let[o,l,c,u]=g(this,jn).subarray(8,12);const f=e-c,h=t-u,p=Math.hypot(f,h);if(p<g(this,$A))return!1;const x=p-g(this,qA),y=x/p,w=y*f,b=y*h;let S=o,_=l;o=c,l=u,c+=w,u+=b,(R=g(this,Ym))==null||R.push(e,t);const P=-b/x,E=w/x,C=P*g(this,Aw),N=E*g(this,Aw);return g(this,jn).set(g(this,jn).subarray(2,8),0),g(this,jn).set([c+C,u+N],4),g(this,jn).set(g(this,jn).subarray(14,18),12),g(this,jn).set([c-C,u-N],16),isNaN(g(this,jn)[6])?(g(this,Yf).length===0&&(g(this,jn).set([o+C,l+N],2),g(this,Yf).push(NaN,NaN,NaN,NaN,(o+C-r)/s,(l+N-i)/a),g(this,jn).set([o-C,l-N],14),g(this,Du).push(NaN,NaN,NaN,NaN,(o-C-r)/s,(l-N-i)/a)),g(this,jn).set([S,_,o,l,c,u],6),!this.isEmpty()):(g(this,jn).set([S,_,o,l,c,u],6),Math.abs(Math.atan2(_-l,S-o)-Math.atan2(b,w))<Math.PI/2?([o,l,c,u]=g(this,jn).subarray(2,6),g(this,Yf).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+u)/2-i)/a),[o,l,S,_]=g(this,jn).subarray(14,18),g(this,Du).push(NaN,NaN,NaN,NaN,((S+o)/2-r)/s,((_+l)/2-i)/a),!0):([S,_,o,l,c,u]=g(this,jn).subarray(0,6),g(this,Yf).push(((S+5*o)/6-r)/s,((_+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),[c,u,o,l,S,_]=g(this,jn).subarray(12,18),g(this,Du).push(((S+5*o)/6-r)/s,((_+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Yf),t=g(this,Du);if(isNaN(g(this,jn)[6])&&!this.isEmpty())return re(this,Fs,Dre).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);re(this,Fs,Bre).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return re(this,Fs,Fre).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new zre(e,t,r,i,s,a)}getOutlines(){var f;const e=g(this,Yf),t=g(this,Du),r=g(this,jn),[i,s,a,o]=g(this,$l),l=new Float32Array((((f=g(this,Ym))==null?void 0:f.length)??0)+2);for(let h=0,p=l.length-2;h<p;h+=2)l[h]=(g(this,Ym)[h]-i)/a,l[h+1]=(g(this,Ym)[h+1]-s)/o;if(l[l.length-2]=(g(this,Ly)-i)/a,l[l.length-1]=(g(this,Ry)-s)/o,isNaN(r[6])&&!this.isEmpty())return re(this,Fs,$re).call(this,l);const c=new Float32Array(g(this,Yf).length+24+g(this,Du).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}u=re(this,Fs,Ure).call(this,c,u);for(let h=t.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(t[h+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[h+p],c[u+1]=t[h+p+1],u+=2}return re(this,Fs,qre).call(this,c,u),this.newFreeDrawOutline(c,l,g(this,$l),g(this,Sw),g(this,xw),g(this,_w))}};$l=new WeakMap,Du=new WeakMap,xw=new WeakMap,_w=new WeakMap,Yf=new WeakMap,jn=new WeakMap,Ly=new WeakMap,Ry=new WeakMap,$A=new WeakMap,qA=new WeakMap,Sw=new WeakMap,Aw=new WeakMap,Ym=new WeakMap,UA=new WeakMap,vk=new WeakMap,yk=new WeakMap,Fs=new WeakSet,e_=function(){const e=g(this,jn).subarray(4,6),t=g(this,jn).subarray(16,18),[r,i,s,a]=g(this,$l);return[(g(this,Ly)+(e[0]-t[0])/2-r)/s,(g(this,Ry)+(e[1]-t[1])/2-i)/a,(g(this,Ly)+(t[0]-e[0])/2-r)/s,(g(this,Ry)+(t[1]-e[1])/2-i)/a]},Dre=function(){const[e,t,r,i]=g(this,$l),[s,a,o,l]=re(this,Fs,e_).call(this);return`M${(g(this,jn)[2]-e)/r} ${(g(this,jn)[3]-t)/i} L${(g(this,jn)[4]-e)/r} ${(g(this,jn)[5]-t)/i} L${s} ${a} L${o} ${l} L${(g(this,jn)[16]-e)/r} ${(g(this,jn)[17]-t)/i} L${(g(this,jn)[14]-e)/r} ${(g(this,jn)[15]-t)/i} Z`},Fre=function(e){const t=g(this,Du);e.push(`L${t[4]} ${t[5]} Z`)},Bre=function(e){const[t,r,i,s]=g(this,$l),a=g(this,jn).subarray(4,6),o=g(this,jn).subarray(16,18),[l,c,u,f]=re(this,Fs,e_).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${c} L${u} ${f} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},$re=function(e){const t=g(this,jn),[r,i,s,a]=g(this,$l),[o,l,c,u]=re(this,Fs,e_).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(f,e,g(this,$l),g(this,Sw),g(this,xw),g(this,_w))},qre=function(e,t){const r=g(this,Du);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},Ure=function(e,t){const r=g(this,jn).subarray(4,6),i=g(this,jn).subarray(16,18),[s,a,o,l]=g(this,$l),[c,u,f,h]=re(this,Fs,e_).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},ee(bh,UA,8),ee(bh,vk,2),ee(bh,yk,g(bh,UA)+g(bh,vk));let JE=bh;var Pw,Iy,Kh,zA,ql,HA,es,bk,Hre;class zre extends mt{constructor(t,r,i,s,a,o){super();ee(this,bk);ee(this,Pw);ee(this,Iy,new Float32Array(4));ee(this,Kh);ee(this,zA);ee(this,ql);ee(this,HA);ee(this,es);z(this,es,t),z(this,ql,r),z(this,Pw,i),z(this,HA,s),z(this,Kh,a),z(this,zA,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],re(this,bk,Hre).call(this,o);const[l,c,u,f]=g(this,Iy);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/f;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/u,r[h+1]=(r[h+1]-c)/f}toSVGPath(){const t=[`M${g(this,es)[4]} ${g(this,es)[5]}`];for(let r=6,i=g(this,es).length;r<i;r+=6){if(isNaN(g(this,es)[r])){t.push(`L${g(this,es)[r+4]} ${g(this,es)[r+5]}`);continue}t.push(`C${g(this,es)[r]} ${g(this,es)[r+1]} ${g(this,es)[r+2]} ${g(this,es)[r+3]} ${g(this,es)[r+4]} ${g(this,es)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let c,u;switch(a){case 0:c=mt._rescale(g(this,es),t,s,o,-l),u=mt._rescale(g(this,ql),t,s,o,-l);break;case 90:c=mt._rescaleAndSwap(g(this,es),t,r,o,l),u=mt._rescaleAndSwap(g(this,ql),t,r,o,l);break;case 180:c=mt._rescale(g(this,es),i,r,-o,l),u=mt._rescale(g(this,ql),i,r,-o,l);break;case 270:c=mt._rescaleAndSwap(g(this,es),i,s,-o,-l),u=mt._rescaleAndSwap(g(this,ql),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return g(this,Iy)}newOutliner(t,r,i,s,a,o=0){return new JE(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=g(this,Iy),[l,c,u,f]=g(this,Pw),h=a*u,p=o*f,x=i*u+l,y=s*f+c,w=this.newOutliner({x:g(this,ql)[0]*h+x,y:g(this,ql)[1]*p+y},g(this,Pw),g(this,HA),t,g(this,zA),r??g(this,Kh));for(let b=2;b<g(this,ql).length;b+=2)w.add({x:g(this,ql)[b]*h+x,y:g(this,ql)[b+1]*p+y});return w.getOutlines()}}Pw=new WeakMap,Iy=new WeakMap,Kh=new WeakMap,zA=new WeakMap,ql=new WeakMap,HA=new WeakMap,es=new WeakMap,bk=new WeakSet,Hre=function(t){const r=g(this,es);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const f=t?Math.max:Math.min,h=new Float32Array(4);for(let x=6,y=r.length;x<y;x+=6){const w=r[x+4],b=r[x+5];isNaN(r[x])?(vt.pointBoundingBox(w,b,a),l>b?(o=w,l=b):l===b&&(o=f(o,w)),u<b?(c=w,u=b):u===b&&(c=f(c,w))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,vt.bezierBoundingBox(i,s,...r.slice(x,x+6),h),vt.rectBoundingBox(h[0],h[1],h[2],h[3],a),l>h[1]?(o=h[0],l=h[1]):l===h[1]&&(o=f(o,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=f(c,h[2]))),i=w,s=b}const p=g(this,Iy);p[0]=a[0]-g(this,Kh),p[1]=a[1]-g(this,Kh),p[2]=a[2]-a[0]+2*g(this,Kh),p[3]=a[3]-a[1]+2*g(this,Kh),this.firstPoint=[o,l],this.lastPoint=[c,u]};var VA,WA,GA,Jm,Fu,jo,Vre,ZC,Wre,Gre,uD;class cD{constructor(e,t=0,r=0,i=!0){ee(this,jo);ee(this,VA);ee(this,WA);ee(this,GA);ee(this,Jm,[]);ee(this,Fu,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:w,width:b,height:S}of e){const _=Math.floor((y-t)/a)*a,P=Math.ceil((y+b+t)/a)*a,E=Math.floor((w-t)/a)*a,C=Math.ceil((w+S+t)/a)*a,N=[_,E,C,!0],L=[P,E,C,!1];g(this,Jm).push(N,L),vt.rectBoundingBox(_,E,P,C,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r;let f=i?-1/0:1/0,h=1/0;const p=g(this,Jm).at(i?-1:-2),x=[p[0],p[2]];for(const y of g(this,Jm)){const[w,b,S,_]=y;!_&&i?b<h?(h=b,f=w):b===h&&(f=Math.max(f,w)):_&&!i&&(b<h?(h=b,f=w):b===h&&(f=Math.min(f,w))),y[0]=(w-c)/o,y[1]=(b-u)/l,y[2]=(S-u)/l}z(this,VA,new Float32Array([c,u,o,l])),z(this,WA,[f,h]),z(this,GA,x)}getOutlines(){g(this,Jm).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of g(this,Jm))t[3]?(e.push(...re(this,jo,uD).call(this,t)),re(this,jo,Wre).call(this,t)):(re(this,jo,Gre).call(this,t),e.push(...re(this,jo,uD).call(this,t)));return re(this,jo,Vre).call(this,e)}}VA=new WeakMap,WA=new WeakMap,GA=new WeakMap,Jm=new WeakMap,Fu=new WeakMap,jo=new WeakSet,Vre=function(e){const t=[],r=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,u,f]=a;r.delete(a);let h=o,p=l;for(s=[o,c],i.push(s);;){let x;if(r.has(u))x=u;else if(r.has(f))x=f;else break;r.delete(x),[o,l,c,u,f]=x,h!==o&&(s.push(h,p,o,p===l?l:c),h=o),p=p===l?c:l}s.push(h,p)}return new USe(i,g(this,VA),g(this,WA),g(this,GA))},ZC=function(e){const t=g(this,Fu);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},Wre=function([,e,t]){const r=re(this,jo,ZC).call(this,e);g(this,Fu).splice(r,0,[e,t])},Gre=function([,e,t]){const r=re(this,jo,ZC).call(this,e);for(let i=r;i<g(this,Fu).length;i++){const[s,a]=g(this,Fu)[i];if(s!==e)break;if(s===e&&a===t){g(this,Fu).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=g(this,Fu)[i];if(s!==e)break;if(s===e&&a===t){g(this,Fu).splice(i,1);return}}},uD=function(e){const[t,r,i]=e,s=[[t,r,i]],a=re(this,jo,ZC).call(this,i);for(let o=0;o<a;o++){const[l,c]=g(this,Fu)[o];for(let u=0,f=s.length;u<f;u++){const[,h,p]=s[u];if(!(c<=h||p<=l)){if(h>=l){if(p>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,p>c&&s.push([t,c,p])}}}return s};var KA,Cw;class USe extends mt{constructor(t,r,i,s){super();ee(this,KA);ee(this,Cw);z(this,Cw,t),z(this,KA,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of g(this,Cw)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,c=s-r;for(const u of g(this,Cw)){const f=new Array(u.length);for(let h=0;h<u.length;h+=2)f[h]=t+u[h]*l,f[h+1]=s-u[h+1]*c;o.push(f)}return o}get box(){return g(this,KA)}get classNamesForOutlining(){return["highlightOutline"]}}KA=new WeakMap,Cw=new WeakMap;class fD extends JE{newFreeDrawOutline(e,t,r,i,s,a){return new zSe(e,t,r,i,s,a)}}class zSe extends zre{newOutliner(e,t,r,i,s,a=0){return new fD(e,t,r,i,s,a)}}var Ew,XA,Xh,My,YA,nl,JA,ZA,Dy,Ul,zl,va,Tw,kw,Ka,Nw,Bc,QA,Sn,dD,QC,Kre,Xre,Yre,hD,xv,Vc,L1,Jre,eE,tE,Zre,Qre,eie,tie,nie;const cr=class cr extends ei{constructor(t){super({...t,name:"highlightEditor"});ee(this,Sn);ee(this,Ew,null);ee(this,XA,0);ee(this,Xh);ee(this,My,null);ee(this,YA,null);ee(this,nl,null);ee(this,JA,null);ee(this,ZA,0);ee(this,Dy,null);ee(this,Ul,null);ee(this,zl,null);ee(this,va,!1);ee(this,Tw,null);ee(this,kw,null);ee(this,Ka,null);ee(this,Nw,"");ee(this,Bc);ee(this,QA,"");this.color=t.color||cr._defaultColor,z(this,Bc,t.thickness||cr._defaultThickness),this.opacity=t.opacity||cr._defaultOpacity,z(this,Xh,t.boxes||null),z(this,QA,t.methodOfCreation||""),z(this,Nw,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(z(this,va,!0),re(this,Sn,QC).call(this,t),re(this,Sn,xv).call(this)):g(this,Xh)&&(z(this,Ew,t.anchorNode),z(this,XA,t.anchorOffset),z(this,JA,t.focusNode),z(this,ZA,t.focusOffset),re(this,Sn,dD).call(this),re(this,Sn,xv).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=cr.prototype;return Cn(this,"_keyboardManager",new A5([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,va)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:g(this,Bc),methodOfCreation:g(this,QA)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;ei.initialize(t,r),cr._defaultColor||(cr._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case zn.HIGHLIGHT_COLOR:cr._defaultColor=r;break;case zn.HIGHLIGHT_THICKNESS:cr._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return g(this,kw)}get commentButtonPosition(){return g(this,Tw)}updateParams(t,r){switch(t){case zn.HIGHLIGHT_COLOR:re(this,Sn,Kre).call(this,r);break;case zn.HIGHLIGHT_THICKNESS:re(this,Sn,Xre).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[zn.HIGHLIGHT_COLOR,cr._defaultColor],[zn.HIGHLIGHT_THICKNESS,cr._defaultThickness]]}get propertiesToUpdate(){return[[zn.HIGHLIGHT_COLOR,this.color||cr._defaultColor],[zn.HIGHLIGHT_THICKNESS,g(this,Bc)||cr._defaultThickness],[zn.HIGHLIGHT_FREE,g(this,va)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(g(this,zl),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=g(this,YA))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",z(this,YA,new KE({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(re(this,Sn,tE).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,re(this,Sn,tE).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){re(this,Sn,hD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,Sn,xv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?re(this,Sn,hD).call(this):t&&(re(this,Sn,xv).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;g(this,va)?(t=(t-this.rotation+360)%360,i=re(s=cr,Vc,L1).call(s,g(this,Ul).box,t)):i=re(a=cr,Vc,L1).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(g(this,zl),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(g(this,Ka),{bbox:re(o=cr,Vc,L1).call(o,g(this,nl).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();g(this,Nw)&&(t.setAttribute("aria-label",g(this,Nw)),t.setAttribute("role","mark")),g(this,va)?t.classList.add("free"):this.div.addEventListener("keydown",re(this,Sn,Jre).bind(this),{signal:this._uiManager._signal});const r=z(this,Dy,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=g(this,My),this.setDims(this.width,this.height),Ane(this,g(this,Dy),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,Ka),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,Ka),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:re(this,Sn,eE).call(this,!0);break;case 1:case 3:re(this,Sn,eE).call(this,!1);break}}select(){var t;super.select(),g(this,Ka)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,Ka),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),g(this,Ka)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,Ka),{rootClass:{selected:!1}}),g(this,va)||re(this,Sn,eE).call(this,!1))}get _mustFixPosition(){return!g(this,va)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(g(this,zl),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(g(this,Ka),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),f=new AbortController,h=t.combinedSignal(f),p=x=>{f.abort(),re(this,Vc,tie).call(this,t,x)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",Gi,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Jc,{signal:h}),i.addEventListener("pointermove",re(this,Vc,eie).bind(this,t),{signal:h}),this._freeHighlight=new fD({x:s,y:a},[o,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var y,w,b,S;let s=null;if(t instanceof Nre){const{data:{quadPoints:_,rect:P,rotation:E,id:C,color:N,opacity:L,popupRef:R,richText:F,contentsObj:j,creationDate:D,modificationDate:W},parent:{page:{pageNumber:V}}}=t;s=t={annotationType:xn.HIGHLIGHT,color:Array.from(N),opacity:L,quadPoints:_,boxes:null,pageIndex:V-1,rect:P.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:R,richText:F,comment:(j==null?void 0:j.str)||null,creationDate:D,modificationDate:W}}else if(t instanceof KF){const{data:{inkLists:_,rect:P,rotation:E,id:C,color:N,borderStyle:{rawWidth:L},popupRef:R,richText:F,contentsObj:j,creationDate:D,modificationDate:W},parent:{page:{pageNumber:V}}}=t;s=t={annotationType:xn.HIGHLIGHT,color:Array.from(N),thickness:L,inkLists:_,boxes:null,pageIndex:V-1,rect:P.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:R,richText:F,comment:(j==null?void 0:j.str)||null,creationDate:D,modificationDate:W}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=vt.makeHexColor(...a),u.opacity=c||1,l&&z(u,Bc,t.thickness),u._initialData=s,t.comment&&u.setCommentData(t);const[f,h]=u.pageDimensions,[p,x]=u.pageTranslation;if(o){const _=z(u,Xh,[]);for(let P=0;P<o.length;P+=8)_.push({x:(o[P]-p)/f,y:1-(o[P+1]-x)/h,width:(o[P+2]-o[P])/f,height:(o[P+1]-o[P+5])/h});re(y=u,Sn,dD).call(y),re(w=u,Sn,xv).call(w),u.rotate(u.rotation)}else if(l){z(u,va,!0);const _=l[0],P={x:_[0]-p,y:h-(_[1]-x)},E=new fD(P,[0,0,f,h],1,g(u,Bc)/2,!0,.001);for(let L=0,R=_.length;L<R;L+=2)P.x=_[L]-p,P.y=h-(_[L+1]-x),E.add(P);const{id:C,clipPathId:N}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);re(b=u,Sn,QC).call(b,{highlightOutlines:E.getOutlines(),highlightId:C,clipPathId:N}),re(S=u,Sn,xv).call(S),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=ei._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:g(this,Bc),quadPoints:re(this,Sn,Zre).call(this),outlines:re(this,Sn,Qre).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!re(this,Sn,nie).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ew=new WeakMap,XA=new WeakMap,Xh=new WeakMap,My=new WeakMap,YA=new WeakMap,nl=new WeakMap,JA=new WeakMap,ZA=new WeakMap,Dy=new WeakMap,Ul=new WeakMap,zl=new WeakMap,va=new WeakMap,Tw=new WeakMap,kw=new WeakMap,Ka=new WeakMap,Nw=new WeakMap,Bc=new WeakMap,QA=new WeakMap,Sn=new WeakSet,dD=function(){const t=new cD(g(this,Xh),.001);z(this,Ul,t.getOutlines()),[this.x,this.y,this.width,this.height]=g(this,Ul).box;const r=new cD(g(this,Xh),.0025,.001,this._uiManager.direction==="ltr");z(this,nl,r.getOutlines());const{firstPoint:i}=g(this,Ul);z(this,Tw,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=g(this,nl);z(this,kw,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},QC=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,p;if(z(this,Ul,t),z(this,nl,t.getNewOutline(g(this,Bc)/2+1.5,.0025)),r>=0)z(this,zl,r),z(this,My,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),z(this,Ka,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:g(this,nl).box,path:{d:g(this,nl).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(g(this,zl),{bbox:re(h=cr,Vc,L1).call(h,g(this,Ul).box,(x-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(g(this,Ka),{bbox:re(p=cr,Vc,L1).call(p,g(this,nl).box,x),path:{d:g(this,nl).toSVGPath()}})}const[a,o,l,c]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[x,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/x,this.height=c*x/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[x,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/x,this.height=c*x/y;break}}const{firstPoint:u}=t;z(this,Tw,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:f}=g(this,nl);z(this,kw,[(f[0]-a)/l,(f[1]-o)/c])},Kre=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,cr._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},Xre=function(t){const r=g(this,Bc),i=s=>{z(this,Bc,s),re(this,Sn,Yre).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Yre=function(t){g(this,va)&&(re(this,Sn,QC).call(this,{highlightOutlines:g(this,Ul).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},hD=function(){g(this,zl)===null||!this.parent||(this.parent.drawLayer.remove(g(this,zl)),z(this,zl,null),this.parent.drawLayer.remove(g(this,Ka)),z(this,Ka,null))},xv=function(t=this.parent){g(this,zl)===null&&({id:Cs(this,zl)._,clipPathId:Cs(this,My)._}=t.drawLayer.draw({bbox:g(this,Ul).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:g(this,va)},path:{d:g(this,Ul).toSVGPath()}},!1,!0),z(this,Ka,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:g(this,va)},bbox:g(this,nl).box,path:{d:g(this,nl).toSVGPath()}},g(this,va))),g(this,Dy)&&(g(this,Dy).style.clipPath=g(this,My)))},Vc=new WeakSet,L1=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},Jre=function(t){cr._keyboardManager.exec(this,t)},eE=function(t){if(!g(this,Ew))return;const r=window.getSelection();t?r.setPosition(g(this,Ew),g(this,XA)):r.setPosition(g(this,JA),g(this,ZA))},tE=function(){return g(this,va)?this.rotation:0},Zre=function(){if(g(this,va))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=g(this,Xh),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:f,height:h}of a){const p=c*t+i,x=(1-u)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=x,o[l+2]=o[l+6]=p+f*t,o[l+5]=o[l+7]=x-h*r,l+=8}return o},Qre=function(t){return g(this,Ul).serialize(t,re(this,Sn,tE).call(this))},eie=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},tie=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},nie=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},ee(cr,Vc),He(cr,"_defaultColor",null),He(cr,"_defaultOpacity",1),He(cr,"_defaultThickness",12),He(cr,"_type","highlight"),He(cr,"_editorType",xn.HIGHLIGHT),He(cr,"_freeHighlightId",-1),He(cr,"_freeHighlight",null),He(cr,"_freeHighlightClipId","");let ZE=cr;var Fy;class rie{constructor(){ee(this,Fy,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){g(this,Fy)[e]=t}toSVGProperties(){const e=g(this,Fy);return z(this,Fy,Object.create(null)),{root:e}}reset(){z(this,Fy,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){zr("Not implemented")}}Fy=new WeakMap;var Hl,Ow,Zs,By,$y,Zm,Qm,eg,qy,tr,pD,mD,gD,t_,iie,nE,n_,R1;const xt=class xt extends ei{constructor(t){super(t);ee(this,tr);ee(this,Hl,null);ee(this,Ow);He(this,"_colorPicker",null);He(this,"_drawId",null);z(this,Ow,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(re(this,tr,pD).call(this,t),re(this,tr,t_).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){zr("Not implemented")}static get typesMap(){zr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(g(xt,Zs).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var u;s.updateProperty(r,l);const c=g(this,Hl).updateProperty(r,l);c&&re(this,tr,n_).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(g(this,Hl).getPathResizingSVGProperties(re(this,tr,nE).call(this)),{bbox:re(this,tr,R1).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(g(this,Hl).getPathResizedSVGProperties(re(this,tr,nE).call(this)),{bbox:re(this,tr,R1).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:re(this,tr,R1).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(g(this,Hl).getPathTranslatedSVGProperties(re(this,tr,nE).call(this),this.parentDimensions),{bbox:re(this,tr,R1).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,g(this,Ow)&&(z(this,Ow,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){re(this,tr,gD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,tr,t_).call(this),re(this,tr,n_).call(this,g(this,Hl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),re(this,tr,gD).call(this)):t&&(this._uiManager.addShouldRescale(this),re(this,tr,t_).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties({bbox:re(this,tr,R1).call(this)},g(this,Hl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&re(this,tr,n_).call(this,g(this,Hl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){zr("Not implemented")}static startDrawing(t,r,i,s){var w;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(g(xt,Qm)&&g(xt,Qm)!==u)return;const{viewport:{rotation:f}}=t,{width:h,height:p}=a.getBoundingClientRect(),x=z(xt,By,new AbortController),y=t.combinedSignal(x);if(g(xt,Zm)||z(xt,Zm,c),g(xt,Qm)??z(xt,Qm,u),window.addEventListener("pointerup",b=>{var S;g(xt,Zm)===b.pointerId?this._endDraw(b):(S=g(xt,eg))==null||S.delete(b.pointerId)},{signal:y}),window.addEventListener("pointercancel",b=>{var S;g(xt,Zm)===b.pointerId?this._currentParent.endDrawingSession():(S=g(xt,eg))==null||S.delete(b.pointerId)},{signal:y}),window.addEventListener("pointerdown",b=>{g(xt,Qm)===b.pointerType&&((g(xt,eg)||z(xt,eg,new Set)).add(b.pointerId),g(xt,Zs).isCancellable()&&(g(xt,Zs).removeLastElement(),g(xt,Zs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Jc,{signal:y}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),a.addEventListener("touchmove",b=>{b.timeStamp===g(xt,qy)&&Gi(b)},{signal:y}),t.toggleDrawing(),(w=r._editorUndoBar)==null||w.hide(),g(xt,Zs)){t.drawLayer.updateProperties(this._currentDrawId,g(xt,Zs).startNew(o,l,h,p,f));return}r.updateUIForDefaultProperties(this),z(xt,Zs,this.createDrawerInstance(o,l,h,p,f)),z(xt,$y,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(g(xt,$y).toSVGProperties(),g(xt,Zs).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(z(xt,qy,-1),!g(xt,Zs))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(g(xt,Zm)===s){if(((a=g(xt,eg))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,g(xt,Zs).add(r,i)),z(xt,qy,t.timeStamp),Gi(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,z(xt,Zs,null),z(xt,$y,null),z(xt,Qm,null),z(xt,qy,NaN)),g(xt,By)&&(g(xt,By).abort(),z(xt,By,null),z(xt,Zm,NaN),z(xt,eg,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,g(xt,Zs).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=g(xt,Zs),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:zn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(zn.DRAW_STEP),!g(xt,Zs).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:g(xt,Zs).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:g(xt,$y),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){zr("Not implemented")}static async deserialize(t,r,i){var f,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),u=await super.deserialize(t,r,i);return u.createDrawingOptions(t),re(f=u,tr,pD).call(f,{drawOutlines:c}),re(h=u,tr,t_).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return g(this,Hl).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Hl=new WeakMap,Ow=new WeakMap,Zs=new WeakMap,By=new WeakMap,$y=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,eg=new WeakMap,qy=new WeakMap,tr=new WeakSet,pD=function({drawOutlines:t,drawId:r,drawingOptions:i}){z(this,Hl,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=re(this,tr,mD).call(this,t,this.parent),re(this,tr,n_).call(this,t.box)},mD=function(t,r){const{id:i}=r.drawLayer.draw(xt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},gD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},t_=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=re(this,tr,mD).call(this,g(this,Hl),t)}},iie=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},nE=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},n_=function(t){[this.x,this.y,this.width,this.height]=re(this,tr,iie).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},R1=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},He(xt,"_currentDrawId",-1),He(xt,"_currentParent",null),ee(xt,Zs,null),ee(xt,By,null),ee(xt,$y,null),ee(xt,Zm,NaN),ee(xt,Qm,null),ee(xt,eg,null),ee(xt,qy,NaN),He(xt,"_INNER_MARGIN",3);let QE=xt;var Jf,Qs,ea,Uy,jw,ho,ya,$c,zy,Hy,Vy,Lw,rE;class HSe{constructor(e,t,r,i,s,a){ee(this,Lw);ee(this,Jf,new Float64Array(6));ee(this,Qs);ee(this,ea);ee(this,Uy);ee(this,jw);ee(this,ho);ee(this,ya,"");ee(this,$c,0);ee(this,zy,new C5);ee(this,Hy);ee(this,Vy);z(this,Hy,r),z(this,Vy,i),z(this,Uy,s),z(this,jw,a),[e,t]=re(this,Lw,rE).call(this,e,t);const o=z(this,Qs,[NaN,NaN,NaN,NaN,e,t]);z(this,ho,[e,t]),z(this,ea,[{line:o,points:g(this,ho)}]),g(this,Jf).set(o,0)}updateProperty(e,t){e==="stroke-width"&&z(this,jw,t)}isEmpty(){return!g(this,ea)||g(this,ea).length===0}isCancellable(){return g(this,ho).length<=10}add(e,t){[e,t]=re(this,Lw,rE).call(this,e,t);const[r,i,s,a]=g(this,Jf).subarray(2,6),o=e-s,l=t-a;return Math.hypot(g(this,Hy)*o,g(this,Vy)*l)<=2?null:(g(this,ho).push(e,t),isNaN(r)?(g(this,Jf).set([s,a,e,t],2),g(this,Qs).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(g(this,Jf)[0])&&g(this,Qs).splice(6,6),g(this,Jf).set([r,i,s,a,e,t],0),g(this,Qs).push(...mt.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(g(this,ho).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){z(this,Hy,r),z(this,Vy,i),z(this,Uy,s),[e,t]=re(this,Lw,rE).call(this,e,t);const a=z(this,Qs,[NaN,NaN,NaN,NaN,e,t]);z(this,ho,[e,t]);const o=g(this,ea).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),g(this,ea).push({line:a,points:g(this,ho)}),g(this,Jf).set(a,0),z(this,$c,0),this.toSVGPath(),null}getLastElement(){return g(this,ea).at(-1)}setLastElement(e){return g(this,ea)?(g(this,ea).push(e),z(this,Qs,e.line),z(this,ho,e.points),z(this,$c,0),{path:{d:this.toSVGPath()}}):g(this,zy).setLastElement(e)}removeLastElement(){if(!g(this,ea))return g(this,zy).removeLastElement();g(this,ea).pop(),z(this,ya,"");for(let e=0,t=g(this,ea).length;e<t;e++){const{line:r,points:i}=g(this,ea)[e];z(this,Qs,r),z(this,ho,i),z(this,$c,0),this.toSVGPath()}return{path:{d:g(this,ya)}}}toSVGPath(){const e=mt.svgRound(g(this,Qs)[4]),t=mt.svgRound(g(this,Qs)[5]);if(g(this,ho).length===2)return z(this,ya,`${g(this,ya)} M ${e} ${t} Z`),g(this,ya);if(g(this,ho).length<=6){const i=g(this,ya).lastIndexOf("M");z(this,ya,`${g(this,ya).slice(0,i)} M ${e} ${t}`),z(this,$c,6)}if(g(this,ho).length===4){const i=mt.svgRound(g(this,Qs)[10]),s=mt.svgRound(g(this,Qs)[11]);return z(this,ya,`${g(this,ya)} L ${i} ${s}`),z(this,$c,12),g(this,ya)}const r=[];g(this,$c)===0&&(r.push(`M ${e} ${t}`),z(this,$c,6));for(let i=g(this,$c),s=g(this,Qs).length;i<s;i+=6){const[a,o,l,c,u,f]=g(this,Qs).slice(i,i+6).map(mt.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}return z(this,ya,g(this,ya)+r.join(" ")),z(this,$c,g(this,Qs).length),g(this,ya)}getOutlines(e,t,r,i){const s=g(this,ea).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),g(this,zy).build(g(this,ea),e,t,r,g(this,Uy),g(this,jw),i),z(this,Jf,null),z(this,Qs,null),z(this,ea,null),z(this,ya,null),g(this,zy)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Jf=new WeakMap,Qs=new WeakMap,ea=new WeakMap,Uy=new WeakMap,jw=new WeakMap,ho=new WeakMap,ya=new WeakMap,$c=new WeakMap,zy=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,Lw=new WeakSet,rE=function(e,t){return mt._normalizePoint(e,t,g(this,Hy),g(this,Vy),g(this,Uy))};var po,e5,t5,Vl,Zf,Qf,Rw,Iw,Wy,Sa,gh,sie,aie,oie;class C5 extends mt{constructor(){super(...arguments);ee(this,Sa);ee(this,po);ee(this,e5,0);ee(this,t5);ee(this,Vl);ee(this,Zf);ee(this,Qf);ee(this,Rw);ee(this,Iw);ee(this,Wy)}build(t,r,i,s,a,o,l){z(this,Zf,r),z(this,Qf,i),z(this,Rw,s),z(this,Iw,a),z(this,Wy,o),z(this,t5,l??0),z(this,Vl,t),re(this,Sa,aie).call(this)}get thickness(){return g(this,Wy)}setLastElement(t){return g(this,Vl).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return g(this,Vl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of g(this,Vl)){if(t.push(`M${mt.svgRound(r[4])} ${mt.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${mt.svgRound(r[10])} ${mt.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,c,u,f]=r.subarray(i,i+6).map(mt.svgRound);t.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[c,u,f,h]=re(this,Sa,sie).call(this);let p,x,y,w,b,S,_,P,E;switch(g(this,Iw)){case 0:E=mt._rescale,p=t,x=r+s,y=i,w=-s,b=t+c*i,S=r+(1-u-h)*s,_=t+(c+f)*i,P=r+(1-u)*s;break;case 90:E=mt._rescaleAndSwap,p=t,x=r,y=i,w=s,b=t+u*i,S=r+c*s,_=t+(u+h)*i,P=r+(c+f)*s;break;case 180:E=mt._rescale,p=t+i,x=r,y=-i,w=s,b=t+(1-c-f)*i,S=r+u*s,_=t+(1-c)*i,P=r+(u+h)*s;break;case 270:E=mt._rescaleAndSwap,p=t+i,x=r+s,y=-i,w=-s,b=t+(1-u-h)*i,S=r+(1-c-f)*s,_=t+(1-u)*i,P=r+(1-c)*s;break}for(const{line:C,points:N}of g(this,Vl))o.push(E(C,p,x,y,w,a?new Array(C.length):null)),l.push(E(N,p,x,y,w,a?new Array(N.length):null));return{lines:o,points:l,rect:[b,S,_,P]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const f=[];let h,p,x,y,w;switch(c){case 0:w=mt._rescale,h=-t/i,p=r/s+1,x=1/i,y=-1/s;break;case 90:w=mt._rescaleAndSwap,h=-r/s,p=-t/i,x=1/s,y=1/i;break;case 180:w=mt._rescale,h=t/i+1,p=-r/s,x=-1/i,y=1/s;break;case 270:w=mt._rescaleAndSwap,h=r/s+1,p=t/i+1,x=-1/s,y=-1/i;break}if(!o){o=[];for(const S of l){const _=S.length;if(_===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(_===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const P=new Float32Array(3*(_-2));o.push(P);let[E,C,N,L]=S.subarray(0,4);P.set([NaN,NaN,NaN,NaN,E,C],0);for(let R=4;R<_;R+=2){const F=S[R],j=S[R+1];P.set(mt.createBezierPoints(E,C,N,L,F,j),(R-2)*3),[E,C,N,L]=[N,L,F,j]}}}for(let S=0,_=o.length;S<_;S++)f.push({line:w(o[S].map(P=>P??NaN),h,p,x,y),points:w(l[S].map(P=>P??NaN),h,p,x,y)});const b=new this.prototype.constructor;return b.build(f,i,s,1,c,u,a),b}get box(){return g(this,po)}updateProperty(t,r){return t==="stroke-width"?re(this,Sa,oie).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=re(this,Sa,gh).call(this);z(this,Zf,t),z(this,Qf,r),z(this,Rw,i);const[o,l]=re(this,Sa,gh).call(this),c=o-s,u=l-a,f=g(this,po);return f[0]-=c,f[1]-=u,f[2]+=2*c,f[3]+=2*u,f}updateRotation(t){return z(this,e5,t),{path:{transform:this.rotationTransform}}}get viewBox(){return g(this,po).map(mt.svgRound).join(" ")}get defaultProperties(){const[t,r]=g(this,po);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mt.svgRound(t)} ${mt.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=g(this,po);let i=0,s=0,a=0,o=0,l=0,c=0;switch(g(this,e5)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,c=r;break;case 270:s=-r/t,a=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${mt.svgRound(l)} ${mt.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=re(this,Sa,gh).call(this),[l,c,u,f]=g(this,po);if(Math.abs(u-a)<=mt.PRECISION||Math.abs(f-o)<=mt.PRECISION){const w=t+i/2-(l+u/2),b=r+s/2-(c+f/2);return{path:{"transform-origin":`${mt.svgRound(t)} ${mt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${w} ${b})`}}}const h=(i-2*a)/(u-2*a),p=(s-2*o)/(f-2*o),x=u/i,y=f/s;return{path:{"transform-origin":`${mt.svgRound(l)} ${mt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${x} ${y}) translate(${mt.svgRound(a)} ${mt.svgRound(o)}) scale(${h} ${p}) translate(${mt.svgRound(-a)} ${mt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=re(this,Sa,gh).call(this),l=g(this,po),[c,u,f,h]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(f-a)<=mt.PRECISION||Math.abs(h-o)<=mt.PRECISION){const b=t+i/2-(c+f/2),S=r+s/2-(u+h/2);for(const{line:_,points:P}of g(this,Vl))mt._translate(_,b,S,_),mt._translate(P,b,S,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mt.svgRound(t)} ${mt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(f-2*a),x=(s-2*o)/(h-2*o),y=-p*(c+a)+t+a,w=-x*(u+o)+r+o;if(p!==1||x!==1||y!==0||w!==0)for(const{line:b,points:S}of g(this,Vl))mt._rescale(b,y,w,p,x,b),mt._rescale(S,y,w,p,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mt.svgRound(t)} ${mt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=g(this,po),l=t-o[0],c=r-o[1];if(g(this,Zf)===s&&g(this,Qf)===a)for(const{line:u,points:f}of g(this,Vl))mt._translate(u,l,c,u),mt._translate(f,l,c,f);else{const u=g(this,Zf)/s,f=g(this,Qf)/a;z(this,Zf,s),z(this,Qf,a);for(const{line:h,points:p}of g(this,Vl))mt._rescale(h,l,c,u,f,h),mt._rescale(p,l,c,u,f,p);o[2]*=u,o[3]*=f}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${mt.svgRound(t)} ${mt.svgRound(r)}`}}}get defaultSVGProperties(){const t=g(this,po);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${mt.svgRound(t[0])} ${mt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}po=new WeakMap,e5=new WeakMap,t5=new WeakMap,Vl=new WeakMap,Zf=new WeakMap,Qf=new WeakMap,Rw=new WeakMap,Iw=new WeakMap,Wy=new WeakMap,Sa=new WeakSet,gh=function(t=g(this,Wy)){const r=g(this,t5)+t/2*g(this,Rw);return g(this,Iw)%180===0?[r/g(this,Zf),r/g(this,Qf)]:[r/g(this,Qf),r/g(this,Zf)]},sie=function(){const[t,r,i,s]=g(this,po),[a,o]=re(this,Sa,gh).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},aie=function(){const t=z(this,po,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of g(this,Vl)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)vt.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,f,h,p,x,y]=s.subarray(l,l+6);vt.bezierBoundingBox(a,o,u,f,h,p,x,y,t),a=x,o=y}}const[r,i]=re(this,Sa,gh).call(this);t[0]=vo(t[0]-r,0,1),t[1]=vo(t[1]-i,0,1),t[2]=vo(t[2]+r,0,1),t[3]=vo(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},oie=function(t){const[r,i]=re(this,Sa,gh).call(this);z(this,Wy,t);const[s,a]=re(this,Sa,gh).call(this),[o,l]=[s-r,a-i],c=g(this,po);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class Zk extends rie{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Zk(this._viewParameters);return e.updateAll(this),e}}var wk,lie;const Z1=class Z1 extends QE{constructor(t){super({...t,name:"inkEditor"});ee(this,wk);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){ei.initialize(t,r),this._defaultDrawingOptions=new Zk(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Cn(this,"typesMap",new Map([[zn.INK_THICKNESS,"stroke-width"],[zn.INK_COLOR,"stroke"],[zn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new HSe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return C5.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof KF){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:f,opacity:h,borderStyle:{rawWidth:p},popupRef:x,richText:y,contentsObj:w,creationDate:b,modificationDate:S},parent:{page:{pageNumber:_}}}=t;s=t={annotationType:xn.INK,color:Array.from(f),thickness:p,opacity:h,paths:{points:o},boxes:null,pageIndex:_-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:x,richText:y,comment:(w==null?void 0:w.str)||null,creationDate:b,modificationDate:S}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new XE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return zn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Z1.getDefaultDrawingOptions({stroke:vt.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:ei._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!re(this,wk,lie).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};wk=new WeakSet,lie=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},He(Z1,"_type","ink"),He(Z1,"_editorType",xn.INK),He(Z1,"_defaultDrawingOptions",null);let vD=Z1;class yD extends C5{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const XP=8,_2=3;var Gy,gr,bD,Bu,cie,uie,wD,iE,fie,die,hie,xD,_D,pie;class tp{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const f=200,h=u.font=`${r} ${i} ${f}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:w,fontBoundingBoxAscent:b,fontBoundingBoxDescent:S,width:_}=u.measureText(e),P=1.5,E=Math.ceil(Math.max(Math.abs(p)+Math.abs(x)||0,_)*P),C=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||f,Math.abs(b)+Math.abs(S)||f)*P);c=new OffscreenCanvas(E,C),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,E,C),u.fillStyle="black",u.fillText(e,E*(P-1)/2,C*(3-P)/2);const N=re(this,gr,xD).call(this,u.getImageData(0,0,E,C).data),L=re(this,gr,hie).call(this,N),R=re(this,gr,_D).call(this,L),F=re(this,gr,wD).call(this,N,E,C,R);return this.processDrawnLines({lines:{curves:F,width:E,height:C},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=re(this,gr,pie).call(this,e),[c,u]=re(this,gr,die).call(this,a,o,l,Math.hypot(o,l)*g(this,Gy).sigmaSFactor,g(this,Gy).sigmaR,g(this,Gy).kernelSize),f=re(this,gr,_D).call(this,u),h=re(this,gr,wD).call(this,c,o,l,f);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:u}=e,f=e.thickness??0,h=[],p=Math.min(t/c,r/u),x=p/t,y=p/r,w=[];for(const{points:S}of l){const _=a?re(this,gr,fie).call(this,S):S;if(!_)continue;w.push(_);const P=_.length,E=new Float32Array(P),C=new Float32Array(3*(P===2?2:P-2));if(h.push({line:C,points:E}),P===2){E[0]=_[0]*x,E[1]=_[1]*y,C.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[N,L,R,F]=_;N*=x,L*=y,R*=x,F*=y,E.set([N,L,R,F],0),C.set([NaN,NaN,NaN,NaN,N,L],0);for(let j=4;j<P;j+=2){const D=E[j]=_[j]*x,W=E[j+1]=_[j+1]*y;C.set(mt.createBezierPoints(N,L,R,F,D,W),(j-2)*3),[N,L,R,F]=[R,F,D,W]}}if(h.length===0)return null;const b=o?new yD:new C5;return b.build(h,t,r,1,i,o?0:f,s),{outline:b,newCurves:w,areContours:o,thickness:f,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const _ of e){l+=_.length;for(let P=2,E=_.length;P<E;P++){const C=_[P]-_[P-2];a=Math.min(a,C),o=Math.max(o,C)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,f=XP+_2*u,h=new Uint32Array(f);let p=0;h[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=i,h[p++]=s,h[p++]=t?0:1,h[p++]=Math.max(0,Math.floor(r??0)),h[p++]=u,h[p++]=c.BYTES_PER_ELEMENT;for(const _ of e)h[p++]=_.length-2,h[p++]=_[0],h[p++]=_[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(h);const w=c.prototype.constructor;for(const _ of e){const P=new w(_.length-2);for(let E=2,C=_.length;E<C;E++)P[E-2]=_[E]-_[E-2];y.write(P)}y.close();const b=await new Response(x.readable).arrayBuffer(),S=new Uint8Array(b);return gne(S)}static async decompressSignature(e){try{const t=s_e(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const _ of r)a||(a=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),a.set(_,o),o+=_.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],f=l[3],h=l[4]===0,p=l[5],x=l[6],y=l[7],w=[],b=(XP+_2*x)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(y){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(a.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(a.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(a.buffer,b);break}o=0;for(let _=0;_<x;_++){const P=l[_2*_+XP],E=new Float32Array(P+2);w.push(E);for(let C=0;C<_2-1;C++)E[C]=l[_2*_+XP+C+1];for(let C=0;C<P;C++)E[C+2]=E[C]+S[o++]}return{areContours:h,thickness:p,outlines:w,width:u,height:f}}catch(t){return yn(`decompressSignature: ${t}`),null}}}Gy=new WeakMap,gr=new WeakSet,bD=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Bu=new WeakMap,cie=function(e,t,r,i,s,a,o){const l=re(this,gr,bD).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,f=g(this,Bu)[2*u],h=g(this,Bu)[2*u+1];if(e[(r+f)*t+(i+h)]!==0)return u}return-1},uie=function(e,t,r,i,s,a,o){const l=re(this,gr,bD).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,f=g(this,Bu)[2*u],h=g(this,Bu)[2*u+1];if(e[(r+f)*t+(i+h)]!==0)return u}return-1},wD=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*t]=a[u*t+t-1]=0;for(let u=0;u<t;u++)a[u]=a[t*r-1-u]=0;let o=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let f=1;f<t-1;f++){const h=u*t+f,p=a[h];if(p===0)continue;let x=u,y=f;if(p===1&&a[h-1]===0)o+=1,y-=1;else if(p>=1&&a[h+1]===0)o+=1,y+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const w=[f,u],b=y===f+1,S={isHole:b,points:w,id:o,parent:0};c.push(S);let _;for(const j of c)if(j.id===l){_=j;break}_?_.isHole?S.parent=b?_.parent:l:S.parent=b?l:_.parent:S.parent=b?l:0;const P=re(this,gr,cie).call(this,a,t,u,f,x,y,0);if(P===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let E=g(this,Bu)[2*P],C=g(this,Bu)[2*P+1];const N=u+E,L=f+C;x=N,y=L;let R=u,F=f;for(;;){const j=re(this,gr,uie).call(this,a,t,R,F,x,y,1);E=g(this,Bu)[2*j],C=g(this,Bu)[2*j+1];const D=R+E,W=F+C;w.push(W,D);const V=R*t+F;if(a[V+1]===0?a[V]=-o:a[V]===1&&(a[V]=o),D===u&&W===f&&R===N&&F===L){a[h]!==1&&(l=Math.abs(a[h]));break}else x=R,y=F,R=D,F=W}}}return c},iE=function(e,t,r,i){if(r-t<=4){for(let N=t;N<r-2;N+=2)i.push(e[N],e[N+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),u=o/c,f=l/c,h=u*a-f*s,p=l/o,x=1/c,y=Math.atan(p),w=Math.cos(y),b=Math.sin(y),S=x*(Math.abs(w)+Math.abs(b)),_=x*(1-S+S**2),P=Math.max(Math.atan(Math.abs(b+w)*_),Math.atan(Math.abs(b-w)*_));let E=0,C=t;for(let N=t+2;N<r-2;N+=2){const L=Math.abs(h-u*e[N+1]+f*e[N]);L>E&&(C=N,E=L)}E>(c*P)**2?(re(this,gr,iE).call(this,e,t,C+2,i),re(this,gr,iE).call(this,e,C,r,i)):i.push(s,a)},fie=function(e){const t=[],r=e.length;return re(this,gr,iE).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},die=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const w=(y-c)**2;for(let b=0;b<a;b++)o[y*a+b]=Math.exp((w+(b-c)**2)/l)}const u=new Float32Array(256),f=-2*s**2;for(let y=0;y<256;y++)u[y]=Math.exp(y**2/f);const h=e.length,p=new Uint8Array(h),x=new Uint32Array(256);for(let y=0;y<r;y++)for(let w=0;w<t;w++){const b=y*t+w,S=e[b];let _=0,P=0;for(let C=0;C<a;C++){const N=y+C-c;if(!(N<0||N>=r))for(let L=0;L<a;L++){const R=w+L-c;if(R<0||R>=t)continue;const F=e[N*t+R],j=o[C*a+L]*u[Math.abs(F-S)];_+=F*j,P+=j}}const E=p[b]=Math.round(_/P);x[E]++}return[p,x]},hie=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},xD=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},_D=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},pie=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=g(this,Gy);let a=r,o=i;if(r>s||i>s){let h=r,p=i,x=Math.log2(Math.max(r,i)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let b=0;b<x;b++){a=Math.ceil(h/2),o=Math.ceil(p/2);const S=new OffscreenCanvas(a,o);S.getContext("2d").drawImage(e,0,0,h,p,0,0,a,o),h=a,p=o,e!==t&&e.close(),e=S.transferToImageBitmap()}const w=Math.min(s/a,s/o);a=Math.round(a*w),o=Math.round(o*w)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[re(this,gr,xD).call(this,u),a,o]},ee(tp,gr),ee(tp,Gy,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ee(tp,Bu,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class XF extends rie{constructor(){super(),super.updateProperties({fill:ei._defaultLineColor,"stroke-width":0})}clone(){const e=new XF;return e.updateAll(this),e}}class YF extends Zk{constructor(e){super(e),super.updateProperties({stroke:ei._defaultLineColor,"stroke-width":1})}clone(){const e=new YF(this._viewParameters);return e.updateAll(this),e}}var tg,ed,ng,Ky;const Tl=class Tl extends QE{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});ee(this,tg,!1);ee(this,ed,null);ee(this,ng,null);ee(this,Ky,null);this._willKeepAspectRatio=!0,z(this,ng,t.signatureData||null),z(this,ed,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){ei.initialize(t,r),this._defaultDrawingOptions=new XF,this._defaultDrawnSignatureOptions=new YF(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Cn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!g(this,ed)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(g(this,ng)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=g(this,ng),{rawDims:{pageWidth:f,pageHeight:h},rotation:p}=this.parent.viewport,x=tp.processDrawnLines({lines:s,pageWidth:f,pageHeight:h,rotation:p,innerMargin:Tl._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(x,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:g(this,ed)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){z(this,Ky,t),this.addEditToolbar()}getUuid(){return g(this,Ky)}get description(){return g(this,ed)}set description(t){z(this,ed,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=g(this,ng),o=Math.max(s,a),l=tp.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=z(this,ng,t);z(this,tg,l instanceof yD),this.description=i;let c;g(this,tg)?c=Tl.getDefaultDrawingOptions():(c=Tl._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let f=r/u;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return tp.process(t,r,i,s,Tl._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return tp.extractContoursFromText(t,r,i,s,a,Tl._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return tp.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Tl._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Tl.getDefaultDrawingOptions():(this._drawingOptions=Tl._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:g(this,tg),color:[0,0,0],thickness:g(this,tg)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=g(this,Ky),a.isCopy=!0):a.lines=r,g(this,ed)&&(a.accessibilityData={type:"Figure",alt:g(this,ed)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?yD.deserialize(t,r,i,s,a,o):C5.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return z(s,tg,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",z(s,Ky,t.uuid),s}};tg=new WeakMap,ed=new WeakMap,ng=new WeakMap,Ky=new WeakMap,He(Tl,"_type","signature"),He(Tl,"_editorType",xn.SIGNATURE),He(Tl,"_defaultDrawingOptions",null);let SD=Tl;var yi,ta,rg,Yh,ig,Mw,Jh,Xy,td,Wl,Dw,nr,r_,i_,sE,aE,oE,PD,lE,mie;class AD extends ei{constructor(t){super({...t,name:"stampEditor"});ee(this,nr);ee(this,yi,null);ee(this,ta,null);ee(this,rg,null);ee(this,Yh,null);ee(this,ig,null);ee(this,Mw,"");ee(this,Jh,null);ee(this,Xy,!1);ee(this,td,null);ee(this,Wl,!1);ee(this,Dw,!1);z(this,Yh,t.bitmapUrl),z(this,ig,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){ei.initialize(t,r)}static isHandlingMimeForPasting(t){return oM.includes(t)}static paste(t,r){r.pasteEditor({mode:xn.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;g(this,ta)&&(z(this,yi,null),this._uiManager.imageManager.deleteId(g(this,ta)),(t=g(this,Jh))==null||t.remove(),z(this,Jh,null),g(this,td)&&(clearTimeout(g(this,td)),z(this,td,null))),super.remove()}rebuild(){if(!this.parent){g(this,ta)&&re(this,nr,sE).call(this);return}super.rebuild(),this.div!==null&&(g(this,ta)&&g(this,Jh)===null&&re(this,nr,sE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(g(this,rg)||g(this,yi)||g(this,Yh)||g(this,ig)||g(this,ta)||g(this,Xy))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),g(this,Xy)||(g(this,yi)?re(this,nr,aE).call(this):re(this,nr,sE).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(z(this,ta,i),s&&z(this,yi,s),z(this,Xy,!1),re(this,nr,aE).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;g(this,td)!==null&&clearTimeout(g(this,td)),z(this,td,setTimeout(()=>{z(this,td,null),re(this,nr,PD).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=g(this,yi),o=new xd;let l=g(this,yi),c=s,u=a,f=null;if(r){if(s>r||a>r){const N=Math.min(r/s,r/a);c=Math.floor(s*N),u=Math.floor(a*N)}f=document.createElement("canvas");const p=f.width=Math.ceil(c*o.sx),x=f.height=Math.ceil(u*o.sy);g(this,Wl)||(l=re(this,nr,oE).call(this,p,x));const y=f.getContext("2d");y.filter=this._uiManager.hcmFilter;let w="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":f_e.isDarkMode&&(w="#8f8f9d",b="#42414d");const S=15,_=S*o.sx,P=S*o.sy,E=new OffscreenCanvas(_*2,P*2),C=E.getContext("2d");C.fillStyle=w,C.fillRect(0,0,_*2,P*2),C.fillStyle=b,C.fillRect(0,0,_,P),C.fillRect(_,P,_,P),y.fillStyle=y.createPattern(E,"repeat"),y.fillRect(0,0,p,x),y.drawImage(l,0,0,l.width,l.height,0,0,p,x)}let h=null;if(i){let p,x;if(o.symmetric&&l.width<t&&l.height<t)p=l.width,x=l.height;else if(l=g(this,yi),s>t||a>t){const b=Math.min(t/s,t/a);p=Math.floor(s*b),x=Math.floor(a*b),g(this,Wl)||(l=re(this,nr,oE).call(this,p,x))}const w=new OffscreenCanvas(p,x).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,p,x),h={width:p,height:x,data:w.getImageData(0,0,p,x).data}}return{canvas:f,width:c,height:u,imageData:h}}static async deserialize(t,r,i){var w;let s=null,a=!1;if(t instanceof Ore){const{data:{rect:b,rotation:S,id:_,structParent:P,popupRef:E,richText:C,contentsObj:N,creationDate:L,modificationDate:R},container:F,parent:{page:{pageNumber:j}},canvas:D}=t;let W,V;D?(delete t.canvas,{id:W,bitmap:V}=i.imageManager.getFromCanvas(F.id,D),D.remove()):(a=!0,t._hasNoCanvas=!0);const Z=((w=await r._structTree.getAriaAttributes(`${qF}${_}`))==null?void 0:w.get("aria-label"))||"";s=t={annotationType:xn.STAMP,bitmapId:W,bitmap:V,pageIndex:j-1,rect:b.slice(0),rotation:S,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:P,popupRef:E,richText:C,comment:(N==null?void 0:N.str)||null,creationDate:L,modificationDate:R}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:f,isSvg:h,accessibilityData:p}=t;a?(i.addMissingCanvas(t.id,o),z(o,Xy,!0)):f&&i.imageManager.isValidId(f)?(z(o,ta,f),c&&z(o,yi,c)):z(o,Yh,u),z(o,Wl,h);const[x,y]=o.pageDimensions;return o.width=(l[2]-l[0])/x,o.height=(l[3]-l[1])/y,p&&(o.altTextData=p),o._initialData=s,t.comment&&o.setCommentData(t),z(o,Dw,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:g(this,ta),isSvg:g(this,Wl)});if(this.addComment(i),t)return i.bitmapUrl=re(this,nr,lE).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=re(this,nr,mie).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=g(this,Wl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(g(this,ta)))r.stamps.set(g(this,ta),{area:o,serialized:i}),i.bitmap=re(this,nr,lE).call(this,!1);else if(g(this,Wl)){const l=r.stamps.get(g(this,ta));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=re(this,nr,lE).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}yi=new WeakMap,ta=new WeakMap,rg=new WeakMap,Yh=new WeakMap,ig=new WeakMap,Mw=new WeakMap,Jh=new WeakMap,Xy=new WeakMap,td=new WeakMap,Wl=new WeakMap,Dw=new WeakMap,nr=new WeakSet,r_=function(t,r=!1){if(!t){this.remove();return}z(this,yi,t.bitmap),r||(z(this,ta,t.id),z(this,Wl,t.isSvg)),t.file&&z(this,Mw,t.file.name),re(this,nr,aE).call(this)},i_=function(){if(z(this,rg,null),this._uiManager.enableWaiting(!1),!!g(this,Jh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,yi)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,yi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sE=function(){if(g(this,ta)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,ta)).then(i=>re(this,nr,r_).call(this,i,!0)).finally(()=>re(this,nr,i_).call(this));return}if(g(this,Yh)){const i=g(this,Yh);z(this,Yh,null),this._uiManager.enableWaiting(!0),z(this,rg,this._uiManager.imageManager.getFromUrl(i).then(s=>re(this,nr,r_).call(this,s)).finally(()=>re(this,nr,i_).call(this)));return}if(g(this,ig)){const i=g(this,ig);z(this,ig,null),this._uiManager.enableWaiting(!0),z(this,rg,this._uiManager.imageManager.getFromFile(i).then(s=>re(this,nr,r_).call(this,s)).finally(()=>re(this,nr,i_).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=oM.join(",");const r=this._uiManager._signal;z(this,rg,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),re(this,nr,r_).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>re(this,nr,i_).call(this))),t.click()},aE=function(){var c;const{div:t}=this;let{width:r,height:i}=g(this,yi);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const u=Math.min(o*s/r,o*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=z(this,Jh,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),re(this,nr,PD).call(this),g(this,Dw)||(this.parent.addUndoableEditor(this),z(this,Dw,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,Mw)&&this.div.setAttribute("aria-description",g(this,Mw)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},oE=function(t,r){const{width:i,height:s}=g(this,yi);let a=i,o=s,l=g(this,yi);for(;a>2*t||o>2*r;){const c=a,u=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=f.transferToImageBitmap()}return l},PD=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new xd,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),c=g(this,Jh);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=g(this,Wl)?g(this,yi):re(this,nr,oE).call(this,o,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(u,0,0,u.width,u.height,0,0,o,l)},lE=function(t){if(t){if(g(this,Wl)){const s=this._uiManager.imageManager.getSvgUrl(g(this,ta));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=g(this,yi),r.getContext("2d").drawImage(g(this,yi),0,0),r.toDataURL()}if(g(this,Wl)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Pg.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Pg.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(g(this,yi),0,0,g(this,yi).width,g(this,yi).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(g(this,yi))},mie=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},He(AD,"_type","stamp"),He(AD,"_editorType",xn.STAMP);var Yy,Fw,sg,ag,Zh,rl,og,Bw,$w,$u,Qh,na,ep,lg,qw,jt,cg,Ur,ED,gie,Of,TD,kD,cE;const Eu=class Eu{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){ee(this,Ur);ee(this,Yy);ee(this,Fw,!1);ee(this,sg,null);ee(this,ag,null);ee(this,Zh,null);ee(this,rl,new Map);ee(this,og,!1);ee(this,Bw,!1);ee(this,$w,!1);ee(this,$u,null);ee(this,Qh,null);ee(this,na,null);ee(this,ep,null);ee(this,lg,null);ee(this,qw,-1);ee(this,jt);const f=[...g(Eu,cg).values()];if(!Eu._initialized){Eu._initialized=!0;for(const h of f)h.initialize(u,e)}e.registerEditorTypes(f),z(this,jt,e),this.pageIndex=t,this.div=r,z(this,Yy,s),z(this,sg,a),this.viewport=c,z(this,na,l),this.drawLayer=o,this._structTree=i,g(this,jt).addLayer(this)}get isEmpty(){return g(this,rl).size===0}get isInvisible(){return this.isEmpty&&g(this,jt).getMode()===xn.NONE}updateToolbar(e){g(this,jt).updateToolbar(e)}updateMode(e=g(this,jt).getMode()){switch(re(this,Ur,cE).call(this),e){case xn.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case xn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===xn.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of g(Eu,cg).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,na))==null?void 0:t.div)}setEditingState(e){g(this,jt).setEditingState(e)}addCommands(e){g(this,jt).addCommands(e)}cleanUndoStack(e){g(this,jt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,sg))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;z(this,$w,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=g(this,lg))==null||r.abort(),z(this,lg,null);const e=new Set;for(const i of g(this,Ur,ED))i.enableEditing(),i.show(!0),i.annotationElementId&&(g(this,jt).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=g(this,sg);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),g(this,jt).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}z(this,$w,!1),g(this,jt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(z(this,Bw,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),g(this,na)&&!g(this,lg)){z(this,lg,new AbortController);const i=g(this,jt).combinedSignal(g(this,lg));g(this,na).div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,u=g(this,qw);if(c-u>500){z(this,qw,c);return}z(this,qw,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const h=document.elementsFromPoint(o,l);if(f.toggle("getElements",!1),!this.div.contains(h[0]))return;let p;const x=new RegExp(`^${R_}[0-9]+$`);for(const w of h)if(x.test(w.id)){p=w.id;break}if(!p)return;const y=g(this,rl).get(p);(y==null?void 0:y.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick(s))},{signal:i,capture:!0})}const e=g(this,sg);if(e){const i=new Map,s=new Map;for(const o of g(this,Ur,ED)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(g(this,jt).isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(g(this,jt).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}re(this,Ur,cE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of g(Eu,cg).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,Bw,!1)}getEditableAnnotation(e){var t;return((t=g(this,sg))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,jt).getActive()!==e&&g(this,jt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,na))!=null&&e.div&&!g(this,ep)){z(this,ep,new AbortController);const t=g(this,jt).combinedSignal(g(this,ep));g(this,na).div.addEventListener("pointerdown",re(this,Ur,gie).bind(this),{signal:t}),g(this,na).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,na))!=null&&e.div&&g(this,ep)&&(g(this,ep).abort(),z(this,ep,null),g(this,na).div.classList.remove("highlighting"))}enableClick(){if(g(this,ag))return;z(this,ag,new AbortController);const e=g(this,jt).combinedSignal(g(this,ag));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=g(this,ag))==null||e.abort(),z(this,ag,null)}attach(e){g(this,rl).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,jt).isDeletedAnnotationElement(t)&&g(this,jt).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,rl).delete(e.id),(t=g(this,Yy))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,Bw)&&e.annotationElementId&&g(this,jt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,jt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,jt).addDeletedAnnotationElement(e.annotationElementId),ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,jt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!g(this,$w)),g(this,jt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Zh)&&(e._focusEventsAllowed=!1,z(this,Zh,setTimeout(()=>{z(this,Zh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,jt)._signal}),t.focus())},0))),e._structTreeParentId=(r=g(this,Yy))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of g(this,rl).values())if(t.uid===e)return t;return null}getNextId(){return g(this,jt).getId()}combinedSignal(e){return g(this,jt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,Ur,Of))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await g(this,jt).updateMode(e.mode);const{offsetX:r,offsetY:i}=re(this,Ur,kD).call(this),s=this.getNextId(),a=re(this,Ur,TD).call(this,{parent:this,id:s,x:r,y:i,uiManager:g(this,jt),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=g(Eu,cg).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,jt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=re(this,Ur,TD).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,jt),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(re(this,Ur,kD).call(this),!0,e)}setSelected(e){g(this,jt).setSelected(e)}toggleSelected(e){g(this,jt).toggleSelected(e)}unselect(e){g(this,jt).unselect(e)}pointerup(e){var i;const{isMac:t}=Ca.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!g(this,og)||(z(this,og,!1),(i=g(this,Ur,Of))!=null&&i.isDrawer&&g(this,Ur,Of).supportMultipleDrawings))return;if(!g(this,Fw)){z(this,Fw,!0);return}const r=g(this,jt).getMode();if(r===xn.STAMP||r===xn.SIGNATURE){g(this,jt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(g(this,jt).getMode()===xn.HIGHLIGHT&&this.enableTextSelection(),g(this,og)){z(this,og,!1);return}const{isMac:t}=Ca.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(z(this,og,!0),(i=g(this,Ur,Of))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=g(this,jt).getActive();z(this,Fw,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),g(this,$u)){g(this,Ur,Of).startDrawing(this,g(this,jt),!1,e);return}g(this,jt).setCurrentDrawingSession(this),z(this,$u,new AbortController);const t=g(this,jt).combinedSignal(g(this,$u));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(z(this,Qh,null),this.commitOrRemove())},{signal:t}),g(this,Ur,Of).startDrawing(this,g(this,jt),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&z(this,Qh,t);return}g(this,Qh)&&setTimeout(()=>{var t;(t=g(this,Qh))==null||t.focus(),z(this,Qh,null)},0)}endDrawingSession(e=!1){return g(this,$u)?(g(this,jt).setCurrentDrawingSession(null),g(this,$u).abort(),z(this,$u,null),z(this,Qh,null),g(this,Ur,Of).endDrawing(e)):null}findNewParent(e,t,r){const i=g(this,jt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return g(this,$u)?(this.endDrawingSession(),!0):!1}onScaleChanging(){g(this,$u)&&g(this,Ur,Of).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=g(this,jt).getActive())==null?void 0:e.parent)===this&&(g(this,jt).commitOrRemove(),g(this,jt).setActiveEditor(null)),g(this,Zh)&&(clearTimeout(g(this,Zh)),z(this,Zh,null));for(const r of g(this,rl).values())(t=g(this,Yy))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,g(this,rl).clear(),g(this,jt).removeLayer(this)}render({viewport:e}){this.viewport=e,h0(this.div,e);for(const t of g(this,jt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,jt).commitOrRemove(),re(this,Ur,cE).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,h0(this.div,{rotation:r}),t!==r)for(const i of g(this,rl).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,jt).viewParameters.realScale}};Yy=new WeakMap,Fw=new WeakMap,sg=new WeakMap,ag=new WeakMap,Zh=new WeakMap,rl=new WeakMap,og=new WeakMap,Bw=new WeakMap,$w=new WeakMap,$u=new WeakMap,Qh=new WeakMap,na=new WeakMap,ep=new WeakMap,lg=new WeakMap,qw=new WeakMap,jt=new WeakMap,cg=new WeakMap,Ur=new WeakSet,ED=function(){return g(this,rl).size!==0?g(this,rl).values():g(this,jt).getEditors(this.pageIndex)},gie=function(e){g(this,jt).unselectAll();const{target:t}=e;if(t===g(this,na).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,na).div.contains(t)){const{isMac:r}=Ca.platform;if(e.button!==0||e.ctrlKey&&r)return;g(this,jt).showAllEditors("highlight",!0,!0),g(this,na).div.classList.add("free"),this.toggleDrawing(),ZE.startHighlighting(this,g(this,jt).direction==="ltr",{target:g(this,na).div,x:e.x,y:e.y}),g(this,na).div.addEventListener("pointerup",()=>{g(this,na).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,jt)._signal}),e.preventDefault()}},Of=function(){return g(Eu,cg).get(g(this,jt).getMode())},TD=function(e){const t=g(this,Ur,Of);return t?new t.prototype.constructor(e):null},kD=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+o)/2-e,u=(a+l)/2-t,[f,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:h}},cE=function(){for(const e of g(this,rl).values())e.isEmpty()&&e.remove()},He(Eu,"_initialized",!1),ee(Eu,cg,new Map([oD,vD,AD,ZE,SD].map(e=>[e._editorType,e])));let CD=Eu;var qu,mo,Jy,n5,xk,vie,Sd,OD,yie,jD;const js=class js{constructor({pageIndex:e}){ee(this,Sd);ee(this,qu,null);ee(this,mo,new Map);ee(this,Jy,new Map);this.pageIndex=e}setParent(e){if(!g(this,qu)){z(this,qu,e);return}if(g(this,qu)!==e){if(g(this,mo).size>0)for(const t of g(this,mo).values())t.remove(),e.append(t);z(this,qu,e)}}static get _svgFactory(){return Cn(this,"_svgFactory",new YE)}draw(e,t=!1,r=!1){const i=Cs(js,n5)._++,s=re(this,Sd,OD).call(this),a=js._svgFactory.createElement("defs");s.append(a);const o=js._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&g(this,Jy).set(i,o);const c=r?re(this,Sd,yie).call(this,a,l):null,u=js._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),g(this,mo).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=Cs(js,n5)._++,i=re(this,Sd,OD).call(this),s=js._svgFactory.createElement("defs");i.append(s);const a=js._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const f=js._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${r}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const h=js._svgFactory.createElement("rect");f.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=js._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=js._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),g(this,mo).set(r,i),r}finalizeDraw(e,t){g(this,Jy).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?g(this,mo).get(e):e;if(o){if(r&&re(this,Sd,jD).call(this,o,r),i&&re(l=js,xk,vie).call(l,o,i),s){const{classList:c}=o;for(const[u,f]of Object.entries(s))c.toggle(u,f)}if(a){const u=o.firstChild.firstChild;re(this,Sd,jD).call(this,u,a)}}}updateParent(e,t){if(t===this)return;const r=g(this,mo).get(e);r&&(g(t,qu).append(r),g(this,mo).delete(e),g(t,mo).set(e,r))}remove(e){g(this,Jy).delete(e),g(this,qu)!==null&&(g(this,mo).get(e).remove(),g(this,mo).delete(e))}destroy(){z(this,qu,null);for(const e of g(this,mo).values())e.remove();g(this,mo).clear(),g(this,Jy).clear()}};qu=new WeakMap,mo=new WeakMap,Jy=new WeakMap,n5=new WeakMap,xk=new WeakSet,vie=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Sd=new WeakSet,OD=function(){const e=js._svgFactory.create(1,1,!0);return g(this,qu).append(e),e.setAttribute("aria-hidden",!0),e},yie=function(e,t){const r=js._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=js._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},jD=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},ee(js,xk),ee(js,n5,0);let ND=js;globalThis._pdfjsTestingUtils={HighlightOutliner:cD};globalThis.pdfjsLib={AbortException:Ag,AnnotationEditorLayer:CD,AnnotationEditorParamsType:zn,AnnotationEditorType:xn,AnnotationEditorUIManager:p0,AnnotationLayer:iD,AnnotationMode:pm,AnnotationType:ds,applyOpacity:h_e,build:xSe,ColorPicker:KE,createValidAbsoluteUrl:dne,CSSConstants:d_e,DOMSVGFactory:YE,DrawLayer:ND,FeatureTest:Ca,fetchData:x5,findContrastColor:p_e,getDocument:mSe,getFilenameFromUrl:a_e,getPdfFilenameFromUrl:o_e,getRGB:S5,getUuid:mne,getXfaPageViewport:c_e,GlobalWorkerOptions:id,ImageKind:OC,InvalidPDFException:sM,isDataScheme:Yk,isPdfFile:zF,isValidExplicitDest:A_e,MathClamp:vo,noContextMenu:Jc,normalizeUnicode:r_e,OPS:I_,OutputScale:xd,PasswordResponses:K2e,PDFDataRangeTransport:vre,PDFDateString:UE,PDFWorker:F_,PermissionFlag:G2e,PixelsPerInch:Pg,RenderingCancelledException:UF,renderRichText:yne,ResponseException:qE,setLayerDimensions:h0,shadow:Cn,SignatureExtractor:tp,stopEvent:Gi,SupportedImageMimeTypes:oM,TextLayer:D_,TouchManager:HE,updateUrlHash:hne,Util:vt,VerbosityLevel:Gk,version:wSe,XfaLayer:vne};var VSe="Invariant failed";function g0(n,e){throw new Error(VSe)}function WSe({patients:n,labResults:e,onPatientUpdate:t,onLabResultAdd:r}){const[i,s]=U.useState(""),[a,o]=U.useState(null),[l,c]=U.useState(!1),[u,f]=U.useState({}),[h,p]=U.useState({type:"",name:"",results:"",file:null}),[x,y]=U.useState(!1),[w,b]=U.useState(null),[S,_]=U.useState([]),[P,E]=U.useState(null),{user:C}=Ku(),N=new Gt("CliniTrack");U.useEffect(()=>{(async()=>{if(C!=null&&C.email)try{const X=`user_${C.email}`,B=await N.get(X);b(B)}catch(X){X.name==="not_found"?console.warn("Current user not found in PouchDB"):console.error("Failed to fetch current user:",X)}})()},[C==null?void 0:C.email]),U.useEffect(()=>{(async()=>{if(a)try{const B=(await N.allDocs({include_docs:!0})).rows.map(G=>G.doc).filter(G=>(G==null?void 0:G.type)==="labResult"&&G.patientId===a.id);_(B)}catch(X){console.error("Failed to fetch lab files:",X)}})()},[a]);const L=n.filter(Q=>{var X,B;return Q.name.toLowerCase().includes(i.toLowerCase())||((X=Q.email)==null?void 0:X.toLowerCase().includes(i.toLowerCase()))||((B=Q.phone)==null?void 0:B.includes(i))}),R=Q=>e.filter(X=>X.patientId===Q),F=Q=>{o(Q),f(Q),c(!0)},j=async(Q,X,B,G)=>{try{const ie={_id:`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"activity",activityType:Q,patientId:X.id,patientName:X.name,labType:B,labFileName:G,performedBy:(w==null?void 0:w.name)||(C==null?void 0:C.name)||"System User",timestamp:new Date().toISOString(),details:Q==="patient_edit"?`Updated patient information for ${X.name}`:`Uploaded ${B||"file"} for ${X.name}`};await N.put(ie),console.log(" Activity logged:",ie)}catch(ne){console.error("Failed to log activity:",ne)}},D=async()=>{if(a&&u){const Q={...a,...u,updatedAt:new Date().toISOString()};try{const X=await N.get(a.id);await N.put({...X,...Q}),t(Q),o(Q),c(!1),await j("patient_edit",Q)}catch(X){console.error("Failed to update patient in PouchDB:",X)}}},W=async Q=>{if(Q.preventDefault(),!(!a||!h.file))try{const X=await h.file.arrayBuffer(),B=btoa(new Uint8Array(X).reduce((fe,he)=>fe+String.fromCharCode(he),"")),G=`lab_${a.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await N.put({_id:G,type:"labResult",patientId:a.id,name:h.name||h.file.name,fileType:h.file.type,fileName:h.file.name,fileSize:h.file.size,fileData:B,date:new Date().toISOString(),uploadedBy:(w==null?void 0:w.name)||(C==null?void 0:C.name)||"System User",results:h.results||"",labType:h.type||"Other"}),console.log(" Lab file saved to PouchDB:",h.file.name),await j("lab_upload",a,h.type||"Other",h.file.name);const ie=(await N.allDocs({include_docs:!0})).rows.map(fe=>fe.doc).filter(fe=>(fe==null?void 0:fe.type)==="labResult"&&fe.patientId===a.id);_(ie),p({type:"",name:"",results:"",file:null}),y(!1)}catch(X){console.error("Failed to save lab file to PouchDB:",X)}},V=async Q=>{if(confirm("Are you sure you want to delete this file?"))try{const X=await N.get(Q);await N.remove(X),_(B=>B.filter(G=>G._id!==Q)),console.log(" Lab file deleted from PouchDB")}catch(X){console.error("Failed to delete lab file:",X)}},Z=Q=>new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),J=Q=>{if(Q===0)return"0 Bytes";const X=1024,B=["Bytes","KB","MB","GB"],G=Math.floor(Math.log(Q)/Math.log(X));return parseFloat((Q/Math.pow(X,G)).toFixed(2))+" "+B[G]},K=Q=>{switch(Q){case"Ongoing":return"default";case"Cancer-Free":return"default";case"Under Observation":return"secondary";case"Recurrence":return"destructive";case"Deceased":return"destructive";default:return"outline"}},$=(Q,X)=>`data:${X};base64,${Q}`,te=Q=>{const X=atob(Q),B=new Array(X.length);for(let ie=0;ie<X.length;ie++)B[ie]=X.charCodeAt(ie);const G=new Uint8Array(B),ne=new Blob([G],{type:"application/pdf"});return URL.createObjectURL(ne)};return id.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Existing Patients"}),v.jsxs(ai,{children:["Search and manage existing patient records (",n.length," total patients)"]})]}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(d5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),v.jsx(In,{placeholder:"Search by name, email, or phone...",value:i,onChange:Q=>s(Q.target.value),className:"pl-10"})]}),v.jsx("div",{className:"grid gap-4",children:L.length===0?v.jsxs("div",{className:"text-center py-8",children:[v.jsx(jk,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No patients found"}),v.jsx("p",{className:"text-muted-foreground",children:i?"Try adjusting your search terms.":"No patients have been registered yet."})]}):L.map(Q=>{var B,G,ne;const X=R(Q.id);return v.jsx(Ft,{className:"cursor-pointer hover:shadow-md transition-shadow",children:v.jsx(tn,{className:"pt-4",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[v.jsx("h3",{className:"font-medium",children:Q.name}),v.jsxs(ir,{variant:"outline",children:[Q.age," years, ",Q.gender]}),v.jsx(ir,{variant:K(Q.status),children:Q.status})]}),v.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[Q.email&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(q8,{className:"h-3 w-3"}),v.jsx("span",{children:Q.email})]}),Q.phone&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(kZ,{className:"h-3 w-3"}),v.jsx("span",{children:Q.phone})]}),v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(I2,{className:"h-3 w-3"}),v.jsxs("span",{children:["Added ",Z(Q.createdAt)]})]})]}),X.length>0&&v.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[v.jsx(sd,{className:"h-3 w-3"}),v.jsxs("span",{children:[X.length," lab result(s)"]})]})]}),v.jsx("div",{className:"flex space-x-2",children:v.jsxs(DE,{children:[v.jsx(une,{asChild:!0,children:v.jsx(zt,{variant:"outline",size:"sm",onClick:()=>o(Q),children:"View Details"})}),v.jsxs(FE,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[v.jsxs(BE,{children:[v.jsx($E,{children:"Patient Details"}),v.jsx(fne,{children:"View and manage patient information"})]}),a&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"font-medium",children:"Patient Information"}),v.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>F(a),children:[v.jsx(Tme,{className:"h-4 w-4 mr-2"})," Edit"]})]}),l?v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Name"}),v.jsx(In,{value:u.name||"",onChange:ie=>f(fe=>({...fe,name:ie.target.value}))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Age"}),v.jsx(In,{type:"number",value:u.age||"",onChange:ie=>f(fe=>({...fe,age:Number(ie.target.value)}))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Email"}),v.jsx(In,{type:"email",value:u.email||"",onChange:ie=>f(fe=>({...fe,email:ie.target.value}))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Phone"}),v.jsx(In,{value:u.phone||"",onChange:ie=>f(fe=>({...fe,phone:ie.target.value}))})]}),v.jsxs("div",{className:"col-span-2 space-y-2",children:[v.jsx(It,{children:"Address"}),v.jsx(Xw,{value:u.address||"",onChange:ie=>f(fe=>({...fe,address:ie.target.value}))})]}),v.jsxs("div",{className:"col-span-2 flex space-x-2",children:[v.jsx(zt,{onClick:D,children:"Save Changes"}),v.jsx(zt,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]}):v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Name:"})," ",a.name]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Age:"})," ",a.age]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Gender:"})," ",a.gender]}),a.email&&v.jsxs("div",{children:[v.jsx("strong",{children:"Email:"})," ",a.email]}),a.phone&&v.jsxs("div",{children:[v.jsx("strong",{children:"Phone:"})," ",a.phone]}),a.address&&v.jsxs("div",{className:"col-span-2",children:[v.jsx("strong",{children:"Address:"})," ",a.address]}),((B=a.emergencyContact)==null?void 0:B.name)&&v.jsxs("div",{className:"col-span-2",children:[v.jsx("strong",{children:"Emergency Contact:"})," ",a.emergencyContact.name,"(",a.emergencyContact.relationship,") - ",a.emergencyContact.phone]})]})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-medium",children:"Medical History"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:((G=a.medicalHistory)==null?void 0:G.length)>0?a.medicalHistory.map((ie,fe)=>v.jsx(ir,{variant:"secondary",children:ie},fe)):v.jsx("span",{className:"text-muted-foreground text-sm",children:"No medical history recorded"})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-medium",children:"Allergies"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:((ne=a.allergies)==null?void 0:ne.length)>0?a.allergies.map((ie,fe)=>v.jsx(ir,{variant:"destructive",children:ie},fe)):v.jsx("span",{className:"text-muted-foreground text-sm",children:"No allergies recorded"})})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h3",{className:"font-medium",children:["Lab/Imaging Files (",S.length,")"]}),v.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>y(!0),children:[v.jsx(OZ,{className:"h-4 w-4 mr-2"}),"Upload New File"]})]}),x&&v.jsx(Ft,{className:"p-4",children:v.jsxs("form",{onSubmit:W,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Type *"}),v.jsxs(bo,{value:h.type,onValueChange:ie=>p(fe=>({...fe,type:ie})),children:[v.jsx(xo,{children:v.jsx(wo,{placeholder:"Select type"})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Blood Test",children:"Blood Test"}),v.jsx(Mt,{value:"Imaging",children:"Imaging"}),v.jsx(Mt,{value:"Biopsy",children:"Biopsy"}),v.jsx(Mt,{value:"Urine Test",children:"Urine Test"}),v.jsx(Mt,{value:"Other",children:"Other"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Test Name"}),v.jsx(In,{value:h.name,onChange:ie=>p(fe=>({...fe,name:ie.target.value})),placeholder:"e.g., Complete Blood Count"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Results/Notes (optional)"}),v.jsx(Xw,{value:h.results,onChange:ie=>p(fe=>({...fe,results:ie.target.value})),placeholder:"Enter test results or notes...",rows:3})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"File *"}),v.jsx(In,{type:"file",accept:".pdf,.png,.jpg,.jpeg,image/*",onChange:ie=>p(fe=>{var he;return{...fe,file:((he=ie.target.files)==null?void 0:he[0])||null}})})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(zt,{type:"submit",disabled:!h.file||!h.type,children:"Upload File"}),v.jsx(zt,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"})]})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[S.map(ie=>{const fe=ie.fileType.startsWith("image/"),he=ie.fileType==="application/pdf",oe=$(ie.fileData,ie.fileType);return v.jsxs(Ft,{className:"overflow-hidden",children:[fe&&v.jsxs("div",{className:"aspect-video bg-muted cursor-pointer relative group",onClick:()=>E({type:"image",src:oe}),children:[v.jsx("img",{src:oe,alt:ie.name,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:v.jsx(xI,{className:"h-8 w-8 text-white"})})]}),he&&v.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center cursor-pointer",onClick:()=>E({type:"pdf",src:te(ie.fileData)}),children:v.jsx(sd,{className:"h-12 w-12 text-muted-foreground"})}),v.jsx(tn,{className:"p-3",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm truncate",children:ie.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:Z(ie.date)})]}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[v.jsx("span",{children:J(ie.fileSize)}),v.jsx(zt,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>V(ie._id),children:v.jsx(_I,{className:"h-3 w-3"})})]}),v.jsxs("p",{className:"text-xs",children:["Uploaded by: ",ie.uploadedBy]})]})})]},ie._id)}),S.length===0&&v.jsx("div",{className:"col-span-full text-center py-8 text-muted-foreground text-sm",children:"No lab files uploaded yet"})]})]})]})]})]})})]})})},Q.id)})})]})})]}),P&&v.jsx(DE,{open:!0,onOpenChange:()=>E(null),children:v.jsxs(FE,{className:"max-w-4xl",children:[v.jsx(BE,{children:v.jsx($E,{className:"mb-2",children:P.type==="image"?"Image Preview":"PDF Preview"})}),P.type==="image"&&v.jsx("img",{src:P.src,alt:"Lab result preview",className:"w-full max-h-[70vh] object-contain"}),(P==null?void 0:P.type)==="pdf"&&v.jsx("div",{className:"h-[100vh] overflow-auto",children:v.jsx("iframe",{src:P.src,style:{width:"100%",height:"80vh",border:"none"}})})]})})]})}var Qk="Tabs",[GSe]=nf(Qk,[Mk]),bie=Mk(),[KSe,JF]=GSe(Qk),wie=U.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=n,u=f5(o),[f,h]=xg({prop:r,onChange:i,defaultProp:s??"",caller:Qk});return v.jsx(KSe,{scope:t,baseId:op(),value:f,onValueChange:h,orientation:a,dir:u,activationMode:l,children:v.jsx(cn.div,{dir:u,"data-orientation":a,...c,ref:e})})});wie.displayName=Qk;var xie="TabsList",_ie=U.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=JF(xie,t),a=bie(t);return v.jsx(yee,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(cn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});_ie.displayName=xie;var Sie="TabsTrigger",Aie=U.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,a=JF(Sie,t),o=bie(t),l=Eie(a.baseId,r),c=Tie(a.baseId,r),u=r===a.value;return v.jsx(bee,{asChild:!0,...o,focusable:!i,active:u,children:v.jsx(cn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:dn(n.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:dn(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:dn(n.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});Aie.displayName=Sie;var Pie="TabsContent",Cie=U.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...a}=n,o=JF(Pie,t),l=Eie(o.baseId,r),c=Tie(o.baseId,r),u=r===o.value,f=U.useRef(u);return U.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),v.jsx(tf,{present:i||u,children:({present:h})=>v.jsx(cn.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Cie.displayName=Pie;function Eie(n,e){return`${n}-trigger-${e}`}function Tie(n,e){return`${n}-content-${e}`}var XSe=wie,YSe=_ie,JSe=Aie,ZSe=Cie;function eN({className:n,...e}){return v.jsx(XSe,{"data-slot":"tabs",className:Xn("flex flex-col gap-2",n),...e})}function tN({className:n,...e}){return v.jsx(YSe,{"data-slot":"tabs-list",className:Xn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Ao({className:n,...e}){return v.jsx(JSe,{"data-slot":"tabs-trigger",className:Xn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Po({className:n,...e}){return v.jsx(ZSe,{"data-slot":"tabs-content",className:Xn("flex-1 outline-none",n),...e})}function QSe({patients:n,labResults:e,visits:t,riskAssessments:r}){const[i,s]=U.useState(""),[a,o]=U.useState(null),[l,c]=U.useState([]),[u,f]=U.useState(null),[h,p]=U.useState([]),x=new Gt("CliniTrack");U.useEffect(()=>{(async()=>{if(a)try{const V=(await x.allDocs({include_docs:!0})).rows.map(Z=>Z.doc).filter(Z=>(Z==null?void 0:Z.type)==="labResult"&&Z.patientId===a.id);c(V)}catch(W){console.error("Failed to fetch lab files:",W)}})()},[a]);const y=(D,W)=>`data:${W};base64,${D}`,w=D=>{const W=atob(D),V=new Array(W.length);for(let K=0;K<W.length;K++)V[K]=W.charCodeAt(K);const Z=new Uint8Array(V),J=new Blob([Z],{type:"application/pdf"});return URL.createObjectURL(J)},b=D=>{if(D===0)return"0 Bytes";const W=1024,V=["Bytes","KB","MB","GB"],Z=Math.floor(Math.log(D)/Math.log(W));return parseFloat((D/Math.pow(W,Z)).toFixed(2))+" "+V[Z]},S=async D=>{if(confirm("Are you sure you want to delete this file?"))try{const W=await x.get(D);await x.remove(W),c(V=>V.filter(Z=>Z._id!==D)),console.log(" Lab file deleted from PouchDB")}catch(W){console.error("Failed to delete lab file:",W)}},_=n.filter(D=>D.name.toLowerCase().includes(i.toLowerCase())||D.email.toLowerCase().includes(i.toLowerCase())),P=D=>l.filter(W=>W.patientId===D);U.useEffect(()=>{const D=async()=>{try{const Z=(await x.allDocs({include_docs:!0})).rows.map(J=>J.doc).filter(J=>(J==null?void 0:J.type)==="visit");p(Z)}catch(V){console.error("Failed to fetch visits:",V)}};D();const W=x.changes({since:"now",live:!0,include_docs:!0}).on("change",V=>{var Z;((Z=V.doc)==null?void 0:Z.type)==="visit"&&D()});return()=>W.cancel()},[]);const E=D=>h.filter(W=>W.patientId===D).sort((W,V)=>new Date(V.date).getTime()-new Date(W.date).getTime()),C=D=>r.filter(W=>W.patientId===D).sort((W,V)=>new Date(V.date).getTime()-new Date(W.date).getTime()),N=D=>{const W=C(D);return W.length>0?W[0]:null},L=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=D=>{switch(D){case"High":return"destructive";case"Moderate":return"secondary";case"Low":return"default";default:return"outline"}},F=D=>{switch(D){case"Ongoing":return"default";case"Cancer-Free":return"default";case"Under Observation":return"secondary";case"Recurrence":return"destructive";case"Deceased":return"destructive";default:return"outline"}},j=D=>{const W=new Date;return W.setMonth(W.getMonth()-3),new Date(D)<W};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Patient Profiles"}),v.jsx(ai,{children:"View complete patient records, visit history, and risk assessments"})]}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(d5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),v.jsx(In,{placeholder:"Search patients by name or email...",value:i,onChange:D=>s(D.target.value),className:"pl-10"})]}),v.jsx("div",{className:"grid gap-4",children:_.length===0?v.jsxs("div",{className:"text-center py-8",children:[v.jsx(jk,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No patients found"}),v.jsx("p",{className:"text-muted-foreground",children:i?"Try adjusting your search terms.":"No patients have been registered yet."})]}):_.map(D=>{var K,$,te;const W=E(D.id),V=N(D.id),Z=W[0],J=Z&&j(Z.date);return v.jsx(Ft,{className:"cursor-pointer hover:shadow-md transition-shadow",children:v.jsx(tn,{className:"pt-4",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2 flex-1",children:[v.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[v.jsx("h3",{className:"font-medium",children:D.name}),v.jsxs(ir,{variant:"outline",children:[D.age," years, ",D.gender]}),v.jsx(ir,{variant:F(D.status),children:D.status}),V&&v.jsxs(ir,{variant:R(V.riskLevel),children:[V.riskLevel," Risk"]}),J&&v.jsxs(ir,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[v.jsx(EZ,{className:"h-3 w-3 mr-1"}),"Follow-up Due"]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[v.jsxs("div",{children:["Email: ",D.email]}),v.jsxs("div",{children:["Phone: ",D.phone]}),D.cancerType&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(bd,{className:"h-3 w-3"}),v.jsxs("span",{children:[D.cancerType," ",D.stage&&`(${D.stage})`]})]}),D.diagnosisDate&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(I2,{className:"h-3 w-3"}),v.jsxs("span",{children:["Diagnosed: ",L(D.diagnosisDate+"T00:00:00Z")]})]}),Z&&v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(I2,{className:"h-3 w-3"}),v.jsxs("span",{children:["Last visit: ",L(Z.date)]})]}),v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(sd,{className:"h-3 w-3"}),v.jsxs("span",{children:[P(D.id).length," lab result(s)"]})]})]}),V&&V.recommendation&&v.jsxs("div",{className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:[v.jsx("strong",{children:"Latest AI Assessment:"})," ",V.recommendation]})]}),v.jsxs(DE,{children:[v.jsx(une,{asChild:!0,children:v.jsx(zt,{variant:"outline",onClick:()=>o(D),children:"View Profile"})}),v.jsxs(FE,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[v.jsxs(BE,{children:[v.jsxs($E,{children:["Patient Profile: ",D.name]}),v.jsx(fne,{children:"Complete medical record and visit history"})]}),a&&v.jsxs(eN,{defaultValue:"overview",className:"space-y-4",children:[v.jsxs(tN,{className:"grid w-full grid-cols-4",children:[v.jsx(Ao,{value:"overview",children:"Overview"}),v.jsx(Ao,{value:"visits",children:"Visit History"}),v.jsx(Ao,{value:"labs",children:"Lab Results"}),v.jsx(Ao,{value:"risk",children:"Risk Reports"})]}),v.jsxs(Po,{value:"overview",className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{className:"text-lg",children:"Patient Information"})}),v.jsxs(tn,{className:"space-y-2 text-sm",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Name:"})," ",a.name]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Age:"})," ",a.age]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Gender:"})," ",a.gender]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Email:"})," ",a.email]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Phone:"})," ",a.phone]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Address:"})," ",a.address]}),((K=a.emergencyContact)==null?void 0:K.name)&&v.jsxs("div",{children:[v.jsx("strong",{children:"Emergency Contact:"}),v.jsx("br",{}),a.emergencyContact.name," (",a.emergencyContact.relationship,")",v.jsx("br",{}),a.emergencyContact.phone]})]})]}),v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{className:"text-lg",children:"Medical Information"})}),v.jsxs(tn,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Medical History:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(($=a.medicalHistory)==null?void 0:$.length)>0?a.medicalHistory.map((Q,X)=>v.jsx(ir,{variant:"secondary",className:"text-xs",children:Q},X)):v.jsx("span",{className:"text-muted-foreground text-xs",children:"None recorded"})})]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Allergies:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((te=a.allergies)==null?void 0:te.length)>0?a.allergies.map((Q,X)=>v.jsx(ir,{variant:"destructive",className:"text-xs",children:Q},X)):v.jsx("span",{className:"text-muted-foreground text-xs",children:"None recorded"})})]}),V&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Current Risk Level:"}),v.jsx("div",{className:"mt-1",children:v.jsxs(ir,{variant:R(V.riskLevel),className:"text-xs",children:[V.riskLevel," Risk (",V.confidence,"% confidence)"]})}),V.recommendation&&v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:V.recommendation})]})]})]})]}),v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{className:"text-lg",children:"Recent Activity"})}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-3",children:[E(a.id).slice(0,3).map(Q=>{var X;return v.jsxs("div",{className:"border-l-2 border-primary pl-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(I2,{className:"h-4 w-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm font-medium",children:L(Q.date)})]}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Q.diagnosis}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(X=Q.symptoms)==null?void 0:X.map((B,G)=>v.jsx(ir,{variant:"outline",className:"text-xs",children:B},G))})]},Q.id)}),E(a.id).length===0&&v.jsx("p",{className:"text-muted-foreground text-sm",children:"No visits recorded"})]})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"font-medium",children:["Lab/Imaging Files (",l.length,")"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.map(Q=>{const X=Q.fileType.startsWith("image/"),B=Q.fileType==="application/pdf",G=y(Q.fileData,Q.fileType);return v.jsxs(Ft,{className:"overflow-hidden",children:[X&&v.jsxs("div",{className:"aspect-video bg-muted cursor-pointer relative group",onClick:()=>f({type:"image",src:G}),children:[v.jsx("img",{src:G,alt:Q.name,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:v.jsx(xI,{className:"h-8 w-8 text-white"})})]}),B&&v.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center cursor-pointer",onClick:()=>f({type:"pdf",src:w(Q.fileData)}),children:v.jsx(sd,{className:"h-12 w-12 text-muted-foreground"})}),v.jsx(tn,{className:"p-3",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:L(Q.date)})]}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[v.jsx("span",{children:b(Q.fileSize)}),v.jsx(zt,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>S(Q._id),children:v.jsx(_I,{className:"h-3 w-3"})})]}),v.jsxs("p",{className:"text-xs",children:["Uploaded by: ",Q.uploadedBy]})]})})]},Q._id)}),l.length===0&&v.jsx("div",{className:"col-span-full text-center py-8 text-muted-foreground text-sm",children:"No lab files uploaded yet"})]})]})]}),v.jsx(Po,{value:"visits",className:"space-y-4",children:v.jsxs("div",{className:"space-y-4",children:[E(a.id).map(Q=>{var X;return v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx($n,{className:"text-lg",children:L(Q.date)}),v.jsx(ir,{variant:"outline",children:Q.doctorName})]})}),v.jsxs(tn,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Symptoms:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(X=Q.symptoms)==null?void 0:X.map((B,G)=>v.jsx(ir,{variant:"outline",className:"text-xs",children:B},G))})]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Diagnosis:"}),v.jsx("p",{className:"text-sm mt-1",children:Q.diagnosis})]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Treatment:"}),v.jsx("p",{className:"text-sm mt-1",children:Q.treatment})]}),Q.notes&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Notes:"}),v.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:Q.notes})]})]})]},Q.id)}),E(a.id).length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx(I2,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No visits recorded"}),v.jsx("p",{className:"text-muted-foreground",children:"This patient has no visit history yet."})]})]})}),v.jsx(Po,{value:"labs",className:"space-y-4",children:v.jsxs("div",{className:"space-y-4",children:[P(a.id).map(Q=>{const X=Q.fileType.startsWith("image/"),B=Q.fileType==="application/pdf",G=y(Q.fileData,Q.fileType);return v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx($n,{className:"text-lg",children:Q.name}),v.jsxs("div",{className:"flex items-center space-x-2",children:[Q.labType&&v.jsx(ir,{variant:"outline",children:Q.labType}),v.jsx("span",{className:"text-sm text-muted-foreground",children:L(Q.date)})]})]})}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-4",children:[Q.results&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Results/Notes:"}),v.jsx("pre",{className:"text-sm mt-1 whitespace-pre-wrap font-mono bg-muted p-2 rounded text-muted-foreground",children:Q.results})]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Attached File:"}),v.jsxs("div",{className:"mt-2",children:[X&&v.jsxs("div",{className:"relative w-full max-w-md cursor-pointer border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",onClick:()=>f({type:"image",src:G}),children:[v.jsx("img",{src:G,alt:Q.name,className:"w-full h-auto object-contain"}),v.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center",children:v.jsx(xI,{className:"h-8 w-8 text-white opacity-0 hover:opacity-100 transition-opacity"})})]}),B&&v.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>f({type:"pdf",src:w(Q.fileData)}),children:[v.jsx(sd,{className:"h-4 w-4 mr-2"}),"View PDF: ",Q.fileName]}),v.jsxs("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("span",{children:["File: ",Q.fileName]}),v.jsx("span",{children:b(Q.fileSize)})]}),v.jsxs("div",{children:["Uploaded by: ",Q.uploadedBy]})]})]})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs(zt,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>S(Q._id),children:[v.jsx(_I,{className:"h-4 w-4 mr-2"}),"Delete File"]})})]})})]},Q._id)}),P(a.id).length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx(sd,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No lab results"}),v.jsx("p",{className:"text-muted-foreground",children:"No lab results have been uploaded for this patient."})]})]})}),v.jsx(Po,{value:"risk",className:"space-y-4",children:v.jsxs("div",{className:"space-y-4",children:[C(a.id).map(Q=>v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs($n,{className:"text-lg flex items-center space-x-2",children:[v.jsx(bd,{className:"h-5 w-5"}),v.jsx("span",{children:"Risk Assessment"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs(ir,{variant:R(Q.riskLevel),children:[Q.riskLevel," Risk"]}),v.jsx("span",{className:"text-sm text-muted-foreground",children:L(Q.date)})]})]})}),v.jsxs(tn,{className:"space-y-4",children:[Q.symptoms&&Q.symptoms.length>0&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Analyzed Symptoms:"}),v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Q.symptoms.map((X,B)=>v.jsx(ir,{variant:"outline",className:"text-xs",children:X},B))})]}),Q.factors&&Q.factors.length>0&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Risk Factors:"}),v.jsx("ul",{className:"text-sm mt-1 space-y-1",children:Q.factors.map((X,B)=>v.jsxs("li",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),v.jsx("span",{children:X})]},B))})]}),Q.recommendation&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"AI Recommendation:"}),v.jsxs("div",{className:"bg-muted p-3 rounded mt-1",children:[v.jsx("p",{className:"text-sm",children:Q.recommendation}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Confidence: ",Q.confidence,"%"]})]})]}),Q.doctorNotes&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-sm",children:"Doctor's Notes:"}),v.jsxs("p",{className:"text-sm mt-1 bg-blue-50 p-3 rounded border-l-4 border-blue-200",children:[Q.doctorNotes,Q.doctorOverride&&v.jsx("span",{className:"block text-xs text-blue-600 mt-1",children:" Doctor override applied"})]})]})]})]},Q.id)),C(a.id).length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx(yg,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No risk assessments"}),v.jsx("p",{className:"text-muted-foreground",children:"No AI risk assessments have been performed for this patient."})]})]})})]})]})]})]})})},D.id)})})]})})]}),u&&v.jsx(DE,{open:!0,onOpenChange:()=>f(null),children:v.jsxs(FE,{className:"max-w-4xl",children:[v.jsx(BE,{children:v.jsx($E,{className:"mb-2",children:u.type==="image"?"Image Preview":"PDF Preview"})}),u.type==="image"&&v.jsx("img",{src:u.src,alt:"Lab result preview",className:"w-full max-h-[70vh] object-contain"}),(u==null?void 0:u.type)==="pdf"&&v.jsx("div",{className:"h-[100vh] overflow-auto",children:v.jsx("iframe",{src:u.src,style:{width:"100%",height:"80vh",border:"none"}})})]})})]})}function eAe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}eAe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var E5=n=>typeof n=="number"&&!isNaN(n),v0=n=>typeof n=="string",vp=n=>typeof n=="function",tAe=n=>v0(n)||E5(n),LD=n=>v0(n)||vp(n)?n:null,nAe=(n,e)=>n===!1||E5(n)&&n>0?n:e,RD=n=>U.isValidElement(n)||v0(n)||vp(n)||E5(n);function rAe(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function iAe({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:f}){let h=t?`${n}--${a}`:n,p=t?`${e}--${a}`:e,x=U.useRef(0);return U.useLayoutEffect(()=>{let y=c.current,w=h.split(" "),b=S=>{S.target===c.current&&(f(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),x.current===0&&S.type!=="animationcancel"&&y.classList.remove(...w))};y.classList.add(...w),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),U.useEffect(()=>{let y=c.current,w=()=>{y.removeEventListener("animationend",w),r?rAe(y,l,i):l()};u||(o?w():(x.current=1,y.className+=` ${p}`,y.addEventListener("animationend",w)))},[u]),de.createElement(de.Fragment,null,s)}}function DU(n,e){return{content:kie(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function kie(n,e,t=!1){return U.isValidElement(n)&&!v0(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):vp(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function sAe({closeToast:n,theme:e,ariaLabel:t="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aAe({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let f=i||a&&o===0,h={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};a&&(h.transform=`scaleX(${o})`);let p=Kt("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),x=vp(s)?s({rtl:l,type:r,defaultClassName:p}):Kt(p,s),y={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&t()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...y}))}var oAe=1,Nie=()=>`${oAe++}`;function lAe(n,e,t){let r=1,i=0,s=[],a=[],o=e,l=new Map,c=new Set,u=S=>(c.add(S),()=>c.delete(S)),f=()=>{a=Array.from(l.values()),c.forEach(S=>S())},h=({containerId:S,toastId:_,updateId:P})=>{let E=S?S!==n:n!==1,C=l.has(_)&&P==null;return E||C},p=(S,_)=>{l.forEach(P=>{var E;(_==null||_===P.props.toastId)&&((E=P.toggle)==null||E.call(P,S))})},x=S=>{var _,P;(P=(_=S.props)==null?void 0:_.onClose)==null||P.call(_,S.removalReason),S.isActive=!1},y=S=>{if(S==null)l.forEach(x);else{let _=l.get(S);_&&x(_)}f()},w=()=>{i-=s.length,s=[]},b=S=>{var _,P;let{toastId:E,updateId:C}=S.props,N=C==null;S.staleId&&l.delete(S.staleId),S.isActive=!0,l.set(E,S),f(),t(DU(S,N?"added":"updated")),N&&((P=(_=S.props).onOpen)==null||P.call(_))};return{id:n,props:o,observe:u,toggle:p,removeToast:y,toasts:l,clearQueue:w,buildToast:(S,_)=>{if(h(_))return;let{toastId:P,updateId:E,data:C,staleId:N,delay:L}=_,R=E==null;R&&i++;let F={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([D,W])=>W!=null)),toastId:P,updateId:E,data:C,isIn:!1,className:LD(_.className||o.toastClassName),progressClassName:LD(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:nAe(_.autoClose,o.autoClose),closeToast(D){l.get(P).removalReason=D,y(P)},deleteToast(){let D=l.get(P);if(D!=null){if(t(DU(D,"removed")),l.delete(P),i--,i<0&&(i=0),s.length>0){b(s.shift());return}f()}}};F.closeButton=o.closeButton,_.closeButton===!1||RD(_.closeButton)?F.closeButton=_.closeButton:_.closeButton===!0&&(F.closeButton=RD(o.closeButton)?o.closeButton:!0);let j={content:S,props:F,staleId:N};o.limit&&o.limit>0&&i>o.limit&&R?s.push(j):E5(L)?setTimeout(()=>{b(j)},L):b(j)},setProps(S){o=S},setToggle:(S,_)=>{let P=l.get(S);P&&(P.toggle=_)},isToastActive:S=>{var _;return(_=l.get(S))==null?void 0:_.isActive},getSnapshot:()=>a}}var Eo=new Map,B_=[],ID=new Set,cAe=n=>ID.forEach(e=>e(n)),Oie=()=>Eo.size>0;function uAe(){B_.forEach(n=>Lie(n.content,n.options)),B_=[]}var fAe=(n,{containerId:e})=>{var t;return(t=Eo.get(e||1))==null?void 0:t.toasts.get(n)};function jie(n,e){var t;if(e)return!!((t=Eo.get(e))!=null&&t.isToastActive(n));let r=!1;return Eo.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function dAe(n){if(!Oie()){B_=B_.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||tAe(n))Eo.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Eo.get(n.containerId);e?e.removeToast(n.id):Eo.forEach(t=>{t.removeToast(n.id)})}}var hAe=(n={})=>{Eo.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Lie(n,e){RD(n)&&(Oie()||B_.push({content:n,options:e}),Eo.forEach(t=>{t.buildToast(n,e)}))}function pAe(n){var e;(e=Eo.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Rie(n,e){Eo.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function mAe(n){let e=n.containerId||1;return{subscribe(t){let r=lAe(e,n,cAe);Eo.set(e,r);let i=r.observe(t);return uAe(),()=>{i(),Eo.delete(e)}},setProps(t){var r;(r=Eo.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Eo.get(e))==null?void 0:t.getSnapshot()}}}function gAe(n){return ID.add(n),()=>{ID.delete(n)}}function vAe(n){return n&&(v0(n.toastId)||E5(n.toastId))?n.toastId:Nie()}function T5(n,e){return Lie(n,e),e.toastId}function nN(n,e){return{...e,type:e&&e.type||n,toastId:vAe(e)}}function rN(n){return(e,t)=>T5(e,nN(n,t))}function Ir(n,e){return T5(n,nN("default",e))}Ir.loading=(n,e)=>T5(n,nN("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function yAe(n,{pending:e,error:t,success:r},i){let s;e&&(s=v0(e)?Ir.loading(e,i):Ir.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,u,f)=>{if(u==null){Ir.dismiss(s);return}let h={type:c,...a,...i,data:f},p=v0(u)?{render:u}:u;return s?Ir.update(s,{...h,...p}):Ir(p.render,{...h,...p}),f},l=vp(n)?n():n;return l.then(c=>o("success",r,c)).catch(c=>o("error",t,c)),l}Ir.promise=yAe;Ir.success=rN("success");Ir.info=rN("info");Ir.error=rN("error");Ir.warning=rN("warning");Ir.warn=Ir.warning;Ir.dark=(n,e)=>T5(n,nN("default",{theme:"dark",...e}));function bAe(n){dAe(n)}Ir.dismiss=bAe;Ir.clearWaitingQueue=hAe;Ir.isActive=jie;Ir.update=(n,e={})=>{let t=fAe(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:Nie()};s.toastId!==n&&(s.staleId=n);let a=s.render||i;delete s.render,T5(a,s)}};Ir.done=n=>{Ir.update(n,{progress:1})};Ir.onChange=gAe;Ir.play=n=>Rie(!0,n);Ir.pause=n=>Rie(!1,n);function wAe(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=U.useRef(mAe(n)).current;i(n);let s=(e=U.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function a(o){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:jie,count:s==null?void 0:s.length}}function xAe(n){let[e,t]=U.useState(!1),[r,i]=U.useState(!1),s=U.useRef(null),a=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=n;pAe({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return h(),()=>{p()}},[n.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",w),window.addEventListener("blur",b)}function p(){window.removeEventListener("focus",w),window.removeEventListener("blur",b)}function x(N){if(n.draggable===!0||n.draggable===N.pointerType){S();let L=s.current;a.canCloseOnClick=!0,a.canDrag=!0,L.style.transition="none",n.draggableDirection==="x"?(a.start=N.clientX,a.removalDistance=L.offsetWidth*(n.draggablePercent/100)):(a.start=N.clientY,a.removalDistance=L.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function y(N){let{top:L,bottom:R,left:F,right:j}=s.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=F&&N.clientX<=j&&N.clientY>=L&&N.clientY<=R?b():w()}function w(){t(!0)}function b(){t(!1)}function S(){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",E)}function _(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",E)}function P(N){let L=s.current;if(a.canDrag&&L){a.didMove=!0,e&&b(),n.draggableDirection==="x"?a.delta=N.clientX-a.start:a.delta=N.clientY-a.start,a.start!==N.clientX&&(a.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;L.style.transform=`translate3d(${R},0)`,L.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function E(){_();let N=s.current;if(a.canDrag&&a.didMove&&N){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let C={onPointerDown:x,onPointerUp:y};return o&&l&&(C.onMouseEnter=b,n.stacked||(C.onMouseLeave=w)),f&&(C.onClick=N=>{u&&u(N),a.canCloseOnClick&&c(!0)}),{playToast:w,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:C}}var _Ae=typeof window<"u"?U.useLayoutEffect:U.useEffect,iN=({theme:n,type:e,isLoading:t,...r})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SAe(n){return de.createElement(iN,{...n},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function AAe(n){return de.createElement(iN,{...n},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function PAe(n){return de.createElement(iN,{...n},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function CAe(n){return de.createElement(iN,{...n},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EAe(){return de.createElement("div",{className:"Toastify__spinner"})}var MD={info:AAe,warning:SAe,success:PAe,error:CAe,spinner:EAe},TAe=n=>n in MD;function kAe({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(vp(r)?i=r({...s,isLoading:t}):U.isValidElement(r)?i=U.cloneElement(r,s):t?i=MD.spinner():TAe(e)&&(i=MD[e](s))),i}var NAe=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=xAe(n),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:h,transition:p,position:x,className:y,style:w,progressClassName:b,updateId:S,role:_,progress:P,rtl:E,toastId:C,deleteToast:N,isIn:L,isLoading:R,closeOnClick:F,theme:j,ariaLabel:D}=n,W=Kt("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":F}),V=vp(y)?y({rtl:E,position:x,type:u,defaultClassName:W}):Kt(W,y),Z=kAe(n),J=!!P||!l,K={closeToast:h,type:u,theme:j},$=null;return a===!1||(vp(a)?$=a(K):U.isValidElement(a)?$=U.cloneElement(a,K):$=sAe(K)),de.createElement(p,{isIn:L,done:N,position:x,preventExitTransition:t,nodeRef:r,playToast:s},de.createElement("div",{id:C,tabIndex:0,onClick:c,"data-in":L,className:V,...i,style:w,ref:r,...L&&{role:_,"aria-label":D}},Z!=null&&de.createElement("div",{className:Kt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Z),kie(o,n,!e),$,!n.customProgressBar&&de.createElement(aAe,{...S&&!J?{key:`p-${S}`}:{},rtl:E,theme:j,delay:l,isRunning:e,isIn:L,closeToast:h,hide:f,type:u,className:b,controlledProgress:J,progress:P||0})))},OAe=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),jAe=iAe(OAe("bounce",!0)),LAe={position:"top-right",transition:jAe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function RAe(n){let e={...LAe,...n},t=n.stacked,[r,i]=U.useState(!0),s=U.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=wAe(e),{className:c,style:u,rtl:f,containerId:h,hotKeys:p}=e;function x(w){let b=Kt("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":f});return vp(c)?c({position:w,rtl:f,defaultClassName:b}):Kt(b,LD(c))}function y(){t&&(i(!0),Ir.play())}return _Ae(()=>{var w;if(t){let b=s.current.querySelectorAll('[data-in="true"]'),S=12,_=(w=e.position)==null?void 0:w.includes("top"),P=0,E=0;Array.from(b).reverse().forEach((C,N)=>{let L=C;L.classList.add("Toastify__toast--stacked"),N>0&&(L.dataset.collapsed=`${r}`),L.dataset.pos||(L.dataset.pos=_?"top":"bot");let R=P*(r?.2:1)+(r?0:S*N);L.style.setProperty("--y",`${_?R:R*-1}px`),L.style.setProperty("--g",`${S}`),L.style.setProperty("--s",`${1-(r?E:0)}`),P+=L.offsetHeight,E+=.025})}},[r,l,t]),U.useEffect(()=>{function w(b){var S;let _=s.current;p(b)&&((S=_.querySelector('[tabIndex="0"]'))==null||S.focus(),i(!1),Ir.pause()),b.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),Ir.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[p]),de.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{t&&(i(!1),Ir.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((w,b)=>{let S=b.length?{...u}:{...u,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:x(w),"data-stacked":t,style:S,key:`c-${w}`},b.map(({content:_,props:P})=>de.createElement(NAe,{...P,stacked:t,collapseAll:y,isIn:o(P.toastId,P.containerId),key:`t-${P.key}`},_)))}))}function IAe(n,e){if(!n||!e||n<=0||e<=0)return null;const t=e/100;return Math.round(n/(t*t)*10)/10}function MAe(n){var w,b,S,_,P,E,C,N,L,R;let e=0;const t=n.age>=75?15:n.age>=65?12:n.age>=55?9:n.age>=45?6:n.age>=35?3:0;e+=t;const r=((w=n.stage)==null?void 0:w.toUpperCase())||"UNDETERMINED";e+=r==="IV"?25:r==="III"?18:r==="II"?10:r==="I"?4:0;const s=n.status==="Deceased"?20:n.status==="Recurrence"?18:n.status==="Ongoing Treatment"?14:n.status==="New"?10:0;e+=s;const a=((b=n.cancerType)==null?void 0:b.toLowerCase())||"",o=a.includes("lung")||a.includes("pancreatic")?15:a.includes("liver")||a.includes("brain")?13:a.includes("breast")||a.includes("colorectal")?10:a.includes("prostate")||a.includes("thyroid")?6:8;e+=o;const l=n.symptoms.length,c=Math.min(l*2,10),u=(n.symptomSeverity||5)>7?5:0,f=Math.min(c+u,15);e+=f;const h=n.symptomSeverity?Math.round(n.symptomSeverity/10*10):5;e+=h;const p=((S=n.comorbidities)==null?void 0:S.length)||((P=(_=n.patient)==null?void 0:_.medicalHistory)==null?void 0:P.length)||0,x=Math.min(p*2,10);e+=x;let y=0;return((E=n.patient)==null?void 0:E.smokingStatus)==="Current Smoker"?y+=5:((C=n.patient)==null?void 0:C.smokingStatus)==="Former Smoker"&&(y+=3),((N=n.patient)==null?void 0:N.alcoholFrequency)==="Daily"?y+=3:((L=n.patient)==null?void 0:L.alcoholFrequency)==="Weekly"&&(y+=2),(R=n.patient)!=null&&R.cancerHistory&&(y+=5),e+=Math.min(y,10),Math.min(Math.round(e),100)}function DAe(n){return n>=65?"High":n>=35?"Moderate":"Low"}function FAe(n,e){return n>=80||e==="IV"?"Emergency":n>=65||e==="III"?"Urgent":n>=50?"Priority":"Routine"}function BAe({patients:n,onRiskAssessmentCreate:e}){var pe,Se;const{user:t}=Ku(),{user:r}=Ku(),i=new Gt("CliniTrack"),[s,a]=U.useState(""),[o,l]=U.useState(""),[c,u]=U.useState([]),[f,h]=U.useState(""),[p,x]=U.useState(null),[y,w]=U.useState(""),[b,S]=U.useState(!1),[_,P]=U.useState("Low"),[E,C]=U.useState(!1),[N,L]=U.useState(!1),[R,F]=U.useState([]),[j,D]=U.useState(!1),[W,V]=U.useState(!1);U.useEffect(()=>{const be=o.trim().toLowerCase();if(W){V(!1);return}if(be===""){F([]),D(!1),a("");return}const ye=n.filter(Pe=>Pe.name.toLowerCase().includes(be));F(ye),D(!0);const Oe=n.find(Pe=>Pe.name.toLowerCase()===be);a(Oe?Oe.id:"")},[o,n]);const[Z,J]=U.useState("Undetermined"),[K,$]=U.useState("New"),[te,Q]=U.useState(5),X=n.find(be=>be.id===s),B={"Breast Cancer":["Breast lump","Nipple discharge","Breast pain","Skin dimpling","Breast swelling","Nipple changes","Breast skin changes"],"Lung Cancer":["Persistent cough","Shortness of breath","Chest pain","Coughing blood","Hoarseness","Recurrent respiratory infections","Unexplained weight loss"],"Colorectal Cancer":["Blood in stool","Abdominal pain","Change in bowel habits","Rectal bleeding","Abdominal cramping","Fatigue","Unexplained weight loss"],"General Cancer":["Fatigue","Loss of appetite","Nausea","Fever","Night sweats","Weakness","Skin changes","New growth","Persistent pain"]};[...B["Breast Cancer"],...B["Lung Cancer"],...B["Colorectal Cancer"],...B["General Cancer"]].filter((be,ye,Oe)=>Oe.indexOf(be)===ye);const G=be=>{be&&!c.includes(be)&&(u([...c,be]),h(""))},ne=be=>{u(c.filter(ye=>ye!==be))},ie=async()=>{var lt;if(!X||c.length===0)return;C(!0),x(null),await new Promise(Ht=>setTimeout(Ht,2e3));const be=[],ye=["breast lump","nipple discharge","breast pain"],Oe=["persistent cough","shortness of breath","chest pain","coughing blood"],Pe=["blood in stool","abdominal pain","change in bowel habits"],ge=c.map(Ht=>Ht.toLowerCase());ye.some(Ht=>ge.some($t=>$t.includes(Ht)))&&be.push("Breast Cancer"),Oe.some(Ht=>ge.some($t=>$t.includes(Ht)))&&be.push("Lung Cancer"),Pe.some(Ht=>ge.some($t=>$t.includes(Ht)))&&be.push("Colorectal Cancer"),be.length===0&&be.push("General Cancer");const Ke=MAe({age:X.age,stage:Z!=="Undetermined"?Z:void 0,status:K,cancerType:be[0],symptoms:c,symptomSeverity:te,comorbidities:X.medicalHistory,patient:X}),Xe=DAe(Ke),rt=FAe(Ke,Z),$e=[];$e.push(`Risk Score: ${Ke}/100 (New Formula Applied)`),X.age>=65&&$e.push(`Age ${X.age} - increased risk factor`),Z&&Z!=="Undetermined"&&$e.push(`Cancer Stage: ${Z}`),K&&$e.push(`Patient Status: ${K}`),c.length>=5&&$e.push(`Multiple symptoms present (${c.length})`),X.cancerHistory&&$e.push("Previous cancer history"),X.smokingStatus==="Current Smoker"&&$e.push("Current smoker"),((lt=X.medicalHistory)==null?void 0:lt.length)>0&&$e.push(`Comorbidities: ${X.medicalHistory.join(", ")}`),te>=8&&$e.push(`Severe symptoms (Severity: ${te}/10)`);let at="";Xe==="High"?at=`Immediate medical attention required. Risk score: ${Ke}/100. Comprehensive diagnostic workup recommended including imaging studies and specialist consultation.`:Xe==="Moderate"?at=`Schedule follow-up within 1-2 weeks. Risk score: ${Ke}/100. Additional testing may be warranted based on clinical judgment.`:at=`Monitor symptoms. Risk score: ${Ke}/100. Routine follow-up recommended. Educate patient on warning signs.`;const et=[];be.forEach(Ht=>{Ht.includes("Breast")&&et.push("Mammography","Breast Ultrasound","Biopsy"),Ht.includes("Lung")&&et.push("Chest X-ray","CT Scan","Sputum Cytology","Bronchoscopy"),Ht.includes("Colorectal")&&et.push("Colonoscopy","Fecal Occult Blood Test","CT Colonography")});const ut={id:"",patientId:X.id,visitId:"",riskLevel:Xe,confidence:Math.min(85+Math.floor(Math.random()*15),99),factors:$e,recommendation:at,suspectedCancerTypes:be,suggestedStage:Z,urgencyLevel:rt,recommendedTests:[...new Set(et)],date:new Date().toISOString(),createdAt:new Date().toISOString()};x(ut),C(!1)},fe=async()=>{if(!p||!X)return;L(!0);const be={...p,id:`assessment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,visitId:`visit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,doctorNotes:y||void 0,doctorOverride:b,riskLevel:b?_:p.riskLevel,date:new Date().toISOString(),createdAt:new Date().toISOString()};try{await Ir.promise((async()=>{var ge,Ke;await i.put({_id:be.id,type:"riskAssessment",...be}),console.log(" Risk assessment saved to PouchDB:",be.id);try{const Xe=await i.get(X.id);await i.put({...Xe,status:K,stage:Z!=="Undetermined"?Z:Xe.stage,lastAssessmentDate:new Date().toISOString(),lastAssessmentRisk:be.riskLevel,updatedAt:new Date().toISOString()}),console.log(" Patient record updated with assessment data")}catch(Xe){console.error("Failed to update patient record:",Xe)}const ye=be.visitId,Oe={_id:ye,type:"visit",id:ye,patientId:X.id,patientName:X.name,date:new Date().toISOString(),doctorName:(t==null?void 0:t.name)||"Doctor",symptoms:c,diagnosis:((ge=p.suspectedCancerTypes)==null?void 0:ge.join(", "))||"General Assessment",treatment:y||p.recommendation||"Risk assessment completed",notes:y||void 0,riskLevel:be.riskLevel,riskAssessmentId:be.id,stage:Z!=="Undetermined"?Z:void 0,status:K,createdAt:new Date().toISOString()};await i.put(Oe);const Pe=`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await i.put({_id:Pe,type:"activity",activityType:"risk_assessment",patientId:X.id,patientName:X.name,riskLevel:be.riskLevel,diagnosis:((Ke=be.suspectedCancerTypes)==null?void 0:Ke.join(", "))||"General Assessment",performedBy:(t==null?void 0:t.name)||"Doctor",timestamp:new Date().toISOString(),details:`Risk assessment completed: ${be.riskLevel} risk`}),console.log(" Activity logged for risk assessment"),await new Promise(Xe=>setTimeout(Xe,1e3))})(),{pending:"Saving risk assessment...",success:"Risk assessment and visit saved successfully!",error:"Failed to save risk assessment."}),e(be),a(""),l(""),u([]),x(null),w(""),S(!1),J("Undetermined"),$("New"),Q(5)}catch(ye){console.error("Failed to save risk assessment to PouchDB:",ye)}L(!1)},he=be=>{switch(be){case"High":return v.jsx(Qpe,{className:"h-5 w-5 text-red-500"});case"Moderate":return v.jsx(yg,{className:"h-5 w-5 text-yellow-500"});case"Low":return v.jsx(tb,{className:"h-5 w-5 text-green-500"});default:return v.jsx(bd,{className:"h-5 w-5"})}},oe=be=>{switch(be){case"High":return"destructive";case"Moderate":return"secondary";case"Low":return"default";default:return"outline"}};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(_C,{className:"h-6 w-6 text-primary"}),v.jsxs("div",{children:[v.jsx($n,{children:"AI Risk Assessment"}),v.jsx(ai,{})]})]})}),v.jsxs(tn,{className:"space-y-6",children:[v.jsx("div",{className:"space-y-2",children:(r==null?void 0:r.role)==="doctor"&&v.jsxs("div",{className:"relative",children:[v.jsx(d5,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),v.jsx(In,{placeholder:"Search Patient...",value:o,onChange:be=>l(be.target.value),onFocus:()=>{R.length>0&&D(!0)},className:"pl-10"}),j&&v.jsx("div",{className:"dropdown-fixed  mt-1 w-full border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:R.length>0?R.map(be=>v.jsx("div",{onClick:()=>{V(!0),l(be.name),a(be.id),D(!1)},className:"px-3 py-2 hover:bg-yellow-500 cursor-pointer",children:be.name},be.id)):v.jsx("div",{className:"px-3 py-2 text-gray-500 italic",children:"No matching patients found"})})]})}),X&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3 z-40",children:[v.jsx("h3",{className:"font-medium",children:"Patient Information"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:["Name: ",X.name]}),v.jsxs("div",{children:["Age: ",X.age]}),v.jsxs("div",{children:["Gender: ",X.gender]}),v.jsxs("div",{children:["Medical History: ",X.medicalHistory.join(", ")||"None"]})]}),v.jsxs("div",{className:"border-t pt-3",children:[v.jsx("h4",{className:"font-medium text-sm mb-2",children:"Risk Factors & Lifestyle"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:["Cancer History: ",X.cancerHistory?"Yes":"No"]}),v.jsxs("div",{children:["Smoking: ",X.smokingStatus]}),v.jsxs("div",{children:["Alcohol: ",X.alcoholFrequency]}),v.jsxs("div",{children:["Processed Foods: ",X.processedFoodPreference]}),v.jsxs("div",{children:["Fruits/Vegetables: ",X.fruitVegetableIntake]}),X.weight&&X.height&&v.jsxs("div",{children:["BMI: ",IAe(X.weight,X.height)]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Cancer Stage (if known)"}),v.jsxs(bo,{value:Z,onValueChange:J,children:[v.jsx(xo,{children:v.jsx(wo,{})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Undetermined",children:"Undetermined"}),v.jsx(Mt,{value:"I",children:"Stage I"}),v.jsx(Mt,{value:"II",children:"Stage II"}),v.jsx(Mt,{value:"III",children:"Stage III"}),v.jsx(Mt,{value:"IV",children:"Stage IV"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Patient Status"}),v.jsxs(bo,{value:K,onValueChange:$,children:[v.jsx(xo,{children:v.jsx(wo,{})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"New",children:"New"}),v.jsx(Mt,{value:"Ongoing Treatment",children:"Ongoing Treatment"}),v.jsx(Mt,{value:"Recurrence",children:"Recurrence"}),v.jsx(Mt,{value:"Deceased",children:"Deceased"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(It,{children:["Symptom Severity: ",te,"/10"]}),v.jsx("input",{type:"range",min:"1",max:"10",value:te,onChange:be=>Q(parseInt(be.target.value)),className:"w-full"}),v.jsx("div",{className:"text-xs text-muted-foreground text-center",children:te<=3?"Mild":te<=6?"Moderate":"Severe"})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(It,{children:"Symptoms"}),v.jsx("div",{className:"space-y-4",children:Object.entries(B).map(([be,ye])=>v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:[be," Symptoms:"]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:ye.filter(Oe=>!c.includes(Oe)).map(Oe=>v.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>G(Oe),className:"h-8 text-xs",children:["+ ",Oe]},Oe))})]},be))}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(In,{placeholder:"Enter custom symptom...",value:f,onChange:be=>h(be.target.value),onKeyPress:be=>be.key==="Enter"&&G(f)}),v.jsx(zt,{onClick:()=>G(f),disabled:!f,children:"Add"})]}),c.length>0&&v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(be=>v.jsxs(ir,{variant:"secondary",className:"cursor-pointer",onClick:()=>ne(be),children:[be," "]},be))})]}),v.jsx(zt,{onClick:ie,disabled:c.length===0||E,className:"w-full",children:E?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing with new formula..."]}):v.jsxs(v.Fragment,{children:[v.jsx(_C,{className:"w-4 w-4 mr-2"}),"Analyze Risk Level"]})})]})]})]})]}),p&&v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs($n,{className:"flex items-center space-x-2",children:[he(p.riskLevel),v.jsx("span",{children:"AI Risk Assessment Results"})]}),v.jsxs(ir,{variant:oe(p.riskLevel),className:"text-sm",children:[p.riskLevel," Risk"]})]})}),v.jsxs(tn,{className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsx(Ft,{className:"p-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[he(p.riskLevel),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Risk Level"}),v.jsx("p",{className:"text-2xl font-bold",children:p.riskLevel})]})]})}),v.jsx(Ft,{className:"p-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(bd,{className:"h-5 w-5 text-blue-500"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Confidence"}),v.jsxs("p",{className:"text-2xl font-bold",children:[p.confidence,"%"]})]})]})}),v.jsx(Ft,{className:"p-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(yg,{className:"h-5 w-5 text-orange-500"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Risk Factors"}),v.jsx("p",{className:"text-2xl font-bold",children:p.factors.length})]})]})}),v.jsx(Ft,{className:"p-4",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(tb,{className:"h-5 w-5 text-purple-500"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Urgency"}),v.jsx("p",{className:"text-lg font-bold",children:p.urgencyLevel||"Routine"})]})]})})]}),(((pe=p.suspectedCancerTypes)==null?void 0:pe.length)||p.suggestedStage||((Se=p.recommendedTests)==null?void 0:Se.length))&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[p.suspectedCancerTypes&&p.suspectedCancerTypes.length>0&&v.jsxs(Ft,{className:"p-4",children:[v.jsx("h4",{className:"font-medium mb-2",children:"Suspected Cancer Types"}),v.jsx("div",{className:"space-y-1",children:p.suspectedCancerTypes.map((be,ye)=>v.jsx(ir,{variant:"secondary",className:"mr-1",children:be},ye))})]}),p.suggestedStage&&p.suggestedStage!=="Undetermined"&&v.jsxs(Ft,{className:"p-4",children:[v.jsx("h4",{className:"font-medium mb-2",children:"Suggested Stage"}),v.jsx(ir,{variant:p.suggestedStage.includes("IV")?"destructive":p.suggestedStage.includes("III")?"secondary":"default",className:"text-sm",children:p.suggestedStage})]}),p.recommendedTests&&p.recommendedTests.length>0&&v.jsxs(Ft,{className:"p-4",children:[v.jsx("h4",{className:"font-medium mb-2",children:"Recommended Tests"}),v.jsxs("div",{className:"space-y-1",children:[p.recommendedTests.slice(0,3).map((be,ye)=>v.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",be]},ye)),p.recommendedTests.length>3&&v.jsxs("div",{className:"text-xs text-muted-foreground",children:["+ ",p.recommendedTests.length-3," more"]})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"Risk Factors Identified:"}),v.jsx("ul",{className:"space-y-2",children:p.factors.map((be,ye)=>v.jsxs("li",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),v.jsx("span",{className:"text-sm",children:be})]},ye))})]}),v.jsxs(Uc,{className:p.urgencyLevel==="Emergency"?"border-red-500":p.urgencyLevel==="Urgent"?"border-orange-500":p.urgencyLevel==="Priority"?"border-yellow-500":"",children:[v.jsx(_C,{className:"h-4 w-4"}),v.jsxs(zc,{children:[v.jsx("strong",{children:"AI Recommendation:"})," ",p.recommendation,p.recommendedTests&&p.recommendedTests.length>0&&v.jsxs("div",{className:"mt-3",children:[v.jsx("strong",{children:"Recommended Diagnostic Tests:"}),v.jsx("ul",{className:"list-disc list-inside mt-1 text-sm",children:p.recommendedTests.map((be,ye)=>v.jsx("li",{children:be},ye))})]})]})]}),v.jsxs("div",{className:"space-y-4 border-t pt-4",children:[v.jsx("h4",{className:"font-medium",children:"Clinical Notes"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"doctorNotes",children:"Your Clinical Assessment"}),v.jsx(Xw,{id:"doctorNotes",placeholder:"Add your clinical notes, observations, or corrections to the AI assessment...",value:y,onChange:be=>w(be.target.value),rows:4})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",id:"doctorOverride",checked:b,onChange:be=>S(be.target.checked),className:"rounded"}),v.jsx(It,{htmlFor:"doctorOverride",children:"Override AI risk assessment"})]}),b&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Override Risk Level"}),v.jsxs(bo,{value:_,onValueChange:be=>P(be),children:[v.jsx(xo,{children:v.jsx(wo,{})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Low",children:"Low Risk"}),v.jsx(Mt,{value:"Moderate",children:"Moderate Risk"}),v.jsx(Mt,{value:"High",children:"High Risk"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Clinical Stage Assessment"}),v.jsxs(bo,{defaultValue:(p==null?void 0:p.suggestedStage)||"Undetermined",children:[v.jsx(xo,{children:v.jsx(wo,{})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"Undetermined",children:"Undetermined"}),v.jsx(Mt,{value:"Stage I",children:"Stage I (Early/Localized)"}),v.jsx(Mt,{value:"Stage II",children:"Stage II (Local Spread)"}),v.jsx(Mt,{value:"Stage III",children:"Stage III (Regional Spread)"}),v.jsx(Mt,{value:"Stage IV",children:"Stage IV (Distant Metastasis)"})]})]})]})]}),v.jsx(zt,{onClick:fe,disabled:N,className:"w-full",children:N?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving Assessment..."]}):"Save Risk Assessment"})]})]})]})]})}function uE(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function FU(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function BU(n,e){const t=uE(n);if(isNaN(e))return FU(n,NaN);const r=t.getDate(),i=FU(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function $U(n,e){const t=uE(n.start),r=uE(n.end);let i=+t>+r;const s=i?+t:+r,a=i?r:t;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=s;)l.push(uE(a)),a.setMonth(a.getMonth()+o);return i?l.reverse():l}var O3,qU;function cl(){if(qU)return O3;qU=1;var n=Array.isArray;return O3=n,O3}var j3,UU;function Iie(){if(UU)return j3;UU=1;var n=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja;return j3=n,j3}var L3,zU;function Cd(){if(zU)return L3;zU=1;var n=Iie(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return L3=t,L3}var R3,HU;function k5(){if(HU)return R3;HU=1;var n=Cd(),e=n.Symbol;return R3=e,R3}var I3,VU;function $Ae(){if(VU)return I3;VU=1;var n=k5(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function s(a){var o=t.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return I3=s,I3}var M3,WU;function qAe(){if(WU)return M3;WU=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return M3=t,M3}var D3,GU;function Ap(){if(GU)return D3;GU=1;var n=k5(),e=$Ae(),t=qAe(),r="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):t(o)}return D3=a,D3}var F3,KU;function Pp(){if(KU)return F3;KU=1;function n(e){return e!=null&&typeof e=="object"}return F3=n,F3}var B3,XU;function Lx(){if(XU)return B3;XU=1;var n=Ap(),e=Pp(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return B3=r,B3}var $3,YU;function ZF(){if(YU)return $3;YU=1;var n=cl(),e=Lx(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(n(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!t.test(s)||a!=null&&s in Object(a)}return $3=i,$3}var q3,JU;function jg(){if(JU)return q3;JU=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return q3=n,q3}var U3,ZU;function QF(){if(ZU)return U3;ZU=1;var n=Ap(),e=jg(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=n(o);return l==r||l==i||l==t||l==s}return U3=a,U3}var z3,QU;function UAe(){if(QU)return z3;QU=1;var n=Cd(),e=n["__core-js_shared__"];return z3=e,z3}var H3,ez;function zAe(){if(ez)return H3;ez=1;var n=UAe(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return H3=t,H3}var V3,tz;function Mie(){if(tz)return V3;tz=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return V3=t,V3}var W3,nz;function HAe(){if(nz)return W3;nz=1;var n=QF(),e=zAe(),t=jg(),r=Mie(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!t(h)||e(h))return!1;var p=n(h)?u:s;return p.test(r(h))}return W3=f,W3}var G3,rz;function VAe(){if(rz)return G3;rz=1;function n(e,t){return e==null?void 0:e[t]}return G3=n,G3}var K3,iz;function k0(){if(iz)return K3;iz=1;var n=HAe(),e=VAe();function t(r,i){var s=e(r,i);return n(s)?s:void 0}return K3=t,K3}var X3,sz;function sN(){if(sz)return X3;sz=1;var n=k0(),e=n(Object,"create");return X3=e,X3}var Y3,az;function WAe(){if(az)return Y3;az=1;var n=sN();function e(){this.__data__=n?n(null):{},this.size=0}return Y3=e,Y3}var J3,oz;function GAe(){if(oz)return J3;oz=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return J3=n,J3}var Z3,lz;function KAe(){if(lz)return Z3;lz=1;var n=sN(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(s){var a=this.__data__;if(n){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return Z3=i,Z3}var Q3,cz;function XAe(){if(cz)return Q3;cz=1;var n=sN(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var s=this.__data__;return n?s[i]!==void 0:t.call(s,i)}return Q3=r,Q3}var ej,uz;function YAe(){if(uz)return ej;uz=1;var n=sN(),e="__lodash_hash_undefined__";function t(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=n&&i===void 0?e:i,this}return ej=t,ej}var tj,fz;function JAe(){if(fz)return tj;fz=1;var n=WAe(),e=GAe(),t=KAe(),r=XAe(),i=YAe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,tj=s,tj}var nj,dz;function ZAe(){if(dz)return nj;dz=1;function n(){this.__data__=[],this.size=0}return nj=n,nj}var rj,hz;function eB(){if(hz)return rj;hz=1;function n(e,t){return e===t||e!==e&&t!==t}return rj=n,rj}var ij,pz;function aN(){if(pz)return ij;pz=1;var n=eB();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return ij=e,ij}var sj,mz;function QAe(){if(mz)return sj;mz=1;var n=aN(),e=Array.prototype,t=e.splice;function r(i){var s=this.__data__,a=n(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():t.call(s,a,1),--this.size,!0}return sj=r,sj}var aj,gz;function e5e(){if(gz)return aj;gz=1;var n=aN();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return aj=e,aj}var oj,vz;function t5e(){if(vz)return oj;vz=1;var n=aN();function e(t){return n(this.__data__,t)>-1}return oj=e,oj}var lj,yz;function n5e(){if(yz)return lj;yz=1;var n=aN();function e(t,r){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,r])):i[s][1]=r,this}return lj=e,lj}var cj,bz;function oN(){if(bz)return cj;bz=1;var n=ZAe(),e=QAe(),t=e5e(),r=t5e(),i=n5e();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,cj=s,cj}var uj,wz;function tB(){if(wz)return uj;wz=1;var n=k0(),e=Cd(),t=n(e,"Map");return uj=t,uj}var fj,xz;function r5e(){if(xz)return fj;xz=1;var n=JAe(),e=oN(),t=tB();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return fj=r,fj}var dj,_z;function i5e(){if(_z)return dj;_z=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return dj=n,dj}var hj,Sz;function lN(){if(Sz)return hj;Sz=1;var n=i5e();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return hj=e,hj}var pj,Az;function s5e(){if(Az)return pj;Az=1;var n=lN();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return pj=e,pj}var mj,Pz;function a5e(){if(Pz)return mj;Pz=1;var n=lN();function e(t){return n(this,t).get(t)}return mj=e,mj}var gj,Cz;function o5e(){if(Cz)return gj;Cz=1;var n=lN();function e(t){return n(this,t).has(t)}return gj=e,gj}var vj,Ez;function l5e(){if(Ez)return vj;Ez=1;var n=lN();function e(t,r){var i=n(this,t),s=i.size;return i.set(t,r),this.size+=i.size==s?0:1,this}return vj=e,vj}var yj,Tz;function nB(){if(Tz)return yj;Tz=1;var n=r5e(),e=s5e(),t=a5e(),r=o5e(),i=l5e();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,yj=s,yj}var bj,kz;function Die(){if(kz)return bj;kz=1;var n=nB(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(t.Cache||n),s}return t.Cache=n,bj=t,bj}var wj,Nz;function c5e(){if(Nz)return wj;Nz=1;var n=Die(),e=500;function t(r){var i=n(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return wj=t,wj}var xj,Oz;function u5e(){if(Oz)return xj;Oz=1;var n=c5e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(t,"$1"):o||a)}),s});return xj=r,xj}var _j,jz;function rB(){if(jz)return _j;jz=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}return _j=n,_j}var Sj,Lz;function f5e(){if(Lz)return Sj;Lz=1;var n=k5(),e=rB(),t=cl(),r=Lx(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(t(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Sj=a,Sj}var Aj,Rz;function Fie(){if(Rz)return Aj;Rz=1;var n=f5e();function e(t){return t==null?"":n(t)}return Aj=e,Aj}var Pj,Iz;function Bie(){if(Iz)return Pj;Iz=1;var n=cl(),e=ZF(),t=u5e(),r=Fie();function i(s,a){return n(s)?s:e(s,a)?[s]:t(r(s))}return Pj=i,Pj}var Cj,Mz;function cN(){if(Mz)return Cj;Mz=1;var n=Lx();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Cj=e,Cj}var Ej,Dz;function iB(){if(Dz)return Ej;Dz=1;var n=Bie(),e=cN();function t(r,i){i=n(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return Ej=t,Ej}var Tj,Fz;function $ie(){if(Fz)return Tj;Fz=1;var n=iB();function e(t,r,i){var s=t==null?void 0:n(t,r);return s===void 0?i:s}return Tj=e,Tj}var d5e=$ie();const rc=qn(d5e);var kj,Bz;function h5e(){if(Bz)return kj;Bz=1;function n(e){return e==null}return kj=n,kj}var p5e=h5e();const hn=qn(p5e);var Nj,$z;function m5e(){if($z)return Nj;$z=1;var n=Ap(),e=cl(),t=Pp(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&t(s)&&n(s)==r}return Nj=i,Nj}var g5e=m5e();const y0=qn(g5e);var v5e=QF();const nn=qn(v5e);var y5e=jg();const Rx=qn(y5e);var Oj={exports:{}},pr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz;function b5e(){if(qz)return pr;qz=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(w){if(typeof w=="object"&&w!==null){var b=w.$$typeof;switch(b){case n:switch(w=w.type,w){case t:case i:case r:case c:case u:return w;default:switch(w=w&&w.$$typeof,w){case o:case a:case l:case h:case f:case s:return w;default:return b}}case e:return b}}}return pr.ContextConsumer=a,pr.ContextProvider=s,pr.Element=n,pr.ForwardRef=l,pr.Fragment=t,pr.Lazy=h,pr.Memo=f,pr.Portal=e,pr.Profiler=i,pr.StrictMode=r,pr.Suspense=c,pr.SuspenseList=u,pr.isAsyncMode=function(){return!1},pr.isConcurrentMode=function(){return!1},pr.isContextConsumer=function(w){return y(w)===a},pr.isContextProvider=function(w){return y(w)===s},pr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},pr.isForwardRef=function(w){return y(w)===l},pr.isFragment=function(w){return y(w)===t},pr.isLazy=function(w){return y(w)===h},pr.isMemo=function(w){return y(w)===f},pr.isPortal=function(w){return y(w)===e},pr.isProfiler=function(w){return y(w)===i},pr.isStrictMode=function(w){return y(w)===r},pr.isSuspense=function(w){return y(w)===c},pr.isSuspenseList=function(w){return y(w)===u},pr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===c||w===u||w===p||typeof w=="object"&&w!==null&&(w.$$typeof===h||w.$$typeof===f||w.$$typeof===s||w.$$typeof===a||w.$$typeof===l||w.$$typeof===x||w.getModuleId!==void 0)},pr.typeOf=y,pr}var Uz;function w5e(){return Uz||(Uz=1,Oj.exports=b5e()),Oj.exports}var x5e=w5e(),jj,zz;function qie(){if(zz)return jj;zz=1;var n=Ap(),e=Pp(),t="[object Number]";function r(i){return typeof i=="number"||e(i)&&n(i)==t}return jj=r,jj}var Lj,Hz;function _5e(){if(Hz)return Lj;Hz=1;var n=qie();function e(t){return n(t)&&t!=+t}return Lj=e,Lj}var S5e=_5e();const Ix=qn(S5e);var A5e=qie();const P5e=qn(A5e);var To=function(e){return e===0?0:e>0?1:-1},Iv=function(e){return y0(e)&&e.indexOf("%")===e.length-1},tt=function(e){return P5e(e)&&!Ix(e)},C5e=function(e){return hn(e)},Ds=function(e){return tt(e)||y0(e)},E5e=0,N0=function(e){var t=++E5e;return"".concat(e||"").concat(t)},ko=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&!y0(e))return r;var s;if(Iv(e)){var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return Ix(s)&&(s=r),i&&s>t&&(s=t),s},mm=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},T5e=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},i=0;i<t;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Is=function(e,t){return tt(e)&&tt(t)?function(r){return e+r*(t-e)}:function(){return t}};function eT(n,e,t){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):rc(r,e))===t})}var k5e=function(e,t){return tt(e)&&tt(t)?e-t:y0(e)&&y0(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function cb(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function DD(n){"@babel/helpers - typeof";return DD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DD(n)}var N5e=["viewBox","children"],O5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vz=["points","pathLength"],Rj={svg:N5e,polygon:Vz,polyline:Vz},sB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tT=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Rx(r))return null;var i={};return Object.keys(r).forEach(function(s){sB.includes(s)&&(i[s]=t||function(a){return r[s](r,a)})}),i},j5e=function(e,t,r){return function(i){return e(t,r,i),null}},b0=function(e,t,r){if(!Rx(e)||DD(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];sB.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=j5e(a,t,r))}),i},L5e=["children"],R5e=["children"];function Wz(n,e){if(n==null)return{};var t=I5e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function I5e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function FD(n){"@babel/helpers - typeof";return FD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FD(n)}var Gz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lp=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Kz=null,Ij=null,aB=function n(e){if(e===Kz&&Array.isArray(Ij))return Ij;var t=[];return U.Children.forEach(e,function(r){hn(r)||(x5e.isFragment(r)?t=t.concat(n(r.props.children)):t.push(r))}),Ij=t,Kz=e,t};function ic(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(function(i){return lp(i)}):r=[lp(e)],aB(n).forEach(function(i){var s=rc(i,"type.displayName")||rc(i,"type.name");r.indexOf(s)!==-1&&t.push(i)}),t}function Kl(n,e){var t=ic(n,e);return t&&t[0]}var Xz=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,i=t.height;return!(!tt(r)||r<=0||!tt(i)||i<=0)},M5e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],D5e=function(e){return e&&e.type&&y0(e.type)&&M5e.indexOf(e.type)>=0},Uie=function(e){return e&&FD(e)==="object"&&"clipDot"in e},F5e=function(e,t,r,i){var s,a=(s=Rj==null?void 0:Rj[i])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!nn(e)&&(i&&a.includes(t)||O5e.includes(t))||r&&sB.includes(t)},Bt=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Rx(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;F5e((o=i)===null||o===void 0?void 0:o[a],a,t,r)&&(s[a]=i[a])}),s},BD=function n(e,t){if(e===t)return!0;var r=U.Children.count(e);if(r!==U.Children.count(t))return!1;if(r===0)return!0;if(r===1)return Yz(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<r;i++){var s=e[i],a=t[i];if(Array.isArray(s)||Array.isArray(a)){if(!n(s,a))return!1}else if(!Yz(s,a))return!1}return!0},Yz=function(e,t){if(hn(e)&&hn(t))return!0;if(!hn(e)&&!hn(t)){var r=e.props||{},i=r.children,s=Wz(r,L5e),a=t.props||{},o=a.children,l=Wz(a,R5e);return i&&o?cb(s,l)&&BD(i,o):!i&&!o?cb(s,l):!1}return!1},Jz=function(e,t){var r=[],i={};return aB(e).forEach(function(s,a){if(D5e(s))r.push(s);else if(s){var o=lp(s.type),l=t[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},B5e=function(e){var t=e&&e.type;return t&&Gz[t]?Gz[t]:null},$5e=function(e,t){return aB(t).indexOf(e)},q5e=["children","width","height","viewBox","className","style","title","desc"];function $D(){return $D=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$D.apply(this,arguments)}function U5e(n,e){if(n==null)return{};var t=z5e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function z5e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qD(n){var e=n.children,t=n.width,r=n.height,i=n.viewBox,s=n.className,a=n.style,o=n.title,l=n.desc,c=U5e(n,q5e),u=i||{width:t,height:r,x:0,y:0},f=Kt("recharts-surface",s);return de.createElement("svg",$D({},Bt(c,!0,"svg"),{className:f,width:t,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),de.createElement("title",null,o),de.createElement("desc",null,l),e)}var H5e=["children","className"];function UD(){return UD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UD.apply(this,arguments)}function V5e(n,e){if(n==null)return{};var t=W5e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function W5e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var Mn=de.forwardRef(function(n,e){var t=n.children,r=n.className,i=V5e(n,H5e),s=Kt("recharts-layer",r);return de.createElement("g",UD({className:s},Bt(i,!0),{ref:e}),t)}),Gu=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Mj,Zz;function G5e(){if(Zz)return Mj;Zz=1;function n(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+t];return a}return Mj=n,Mj}var Dj,Qz;function K5e(){if(Qz)return Dj;Qz=1;var n=G5e();function e(t,r,i){var s=t.length;return i=i===void 0?s:i,!r&&i>=s?t:n(t,r,i)}return Dj=e,Dj}var Fj,eH;function zie(){if(eH)return Fj;eH=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+n+i+s+"]");function l(c){return o.test(c)}return Fj=l,Fj}var Bj,tH;function X5e(){if(tH)return Bj;tH=1;function n(e){return e.split("")}return Bj=n,Bj}var $j,nH;function Y5e(){if(nH)return $j;nH=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,s="\\ufe0e\\ufe0f",a="["+n+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",u="[^"+n+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",x=c+"?",y="["+s+"]?",w="(?:"+p+"(?:"+[u,f,h].join("|")+")"+y+x+")*",b=y+x+w,S="(?:"+[u+o+"?",o,f,h,a].join("|")+")",_=RegExp(l+"(?="+l+")|"+S+b,"g");function P(E){return E.match(_)||[]}return $j=P,$j}var qj,rH;function J5e(){if(rH)return qj;rH=1;var n=X5e(),e=zie(),t=Y5e();function r(i){return e(i)?t(i):n(i)}return qj=r,qj}var Uj,iH;function Z5e(){if(iH)return Uj;iH=1;var n=K5e(),e=zie(),t=J5e(),r=Fie();function i(s){return function(a){a=r(a);var o=e(a)?t(a):void 0,l=o?o[0]:a.charAt(0),c=o?n(o,1).join(""):a.slice(1);return l[s]()+c}}return Uj=i,Uj}var zj,sH;function Q5e(){if(sH)return zj;sH=1;var n=Z5e(),e=n("toUpperCase");return zj=e,zj}var ePe=Q5e();const uN=qn(ePe);function Qr(n){return function(){return n}}const Hie=Math.cos,nT=Math.sin,sf=Math.sqrt,rT=Math.PI,fN=2*rT,zD=Math.PI,HD=2*zD,_v=1e-6,tPe=HD-_v;function Vie(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function nPe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return Vie;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class rPe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Vie:nPe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-t,u=a-e,f=o-t,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(h>_v)if(!(Math.abs(f*l-c*u)>_v)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let p=r-a,x=i-o,y=l*l+c*c,w=p*p+x*x,b=Math.sqrt(y),S=Math.sqrt(h),_=s*Math.tan((zD-Math.acos((y+h-w)/(2*b*S)))/2),P=_/S,E=_/b;Math.abs(P-1)>_v&&this._append`L${e+P*u},${t+P*f}`,this._append`A${s},${s},0,0,${+(f*p>u*x)},${this._x1=e+E*l},${this._y1=t+E*c}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=t+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_v||Math.abs(this._y1-u)>_v)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%HD+HD),h>tPe?this._append`A${r},${r},0,1,${f},${e-o},${t-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>_v&&this._append`A${r},${r},0,${+(h>=zD)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oB(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new rPe(e)}function lB(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Wie(n){this._context=n}Wie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function dN(n){return new Wie(n)}function Gie(n){return n[0]}function Kie(n){return n[1]}function Xie(n,e){var t=Qr(!0),r=null,i=dN,s=null,a=oB(o);n=typeof n=="function"?n:n===void 0?Gie:Qr(n),e=typeof e=="function"?e:e===void 0?Kie:Qr(e);function o(l){var c,u=(l=lB(l)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=u;++c)!(c<u&&t(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+n(f,c,l),+e(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Qr(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qr(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Qr(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function YP(n,e,t){var r=null,i=Qr(!0),s=null,a=dN,o=null,l=oB(c);n=typeof n=="function"?n:n===void 0?Gie:Qr(+n),e=typeof e=="function"?e:Qr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?Kie:Qr(+t);function c(f){var h,p,x,y=(f=lB(f)).length,w,b=!1,S,_=new Array(y),P=new Array(y);for(s==null&&(o=a(S=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=h-1;x>=p;--x)o.point(_[x],P[x]);o.lineEnd(),o.areaEnd()}b&&(_[h]=+n(w,h,f),P[h]=+e(w,h,f),o.point(r?+r(w,h,f):_[h],t?+t(w,h,f):P[h]))}if(S)return o=null,S+""||null}function u(){return Xie().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(n=typeof f=="function"?f:Qr(+f),r=null,c):n},c.x0=function(f){return arguments.length?(n=typeof f=="function"?f:Qr(+f),c):n},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),t=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),c):e},c.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:Qr(+f),c):t},c.lineX0=c.lineY0=function(){return u().x(n).y(e)},c.lineY1=function(){return u().x(n).y(t)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class Yie{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function iPe(n){return new Yie(n,!0)}function sPe(n){return new Yie(n,!1)}const cB={draw(n,e){const t=sf(e/rT);n.moveTo(t,0),n.arc(0,0,t,0,fN)}},aPe={draw(n,e){const t=sf(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},Jie=sf(1/3),oPe=Jie*2,lPe={draw(n,e){const t=sf(e/oPe),r=t*Jie;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},cPe={draw(n,e){const t=sf(e),r=-t/2;n.rect(r,r,t,t)}},uPe=.8908130915292852,Zie=nT(rT/10)/nT(7*rT/10),fPe=nT(fN/10)*Zie,dPe=-Hie(fN/10)*Zie,hPe={draw(n,e){const t=sf(e*uPe),r=fPe*t,i=dPe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=fN*s/5,o=Hie(a),l=nT(a);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},Hj=sf(3),pPe={draw(n,e){const t=-sf(e/(Hj*3));n.moveTo(0,t*2),n.lineTo(-Hj*t,-t),n.lineTo(Hj*t,-t),n.closePath()}},Cc=-.5,Ec=sf(3)/2,VD=1/sf(12),mPe=(VD/2+1)*3,gPe={draw(n,e){const t=sf(e/mPe),r=t/2,i=t*VD,s=r,a=t*VD+t,o=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Cc*r-Ec*i,Ec*r+Cc*i),n.lineTo(Cc*s-Ec*a,Ec*s+Cc*a),n.lineTo(Cc*o-Ec*l,Ec*o+Cc*l),n.lineTo(Cc*r+Ec*i,Cc*i-Ec*r),n.lineTo(Cc*s+Ec*a,Cc*a-Ec*s),n.lineTo(Cc*o+Ec*l,Cc*l-Ec*o),n.closePath()}};function vPe(n,e){let t=null,r=oB(i);n=typeof n=="function"?n:Qr(n||cB),e=typeof e=="function"?e:Qr(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:Qr(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Qr(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function iT(){}function sT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function Qie(n){this._context=n}Qie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function yPe(n){return new Qie(n)}function ese(n){this._context=n}ese.prototype={areaStart:iT,areaEnd:iT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:sT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function bPe(n){return new ese(n)}function tse(n){this._context=n}tse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:sT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function wPe(n){return new tse(n)}function nse(n){this._context=n}nse.prototype={areaStart:iT,areaEnd:iT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function xPe(n){return new nse(n)}function aH(n){return n<0?-1:1}function oH(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(aH(s)+aH(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function lH(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function Vj(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function aT(n){this._context=n}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vj(this,this._t0,lH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,Vj(this,lH(this,t=oH(this,n,e)),t);break;default:Vj(this,this._t0,t=oH(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function rse(n){this._context=new ise(n)}(rse.prototype=Object.create(aT.prototype)).point=function(n,e){aT.prototype.point.call(this,e,n)};function ise(n){this._context=n}ise.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function _Pe(n){return new aT(n)}function SPe(n){return new rse(n)}function sse(n){this._context=n}sse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=cH(n),i=cH(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function cH(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function APe(n){return new sse(n)}function hN(n,e){this._context=n,this._t=e}hN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function PPe(n){return new hN(n,.5)}function CPe(n){return new hN(n,0)}function EPe(n){return new hN(n,1)}function Jw(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function WD(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function TPe(n,e){return n[e]}function kPe(n){const e=[];return e.key=n,e}function NPe(){var n=Qr([]),e=WD,t=Jw,r=TPe;function i(s){var a=Array.from(n.apply(this,arguments),kPe),o,l=a.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,u=lB(e(a));o<l;++o)a[u[o]].index=o;return t(a,u),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Qr(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Qr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?WD:typeof s=="function"?s:Qr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??Jw,i):t},i}function OPe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}Jw(n,e)}}function jPe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}Jw(n,e)}}function LPe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=n[e[o]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,x=0;x<o;++x){var y=n[e[x]],w=y[r][1]||0,b=y[r-1][1]||0;p+=w-b}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=t,l&&(t-=c/l)}i[r-1][1]+=i[r-1][0]=t,Jw(n,e)}}function $_(n){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(n)}var RPe=["type","size","sizeType"];function GD(){return GD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GD.apply(this,arguments)}function uH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(t),!0).forEach(function(r){IPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function IPe(n,e,t){return e=MPe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MPe(n){var e=DPe(n,"string");return $_(e)=="symbol"?e:e+""}function DPe(n,e){if($_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if($_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FPe(n,e){if(n==null)return{};var t=BPe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function BPe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var ase={symbolCircle:cB,symbolCross:aPe,symbolDiamond:lPe,symbolSquare:cPe,symbolStar:hPe,symbolTriangle:pPe,symbolWye:gPe},$Pe=Math.PI/180,qPe=function(e){var t="symbol".concat(uN(e));return ase[t]||cB},UPe=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$Pe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zPe=function(e,t){ase["symbol".concat(uN(e))]=t},uB=function(e){var t=e.type,r=t===void 0?"circle":t,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=FPe(e,RPe),c=fH(fH({},l),{},{type:r,size:s,sizeType:o}),u=function(){var w=qPe(r),b=vPe().type(w).size(UPe(s,o,r));return b()},f=c.className,h=c.cx,p=c.cy,x=Bt(c,!0);return h===+h&&p===+p&&s===+s?de.createElement("path",GD({},x,{className:Kt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};uB.registerSymbol=zPe;function Zw(n){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(n)}function KD(){return KD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KD.apply(this,arguments)}function dH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HPe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(t),!0).forEach(function(r){q_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dH(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WPe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lse(r.key),r)}}function GPe(n,e,t){return e&&WPe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function KPe(n,e,t){return e=oT(e),XPe(n,ose()?Reflect.construct(e,t||[],oT(n).constructor):e.apply(n,t))}function XPe(n,e){if(e&&(Zw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(n)}function YPe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ose(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ose=function(){return!!n})()}function oT(n){return oT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oT(n)}function JPe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XD(n,e)}function XD(n,e){return XD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XD(n,e)}function q_(n,e,t){return e=lse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lse(n){var e=ZPe(n,"string");return Zw(e)=="symbol"?e:e+""}function ZPe(n,e){if(Zw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Tc=32,fB=(function(n){function e(){return VPe(this,e),KPe(this,e,arguments)}return JPe(e,n),GPe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Tc/2,a=Tc/6,o=Tc/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Tc,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Tc,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tc/8,"h").concat(Tc,"v").concat(Tc*3/4,"h").concat(-Tc,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var c=HPe({},r);return delete c.legendIcon,de.cloneElement(r.legendIcon,c)}return de.createElement(uB,{fill:l,cx:s,cy:s,size:Tc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Tc,height:Tc},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,x){var y=p.formatter||l,w=Kt(q_(q_({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=nn(p.value)?null:p.value;Gu(!nn(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=p.inactive?c:p.color;return de.createElement("li",KD({className:w,style:f,key:"legend-item-".concat(x)},b0(r.props,p,x)),de.createElement(qD,{width:a,height:a,viewBox:u,style:h},r.renderIcon(p)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},y?y(b,p,x):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(U.PureComponent);q_(fB,"displayName","Legend");q_(fB,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wj,hH;function QPe(){if(hH)return Wj;hH=1;var n=oN();function e(){this.__data__=new n,this.size=0}return Wj=e,Wj}var Gj,pH;function eCe(){if(pH)return Gj;pH=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Gj=n,Gj}var Kj,mH;function tCe(){if(mH)return Kj;mH=1;function n(e){return this.__data__.get(e)}return Kj=n,Kj}var Xj,gH;function nCe(){if(gH)return Xj;gH=1;function n(e){return this.__data__.has(e)}return Xj=n,Xj}var Yj,vH;function rCe(){if(vH)return Yj;vH=1;var n=oN(),e=tB(),t=nB(),r=200;function i(s,a){var o=this.__data__;if(o instanceof n){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new t(l)}return o.set(s,a),this.size=o.size,this}return Yj=i,Yj}var Jj,yH;function cse(){if(yH)return Jj;yH=1;var n=oN(),e=QPe(),t=eCe(),r=tCe(),i=nCe(),s=rCe();function a(o){var l=this.__data__=new n(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,Jj=a,Jj}var Zj,bH;function iCe(){if(bH)return Zj;bH=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Zj=e,Zj}var Qj,wH;function sCe(){if(wH)return Qj;wH=1;function n(e){return this.__data__.has(e)}return Qj=n,Qj}var e4,xH;function use(){if(xH)return e4;xH=1;var n=nB(),e=iCe(),t=sCe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new n;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,e4=r,e4}var t4,_H;function fse(){if(_H)return t4;_H=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return t4=n,t4}var n4,SH;function dse(){if(SH)return n4;SH=1;function n(e,t){return e.has(t)}return n4=n,n4}var r4,AH;function hse(){if(AH)return r4;AH=1;var n=use(),e=fse(),t=dse(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,x=o.length;if(p!=x&&!(h&&x>p))return!1;var y=f.get(a),w=f.get(o);if(y&&w)return y==o&&w==a;var b=-1,S=!0,_=l&i?new n:void 0;for(f.set(a,o),f.set(o,a);++b<p;){var P=a[b],E=o[b];if(c)var C=h?c(E,P,b,o,a,f):c(P,E,b,a,o,f);if(C!==void 0){if(C)continue;S=!1;break}if(_){if(!e(o,function(N,L){if(!t(_,L)&&(P===N||u(P,N,l,c,f)))return _.push(L)})){S=!1;break}}else if(!(P===E||u(P,E,l,c,f))){S=!1;break}}return f.delete(a),f.delete(o),S}return r4=s,r4}var i4,PH;function aCe(){if(PH)return i4;PH=1;var n=Cd(),e=n.Uint8Array;return i4=e,i4}var s4,CH;function oCe(){if(CH)return s4;CH=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}return s4=n,s4}var a4,EH;function dB(){if(EH)return a4;EH=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return a4=n,a4}var o4,TH;function lCe(){if(TH)return o4;TH=1;var n=k5(),e=aCe(),t=eB(),r=hse(),i=oCe(),s=dB(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",x="[object Set]",y="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",_=n?n.prototype:void 0,P=_?_.valueOf:void 0;function E(C,N,L,R,F,j,D){switch(L){case S:if(C.byteLength!=N.byteLength||C.byteOffset!=N.byteOffset)return!1;C=C.buffer,N=N.buffer;case b:return!(C.byteLength!=N.byteLength||!j(new e(C),new e(N)));case l:case c:case h:return t(+C,+N);case u:return C.name==N.name&&C.message==N.message;case p:case y:return C==N+"";case f:var W=i;case x:var V=R&a;if(W||(W=s),C.size!=N.size&&!V)return!1;var Z=D.get(C);if(Z)return Z==N;R|=o,D.set(C,N);var J=r(W(C),W(N),R,F,j,D);return D.delete(C),J;case w:if(P)return P.call(C)==P.call(N)}return!1}return o4=E,o4}var l4,kH;function pse(){if(kH)return l4;kH=1;function n(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}return l4=n,l4}var c4,NH;function cCe(){if(NH)return c4;NH=1;var n=pse(),e=cl();function t(r,i,s){var a=i(r);return e(r)?a:n(a,s(r))}return c4=t,c4}var u4,OH;function uCe(){if(OH)return u4;OH=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}return u4=n,u4}var f4,jH;function fCe(){if(jH)return f4;jH=1;function n(){return[]}return f4=n,f4}var d4,LH;function dCe(){if(LH)return d4;LH=1;var n=uCe(),e=fCe(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),n(i(a),function(o){return r.call(a,o)}))}:e;return d4=s,d4}var h4,RH;function hCe(){if(RH)return h4;RH=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return h4=n,h4}var p4,IH;function pCe(){if(IH)return p4;IH=1;var n=Ap(),e=Pp(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return p4=r,p4}var m4,MH;function hB(){if(MH)return m4;MH=1;var n=pCe(),e=Pp(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,s=n((function(){return arguments})())?n:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return m4=s,m4}var s_={exports:{}},g4,DH;function mCe(){if(DH)return g4;DH=1;function n(){return!1}return g4=n,g4}s_.exports;var FH;function mse(){return FH||(FH=1,(function(n,e){var t=Cd(),r=mCe(),i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===i,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;n.exports=c})(s_,s_.exports)),s_.exports}var v4,BH;function pB(){if(BH)return v4;BH=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var s=typeof r;return i=i??n,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return v4=t,v4}var y4,$H;function mB(){if($H)return y4;$H=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return y4=e,y4}var b4,qH;function gCe(){if(qH)return b4;qH=1;var n=Ap(),e=mB(),t=Pp(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",x="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",_="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",N="[object Uint8Array]",L="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",j={};j[S]=j[_]=j[P]=j[E]=j[C]=j[N]=j[L]=j[R]=j[F]=!0,j[r]=j[i]=j[w]=j[s]=j[b]=j[a]=j[o]=j[l]=j[c]=j[u]=j[f]=j[h]=j[p]=j[x]=j[y]=!1;function D(W){return t(W)&&e(W.length)&&!!j[n(W)]}return b4=D,b4}var w4,UH;function gse(){if(UH)return w4;UH=1;function n(e){return function(t){return e(t)}}return w4=n,w4}var a_={exports:{}};a_.exports;var zH;function vCe(){return zH||(zH=1,(function(n,e){var t=Iie(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,a=s&&t.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();n.exports=o})(a_,a_.exports)),a_.exports}var x4,HH;function vse(){if(HH)return x4;HH=1;var n=gCe(),e=gse(),t=vCe(),r=t&&t.isTypedArray,i=r?e(r):n;return x4=i,x4}var _4,VH;function yCe(){if(VH)return _4;VH=1;var n=hCe(),e=hB(),t=cl(),r=mse(),i=pB(),s=vse(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=t(c),h=!f&&e(c),p=!f&&!h&&r(c),x=!f&&!h&&!p&&s(c),y=f||h||p||x,w=y?n(c.length,String):[],b=w.length;for(var S in c)(u||o.call(c,S))&&!(y&&(S=="length"||p&&(S=="offset"||S=="parent")||x&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,b)))&&w.push(S);return w}return _4=l,_4}var S4,WH;function bCe(){if(WH)return S4;WH=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return S4=e,S4}var A4,GH;function yse(){if(GH)return A4;GH=1;function n(e,t){return function(r){return e(t(r))}}return A4=n,A4}var P4,KH;function wCe(){if(KH)return P4;KH=1;var n=yse(),e=n(Object.keys,Object);return P4=e,P4}var C4,XH;function xCe(){if(XH)return C4;XH=1;var n=bCe(),e=wCe(),t=Object.prototype,r=t.hasOwnProperty;function i(s){if(!n(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return C4=i,C4}var E4,YH;function N5(){if(YH)return E4;YH=1;var n=QF(),e=mB();function t(r){return r!=null&&e(r.length)&&!n(r)}return E4=t,E4}var T4,JH;function pN(){if(JH)return T4;JH=1;var n=yCe(),e=xCe(),t=N5();function r(i){return t(i)?n(i):e(i)}return T4=r,T4}var k4,ZH;function _Ce(){if(ZH)return k4;ZH=1;var n=cCe(),e=dCe(),t=pN();function r(i){return n(i,t,e)}return k4=r,k4}var N4,QH;function SCe(){if(QH)return N4;QH=1;var n=_Ce(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=n(s),p=h.length,x=n(a),y=x.length;if(p!=y&&!f)return!1;for(var w=p;w--;){var b=h[w];if(!(f?b in a:r.call(a,b)))return!1}var S=u.get(s),_=u.get(a);if(S&&_)return S==a&&_==s;var P=!0;u.set(s,a),u.set(a,s);for(var E=f;++w<p;){b=h[w];var C=s[b],N=a[b];if(l)var L=f?l(N,C,b,a,s,u):l(C,N,b,s,a,u);if(!(L===void 0?C===N||c(C,N,o,l,u):L)){P=!1;break}E||(E=b=="constructor")}if(P&&!E){var R=s.constructor,F=a.constructor;R!=F&&"constructor"in s&&"constructor"in a&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(P=!1)}return u.delete(s),u.delete(a),P}return N4=i,N4}var O4,eV;function ACe(){if(eV)return O4;eV=1;var n=k0(),e=Cd(),t=n(e,"DataView");return O4=t,O4}var j4,tV;function PCe(){if(tV)return j4;tV=1;var n=k0(),e=Cd(),t=n(e,"Promise");return j4=t,j4}var L4,nV;function bse(){if(nV)return L4;nV=1;var n=k0(),e=Cd(),t=n(e,"Set");return L4=t,L4}var R4,rV;function CCe(){if(rV)return R4;rV=1;var n=k0(),e=Cd(),t=n(e,"WeakMap");return R4=t,R4}var I4,iV;function ECe(){if(iV)return I4;iV=1;var n=ACe(),e=tB(),t=PCe(),r=bse(),i=CCe(),s=Ap(),a=Mie(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(n),x=a(e),y=a(t),w=a(r),b=a(i),S=s;return(n&&S(new n(new ArrayBuffer(1)))!=h||e&&S(new e)!=o||t&&S(t.resolve())!=c||r&&S(new r)!=u||i&&S(new i)!=f)&&(S=function(_){var P=s(_),E=P==l?_.constructor:void 0,C=E?a(E):"";if(C)switch(C){case p:return h;case x:return o;case y:return c;case w:return u;case b:return f}return P}),I4=S,I4}var M4,sV;function TCe(){if(sV)return M4;sV=1;var n=cse(),e=hse(),t=lCe(),r=SCe(),i=ECe(),s=cl(),a=mse(),o=vse(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function x(y,w,b,S,_,P){var E=s(y),C=s(w),N=E?u:i(y),L=C?u:i(w);N=N==c?f:N,L=L==c?f:L;var R=N==f,F=L==f,j=N==L;if(j&&a(y)){if(!a(w))return!1;E=!0,R=!1}if(j&&!R)return P||(P=new n),E||o(y)?e(y,w,b,S,_,P):t(y,w,N,b,S,_,P);if(!(b&l)){var D=R&&p.call(y,"__wrapped__"),W=F&&p.call(w,"__wrapped__");if(D||W){var V=D?y.value():y,Z=W?w.value():w;return P||(P=new n),_(V,Z,b,S,P)}}return j?(P||(P=new n),r(y,w,b,S,_,P)):!1}return M4=x,M4}var D4,aV;function gB(){if(aV)return D4;aV=1;var n=TCe(),e=Pp();function t(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,s,a,t,o)}return D4=t,D4}var F4,oV;function kCe(){if(oV)return F4;oV=1;var n=cse(),e=gB(),t=1,r=2;function i(s,a,o,l){var c=o.length,u=c,f=!l;if(s==null)return!u;for(s=Object(s);c--;){var h=o[c];if(f&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++c<u;){h=o[c];var p=h[0],x=s[p],y=h[1];if(f&&h[2]){if(x===void 0&&!(p in s))return!1}else{var w=new n;if(l)var b=l(x,y,p,s,a,w);if(!(b===void 0?e(y,x,t|r,l,w):b))return!1}}return!0}return F4=i,F4}var B4,lV;function wse(){if(lV)return B4;lV=1;var n=jg();function e(t){return t===t&&!n(t)}return B4=e,B4}var $4,cV;function NCe(){if(cV)return $4;cV=1;var n=wse(),e=pN();function t(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,n(o)]}return i}return $4=t,$4}var q4,uV;function xse(){if(uV)return q4;uV=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return q4=n,q4}var U4,fV;function OCe(){if(fV)return U4;fV=1;var n=kCe(),e=NCe(),t=xse();function r(i){var s=e(i);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(a){return a===i||n(a,i,s)}}return U4=r,U4}var z4,dV;function jCe(){if(dV)return z4;dV=1;function n(e,t){return e!=null&&t in Object(e)}return z4=n,z4}var H4,hV;function LCe(){if(hV)return H4;hV=1;var n=Bie(),e=hB(),t=cl(),r=pB(),i=mB(),s=cN();function a(o,l,c){l=n(l,o);for(var u=-1,f=l.length,h=!1;++u<f;){var p=s(l[u]);if(!(h=o!=null&&c(o,p)))break;o=o[p]}return h||++u!=f?h:(f=o==null?0:o.length,!!f&&i(f)&&r(p,f)&&(t(o)||e(o)))}return H4=a,H4}var V4,pV;function RCe(){if(pV)return V4;pV=1;var n=jCe(),e=LCe();function t(r,i){return r!=null&&e(r,i,n)}return V4=t,V4}var W4,mV;function ICe(){if(mV)return W4;mV=1;var n=gB(),e=$ie(),t=RCe(),r=ZF(),i=wse(),s=xse(),a=cN(),o=1,l=2;function c(u,f){return r(u)&&i(f)?s(a(u),f):function(h){var p=e(h,u);return p===void 0&&p===f?t(h,u):n(f,p,o|l)}}return W4=c,W4}var G4,gV;function Mx(){if(gV)return G4;gV=1;function n(e){return e}return G4=n,G4}var K4,vV;function MCe(){if(vV)return K4;vV=1;function n(e){return function(t){return t==null?void 0:t[e]}}return K4=n,K4}var X4,yV;function DCe(){if(yV)return X4;yV=1;var n=iB();function e(t){return function(r){return n(r,t)}}return X4=e,X4}var Y4,bV;function FCe(){if(bV)return Y4;bV=1;var n=MCe(),e=DCe(),t=ZF(),r=cN();function i(s){return t(s)?n(r(s)):e(s)}return Y4=i,Y4}var J4,wV;function Ed(){if(wV)return J4;wV=1;var n=OCe(),e=ICe(),t=Mx(),r=cl(),i=FCe();function s(a){return typeof a=="function"?a:a==null?t:typeof a=="object"?r(a)?e(a[0],a[1]):n(a):i(a)}return J4=s,J4}var Z4,xV;function _se(){if(xV)return Z4;xV=1;function n(e,t,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}return Z4=n,Z4}var Q4,_V;function BCe(){if(_V)return Q4;_V=1;function n(e){return e!==e}return Q4=n,Q4}var eL,SV;function $Ce(){if(SV)return eL;SV=1;function n(e,t,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}return eL=n,eL}var tL,AV;function qCe(){if(AV)return tL;AV=1;var n=_se(),e=BCe(),t=$Ce();function r(i,s,a){return s===s?t(i,s,a):n(i,e,a)}return tL=r,tL}var nL,PV;function UCe(){if(PV)return nL;PV=1;var n=qCe();function e(t,r){var i=t==null?0:t.length;return!!i&&n(t,r,0)>-1}return nL=e,nL}var rL,CV;function zCe(){if(CV)return rL;CV=1;function n(e,t,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(t,e[i]))return!0;return!1}return rL=n,rL}var iL,EV;function HCe(){if(EV)return iL;EV=1;function n(){}return iL=n,iL}var sL,TV;function VCe(){if(TV)return sL;TV=1;var n=bse(),e=HCe(),t=dB(),r=1/0,i=n&&1/t(new n([,-0]))[1]==r?function(s){return new n(s)}:e;return sL=i,sL}var aL,kV;function WCe(){if(kV)return aL;kV=1;var n=use(),e=UCe(),t=zCe(),r=dse(),i=VCe(),s=dB(),a=200;function o(l,c,u){var f=-1,h=e,p=l.length,x=!0,y=[],w=y;if(u)x=!1,h=t;else if(p>=a){var b=c?null:i(l);if(b)return s(b);x=!1,h=r,w=new n}else w=c?[]:y;e:for(;++f<p;){var S=l[f],_=c?c(S):S;if(S=u||S!==0?S:0,x&&_===_){for(var P=w.length;P--;)if(w[P]===_)continue e;c&&w.push(_),y.push(S)}else h(w,_,u)||(w!==y&&w.push(_),y.push(S))}return y}return aL=o,aL}var oL,NV;function GCe(){if(NV)return oL;NV=1;var n=Ed(),e=WCe();function t(r,i){return r&&r.length?e(r,n(i,2)):[]}return oL=t,oL}var KCe=GCe();const OV=qn(KCe);function Sse(n,e,t){return e===!0?OV(n,t):nn(e)?OV(n,e):n}function Qw(n){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(n)}var XCe=["ref"];function jV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(t),!0).forEach(function(r){mN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function LV(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Pse(r.key),r)}}function JCe(n,e,t){return e&&LV(n.prototype,e),t&&LV(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ZCe(n,e,t){return e=lT(e),QCe(n,Ase()?Reflect.construct(e,t||[],lT(n).constructor):e.apply(n,t))}function QCe(n,e){if(e&&(Qw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eEe(n)}function eEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ase(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ase=function(){return!!n})()}function lT(n){return lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lT(n)}function tEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YD(n,e)}function YD(n,e){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YD(n,e)}function mN(n,e,t){return e=Pse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pse(n){var e=nEe(n,"string");return Qw(e)=="symbol"?e:e+""}function nEe(n,e){if(Qw(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function rEe(n,e){if(n==null)return{};var t=iEe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function iEe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function sEe(n){return n.value}function aEe(n,e){if(de.isValidElement(n))return de.cloneElement(n,e);if(typeof n=="function")return de.createElement(n,e);e.ref;var t=rEe(e,XCe);return de.createElement(fB,t)}var RV=1,ub=(function(n){function e(){var t;YCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ZCe(this,e,[].concat(i)),mN(t,"lastBoundingBox",{width:-1,height:-1}),t}return tEe(e,n),JCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>RV||Math.abs(i.height-this.lastBoundingBox.height)>RV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();h={top:((u||0)-x.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fh(fh({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=fh(fh({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},aEe(s,fh(fh({},this.props),{},{payload:Sse(u,c,sEe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=fh(fh({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&tt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(U.PureComponent);mN(ub,"displayName","Legend");mN(ub,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lL,IV;function oEe(){if(IV)return lL;IV=1;var n=k5(),e=hB(),t=cl(),r=n?n.isConcatSpreadable:void 0;function i(s){return t(s)||e(s)||!!(r&&s&&s[r])}return lL=i,lL}var cL,MV;function Cse(){if(MV)return cL;MV=1;var n=pse(),e=oEe();function t(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?t(u,i-1,s,a,o):n(o,u):a||(o[o.length]=u)}return o}return cL=t,cL}var uL,DV;function lEe(){if(DV)return uL;DV=1;function n(e){return function(t,r,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}return uL=n,uL}var fL,FV;function cEe(){if(FV)return fL;FV=1;var n=lEe(),e=n();return fL=e,fL}var dL,BV;function Ese(){if(BV)return dL;BV=1;var n=cEe(),e=pN();function t(r,i){return r&&n(r,i,e)}return dL=t,dL}var hL,$V;function uEe(){if($V)return hL;$V=1;var n=N5();function e(t,r){return function(i,s){if(i==null)return i;if(!n(i))return t(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return hL=e,hL}var pL,qV;function vB(){if(qV)return pL;qV=1;var n=Ese(),e=uEe(),t=e(n);return pL=t,pL}var mL,UV;function Tse(){if(UV)return mL;UV=1;var n=vB(),e=N5();function t(r,i){var s=-1,a=e(r)?Array(r.length):[];return n(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return mL=t,mL}var gL,zV;function fEe(){if(zV)return gL;zV=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return gL=n,gL}var vL,HV;function dEe(){if(HV)return vL;HV=1;var n=Lx();function e(t,r){if(t!==r){var i=t!==void 0,s=t===null,a=t===t,o=n(t),l=r!==void 0,c=r===null,u=r===r,f=n(r);if(!c&&!f&&!o&&t>r||o&&l&&u&&!c&&!f||s&&l&&u||!i&&u||!a)return 1;if(!s&&!o&&!f&&t<r||f&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!u)return-1}return 0}return vL=e,vL}var yL,VV;function hEe(){if(VV)return yL;VV=1;var n=dEe();function e(t,r,i){for(var s=-1,a=t.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var u=n(a[s],o[s]);if(u){if(s>=c)return u;var f=i[s];return u*(f=="desc"?-1:1)}}return t.index-r.index}return yL=e,yL}var bL,WV;function pEe(){if(WV)return bL;WV=1;var n=rB(),e=iB(),t=Ed(),r=Tse(),i=fEe(),s=gse(),a=hEe(),o=Mx(),l=cl();function c(u,f,h){f.length?f=n(f,function(y){return l(y)?function(w){return e(w,y.length===1?y[0]:y)}:y}):f=[o];var p=-1;f=n(f,s(t));var x=r(u,function(y,w,b){var S=n(f,function(_){return _(y)});return{criteria:S,index:++p,value:y}});return i(x,function(y,w){return a(y,w,h)})}return bL=c,bL}var wL,GV;function mEe(){if(GV)return wL;GV=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return wL=n,wL}var xL,KV;function gEe(){if(KV)return xL;KV=1;var n=mEe(),e=Math.max;function t(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var u=Array(i+1);++o<i;)u[o]=a[o];return u[i]=s(c),n(r,this,u)}}return xL=t,xL}var _L,XV;function vEe(){if(XV)return _L;XV=1;function n(e){return function(){return e}}return _L=n,_L}var SL,YV;function kse(){if(YV)return SL;YV=1;var n=k0(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return SL=e,SL}var AL,JV;function yEe(){if(JV)return AL;JV=1;var n=vEe(),e=kse(),t=Mx(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:t;return AL=r,AL}var PL,ZV;function bEe(){if(ZV)return PL;ZV=1;var n=800,e=16,t=Date.now;function r(i){var s=0,a=0;return function(){var o=t(),l=e-(o-a);if(a=o,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return PL=r,PL}var CL,QV;function wEe(){if(QV)return CL;QV=1;var n=yEe(),e=bEe(),t=e(n);return CL=t,CL}var EL,eW;function xEe(){if(eW)return EL;eW=1;var n=Mx(),e=gEe(),t=wEe();function r(i,s){return t(e(i,s,n),i+"")}return EL=r,EL}var TL,tW;function gN(){if(tW)return TL;tW=1;var n=eB(),e=N5(),t=pB(),r=jg();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&t(a,o.length):l=="string"&&a in o)?n(o[a],s):!1}return TL=i,TL}var kL,nW;function _Ee(){if(nW)return kL;nW=1;var n=Cse(),e=pEe(),t=xEe(),r=gN(),i=t(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,n(a,1),[])});return kL=i,kL}var SEe=_Ee();const yB=qn(SEe);function U_(n){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(n)}function JD(){return JD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JD.apply(this,arguments)}function AEe(n,e){return TEe(n)||EEe(n,e)||CEe(n,e)||PEe()}function PEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CEe(n,e){if(n){if(typeof n=="string")return rW(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rW(n,e)}}function rW(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function EEe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function TEe(n){if(Array.isArray(n))return n}function iW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function NL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iW(Object(t),!0).forEach(function(r){kEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kEe(n,e,t){return e=NEe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NEe(n){var e=OEe(n,"string");return U_(e)=="symbol"?e:e+""}function OEe(n,e){if(U_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(U_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jEe(n){return Array.isArray(n)&&Ds(n[0])&&Ds(n[1])?n.join(" ~ "):n}var LEe=function(e){var t=e.separator,r=t===void 0?" : ":t,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,x=e.labelClassName,y=e.label,w=e.labelFormatter,b=e.accessibilityLayer,S=b===void 0?!1:b,_=function(){if(u&&u.length){var D={padding:0,margin:0},W=(h?yB(u,h):u).map(function(V,Z){if(V.type==="none")return null;var J=NL({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),K=V.formatter||f||jEe,$=V.value,te=V.name,Q=$,X=te;if(K&&Q!=null&&X!=null){var B=K($,te,V,Z,u);if(Array.isArray(B)){var G=AEe(B,2);Q=G[0],X=G[1]}else Q=B}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:J},Ds(X)?de.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Ds(X)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},Q),de.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:D},W)}return null},P=NL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=NL({margin:0},c),C=!hn(y),N=C?y:"",L=Kt("recharts-default-tooltip",p),R=Kt("recharts-tooltip-label",x);C&&w&&u!==void 0&&u!==null&&(N=w(y,u));var F=S?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",JD({className:L,style:P},F),de.createElement("p",{className:R,style:E},de.isValidElement(N)?N:"".concat(N)),_())};function z_(n){"@babel/helpers - typeof";return z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z_(n)}function JP(n,e,t){return e=REe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function REe(n){var e=IEe(n,"string");return z_(e)=="symbol"?e:e+""}function IEe(n,e){if(z_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(z_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var S2="recharts-tooltip-wrapper",MEe={visibility:"hidden"};function DEe(n){var e=n.coordinate,t=n.translateX,r=n.translateY;return Kt(S2,JP(JP(JP(JP({},"".concat(S2,"-right"),tt(t)&&e&&tt(e.x)&&t>=e.x),"".concat(S2,"-left"),tt(t)&&e&&tt(e.x)&&t<e.x),"".concat(S2,"-bottom"),tt(r)&&e&&tt(e.y)&&r>=e.y),"".concat(S2,"-top"),tt(r)&&e&&tt(e.y)&&r<e.y))}function sW(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.key,i=n.offsetTopLeft,s=n.position,a=n.reverseDirection,o=n.tooltipDimension,l=n.viewBox,c=n.viewBoxDimension;if(s&&tt(s[r]))return s[r];var u=t[r]-o-i,f=t[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var h=u,p=l[r];return h<p?Math.max(f,l[r]):Math.max(u,l[r])}var x=f+o,y=l[r]+c;return x>y?Math.max(u,l[r]):Math.max(f,l[r])}function FEe(n){var e=n.translateX,t=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function BEe(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.offsetTopLeft,i=n.position,s=n.reverseDirection,a=n.tooltipBox,o=n.useTranslate3d,l=n.viewBox,c,u,f;return a.height>0&&a.width>0&&t?(u=sW({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=sW({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=FEe({translateX:u,translateY:f,useTranslate3d:o})):c=MEe,{cssProperties:c,cssClasses:DEe({translateX:u,translateY:f,coordinate:t})}}function ex(n){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(n)}function aW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(t),!0).forEach(function(r){QD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $Ee(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ose(r.key),r)}}function UEe(n,e,t){return e&&qEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zEe(n,e,t){return e=cT(e),HEe(n,Nse()?Reflect.construct(e,t||[],cT(n).constructor):e.apply(n,t))}function HEe(n,e){if(e&&(ex(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(n)}function VEe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Nse(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nse=function(){return!!n})()}function cT(n){return cT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cT(n)}function WEe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZD(n,e)}function ZD(n,e){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZD(n,e)}function QD(n,e,t){return e=Ose(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ose(n){var e=GEe(n,"string");return ex(e)=="symbol"?e:e+""}function GEe(n,e){if(ex(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ex(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var lW=1,KEe=(function(n){function e(){var t;$Ee(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=zEe(this,e,[].concat(i)),QD(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QD(t,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=t.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),t}return WEe(e,n),UEe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>lW||Math.abs(r.height-this.state.lastBoundingBox.height)>lW)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,_=BEe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),P=_.cssClasses,E=_.cssProperties,C=oW(oW({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return de.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(L){r.wrapperNode=L}},c)}}])})(U.PureComponent),XEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lg={isSsr:XEe()};function tx(n){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(n)}function cW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(t),!0).forEach(function(r){bB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YEe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function JEe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Lse(r.key),r)}}function ZEe(n,e,t){return e&&JEe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function QEe(n,e,t){return e=uT(e),eTe(n,jse()?Reflect.construct(e,t||[],uT(n).constructor):e.apply(n,t))}function eTe(n,e){if(e&&(tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tTe(n)}function tTe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jse(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jse=function(){return!!n})()}function uT(n){return uT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uT(n)}function nTe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e6(n,e)}function e6(n,e){return e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e6(n,e)}function bB(n,e,t){return e=Lse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lse(n){var e=rTe(n,"string");return tx(e)=="symbol"?e:e+""}function rTe(n,e){if(tx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function iTe(n){return n.dataKey}function sTe(n,e){return de.isValidElement(n)?de.cloneElement(n,e):typeof n=="function"?de.createElement(n,e):de.createElement(LEe,e)}var Yl=(function(n){function e(){return YEe(this,e),QEe(this,e,arguments)}return nTe(e,n),ZEe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,x=i.payload,y=i.payloadUniqBy,w=i.position,b=i.reverseDirection,S=i.useTranslate3d,_=i.viewBox,P=i.wrapperStyle,E=x??[];f&&E.length&&(E=Sse(x.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),y,iTe));var C=E.length>0;return de.createElement(KEe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:C,offset:p,position:w,reverseDirection:b,useTranslate3d:S,viewBox:_,wrapperStyle:P},sTe(c,uW(uW({},this.props),{},{payload:E})))}}])})(U.PureComponent);bB(Yl,"displayName","Tooltip");bB(Yl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OL,fW;function aTe(){if(fW)return OL;fW=1;var n=Cd(),e=function(){return n.Date.now()};return OL=e,OL}var jL,dW;function oTe(){if(dW)return jL;dW=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return jL=e,jL}var LL,hW;function lTe(){if(hW)return LL;hW=1;var n=oTe(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return LL=t,LL}var RL,pW;function Rse(){if(pW)return RL;pW=1;var n=lTe(),e=jg(),t=Lx(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(t(c))return r;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=n(c);var f=s.test(c);return f||a.test(c)?o(c.slice(2),f?2:8):i.test(c)?r:+c}return RL=l,RL}var IL,mW;function cTe(){if(mW)return IL;mW=1;var n=jg(),e=aTe(),t=Rse(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var u,f,h,p,x,y,w=0,b=!1,S=!1,_=!0;if(typeof o!="function")throw new TypeError(r);l=t(l)||0,n(c)&&(b=!!c.leading,S="maxWait"in c,h=S?i(t(c.maxWait)||0,l):h,_="trailing"in c?!!c.trailing:_);function P(W){var V=u,Z=f;return u=f=void 0,w=W,p=o.apply(Z,V),p}function E(W){return w=W,x=setTimeout(L,l),b?P(W):p}function C(W){var V=W-y,Z=W-w,J=l-V;return S?s(J,h-Z):J}function N(W){var V=W-y,Z=W-w;return y===void 0||V>=l||V<0||S&&Z>=h}function L(){var W=e();if(N(W))return R(W);x=setTimeout(L,C(W))}function R(W){return x=void 0,_&&u?P(W):(u=f=void 0,p)}function F(){x!==void 0&&clearTimeout(x),w=0,u=y=f=x=void 0}function j(){return x===void 0?p:R(e())}function D(){var W=e(),V=N(W);if(u=arguments,f=this,y=W,V){if(x===void 0)return E(y);if(S)return clearTimeout(x),x=setTimeout(L,l),P(y)}return x===void 0&&(x=setTimeout(L,l)),p}return D.cancel=F,D.flush=j,D}return IL=a,IL}var ML,gW;function uTe(){if(gW)return ML;gW=1;var n=cTe(),e=jg(),t="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),n(i,s,{leading:o,maxWait:s,trailing:l})}return ML=r,ML}var fTe=uTe();const Ise=qn(fTe);function H_(n){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(n)}function vW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ZP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(t),!0).forEach(function(r){dTe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dTe(n,e,t){return e=hTe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hTe(n){var e=pTe(n,"string");return H_(e)=="symbol"?e:e+""}function pTe(n,e){if(H_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(H_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mTe(n,e){return bTe(n)||yTe(n,e)||vTe(n,e)||gTe()}function gTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vTe(n,e){if(n){if(typeof n=="string")return yW(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yW(n,e)}}function yW(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yTe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function bTe(n){if(Array.isArray(n))return n}var QP=U.forwardRef(function(n,e){var t=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=n.width,a=s===void 0?"100%":s,o=n.height,l=o===void 0?"100%":o,c=n.minWidth,u=c===void 0?0:c,f=n.minHeight,h=n.maxHeight,p=n.children,x=n.debounce,y=x===void 0?0:x,w=n.id,b=n.className,S=n.onResize,_=n.style,P=_===void 0?{}:_,E=U.useRef(null),C=U.useRef();C.current=S,U.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var N=U.useState({containerWidth:i.width,containerHeight:i.height}),L=mTe(N,2),R=L[0],F=L[1],j=U.useCallback(function(W,V){F(function(Z){var J=Math.round(W),K=Math.round(V);return Z.containerWidth===J&&Z.containerHeight===K?Z:{containerWidth:J,containerHeight:K}})},[]);U.useEffect(function(){var W=function(te){var Q,X=te[0].contentRect,B=X.width,G=X.height;j(B,G),(Q=C.current)===null||Q===void 0||Q.call(C,B,G)};y>0&&(W=Ise(W,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(W),Z=E.current.getBoundingClientRect(),J=Z.width,K=Z.height;return j(J,K),V.observe(E.current),function(){V.disconnect()}},[j,y]);var D=U.useMemo(function(){var W=R.containerWidth,V=R.containerHeight;if(W<0||V<0)return null;Gu(Iv(a)||Iv(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Gu(!t||t>0,"The aspect(%s) must be greater than zero.",t);var Z=Iv(a)?W:a,J=Iv(l)?V:l;t&&t>0&&(Z?J=Z/t:J&&(Z=J*t),h&&J>h&&(J=h)),Gu(Z>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,J,a,l,u,f,t);var K=!Array.isArray(p)&&lp(p.type).endsWith("Chart");return de.Children.map(p,function($){return de.isValidElement($)?U.cloneElement($,ZP({width:Z,height:J},K?{style:ZP({height:"100%",width:"100%",maxHeight:J,maxWidth:Z},$.props.style)}:{})):$})},[t,p,l,h,f,u,R,a]);return de.createElement("div",{id:w?"".concat(w):void 0,className:Kt("recharts-responsive-container",b),style:ZP(ZP({},P),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:E},D)}),vN=function(e){return null};vN.displayName="Cell";function V_(n){"@babel/helpers - typeof";return V_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(n)}function bW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function t6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(t),!0).forEach(function(r){wTe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wTe(n,e,t){return e=xTe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xTe(n){var e=_Te(n,"string");return V_(e)=="symbol"?e:e+""}function _Te(n,e){if(V_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(V_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var w1={widthCache:{},cacheCount:0},STe=2e3,ATe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wW="recharts_measurement_span";function PTe(n){var e=t6({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var m_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Lg.isSsr)return{width:0,height:0};var r=PTe(t),i=JSON.stringify({text:e,copyStyle:r});if(w1.widthCache[i])return w1.widthCache[i];try{var s=document.getElementById(wW);s||(s=document.createElement("span"),s.setAttribute("id",wW),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=t6(t6({},ATe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return w1.widthCache[i]=l,++w1.cacheCount>STe&&(w1.cacheCount=0,w1.widthCache={}),l}catch{return{width:0,height:0}}},CTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function W_(n){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(n)}function fT(n,e){return NTe(n)||kTe(n,e)||TTe(n,e)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(n,e){if(n){if(typeof n=="string")return xW(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xW(n,e)}}function xW(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kTe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function NTe(n){if(Array.isArray(n))return n}function OTe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _W(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,LTe(r.key),r)}}function jTe(n,e,t){return e&&_W(n.prototype,e),t&&_W(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function LTe(n){var e=RTe(n,"string");return W_(e)=="symbol"?e:e+""}function RTe(n,e){if(W_(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(W_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var SW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ITe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DTe=Object.keys(Mse),z1="NaN";function FTe(n,e){return n*Mse[e]}var eC=(function(){function n(e,t){OTe(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!ITe.test(t)&&(this.num=NaN,this.unit=""),DTe.includes(t)&&(this.num=FTe(e,t),this.unit="px")}return jTe(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,i=(r=MTe.exec(t))!==null&&r!==void 0?r:[],s=fT(i,3),a=s[1],o=s[2];return new n(parseFloat(a),o??"")}}])})();function Dse(n){if(n.includes(z1))return z1;for(var e=n;e.includes("*")||e.includes("/");){var t,r=(t=SW.exec(e))!==null&&t!==void 0?t:[],i=fT(r,4),s=i[1],a=i[2],o=i[3],l=eC.parse(s??""),c=eC.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return z1;e=e.replace(SW,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=AW.exec(e))!==null&&f!==void 0?f:[],p=fT(h,4),x=p[1],y=p[2],w=p[3],b=eC.parse(x??""),S=eC.parse(w??""),_=y==="+"?b.add(S):b.subtract(S);if(_.isNaN())return z1;e=e.replace(AW,_.toString())}return e}var PW=/\(([^()]*)\)/;function BTe(n){for(var e=n;e.includes("(");){var t=PW.exec(e),r=fT(t,2),i=r[1];e=e.replace(PW,Dse(i))}return e}function $Te(n){var e=n.replace(/\s+/g,"");return e=BTe(e),e=Dse(e),e}function qTe(n){try{return $Te(n)}catch{return z1}}function DL(n){var e=qTe(n.slice(5,-1));return e===z1?"":e}var UTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zTe=["dx","dy","angle","className","breakAll"];function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},n6.apply(this,arguments)}function CW(n,e){if(n==null)return{};var t=HTe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HTe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function EW(n,e){return KTe(n)||GTe(n,e)||WTe(n,e)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WTe(n,e){if(n){if(typeof n=="string")return TW(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TW(n,e)}}function TW(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function GTe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function KTe(n){if(Array.isArray(n))return n}var Fse=/[ \f\n\r\t\v\u2028\u2029]+/,Bse=function(e){var t=e.children,r=e.breakAll,i=e.style;try{var s=[];hn(t)||(r?s=t.toString().split(""):s=t.toString().split(Fse));var a=s.map(function(l){return{word:l,width:m_(l,i).width}}),o=r?0:m_("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},XTe=function(e,t,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=tt(a),f=o,h=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(J,K){var $=K.word,te=K.width,Q=J[J.length-1];if(Q&&(i==null||s||Q.width+te+r<Number(i)))Q.words.push($),Q.width+=te+r;else{var X={words:[$],width:te};J.push(X)}return J},[])},p=h(t),x=function(Z){return Z.reduce(function(J,K){return J.width>K.width?J:K})};if(!u)return p;for(var y="",w=function(Z){var J=f.slice(0,Z),K=Bse({breakAll:c,style:l,children:J+y}).wordsWithComputedWidth,$=h(K),te=$.length>a||x($).width>Number(i);return[te,$]},b=0,S=f.length-1,_=0,P;b<=S&&_<=f.length-1;){var E=Math.floor((b+S)/2),C=E-1,N=w(C),L=EW(N,2),R=L[0],F=L[1],j=w(E),D=EW(j,1),W=D[0];if(!R&&!W&&(b=E+1),R&&W&&(S=E-1),!R&&W){P=F;break}_++}return P||p},kW=function(e){var t=hn(e)?[]:e.toString().split(Fse);return[{words:t}]},YTe=function(e){var t=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((t||r)&&!Lg.isSsr){var l,c,u=Bse({breakAll:a,children:i,style:s});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return kW(i);return XTe({breakAll:a,children:i,maxLines:o,style:s},l,c,t,r)}return kW(i)},NW="#808080",w0=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,x=e.verticalAnchor,y=x===void 0?"end":x,w=e.fill,b=w===void 0?NW:w,S=CW(e,UTe),_=U.useMemo(function(){return YTe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),P=S.dx,E=S.dy,C=S.angle,N=S.className,L=S.breakAll,R=CW(S,zTe);if(!Ds(r)||!Ds(s))return null;var F=r+(tt(P)?P:0),j=s+(tt(E)?E:0),D;switch(y){case"start":D=DL("calc(".concat(c,")"));break;case"middle":D=DL("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:D=DL("calc(".concat(_.length-1," * -").concat(o,")"));break}var W=[];if(f){var V=_[0].width,Z=S.width;W.push("scale(".concat((tt(Z)?Z/V:1)/V,")"))}return C&&W.push("rotate(".concat(C,", ").concat(F,", ").concat(j,")")),W.length&&(R.transform=W.join(" ")),de.createElement("text",n6({},Bt(R,!0),{x:F,y:j,className:Kt("recharts-text",N),textAnchor:p,fill:b.includes("url")?NW:b}),_.map(function(J,K){var $=J.words.join(L?"":" ");return de.createElement("tspan",{x:F,dy:K===0?D:o,key:"".concat($,"-").concat(K)},$)}))};function mg(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function JTe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function wB(n){let e,t,r;n.length!==2?(e=mg,t=(o,l)=>mg(n(o),l),r=(o,l)=>n(o)-l):(e=n===mg||n===JTe?n:ZTe,t=n,r=n);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;t(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;t(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function ZTe(){return 0}function $se(n){return n===null?NaN:+n}function*QTe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const eke=wB(mg),O5=eke.right;wB($se).center;class OW extends Map{constructor(e,t=rke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jW(this,e))}has(e){return super.has(jW(this,e))}set(e,t){return super.set(tke(this,e),t)}delete(e){return super.delete(nke(this,e))}}function jW({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function tke({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function nke({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function rke(n){return n!==null&&typeof n=="object"?n.valueOf():n}function ike(n=mg){if(n===mg)return qse;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function qse(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const ske=Math.sqrt(50),ake=Math.sqrt(10),oke=Math.sqrt(2);function dT(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=ske?10:s>=ake?5:s>=oke?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(n*c),l=Math.round(e*c),o/c<n&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(n/c),l=Math.round(e/c),o*c<n&&++o,l*c>e&&--l),l<o&&.5<=t&&t<2?dT(n,e,t*2):[o,l,c]}function r6(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?dT(e,n,t):dT(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function i6(n,e,t){return e=+e,n=+n,t=+t,dT(n,e,t)[2]}function s6(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?i6(e,n,t):i6(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function LW(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function RW(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function Use(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?qse:ike(i);r>t;){if(r-t>600){const l=r-t+1,c=e-t+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(t,Math.floor(e-c*f/l+h)),x=Math.min(r,Math.floor(e+(l-c)*f/l+h));Use(n,e,p,x,i)}const s=n[e];let a=t,o=r;for(A2(n,t,e),i(n[r],s)>0&&A2(n,t,r);a<o;){for(A2(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?A2(n,t,o):(++o,A2(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function A2(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function lke(n,e,t){if(n=Float64Array.from(QTe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return RW(n);if(e>=1)return LW(n);var r,i=(r-1)*e,s=Math.floor(i),a=LW(Use(n,s).subarray(0,s+1)),o=RW(n.subarray(s+1));return a+(o-a)*(i-s)}}function cke(n,e,t=$se){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function uke(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function tu(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Cp(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a6=Symbol("implicit");function xB(){var n=new OW,e=[],t=[],r=a6;function i(s){let a=n.get(s);if(a===void 0){if(r!==a6)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new OW;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return xB(e,t).unknown(r)},tu.apply(i,arguments),i}function G_(){var n=xB().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete n.unknown;function f(){var h=e().length,p=i<r,x=p?i:r,y=p?r:i;s=(y-x)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),x+=(y-x-s*(h-l))*u,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var w=uke(h).map(function(b){return x+s*b});return t(p?w.reverse():w)}return n.domain=function(h){return arguments.length?(e(h),f()):e()},n.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},n.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(h){return arguments.length?(o=!!h,f()):o},n.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},n.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},n.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},n.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},n.copy=function(){return G_(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},tu.apply(f(),arguments)}function zse(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return zse(e())},n}function g_(){return zse(G_.apply(null,arguments).paddingInner(1))}function _B(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Hse(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function j5(){}var K_=.7,hT=1/K_,fb="\\s*([+-]?\\d+)\\s*",X_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fke=/^#([0-9a-f]{3,8})$/,dke=new RegExp(`^rgb\\(${fb},${fb},${fb}\\)$`),hke=new RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`),pke=new RegExp(`^rgba\\(${fb},${fb},${fb},${X_}\\)$`),mke=new RegExp(`^rgba\\(${hd},${hd},${hd},${X_}\\)$`),gke=new RegExp(`^hsl\\(${X_},${hd},${hd}\\)$`),vke=new RegExp(`^hsla\\(${X_},${hd},${hd},${X_}\\)$`),IW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_B(j5,Y_,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:MW,formatHex:MW,formatHex8:yke,formatHsl:bke,formatRgb:DW,toString:DW});function MW(){return this.rgb().formatHex()}function yke(){return this.rgb().formatHex8()}function bke(){return Vse(this).formatHsl()}function DW(){return this.rgb().formatRgb()}function Y_(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=fke.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?FW(e):t===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?tC(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?tC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dke.exec(n))?new ll(e[1],e[2],e[3],1):(e=hke.exec(n))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pke.exec(n))?tC(e[1],e[2],e[3],e[4]):(e=mke.exec(n))?tC(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gke.exec(n))?qW(e[1],e[2]/100,e[3]/100,1):(e=vke.exec(n))?qW(e[1],e[2]/100,e[3]/100,e[4]):IW.hasOwnProperty(n)?FW(IW[n]):n==="transparent"?new ll(NaN,NaN,NaN,0):null}function FW(n){return new ll(n>>16&255,n>>8&255,n&255,1)}function tC(n,e,t,r){return r<=0&&(n=e=t=NaN),new ll(n,e,t,r)}function wke(n){return n instanceof j5||(n=Y_(n)),n?(n=n.rgb(),new ll(n.r,n.g,n.b,n.opacity)):new ll}function o6(n,e,t,r){return arguments.length===1?wke(n):new ll(n,e,t,r??1)}function ll(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}_B(ll,o6,Hse(j5,{brighter(n){return n=n==null?hT:Math.pow(hT,n),new ll(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?K_:Math.pow(K_,n),new ll(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ll(e0(this.r),e0(this.g),e0(this.b),pT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BW,formatHex:BW,formatHex8:xke,formatRgb:$W,toString:$W}));function BW(){return`#${Mv(this.r)}${Mv(this.g)}${Mv(this.b)}`}function xke(){return`#${Mv(this.r)}${Mv(this.g)}${Mv(this.b)}${Mv((isNaN(this.opacity)?1:this.opacity)*255)}`}function $W(){const n=pT(this.opacity);return`${n===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${n===1?")":`, ${n})`}`}function pT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function e0(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Mv(n){return n=e0(n),(n<16?"0":"")+n.toString(16)}function qW(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Vu(n,e,t,r)}function Vse(n){if(n instanceof Vu)return new Vu(n.h,n.s,n.l,n.opacity);if(n instanceof j5||(n=Y_(n)),!n)return new Vu;if(n instanceof Vu)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Vu(a,o,l,n.opacity)}function _ke(n,e,t,r){return arguments.length===1?Vse(n):new Vu(n,e,t,r??1)}function Vu(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}_B(Vu,_ke,Hse(j5,{brighter(n){return n=n==null?hT:Math.pow(hT,n),new Vu(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?K_:Math.pow(K_,n),new Vu(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ll(FL(n>=240?n-240:n+120,i,r),FL(n,i,r),FL(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Vu(UW(this.h),nC(this.s),nC(this.l),pT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=pT(this.opacity);return`${n===1?"hsl(":"hsla("}${UW(this.h)}, ${nC(this.s)*100}%, ${nC(this.l)*100}%${n===1?")":`, ${n})`}`}}));function UW(n){return n=(n||0)%360,n<0?n+360:n}function nC(n){return Math.max(0,Math.min(1,n||0))}function FL(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const SB=n=>()=>n;function Ske(n,e){return function(t){return n+t*e}}function Ake(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Pke(n){return(n=+n)==1?Wse:function(e,t){return t-e?Ake(e,t,n):SB(isNaN(e)?t:e)}}function Wse(n,e){var t=e-n;return t?Ske(n,t):SB(isNaN(n)?e:n)}const zW=(function n(e){var t=Pke(e);function r(i,s){var a=t((i=o6(i)).r,(s=o6(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),c=Wse(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r})(1);function Cke(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function Eke(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Tke(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=Dx(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function kke(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function mT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Nke(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Dx(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var l6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BL=new RegExp(l6.source,"g");function Oke(n){return function(){return n}}function jke(n){return function(e){return n(e)+""}}function Lke(n,e){var t=l6.lastIndex=BL.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=l6.exec(n))&&(i=BL.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:mT(r,i)})),t=BL.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?jke(l[0].x):Oke(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Dx(n,e){var t=typeof e,r;return e==null||t==="boolean"?SB(e):(t==="number"?mT:t==="string"?(r=Y_(e))?(e=r,zW):Lke:e instanceof Y_?zW:e instanceof Date?kke:Eke(e)?Cke:Array.isArray(e)?Tke:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nke:mT)(n,e)}function AB(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Rke(n,e){e===void 0&&(e=n,n=Dx);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Ike(n){return function(){return n}}function gT(n){return+n}var HW=[0,1];function No(n){return n}function c6(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Ike(isNaN(e)?NaN:.5)}function Mke(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Dke(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=c6(i,r),s=t(a,s)):(r=c6(r,i),s=t(s,a)),function(o){return s(r(o))}}function Fke(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=c6(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=O5(n,o,1,r)-1;return s[l](i[l](o))}}function L5(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function yN(){var n=HW,e=HW,t=Dx,r,i,s,a=No,o,l,c;function u(){var h=Math.min(n.length,e.length);return a!==No&&(a=Mke(n[0],n[h-1])),o=h>2?Fke:Dke,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(n.map(r),e,t)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=o(e,n.map(r),mT)))(h)))},f.domain=function(h){return arguments.length?(n=Array.from(h,gT),u()):n.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),t=AB,u()},f.clamp=function(h){return arguments.length?(a=h?!0:No,u()):a!==No},f.interpolate=function(h){return arguments.length?(t=h,u()):t},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,u()}}function PB(){return yN()(No,No)}function Bke(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function vT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function nx(n){return n=vT(Math.abs(n)),n?n[1]:NaN}function $ke(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function qke(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Uke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function J_(n){if(!(e=Uke.exec(n)))throw new Error("invalid format: "+n);var e;return new CB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}J_.prototype=CB.prototype;function CB(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}CB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zke(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Gse;function Hke(n,e){var t=vT(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(Gse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+vT(n,Math.max(0,e+s-1))[0]}function VW(n,e){var t=vT(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WW={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Bke,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>VW(n*100,e),r:VW,s:Hke,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function GW(n){return n}var KW=Array.prototype.map,XW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vke(n){var e=n.grouping===void 0||n.thousands===void 0?GW:$ke(KW.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?GW:qke(KW.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(f){f=J_(f);var h=f.fill,p=f.align,x=f.sign,y=f.symbol,w=f.zero,b=f.width,S=f.comma,_=f.precision,P=f.trim,E=f.type;E==="n"?(S=!0,E="g"):WW[E]||(_===void 0&&(_=12),P=!0,E="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var C=y==="$"?t:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=y==="$"?r:/[%p]/.test(E)?a:"",L=WW[E],R=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(j){var D=C,W=N,V,Z,J;if(E==="c")W=L(j)+W,j="";else{j=+j;var K=j<0||1/j<0;if(j=isNaN(j)?l:L(Math.abs(j),_),P&&(j=zke(j)),K&&+j==0&&x!=="+"&&(K=!1),D=(K?x==="("?x:o:x==="-"||x==="("?"":x)+D,W=(E==="s"?XW[8+Gse/3]:"")+W+(K&&x==="("?")":""),R){for(V=-1,Z=j.length;++V<Z;)if(J=j.charCodeAt(V),48>J||J>57){W=(J===46?i+j.slice(V+1):j.slice(V))+W,j=j.slice(0,V);break}}}S&&!w&&(j=e(j,1/0));var $=D.length+j.length+W.length,te=$<b?new Array(b-$+1).join(h):"";switch(S&&w&&(j=e(te+j,te.length?b-W.length:1/0),te=""),p){case"<":j=D+j+W+te;break;case"=":j=D+te+j+W;break;case"^":j=te.slice(0,$=te.length>>1)+D+j+W+te.slice($);break;default:j=te+D+j+W;break}return s(j)}return F.toString=function(){return f+""},F}function u(f,h){var p=c((f=J_(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(nx(h)/3)))*3,y=Math.pow(10,-x),w=XW[8+x/3];return function(b){return p(y*b)+w}}return{format:c,formatPrefix:u}}var rC,EB,Kse;Wke({thousands:",",grouping:[3],currency:["$",""]});function Wke(n){return rC=Vke(n),EB=rC.format,Kse=rC.formatPrefix,rC}function Gke(n){return Math.max(0,-nx(Math.abs(n)))}function Kke(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nx(e)/3)))*3-nx(Math.abs(n)))}function Xke(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,nx(e)-nx(n))+1}function Xse(n,e,t,r){var i=s6(n,e,t),s;switch(r=J_(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=Kke(i,a))&&(r.precision=s),Kse(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Xke(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Gke(i))&&(r.precision=s-(r.type==="%")*2);break}}return EB(r)}function Rg(n){var e=n.domain;return n.ticks=function(t){var r=e();return r6(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return Xse(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=i6(a,o,t),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return n},n}function yT(){var n=PB();return n.copy=function(){return L5(n,yT())},tu.apply(n,arguments),Rg(n)}function Yse(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,gT),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return Yse(n).unknown(e)},n=arguments.length?Array.from(n,gT):[0,1],Rg(t)}function Jse(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function YW(n){return Math.log(n)}function JW(n){return Math.exp(n)}function Yke(n){return-Math.log(-n)}function Jke(n){return-Math.exp(-n)}function Zke(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Qke(n){return n===10?Zke:n===Math.E?Math.exp:e=>Math.pow(n,e)}function eNe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function ZW(n){return(e,t)=>-n(-e,t)}function TB(n){const e=n(YW,JW),t=e.domain;let r=10,i,s;function a(){return i=eNe(r),s=Qke(r),t()[0]<0?(i=ZW(i),s=ZW(s),n(Yke,Jke)):n(YW,JW),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),x,y;const w=o==null?10:+o;let b=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(x=1;x<r;++x)if(y=h<0?x/s(-h):x*s(h),!(y<c)){if(y>u)break;b.push(y)}}else for(;h<=p;++h)for(x=r-1;x>=1;--x)if(y=h>0?x/s(-h):x*s(h),!(y<c)){if(y>u)break;b.push(y)}b.length*2<w&&(b=r6(c,u,w))}else b=r6(h,p,Math.min(p-h,w)).map(s);return f?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=J_(l)).precision==null&&(l.trim=!0),l=EB(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>t(Jse(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Zse(){const n=TB(yN()).domain([1,10]);return n.copy=()=>L5(n,Zse()).base(n.base()),tu.apply(n,arguments),n}function QW(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function eG(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function kB(n){var e=1,t=n(QW(e),eG(e));return t.constant=function(r){return arguments.length?n(QW(e=+r),eG(e)):e},Rg(t)}function Qse(){var n=kB(yN());return n.copy=function(){return L5(n,Qse()).constant(n.constant())},tu.apply(n,arguments)}function tG(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function tNe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function nNe(n){return n<0?-n*n:n*n}function NB(n){var e=n(No,No),t=1;function r(){return t===1?n(No,No):t===.5?n(tNe,nNe):n(tG(t),tG(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},Rg(e)}function OB(){var n=NB(yN());return n.copy=function(){return L5(n,OB()).exponent(n.exponent())},tu.apply(n,arguments),n}function rNe(){return OB.apply(null,arguments).exponent(.5)}function nG(n){return Math.sign(n)*n*n}function iNe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function eae(){var n=PB(),e=[0,1],t=!1,r;function i(s){var a=iNe(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(nG(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,gT)).map(nG)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return eae(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},tu.apply(i,arguments),Rg(i)}function tae(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=cke(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[O5(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(mg),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return tae().domain(n).range(e).unknown(r)},tu.apply(s,arguments)}function nae(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[O5(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return nae().domain([n,e]).range(i).unknown(s)},tu.apply(Rg(a),arguments)}function rae(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[O5(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return rae().domain(n).range(e).unknown(t)},tu.apply(i,arguments)}const $L=new Date,qL=new Date;function Bs(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),n(s);while(c<s&&s<a);return l},i.filter=s=>Bs(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>($L.setTime(+s),qL.setTime(+a),n($L),n(qL),Math.floor(t($L,qL))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const bT=Bs(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);bT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Bs(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):bT);bT.range;const rp=1e3,Gc=rp*60,ip=Gc*60,yp=ip*24,jB=yp*7,rG=yp*30,UL=yp*365,Dv=Bs(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*rp)},(n,e)=>(e-n)/rp,n=>n.getUTCSeconds());Dv.range;const LB=Bs(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*rp)},(n,e)=>{n.setTime(+n+e*Gc)},(n,e)=>(e-n)/Gc,n=>n.getMinutes());LB.range;const RB=Bs(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Gc)},(n,e)=>(e-n)/Gc,n=>n.getUTCMinutes());RB.range;const IB=Bs(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*rp-n.getMinutes()*Gc)},(n,e)=>{n.setTime(+n+e*ip)},(n,e)=>(e-n)/ip,n=>n.getHours());IB.range;const MB=Bs(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*ip)},(n,e)=>(e-n)/ip,n=>n.getUTCHours());MB.range;const R5=Bs(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Gc)/yp,n=>n.getDate()-1);R5.range;const bN=Bs(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/yp,n=>n.getUTCDate()-1);bN.range;const iae=Bs(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/yp,n=>Math.floor(n/yp));iae.range;function O0(n){return Bs(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gc)/jB)}const wN=O0(0),wT=O0(1),sNe=O0(2),aNe=O0(3),rx=O0(4),oNe=O0(5),lNe=O0(6);wN.range;wT.range;sNe.range;aNe.range;rx.range;oNe.range;lNe.range;function j0(n){return Bs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/jB)}const xN=j0(0),xT=j0(1),cNe=j0(2),uNe=j0(3),ix=j0(4),fNe=j0(5),dNe=j0(6);xN.range;xT.range;cNe.range;uNe.range;ix.range;fNe.range;dNe.range;const DB=Bs(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());DB.range;const FB=Bs(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());FB.range;const bp=Bs(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());bp.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Bs(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});bp.range;const wp=Bs(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());wp.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Bs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});wp.range;function sae(n,e,t,r,i,s){const a=[[Dv,1,rp],[Dv,5,5*rp],[Dv,15,15*rp],[Dv,30,30*rp],[s,1,Gc],[s,5,5*Gc],[s,15,15*Gc],[s,30,30*Gc],[i,1,ip],[i,3,3*ip],[i,6,6*ip],[i,12,12*ip],[r,1,yp],[r,2,2*yp],[t,1,jB],[e,1,rG],[e,3,3*rG],[n,1,UL]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),x=p?p.range(c,+u+1):[];return h?x.reverse():x}function l(c,u,f){const h=Math.abs(u-c)/f,p=wB(([,,w])=>w).right(a,h);if(p===a.length)return n.every(s6(c/UL,u/UL,f));if(p===0)return bT.every(Math.max(s6(c,u,f),1));const[x,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return x.every(y)}return[o,l]}const[hNe,pNe]=sae(wp,FB,xN,iae,MB,RB),[mNe,gNe]=sae(bp,DB,wN,R5,IB,LB);function zL(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function HL(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function P2(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function vNe(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,c=C2(i),u=E2(i),f=C2(s),h=E2(s),p=C2(a),x=E2(a),y=C2(o),w=E2(o),b=C2(l),S=E2(l),_={a:K,A:$,b:te,B:Q,c:null,d:cG,e:cG,f:$Ne,g:YNe,G:ZNe,H:DNe,I:FNe,j:BNe,L:aae,m:qNe,M:UNe,p:X,q:B,Q:dG,s:hG,S:zNe,u:HNe,U:VNe,V:WNe,w:GNe,W:KNe,x:null,X:null,y:XNe,Y:JNe,Z:QNe,"%":fG},P={a:G,A:ne,b:ie,B:fe,c:null,d:uG,e:uG,f:rOe,g:hOe,G:mOe,H:eOe,I:tOe,j:nOe,L:lae,m:iOe,M:sOe,p:he,q:oe,Q:dG,s:hG,S:aOe,u:oOe,U:lOe,V:cOe,w:uOe,W:fOe,x:null,X:null,y:dOe,Y:pOe,Z:gOe,"%":fG},E={a:F,A:j,b:D,B:W,c:V,d:oG,e:oG,f:LNe,g:aG,G:sG,H:lG,I:lG,j:kNe,L:jNe,m:TNe,M:NNe,p:R,q:ENe,Q:INe,s:MNe,S:ONe,u:_Ne,U:SNe,V:ANe,w:xNe,W:PNe,x:Z,X:J,y:aG,Y:sG,Z:CNe,"%":RNe};_.x=C(t,_),_.X=C(r,_),_.c=C(e,_),P.x=C(t,P),P.X=C(r,P),P.c=C(e,P);function C(pe,Se){return function(be){var ye=[],Oe=-1,Pe=0,ge=pe.length,Ke,Xe,rt;for(be instanceof Date||(be=new Date(+be));++Oe<ge;)pe.charCodeAt(Oe)===37&&(ye.push(pe.slice(Pe,Oe)),(Xe=iG[Ke=pe.charAt(++Oe)])!=null?Ke=pe.charAt(++Oe):Xe=Ke==="e"?" ":"0",(rt=Se[Ke])&&(Ke=rt(be,Xe)),ye.push(Ke),Pe=Oe+1);return ye.push(pe.slice(Pe,Oe)),ye.join("")}}function N(pe,Se){return function(be){var ye=P2(1900,void 0,1),Oe=L(ye,pe,be+="",0),Pe,ge;if(Oe!=be.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Se&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Pe=HL(P2(ye.y,0,1)),ge=Pe.getUTCDay(),Pe=ge>4||ge===0?xT.ceil(Pe):xT(Pe),Pe=bN.offset(Pe,(ye.V-1)*7),ye.y=Pe.getUTCFullYear(),ye.m=Pe.getUTCMonth(),ye.d=Pe.getUTCDate()+(ye.w+6)%7):(Pe=zL(P2(ye.y,0,1)),ge=Pe.getDay(),Pe=ge>4||ge===0?wT.ceil(Pe):wT(Pe),Pe=R5.offset(Pe,(ye.V-1)*7),ye.y=Pe.getFullYear(),ye.m=Pe.getMonth(),ye.d=Pe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),ge="Z"in ye?HL(P2(ye.y,0,1)).getUTCDay():zL(P2(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(ge+5)%7:ye.w+ye.U*7-(ge+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,HL(ye)):zL(ye)}}function L(pe,Se,be,ye){for(var Oe=0,Pe=Se.length,ge=be.length,Ke,Xe;Oe<Pe;){if(ye>=ge)return-1;if(Ke=Se.charCodeAt(Oe++),Ke===37){if(Ke=Se.charAt(Oe++),Xe=E[Ke in iG?Se.charAt(Oe++):Ke],!Xe||(ye=Xe(pe,be,ye))<0)return-1}else if(Ke!=be.charCodeAt(ye++))return-1}return ye}function R(pe,Se,be){var ye=c.exec(Se.slice(be));return ye?(pe.p=u.get(ye[0].toLowerCase()),be+ye[0].length):-1}function F(pe,Se,be){var ye=p.exec(Se.slice(be));return ye?(pe.w=x.get(ye[0].toLowerCase()),be+ye[0].length):-1}function j(pe,Se,be){var ye=f.exec(Se.slice(be));return ye?(pe.w=h.get(ye[0].toLowerCase()),be+ye[0].length):-1}function D(pe,Se,be){var ye=b.exec(Se.slice(be));return ye?(pe.m=S.get(ye[0].toLowerCase()),be+ye[0].length):-1}function W(pe,Se,be){var ye=y.exec(Se.slice(be));return ye?(pe.m=w.get(ye[0].toLowerCase()),be+ye[0].length):-1}function V(pe,Se,be){return L(pe,e,Se,be)}function Z(pe,Se,be){return L(pe,t,Se,be)}function J(pe,Se,be){return L(pe,r,Se,be)}function K(pe){return a[pe.getDay()]}function $(pe){return s[pe.getDay()]}function te(pe){return l[pe.getMonth()]}function Q(pe){return o[pe.getMonth()]}function X(pe){return i[+(pe.getHours()>=12)]}function B(pe){return 1+~~(pe.getMonth()/3)}function G(pe){return a[pe.getUTCDay()]}function ne(pe){return s[pe.getUTCDay()]}function ie(pe){return l[pe.getUTCMonth()]}function fe(pe){return o[pe.getUTCMonth()]}function he(pe){return i[+(pe.getUTCHours()>=12)]}function oe(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Se=C(pe+="",_);return Se.toString=function(){return pe},Se},parse:function(pe){var Se=N(pe+="",!1);return Se.toString=function(){return pe},Se},utcFormat:function(pe){var Se=C(pe+="",P);return Se.toString=function(){return pe},Se},utcParse:function(pe){var Se=N(pe+="",!0);return Se.toString=function(){return pe},Se}}}var iG={"-":"",_:" ",0:"0"},oa=/^\s*\d+/,yNe=/^%/,bNe=/[\\^$*+?|[\]().{}]/g;function sr(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function wNe(n){return n.replace(bNe,"\\$&")}function C2(n){return new RegExp("^(?:"+n.map(wNe).join("|")+")","i")}function E2(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function xNe(n,e,t){var r=oa.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function _Ne(n,e,t){var r=oa.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function SNe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function ANe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function PNe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function sG(n,e,t){var r=oa.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function aG(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function CNe(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function ENe(n,e,t){var r=oa.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function TNe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function oG(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function kNe(n,e,t){var r=oa.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function lG(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function NNe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function ONe(n,e,t){var r=oa.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function jNe(n,e,t){var r=oa.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function LNe(n,e,t){var r=oa.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function RNe(n,e,t){var r=yNe.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function INe(n,e,t){var r=oa.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function MNe(n,e,t){var r=oa.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function cG(n,e){return sr(n.getDate(),e,2)}function DNe(n,e){return sr(n.getHours(),e,2)}function FNe(n,e){return sr(n.getHours()%12||12,e,2)}function BNe(n,e){return sr(1+R5.count(bp(n),n),e,3)}function aae(n,e){return sr(n.getMilliseconds(),e,3)}function $Ne(n,e){return aae(n,e)+"000"}function qNe(n,e){return sr(n.getMonth()+1,e,2)}function UNe(n,e){return sr(n.getMinutes(),e,2)}function zNe(n,e){return sr(n.getSeconds(),e,2)}function HNe(n){var e=n.getDay();return e===0?7:e}function VNe(n,e){return sr(wN.count(bp(n)-1,n),e,2)}function oae(n){var e=n.getDay();return e>=4||e===0?rx(n):rx.ceil(n)}function WNe(n,e){return n=oae(n),sr(rx.count(bp(n),n)+(bp(n).getDay()===4),e,2)}function GNe(n){return n.getDay()}function KNe(n,e){return sr(wT.count(bp(n)-1,n),e,2)}function XNe(n,e){return sr(n.getFullYear()%100,e,2)}function YNe(n,e){return n=oae(n),sr(n.getFullYear()%100,e,2)}function JNe(n,e){return sr(n.getFullYear()%1e4,e,4)}function ZNe(n,e){var t=n.getDay();return n=t>=4||t===0?rx(n):rx.ceil(n),sr(n.getFullYear()%1e4,e,4)}function QNe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+sr(e/60|0,"0",2)+sr(e%60,"0",2)}function uG(n,e){return sr(n.getUTCDate(),e,2)}function eOe(n,e){return sr(n.getUTCHours(),e,2)}function tOe(n,e){return sr(n.getUTCHours()%12||12,e,2)}function nOe(n,e){return sr(1+bN.count(wp(n),n),e,3)}function lae(n,e){return sr(n.getUTCMilliseconds(),e,3)}function rOe(n,e){return lae(n,e)+"000"}function iOe(n,e){return sr(n.getUTCMonth()+1,e,2)}function sOe(n,e){return sr(n.getUTCMinutes(),e,2)}function aOe(n,e){return sr(n.getUTCSeconds(),e,2)}function oOe(n){var e=n.getUTCDay();return e===0?7:e}function lOe(n,e){return sr(xN.count(wp(n)-1,n),e,2)}function cae(n){var e=n.getUTCDay();return e>=4||e===0?ix(n):ix.ceil(n)}function cOe(n,e){return n=cae(n),sr(ix.count(wp(n),n)+(wp(n).getUTCDay()===4),e,2)}function uOe(n){return n.getUTCDay()}function fOe(n,e){return sr(xT.count(wp(n)-1,n),e,2)}function dOe(n,e){return sr(n.getUTCFullYear()%100,e,2)}function hOe(n,e){return n=cae(n),sr(n.getUTCFullYear()%100,e,2)}function pOe(n,e){return sr(n.getUTCFullYear()%1e4,e,4)}function mOe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?ix(n):ix.ceil(n),sr(n.getUTCFullYear()%1e4,e,4)}function gOe(){return"+0000"}function fG(){return"%"}function dG(n){return+n}function hG(n){return Math.floor(+n/1e3)}var x1,uae,fae;vOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vOe(n){return x1=vNe(n),uae=x1.format,x1.parse,fae=x1.utcFormat,x1.utcParse,x1}function yOe(n){return new Date(n)}function bOe(n){return n instanceof Date?+n:+new Date(+n)}function BB(n,e,t,r,i,s,a,o,l,c){var u=PB(),f=u.invert,h=u.domain,p=c(".%L"),x=c(":%S"),y=c("%I:%M"),w=c("%I %p"),b=c("%a %d"),S=c("%b %d"),_=c("%B"),P=c("%Y");function E(C){return(l(C)<C?p:o(C)<C?x:a(C)<C?y:s(C)<C?w:r(C)<C?i(C)<C?b:S:t(C)<C?_:P)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,bOe)):h().map(yOe)},u.ticks=function(C){var N=h();return n(N[0],N[N.length-1],C??10)},u.tickFormat=function(C,N){return N==null?E:c(N)},u.nice=function(C){var N=h();return(!C||typeof C.range!="function")&&(C=e(N[0],N[N.length-1],C??10)),C?h(Jse(N,C)):u},u.copy=function(){return L5(u,BB(n,e,t,r,i,s,a,o,l,c))},u}function wOe(){return tu.apply(BB(mNe,gNe,bp,DB,wN,R5,IB,LB,Dv,uae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xOe(){return tu.apply(BB(hNe,pNe,wp,FB,xN,bN,MB,RB,Dv,fae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _N(){var n=0,e=1,t,r,i,s,a=No,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-t)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([n,e]=f,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(h){var p,x;return arguments.length?([p,x]=h,a=f(p,x),c):[a(0),a(1)]}}return c.range=u(Dx),c.rangeRound=u(AB),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,t=f(n),r=f(e),i=t===r?0:1/(r-t),c}}function Ig(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function dae(){var n=Rg(_N()(No));return n.copy=function(){return Ig(n,dae())},Cp.apply(n,arguments)}function hae(){var n=TB(_N()).domain([1,10]);return n.copy=function(){return Ig(n,hae()).base(n.base())},Cp.apply(n,arguments)}function pae(){var n=kB(_N());return n.copy=function(){return Ig(n,pae()).constant(n.constant())},Cp.apply(n,arguments)}function $B(){var n=NB(_N());return n.copy=function(){return Ig(n,$B()).exponent(n.exponent())},Cp.apply(n,arguments)}function _Oe(){return $B.apply(null,arguments).exponent(.5)}function mae(){var n=[],e=No;function t(r){if(r!=null&&!isNaN(r=+r))return e((O5(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(mg),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>lke(n,s/r))},t.copy=function(){return mae(e).domain(n)},Cp.apply(t,arguments)}function SN(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,c=No,u,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-s)*(r*y<r*s?o:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([n,e,t]=y,i=u(n=+n),s=u(e=+e),a=u(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[n,e,t]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function x(y){return function(w){var b,S,_;return arguments.length?([b,S,_]=w,c=Rke(y,[b,S,_]),p):[c(0),c(.5),c(1)]}}return p.range=x(Dx),p.rangeRound=x(AB),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(n),s=y(e),a=y(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function gae(){var n=Rg(SN()(No));return n.copy=function(){return Ig(n,gae())},Cp.apply(n,arguments)}function vae(){var n=TB(SN()).domain([.1,1,10]);return n.copy=function(){return Ig(n,vae()).base(n.base())},Cp.apply(n,arguments)}function yae(){var n=kB(SN());return n.copy=function(){return Ig(n,yae()).constant(n.constant())},Cp.apply(n,arguments)}function qB(){var n=NB(SN());return n.copy=function(){return Ig(n,qB()).exponent(n.exponent())},Cp.apply(n,arguments)}function SOe(){return qB.apply(null,arguments).exponent(.5)}const pG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:G_,scaleDiverging:gae,scaleDivergingLog:vae,scaleDivergingPow:qB,scaleDivergingSqrt:SOe,scaleDivergingSymlog:yae,scaleIdentity:Yse,scaleImplicit:a6,scaleLinear:yT,scaleLog:Zse,scaleOrdinal:xB,scalePoint:g_,scalePow:OB,scaleQuantile:tae,scaleQuantize:nae,scaleRadial:eae,scaleSequential:dae,scaleSequentialLog:hae,scaleSequentialPow:$B,scaleSequentialQuantile:mae,scaleSequentialSqrt:_Oe,scaleSequentialSymlog:pae,scaleSqrt:rNe,scaleSymlog:Qse,scaleThreshold:rae,scaleTime:wOe,scaleUtc:xOe,tickFormat:Xse},Symbol.toStringTag,{value:"Module"}));var VL,mG;function AN(){if(mG)return VL;mG=1;var n=Lx();function e(t,r,i){for(var s=-1,a=t.length;++s<a;){var o=t[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!n(l):i(l,c)))var c=l,u=o}return u}return VL=e,VL}var WL,gG;function bae(){if(gG)return WL;gG=1;function n(e,t){return e>t}return WL=n,WL}var GL,vG;function AOe(){if(vG)return GL;vG=1;var n=AN(),e=bae(),t=Mx();function r(i){return i&&i.length?n(i,t,e):void 0}return GL=r,GL}var POe=AOe();const fg=qn(POe);var KL,yG;function wae(){if(yG)return KL;yG=1;function n(e,t){return e<t}return KL=n,KL}var XL,bG;function COe(){if(bG)return XL;bG=1;var n=AN(),e=wae(),t=Mx();function r(i){return i&&i.length?n(i,t,e):void 0}return XL=r,XL}var EOe=COe();const PN=qn(EOe);var YL,wG;function TOe(){if(wG)return YL;wG=1;var n=rB(),e=Ed(),t=Tse(),r=cl();function i(s,a){var o=r(s)?n:t;return o(s,e(a,3))}return YL=i,YL}var JL,xG;function kOe(){if(xG)return JL;xG=1;var n=Cse(),e=TOe();function t(r,i){return n(e(r,i),1)}return JL=t,JL}var NOe=kOe();const OOe=qn(NOe);var ZL,_G;function jOe(){if(_G)return ZL;_G=1;var n=gB();function e(t,r){return n(t,r)}return ZL=e,ZL}var LOe=jOe();const x0=qn(LOe);var Fx=1e9,ROe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zB,wi=!0,Zc="[DecimalError] ",t0=Zc+"Invalid argument: ",UB=Zc+"Exponent out of range: ",Bx=Math.floor,Sv=Math.pow,IOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ec,ra=1e7,si=7,xae=9007199254740991,_T=Bx(xae/si),yt={};yt.absoluteValue=yt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};yt.comparedTo=yt.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*si;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};yt.dividedBy=yt.div=function(n){return cp(this,new this.constructor(n))};yt.dividedToIntegerBy=yt.idiv=function(n){var e=this,t=e.constructor;return Hr(cp(e,new t(n),0,1),t.precision)};yt.equals=yt.eq=function(n){return!this.cmp(n)};yt.exponent=function(){return vs(this)};yt.greaterThan=yt.gt=function(n){return this.cmp(n)>0};yt.greaterThanOrEqualTo=yt.gte=function(n){return this.cmp(n)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(n){return this.cmp(n)<0};yt.lessThanOrEqualTo=yt.lte=function(n){return this.cmp(n)<1};yt.logarithm=yt.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(ec))throw Error(Zc+"NaN");if(t.s<1)throw Error(Zc+(t.s?"NaN":"-Infinity"));return t.eq(ec)?new r(0):(wi=!1,e=cp(Z_(t,s),Z_(n,s),s),wi=!0,Hr(e,i))};yt.minus=yt.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?Aae(e,n):_ae(e,(n.s=-n.s,n))};yt.modulo=yt.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Zc+"NaN");return t.s?(wi=!1,e=cp(t,n,0,1).times(n),wi=!0,t.minus(e)):Hr(new r(t),i)};yt.naturalExponential=yt.exp=function(){return Sae(this)};yt.naturalLogarithm=yt.ln=function(){return Z_(this)};yt.negated=yt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};yt.plus=yt.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?_ae(e,n):Aae(e,(n.s=-n.s,n))};yt.precision=yt.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(t0+n);if(e=vs(i)+1,r=i.d.length-1,t=r*si+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};yt.squareRoot=yt.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Zc+"NaN")}for(n=vs(o),wi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=od(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Bx((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(cp(o,s,a+2)).times(.5),od(s.d).slice(0,a)===(e=od(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Hr(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return wi=!0,Hr(r,t)};yt.times=yt.mul=function(n){var e,t,r,i,s,a,o,l,c,u=this,f=u.constructor,h=u.d,p=(n=new f(n)).d;if(!u.s||!n.s)return new f(0);for(n.s*=u.s,t=u.e+n.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*h[i-r-1]+e,s[i--]=o%ra|0,e=o/ra|0;s[i]=(s[i]+e)%ra|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,wi?Hr(n,f.precision):n};yt.toDecimalPlaces=yt.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(_d(n,0,Fx),e===void 0?e=r.rounding:_d(e,0,8),Hr(t,n+vs(t)+1,e))};yt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=_0(r,!0):(_d(n,0,Fx),e===void 0?e=i.rounding:_d(e,0,8),r=Hr(new i(r),n+1,e),t=_0(r,!0,n+1)),t};yt.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?_0(i):(_d(n,0,Fx),e===void 0?e=s.rounding:_d(e,0,8),r=Hr(new s(i),n+vs(i)+1,e),t=_0(r.abs(),!1,n+vs(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};yt.toInteger=yt.toint=function(){var n=this,e=n.constructor;return Hr(new e(n),vs(n)+1,e.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,c=12,u=+(n=new l(n));if(!n.s)return new l(ec);if(o=new l(o),!o.s){if(n.s<1)throw Error(Zc+"Infinity");return o}if(o.eq(ec))return o;if(r=l.precision,n.eq(ec))return Hr(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=u<0?-u:u)<=xae){for(i=new l(ec),e=Math.ceil(r/si+4),wi=!1;t%2&&(i=i.times(o),AG(i.d,e)),t=Bx(t/2),t!==0;)o=o.times(o),AG(o.d,e);return wi=!0,n.s<0?new l(ec).div(i):Hr(i,r)}}else if(s<0)throw Error(Zc+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,wi=!1,i=n.times(Z_(o,r+c)),wi=!0,i=Sae(i),i.s=s,i};yt.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=vs(i),r=_0(i,t<=s.toExpNeg||t>=s.toExpPos)):(_d(n,1,Fx),e===void 0?e=s.rounding:_d(e,0,8),i=Hr(new s(i),n,e),t=vs(i),r=_0(i,n<=t||t<=s.toExpNeg,n)),r};yt.toSignificantDigits=yt.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(_d(n,1,Fx),e===void 0?e=r.rounding:_d(e,0,8)),Hr(new r(t),n,e)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=vs(n),t=n.constructor;return _0(n,e<=t.toExpNeg||e>=t.toExpPos)};function _ae(n,e){var t,r,i,s,a,o,l,c,u=n.constructor,f=u.precision;if(!n.s||!e.s)return e.s||(e=new u(n)),wi?Hr(e,f):e;if(l=n.d,c=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/si),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/ra|0,l[s]%=ra;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,wi?Hr(e,f):e}function _d(n,e,t){if(n!==~~n||n<e||n>t)throw Error(t0+n)}function od(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=si-r.length,t&&(s+=hm(t)),s+=r;a=n[e],r=a+"",t=si-r.length,t&&(s+=hm(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var cp=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ra|0,a=s/ra|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ra+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,f,h,p,x,y,w,b,S,_,P,E,C,N,L,R=r.constructor,F=r.s==i.s?1:-1,j=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Zc+"Division by zero");for(l=r.e-i.e,N=D.length,E=j.length,p=new R(F),x=p.d=[],c=0;D[c]==(j[c]||0);)++c;if(D[c]>(j[c]||0)&&--l,s==null?S=s=R.precision:a?S=s+(vs(r)-vs(i))+1:S=s,S<0)return new R(0);if(S=S/si+2|0,c=0,N==1)for(u=0,D=D[0],S++;(c<E||u)&&S--;c++)_=u*ra+(j[c]||0),x[c]=_/D|0,u=_%D|0;else{for(u=ra/(D[0]+1)|0,u>1&&(D=n(D,u),j=n(j,u),N=D.length,E=j.length),P=N,y=j.slice(0,N),w=y.length;w<N;)y[w++]=0;L=D.slice(),L.unshift(0),C=D[0],D[1]>=ra/2&&++C;do u=0,o=e(D,y,N,w),o<0?(b=y[0],N!=w&&(b=b*ra+(y[1]||0)),u=b/C|0,u>1?(u>=ra&&(u=ra-1),f=n(D,u),h=f.length,w=y.length,o=e(f,y,h,w),o==1&&(u--,t(f,N<h?L:D,h))):(u==0&&(o=u=1),f=D.slice()),h=f.length,h<w&&f.unshift(0),t(y,f,w),o==-1&&(w=y.length,o=e(D,y,N,w),o<1&&(u++,t(y,N<w?L:D,w))),w=y.length):o===0&&(u++,y=[0]),x[c++]=u,o&&y[0]?y[w++]=j[P]||0:(y=[j[P]],w=1);while((P++<E||y[0]!==void 0)&&S--)}return x[0]||x.shift(),p.e=l,Hr(p,a?s+vs(p)+1:s)}})();function Sae(n,e){var t,r,i,s,a,o,l=0,c=0,u=n.constructor,f=u.precision;if(vs(n)>16)throw Error(UB+vs(n));if(!n.s)return new u(ec);for(wi=!1,o=f,a=new u(.03125);n.abs().gte(.1);)n=n.times(a),c+=5;for(r=Math.log(Sv(2,c))/Math.LN10*2+5|0,o+=r,t=i=s=new u(ec),u.precision=o;;){if(i=Hr(i.times(n),o),t=t.times(++l),a=s.plus(cp(i,t,o)),od(a.d).slice(0,o)===od(s.d).slice(0,o)){for(;c--;)s=Hr(s.times(s),o);return u.precision=f,e==null?(wi=!0,Hr(s,f)):s}s=a}}function vs(n){for(var e=n.e*si,t=n.d[0];t>=10;t/=10)e++;return e}function QL(n,e,t){if(e>n.LN10.sd())throw wi=!0,t&&(n.precision=t),Error(Zc+"LN10 precision limit exceeded");return Hr(new n(n.LN10),e)}function hm(n){for(var e="";n--;)e+="0";return e}function Z_(n,e){var t,r,i,s,a,o,l,c,u,f=1,h=10,p=n,x=p.d,y=p.constructor,w=y.precision;if(p.s<1)throw Error(Zc+(p.s?"NaN":"-Infinity"));if(p.eq(ec))return new y(0);if(e==null?(wi=!1,c=w):c=e,p.eq(10))return e==null&&(wi=!0),QL(y,c);if(c+=h,y.precision=c,t=od(x),r=t.charAt(0),s=vs(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)p=p.times(n),t=od(p.d),r=t.charAt(0),f++;s=vs(p),r>1?(p=new y("0."+t),s++):p=new y(r+"."+t.slice(1))}else return l=QL(y,c+2,w).times(s+""),p=Z_(new y(r+"."+t.slice(1)),c-h).plus(l),y.precision=w,e==null?(wi=!0,Hr(p,w)):p;for(o=a=p=cp(p.minus(ec),p.plus(ec),c),u=Hr(p.times(p),c),i=3;;){if(a=Hr(a.times(u),c),l=o.plus(cp(a,new y(i),c)),od(l.d).slice(0,c)===od(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(QL(y,c+2,w).times(s+""))),o=cp(o,new y(f),c),y.precision=w,e==null?(wi=!0,Hr(o,w)):o;o=l,i+=2}}function SG(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Bx(t/si),n.d=[],r=(t+1)%si,t<0&&(r+=si),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=si;r<i;)n.d.push(+e.slice(r,r+=si));e=e.slice(r),r=si-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),wi&&(n.e>_T||n.e<-_T))throw Error(UB+t)}else n.s=0,n.e=0,n.d=[0];return n}function Hr(n,e,t){var r,i,s,a,o,l,c,u,f=n.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=si,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/si),s=f.length,u>=s)return n;for(c=s=f[u],a=1;s>=10;s/=10)a++;r%=si,i=r-si+a}if(t!==void 0&&(s=Sv(10,a-i-1),o=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?c/Sv(10,a-i):0:f[u-1])%10&1||t==(n.s<0?8:7))),e<1||!f[0])return l?(s=vs(n),f.length=1,e=e-s-1,f[0]=Sv(10,(si-e%si)%si),n.e=Bx(-e/si)||0):(f.length=1,f[0]=n.e=n.s=0),n;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=Sv(10,si-r),f[u]=i>0?(c/Sv(10,a-i)%Sv(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==ra&&(f[0]=1,++n.e);break}else{if(f[u]+=s,f[u]!=ra)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(wi&&(n.e>_T||n.e<-_T))throw Error(UB+vs(n));return n}function Aae(n,e){var t,r,i,s,a,o,l,c,u,f,h=n.constructor,p=h.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new h(n),wi?Hr(e,p):e;if(l=n.d,f=e.d,r=e.e,c=n.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(t=l,a=-a,o=f.length):(t=f,r=c,o=l.length),i=Math.max(Math.ceil(p/si),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=ra-1;--l[s],l[i]+=ra}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,wi?Hr(e,p):e):new h(0)}function _0(n,e,t){var r,i=vs(n),s=od(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+hm(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+hm(-i-1)+s,t&&(r=t-a)>0&&(s+=hm(r))):i>=a?(s+=hm(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+hm(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=hm(r))),n.s<0?"-"+s:s}function AG(n,e){if(n.length>e)return n.length=e,!0}function Pae(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(t0+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return SG(a,s.toString())}else if(typeof s!="string")throw Error(t0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,IOe.test(s))SG(a,s);else throw Error(t0+s)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Pae,i.config=i.set=MOe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function MOe(n){if(!n||typeof n!="object")throw Error(Zc+"Object expected");var e,t,r,i=["precision",1,Fx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Bx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(t0+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(t0+t+": "+r);return this}var zB=Pae(ROe);ec=new zB(1);const Lr=zB;function DOe(n){return qOe(n)||$Oe(n)||BOe(n)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(n,e){if(n){if(typeof n=="string")return u6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u6(n,e)}}function $Oe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function qOe(n){if(Array.isArray(n))return u6(n)}function u6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var UOe=function(e){return e},Cae={},Eae=function(e){return e===Cae},PG=function(e){return function t(){return arguments.length===0||arguments.length===1&&Eae(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},zOe=function n(e,t){return e===1?t:PG(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==Cae}).length;return a>=e?t.apply(void 0,i):n(e-a,PG(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Eae(f)?l.shift():f});return t.apply(void 0,DOe(u).concat(l))}))})},CN=function(e){return zOe(e.length,e)},f6=function(e,t){for(var r=[],i=e;i<t;++i)r[i-e]=i;return r},HOe=CN(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),VOe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return UOe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},d6=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Tae=function(e){var t=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t&&s.every(function(o,l){return o===t[l]})||(t=s,r=e.apply(void 0,s)),r}};function WOe(n){var e;return n===0?e=1:e=Math.floor(new Lr(n).abs().log(10).toNumber())+1,e}function GOe(n,e,t){for(var r=new Lr(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var KOe=CN(function(n,e,t){var r=+n,i=+e;return r+t*(i-r)}),XOe=CN(function(n,e,t){var r=e-+n;return r=r||1/0,(t-n)/r}),YOe=CN(function(n,e,t){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});const EN={rangeStep:GOe,getDigitCount:WOe,interpolateNumber:KOe,uninterpolateNumber:XOe,uninterpolateTruncation:YOe};function h6(n){return QOe(n)||ZOe(n)||kae(n)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZOe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function QOe(n){if(Array.isArray(n))return p6(n)}function Q_(n,e){return n3e(n)||t3e(n,e)||kae(n,e)||e3e()}function e3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(n,e){if(n){if(typeof n=="string")return p6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p6(n,e)}}function p6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function t3e(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,i=!1,s=void 0;try{for(var a=n[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(t.push(o.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return t}}function n3e(n){if(Array.isArray(n))return n}function Nae(n){var e=Q_(n,2),t=e[0],r=e[1],i=t,s=r;return t>r&&(i=r,s=t),[i,s]}function Oae(n,e,t){if(n.lte(0))return new Lr(0);var r=EN.getDigitCount(n.toNumber()),i=new Lr(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Lr(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?l:new Lr(Math.ceil(l))}function r3e(n,e,t){var r=1,i=new Lr(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Lr(10).pow(EN.getDigitCount(n)-1),i=new Lr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Lr(Math.floor(n)))}else n===0?i=new Lr(Math.floor((e-1)/2)):t||(i=new Lr(Math.floor(n)));var a=Math.floor((e-1)/2),o=VOe(HOe(function(l){return i.add(new Lr(l-a).mul(r)).toNumber()}),f6);return o(0,e)}function jae(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new Lr(0),tickMin:new Lr(0),tickMax:new Lr(0)};var s=Oae(new Lr(e).sub(n).div(t-1),r,i),a;n<=0&&e>=0?a=new Lr(0):(a=new Lr(n).add(e).div(2),a=a.sub(new Lr(a).mod(s)));var o=Math.ceil(a.sub(n).div(s).toNumber()),l=Math.ceil(new Lr(e).sub(a).div(s).toNumber()),c=o+l+1;return c>t?jae(n,e,t,r,i+1):(c<t&&(l=e>0?l+(t-c):l,o=e>0?o:o+(t-c)),{step:s,tickMin:a.sub(new Lr(o).mul(s)),tickMax:a.add(new Lr(l).mul(s))})}function i3e(n){var e=Q_(n,2),t=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=Nae([t,r]),l=Q_(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(h6(f6(0,i-1).map(function(){return 1/0}))):[].concat(h6(f6(0,i-1).map(function(){return-1/0})),[u]);return t>r?d6(f):f}if(c===u)return r3e(c,i,s);var h=jae(c,u,a,s),p=h.step,x=h.tickMin,y=h.tickMax,w=EN.rangeStep(x,y.add(new Lr(.1).mul(p)),p);return t>r?d6(w):w}function s3e(n,e){var t=Q_(n,2),r=t[0],i=t[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Nae([r,i]),o=Q_(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=Oae(new Lr(c).sub(l).div(u-1),s,0),h=[].concat(h6(EN.rangeStep(new Lr(l),new Lr(c).sub(new Lr(.99).mul(f)),f)),[c]);return r>i?d6(h):h}var a3e=Tae(i3e),o3e=Tae(s3e),l3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sx(n){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(n)}function ST(){return ST=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ST.apply(this,arguments)}function c3e(n,e){return h3e(n)||d3e(n,e)||f3e(n,e)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f3e(n,e){if(n){if(typeof n=="string")return CG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CG(n,e)}}function CG(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d3e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function h3e(n){if(Array.isArray(n))return n}function p3e(n,e){if(n==null)return{};var t=m3e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function m3e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function g3e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function v3e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Iae(r.key),r)}}function y3e(n,e,t){return e&&v3e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function b3e(n,e,t){return e=AT(e),w3e(n,Lae()?Reflect.construct(e,t||[],AT(n).constructor):e.apply(n,t))}function w3e(n,e){if(e&&(sx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x3e(n)}function x3e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Lae(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lae=function(){return!!n})()}function AT(n){return AT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AT(n)}function _3e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&m6(n,e)}function m6(n,e){return m6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m6(n,e)}function Rae(n,e,t){return e=Iae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iae(n){var e=S3e(n,"string");return sx(e)=="symbol"?e:e+""}function S3e(n,e){if(sx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var I5=(function(n){function e(){return g3e(this,e),b3e(this,e,arguments)}return _3e(e,n),y3e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=p3e(r,l3e),p=Bt(h,!1);this.props.direction==="x"&&u.type!=="number"&&g0();var x=l.map(function(y){var w=c(y,o),b=w.x,S=w.y,_=w.value,P=w.errorVal;if(!P)return null;var E=[],C,N;if(Array.isArray(P)){var L=c3e(P,2);C=L[0],N=L[1]}else C=N=P;if(s==="vertical"){var R=u.scale,F=S+i,j=F+a,D=F-a,W=R(_-C),V=R(_+N);E.push({x1:V,y1:j,x2:V,y2:D}),E.push({x1:W,y1:F,x2:V,y2:F}),E.push({x1:W,y1:j,x2:W,y2:D})}else if(s==="horizontal"){var Z=f.scale,J=b+i,K=J-a,$=J+a,te=Z(_-C),Q=Z(_+N);E.push({x1:K,y1:Q,x2:$,y2:Q}),E.push({x1:J,y1:te,x2:J,y2:Q}),E.push({x1:K,y1:te,x2:$,y2:te})}return de.createElement(Mn,ST({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),E.map(function(X){return de.createElement("line",ST({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return de.createElement(Mn,{className:"recharts-errorBars"},x)}}])})(de.Component);Rae(I5,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Rae(I5,"displayName","ErrorBar");function eS(n){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(n)}function EG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(t),!0).forEach(function(r){A3e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function A3e(n,e,t){return e=P3e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P3e(n){var e=C3e(n,"string");return eS(e)=="symbol"?e:e+""}function C3e(n,e){if(eS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(eS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Mae=function(e){var t=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Kl(t,ub);if(!a)return null;var o=ub.defaultProps,l=o!==void 0?mv(mv({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,p=f.props,x=p.sectors||p.data||[];return u.concat(x.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?mv(mv({},h),f.props):{},x=p.dataKey,y=p.name,w=p.legendType,b=p.hide;return{inactive:b,dataKey:x,type:l.iconType||w||"square",color:HB(f),value:y||x,payload:p}}),mv(mv(mv({},l),ub.getWithHeight(a,i)),{},{payload:c,item:a})};function tS(n){"@babel/helpers - typeof";return tS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(n)}function TG(n){return N3e(n)||k3e(n)||T3e(n)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(n,e){if(n){if(typeof n=="string")return g6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g6(n,e)}}function k3e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function N3e(n){if(Array.isArray(n))return g6(n)}function g6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ki(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kG(Object(t),!0).forEach(function(r){db(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function db(n,e,t){return e=O3e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O3e(n){var e=j3e(n,"string");return tS(e)=="symbol"?e:e+""}function j3e(n,e){if(tS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function as(n,e,t){return hn(n)||hn(e)?t:Ds(e)?rc(n,e,t):nn(e)?e(n):t}function v_(n,e,t,r){var i=OOe(n,function(o){return as(o,e)});if(t==="number"){var s=i.filter(function(o){return tt(o)||parseFloat(o)});return s.length?[PN(s),fg(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!hn(o)}):i;return a.map(function(o){return Ds(o)||o instanceof Date?o:""})}var L3e=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(To(f-u)!==To(h-f)){var x=[];if(To(h-f)===To(l[1]-l[0])){p=h;var y=f+l[1]-l[0];x[0]=Math.min(y,(y+u)/2),x[1]=Math.max(y,(y+u)/2)}else{p=u;var w=h+l[1]-l[0];x[0]=Math.min(f,(w+f)/2),x[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var S=Math.min(u,h),_=Math.max(u,h);if(e>(S+f)/2&&e<=(_+f)/2){a=i[c].index;break}}}else for(var P=0;P<o;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},HB=function(e){var t,r=e,i=r.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Ki(Ki({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},R3e=function(e){var t=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var x=u[f[h]],y=x.items,w=x.cateAxisId,b=y.filter(function(N){return lp(N.type).indexOf("Bar")>=0});if(b&&b.length){var S=b[0].type.defaultProps,_=S!==void 0?Ki(Ki({},S),b[0].props):b[0].props,P=_.barSize,E=_[w];a[E]||(a[E]=[]);var C=hn(P)?t:P;a[E].push({item:b[0],stackList:b.slice(1),barSize:hn(C)?void 0:ko(C,r,0)})}}return a},I3e=function(e){var t=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=ko(t,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,x=a.reduce(function(P,E){return P+E.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&p>0&&(h=!0,p*=.9,x=l*p);var y=(i-x)/2>>0,w={offset:y-c,size:0};u=a.reduce(function(P,E){var C={item:E.item,position:{offset:w.offset+w.size+c,size:h?p:E.barSize}},N=[].concat(TG(P),[C]);return w=N[N.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(L){N.push({item:L,position:w})}),N},f)}else{var b=ko(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var S=(i-2*b-(l-1)*c)/l;S>1&&(S>>=0);var _=o===+o?Math.min(S,o):S;u=a.reduce(function(P,E,C){var N=[].concat(TG(P),[{item:E.item,position:{offset:b+(S+c)*C+(S-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(L){N.push({item:L,position:N[N.length-1].position})}),N},f)}return u},M3e=function(e,t,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=Mae({children:s,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,x=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&p!=="center"&&tt(e[p]))return Ki(Ki({},e),{},db({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&x!=="middle"&&tt(e[x]))return Ki(Ki({},e),{},db({},x,e[x]+(h||0)))}return e},D3e=function(e,t,r){return hn(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},Dae=function(e,t,r,i,s){var a=t.props.children,o=ic(a,I5).filter(function(c){return D3e(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=as(u,r);if(hn(f))return c;var h=Array.isArray(f)?[PN(f),fg(f)]:[f,f],p=l.reduce(function(x,y){var w=as(u,y,0),b=h[0]-Math.abs(Array.isArray(w)?w[0]:w),S=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,x[0]),Math.max(S,x[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},F3e=function(e,t,r,i,s){var a=t.map(function(o){return Dae(e,o,r,s,i)}).filter(function(o){return!hn(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Fae=function(e,t,r,i,s){var a=t.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Dae(e,l,c,i)||v_(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Bae=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},$ae=function(e,t,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(t),a||o.push(r),o},sp=function(e,t,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(t||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?To(o[0]-o[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Ix(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:s?s[f]:f,index:h,offset:c}})},eR=new WeakMap,iC=function(e,t){if(typeof t!="function")return e;eR.has(e)||eR.set(e,new WeakMap);var r=eR.get(e);if(r.has(t))return r.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,i),i},qae=function(e,t,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:G_(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:yT(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:g_(),realScaleType:"point"}:s==="category"?{scale:G_(),realScaleType:"band"}:{scale:yT(),realScaleType:"linear"};if(y0(i)){var l="scale".concat(uN(i));return{scale:(pG[l]||g_)(),realScaleType:pG[l]?l:"point"}}return nn(i)?{scale:i}:{scale:g_(),realScaleType:"point"}},NG=1e-4,Uae=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,i=e.range(),s=Math.min(i[0],i[1])-NG,a=Math.max(i[0],i[1])+NG,o=e(t[0]),l=e(t[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([t[0],t[r-1]])}},B3e=function(e,t){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===t)return e[r].position;return null},$3e=function(e,t){if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(s[0]=r),(!tt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},q3e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<t;++o){var l=Ix(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},U3e=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<t;++a){var o=Ix(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},z3e={sign:q3e,expand:OPe,none:Jw,silhouette:jPe,wiggle:LPe,positive:U3e},H3e=function(e,t,r){var i=t.map(function(o){return o.props.dataKey}),s=z3e[r],a=NPe().keys(i).value(function(o,l){return+as(o,l,0)}).order(WD).offset(s);return a(e)},V3e=function(e,t,r,i,s,a){if(!e)return null;var o=a?t.reverse():t,l={},c=o.reduce(function(f,h){var p,x=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ki(Ki({},h.type.defaultProps),h.props):h.props,y=x.stackId,w=x.hide;if(w)return f;var b=x[r],S=f[b]||{hasStack:!1,stackGroups:{}};if(Ds(y)){var _=S.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),S.hasStack=!0,S.stackGroups[y]=_}else S.stackGroups[N0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ki(Ki({},f),{},db({},b,S))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,w){var b=p.stackGroups[w];return Ki(Ki({},y),{},db({},w,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:H3e(e,b.items,s)}))},x)}return Ki(Ki({},f),{},db({},h,p))},u)},zae=function(e,t){var r=t.realScaleType,i=t.type,s=t.tickCount,a=t.originalDomain,o=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=a3e(c,s,o);return e.domain([PN(u),fg(u)]),{niceTicks:u}}if(s&&i==="number"){var f=e.domain(),h=o3e(f,s,o);return{niceTicks:h}}return null};function PT(n){var e=n.axis,t=n.ticks,r=n.bandSize,i=n.entry,s=n.index,a=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!hn(i[e.dataKey])){var o=eT(t,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return t[s]?t[s].coordinate+r/2:null}var l=as(i,hn(a)?e.dataKey:a);return hn(l)?null:e.scale(l)}var OG=function(e){var t=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(t.type==="category")return r[o]?r[o].coordinate+i:null;var l=as(a,t.dataKey,t.domain[o]);return hn(l)?null:t.scale(l)-s/2+i},W3e=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},G3e=function(e,t){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ki(Ki({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ds(s)){var a=t[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},K3e=function(e){return e.reduce(function(t,r){return[PN(r.concat([t[0]]).filter(tt)),fg(r.concat([t[1]]).filter(tt))]},[1/0,-1/0])},Hae=function(e,t,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var f=K3e(u.slice(t,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v6=function(e,t,r){if(nn(e))return e(t,r);if(!Array.isArray(e))return t;var i=[];if(tt(e[0]))i[0]=r?e[0]:Math.min(e[0],t[0]);else if(jG.test(e[0])){var s=+jG.exec(e[0])[1];i[0]=t[0]-s}else nn(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(tt(e[1]))i[1]=r?e[1]:Math.max(e[1],t[1]);else if(LG.test(e[1])){var a=+LG.exec(e[1])[1];i[1]=t[1]+a}else nn(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},CT=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&t&&t.length>=2){for(var s=yB(t,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},RG=function(e,t,r){return!e||!e.length||x0(e,rc(r,"type.defaultProps.domain"))?t:e},Vae=function(e,t){var r=e.type.defaultProps?Ki(Ki({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Ki(Ki({},Bt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:HB(e),value:as(t,i),type:l,payload:t,chartType:c,hide:u})};function nS(n){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(n)}function IG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IG(Object(t),!0).forEach(function(r){Wae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wae(n,e,t){return e=X3e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X3e(n){var e=Y3e(n,"string");return nS(e)=="symbol"?e:e+""}function Y3e(n,e){if(nS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(nS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J3e(n,e){return tje(n)||eje(n,e)||Q3e(n,e)||Z3e()}function Z3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3e(n,e){if(n){if(typeof n=="string")return MG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MG(n,e)}}function MG(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function eje(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function tje(n){if(Array.isArray(n))return n}var ET=Math.PI/180,nje=function(e){return e*180/Math.PI},ti=function(e,t,r,i){return{x:e+Math.cos(-ET*i)*r,y:t+Math.sin(-ET*i)*r}},Gae=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},rje=function(e,t,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ko(e.cx,a,a/2),f=ko(e.cy,o,o/2),h=Gae(a,o,r),p=ko(e.innerRadius,h,0),x=ko(e.outerRadius,h,h*.8),y=Object.keys(t);return y.reduce(function(w,b){var S=t[b],_=S.domain,P=S.reversed,E;if(hn(S.range))i==="angleAxis"?E=[l,c]:i==="radiusAxis"&&(E=[p,x]),P&&(E=[E[1],E[0]]);else{E=S.range;var C=E,N=J3e(C,2);l=N[0],c=N[1]}var L=qae(S,s),R=L.realScaleType,F=L.scale;F.domain(_).range(E),Uae(F);var j=zae(F,vh(vh({},S),{},{realScaleType:R})),D=vh(vh(vh({},S),j),{},{range:E,radius:x,realScaleType:R,scale:F,cx:u,cy:f,innerRadius:p,outerRadius:x,startAngle:l,endAngle:c});return vh(vh({},w),{},Wae({},b,D))},{})},ije=function(e,t){var r=e.x,i=e.y,s=t.x,a=t.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},sje=function(e,t){var r=e.x,i=e.y,s=t.cx,a=t.cy,o=ije({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:nje(c),angleInRadian:c}},aje=function(e){var t=e.startAngle,r=e.endAngle,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:t-a*360,endAngle:r-a*360}},oje=function(e,t){var r=t.startAngle,i=t.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},DG=function(e,t){var r=e.x,i=e.y,s=sje({x:r,y:i},t),a=s.radius,o=s.angle,l=t.innerRadius,c=t.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=aje(t),f=u.startAngle,h=u.endAngle,p=o,x;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=f}return x?vh(vh({},t),{},{radius:a,angle:oje(p,t)}):null},Kae=function(e){return!U.isValidElement(e)&&!nn(e)&&typeof e!="boolean"?e.className:""};function rS(n){"@babel/helpers - typeof";return rS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(n)}var lje=["offset"];function cje(n){return hje(n)||dje(n)||fje(n)||uje()}function uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fje(n,e){if(n){if(typeof n=="string")return y6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y6(n,e)}}function dje(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function hje(n){if(Array.isArray(n))return y6(n)}function y6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pje(n,e){if(n==null)return{};var t=mje(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function mje(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function FG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ns(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FG(Object(t),!0).forEach(function(r){gje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gje(n,e,t){return e=vje(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vje(n){var e=yje(n,"string");return rS(e)=="symbol"?e:e+""}function yje(n,e){if(rS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(rS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iS(){return iS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iS.apply(this,arguments)}var bje=function(e){var t=e.value,r=e.formatter,i=hn(e.children)?t:e.children;return nn(r)?r(i):i},wje=function(e,t){var r=To(t-e),i=Math.min(Math.abs(t-e),360);return r*i},xje=function(e,t,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,x=l.endAngle,y=l.clockWise,w=(f+h)/2,b=wje(p,x),S=b>=0?1:-1,_,P;i==="insideStart"?(_=p+S*a,P=y):i==="insideEnd"?(_=x-S*a,P=!y):i==="end"&&(_=x+S*a,P=y),P=b<=0?P:!P;var E=ti(c,u,w,_),C=ti(c,u,w,_+(P?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),L=hn(e.id)?N0("recharts-radial-line-"):e.id;return de.createElement("text",iS({},r,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",o)}),de.createElement("defs",null,de.createElement("path",{id:L,d:N})),de.createElement("textPath",{xlinkHref:"#".concat(L)},t))},_je=function(e){var t=e.viewBox,r=e.offset,i=e.position,s=t,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,f=s.endAngle,h=(u+f)/2;if(i==="outside"){var p=ti(a,o,c+r,h),x=p.x,y=p.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,b=ti(a,o,w,h),S=b.x,_=b.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Sje=function(e){var t=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=t,o=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",x=f>0?"start":"end",y=c>=0?1:-1,w=y*i,b=y>0?"end":"start",S=y>0?"start":"end";if(s==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ns(Ns({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var P={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:x};return Ns(Ns({},P),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var E={x:o-w,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ns(Ns({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(s==="right"){var C={x:o+c+w,y:l+u/2,textAnchor:S,verticalAnchor:"middle"};return Ns(Ns({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var N=r?{width:c,height:u}:{};return s==="insideLeft"?Ns({x:o+w,y:l+u/2,textAnchor:S,verticalAnchor:"middle"},N):s==="insideRight"?Ns({x:o+c-w,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideTop"?Ns({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:x},N):s==="insideBottom"?Ns({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},N):s==="insideTopLeft"?Ns({x:o+w,y:l+h,textAnchor:S,verticalAnchor:x},N):s==="insideTopRight"?Ns({x:o+c-w,y:l+h,textAnchor:b,verticalAnchor:x},N):s==="insideBottomLeft"?Ns({x:o+w,y:l+u-h,textAnchor:S,verticalAnchor:p},N):s==="insideBottomRight"?Ns({x:o+c-w,y:l+u-h,textAnchor:b,verticalAnchor:p},N):Rx(s)&&(tt(s.x)||Iv(s.x))&&(tt(s.y)||Iv(s.y))?Ns({x:o+ko(s.x,c),y:l+ko(s.y,u),textAnchor:"end",verticalAnchor:"end"},N):Ns({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Aje=function(e){return"cx"in e&&tt(e.cx)};function sa(n){var e=n.offset,t=e===void 0?5:e,r=pje(n,lje),i=Ns({offset:t},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!s||hn(o)&&hn(l)&&!U.isValidElement(c)&&!nn(c))return null;if(U.isValidElement(c))return U.cloneElement(c,i);var p;if(nn(c)){if(p=U.createElement(c,i),U.isValidElement(p))return p}else p=bje(i);var x=Aje(s),y=Bt(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return xje(i,p,y);var w=x?_je(i):Sje(i);return de.createElement(w0,iS({className:Kt("recharts-label",f)},y,w,{breakAll:h}),p)}sa.displayName="Label";var Xae=function(e){var t=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,x=e.left,y=e.width,w=e.height,b=e.clockWise,S=e.labelViewBox;if(S)return S;if(tt(y)&&tt(w)){if(tt(f)&&tt(h))return{x:f,y:h,width:y,height:w};if(tt(p)&&tt(x))return{x:p,y:x,width:y,height:w}}return tt(f)&&tt(h)?{x:f,y:h,width:0,height:0}:tt(t)&&tt(r)?{cx:t,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},Pje=function(e,t){return e?e===!0?de.createElement(sa,{key:"label-implicit",viewBox:t}):Ds(e)?de.createElement(sa,{key:"label-implicit",viewBox:t,value:e}):U.isValidElement(e)?e.type===sa?U.cloneElement(e,{key:"label-implicit",viewBox:t}):de.createElement(sa,{key:"label-implicit",content:e,viewBox:t}):nn(e)?de.createElement(sa,{key:"label-implicit",content:e,viewBox:t}):Rx(e)?de.createElement(sa,iS({viewBox:t},e,{key:"label-implicit"})):null:null},Cje=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=Xae(e),a=ic(i,sa).map(function(l,c){return U.cloneElement(l,{viewBox:t||s,key:"label-".concat(c)})});if(!r)return a;var o=Pje(e.label,t||s);return[o].concat(cje(a))};sa.parseViewBox=Xae;sa.renderCallByParent=Cje;var tR,BG;function Eje(){if(BG)return tR;BG=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return tR=n,tR}var Tje=Eje();const kje=qn(Tje);function sS(n){"@babel/helpers - typeof";return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(n)}var Nje=["valueAccessor"],Oje=["data","dataKey","clockWise","id","textBreakAll"];function jje(n){return Mje(n)||Ije(n)||Rje(n)||Lje()}function Lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rje(n,e){if(n){if(typeof n=="string")return b6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b6(n,e)}}function Ije(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mje(n){if(Array.isArray(n))return b6(n)}function b6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function TT(){return TT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TT.apply(this,arguments)}function $G(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$G(Object(t),!0).forEach(function(r){Dje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$G(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dje(n,e,t){return e=Fje(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fje(n){var e=Bje(n,"string");return sS(e)=="symbol"?e:e+""}function Bje(n,e){if(sS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UG(n,e){if(n==null)return{};var t=$je(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function $je(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var qje=function(e){return Array.isArray(e.value)?kje(e.value):e.value};function pd(n){var e=n.valueAccessor,t=e===void 0?qje:e,r=UG(n,Nje),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=UG(r,Oje);return!i||!i.length?null:de.createElement(Mn,{className:"recharts-label-list"},i.map(function(u,f){var h=hn(s)?t(u,f):as(u&&u.payload,s),p=hn(o)?{}:{id:"".concat(o,"-").concat(f)};return de.createElement(sa,TT({},Bt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:sa.parseViewBox(hn(a)?u:qG(qG({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}pd.displayName="LabelList";function Uje(n,e){return n?n===!0?de.createElement(pd,{key:"labelList-implicit",data:e}):de.isValidElement(n)||nn(n)?de.createElement(pd,{key:"labelList-implicit",data:e,content:n}):Rx(n)?de.createElement(pd,TT({data:e},n,{key:"labelList-implicit"})):null:null}function zje(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var r=n.children,i=ic(r,pd).map(function(a,o){return U.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!t)return i;var s=Uje(n.label,e);return[s].concat(jje(i))}pd.renderCallByParent=zje;function aS(n){"@babel/helpers - typeof";return aS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(n)}function w6(){return w6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w6.apply(this,arguments)}function zG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zG(Object(t),!0).forEach(function(r){Hje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hje(n,e,t){return e=Vje(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vje(n){var e=Wje(n,"string");return aS(e)=="symbol"?e:e+""}function Wje(n,e){if(aS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(aS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Gje=function(e,t){var r=To(t-e),i=Math.min(Math.abs(t-e),359.999);return r*i},sC=function(e){var t=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/ET,h=c?s:s+a*f,p=ti(t,r,u,h),x=ti(t,r,i,h),y=c?s-a*f:s,w=ti(t,r,u*Math.cos(f*ET),y);return{center:p,circleTangency:x,lineTangency:w,theta:f}},Yae=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Gje(a,o),c=a+l,u=ti(t,r,s,a),f=ti(t,r,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=ti(t,r,i,a),x=ti(t,r,i,c);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},Kje=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=To(u-c),h=sC({cx:t,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,x=h.lineTangency,y=h.theta,w=sC({cx:t,cy:r,radius:s,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=w.circleTangency,S=w.lineTangency,_=w.theta,P=l?Math.abs(c-u):Math.abs(c-u)-y-_;if(P<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Yae({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var C=sC({cx:t,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=C.circleTangency,L=C.lineTangency,R=C.theta,F=sC({cx:t,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=F.circleTangency,D=F.lineTangency,W=F.theta,V=l?Math.abs(c-u):Math.abs(c-u)-R-W;if(V<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},Xje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jae=function(e){var t=HG(HG({},Xje),e),r=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,h=t.className;if(a<s||u===f)return null;var p=Kt("recharts-sector",h),x=a-s,y=ko(o,x,0,!0),w;return y>0&&Math.abs(u-f)<360?w=Kje({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):w=Yae({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:f}),de.createElement("path",w6({},Bt(t,!0),{className:p,d:w,role:"img"}))};function oS(n){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(n)}function x6(){return x6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},x6.apply(this,arguments)}function VG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function WG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(t),!0).forEach(function(r){Yje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Yje(n,e,t){return e=Jje(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jje(n){var e=Zje(n,"string");return oS(e)=="symbol"?e:e+""}function Zje(n,e){if(oS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(oS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var GG={curveBasisClosed:bPe,curveBasisOpen:wPe,curveBasis:yPe,curveBumpX:iPe,curveBumpY:sPe,curveLinearClosed:xPe,curveLinear:dN,curveMonotoneX:_Pe,curveMonotoneY:SPe,curveNatural:APe,curveStep:PPe,curveStepAfter:EPe,curveStepBefore:CPe},aC=function(e){return e.x===+e.x&&e.y===+e.y},T2=function(e){return e.x},k2=function(e){return e.y},Qje=function(e,t){if(nn(e))return e;var r="curve".concat(uN(e));return(r==="curveMonotone"||r==="curveBump")&&t?GG["".concat(r).concat(t==="vertical"?"Y":"X")]:GG[r]||dN},e4e=function(e){var t=e.type,r=t===void 0?"linear":t,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Qje(r,o),f=c?s.filter(function(y){return aC(y)}):s,h;if(Array.isArray(a)){var p=c?a.filter(function(y){return aC(y)}):a,x=f.map(function(y,w){return WG(WG({},y),{},{base:p[w]})});return o==="vertical"?h=YP().y(k2).x1(T2).x0(function(y){return y.base.x}):h=YP().x(T2).y1(k2).y0(function(y){return y.base.y}),h.defined(aC).curve(u),h(x)}return o==="vertical"&&tt(a)?h=YP().y(k2).x1(T2).x0(a):tt(a)?h=YP().x(T2).y1(k2).y0(a):h=Xie().x(T2).y(k2),h.defined(aC).curve(u),h(f)},n0=function(e){var t=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?e4e(e):i;return U.createElement("path",x6({},Bt(e,!1),tT(e),{className:Kt("recharts-curve",t),d:a,ref:s}))},nR={exports:{}},rR,KG;function t4e(){if(KG)return rR;KG=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rR=n,rR}var iR,XG;function n4e(){if(XG)return iR;XG=1;var n=t4e();function e(){}function t(){}return t.resetWarningCache=e,iR=function(){function r(a,o,l,c,u,f){if(f!==n){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},iR}var YG;function r4e(){return YG||(YG=1,nR.exports=n4e()()),nR.exports}var i4e=r4e();const mr=qn(i4e);var s4e=Object.getOwnPropertyNames,a4e=Object.getOwnPropertySymbols,o4e=Object.prototype.hasOwnProperty;function JG(n,e){return function(r,i,s){return n(r,i,s)&&e(r,i,s)}}function oC(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);var s=i.cache,a=s.get(t),o=s.get(r);if(a&&o)return a===r&&o===t;s.set(t,r),s.set(r,t);var l=n(t,r,i);return s.delete(t),s.delete(r),l}}function l4e(n){return n!=null?n[Symbol.toStringTag]:void 0}function ZG(n){return s4e(n).concat(a4e(n))}var c4e=Object.hasOwn||(function(n,e){return o4e.call(n,e)});function L0(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var u4e="__v",f4e="__o",d4e="_owner",QG=Object.getOwnPropertyDescriptor,eK=Object.keys;function h4e(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function p4e(n,e){return L0(n.getTime(),e.getTime())}function m4e(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function g4e(n,e){return n===e}function tK(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,p=o.value;if(t.equals(h[0],p[0],l,f,n,e,t)&&t.equals(h[1],p[1],h[0],p[0],n,e,t)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var v4e=L0;function y4e(n,e,t){var r=eK(n),i=r.length;if(eK(e).length!==i)return!1;for(;i-- >0;)if(!Zae(n,e,t,r[i]))return!1;return!0}function N2(n,e,t){var r=ZG(n),i=r.length;if(ZG(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!Zae(n,e,t,s)||(a=QG(n,s),o=QG(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function b4e(n,e){return L0(n.valueOf(),e.valueOf())}function w4e(n,e){return n.source===e.source&&n.flags===e.flags}function nK(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=n.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&t.equals(a.value,o.value,a.value,o.value,n,e,t)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function x4e(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function _4e(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function Zae(n,e,t,r){return(r===d4e||r===f4e||r===u4e)&&(n.$$typeof||e.$$typeof)?!0:c4e(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}var S4e="[object Arguments]",A4e="[object Boolean]",P4e="[object Date]",C4e="[object Error]",E4e="[object Map]",T4e="[object Number]",k4e="[object Object]",N4e="[object RegExp]",O4e="[object Set]",j4e="[object String]",L4e="[object URL]",R4e=Array.isArray,rK=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iK=Object.assign,I4e=Object.prototype.toString.call.bind(Object.prototype.toString);function M4e(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areErrorsEqual,i=n.areFunctionsEqual,s=n.areMapsEqual,a=n.areNumbersEqual,o=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,c=n.areRegExpsEqual,u=n.areSetsEqual,f=n.areTypedArraysEqual,h=n.areUrlsEqual,p=n.unknownTagComparators;return function(y,w,b){if(y===w)return!0;if(y==null||w==null)return!1;var S=typeof y;if(S!==typeof w)return!1;if(S!=="object")return S==="number"?a(y,w,b):S==="function"?i(y,w,b):!1;var _=y.constructor;if(_!==w.constructor)return!1;if(_===Object)return o(y,w,b);if(R4e(y))return e(y,w,b);if(rK!=null&&rK(y))return f(y,w,b);if(_===Date)return t(y,w,b);if(_===RegExp)return c(y,w,b);if(_===Map)return s(y,w,b);if(_===Set)return u(y,w,b);var P=I4e(y);if(P===P4e)return t(y,w,b);if(P===N4e)return c(y,w,b);if(P===E4e)return s(y,w,b);if(P===O4e)return u(y,w,b);if(P===k4e)return typeof y.then!="function"&&typeof w.then!="function"&&o(y,w,b);if(P===L4e)return h(y,w,b);if(P===C4e)return r(y,w,b);if(P===S4e)return o(y,w,b);if(P===A4e||P===T4e||P===j4e)return l(y,w,b);if(p){var E=p[P];if(!E){var C=l4e(y);C&&(E=p[C])}if(E)return E(y,w,b)}return!1}}function D4e(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,i={areArraysEqual:r?N2:h4e,areDatesEqual:p4e,areErrorsEqual:m4e,areFunctionsEqual:g4e,areMapsEqual:r?JG(tK,N2):tK,areNumbersEqual:v4e,areObjectsEqual:r?N2:y4e,arePrimitiveWrappersEqual:b4e,areRegExpsEqual:w4e,areSetsEqual:r?JG(nK,N2):nK,areTypedArraysEqual:r?N2:x4e,areUrlsEqual:_4e,unknownTagComparators:void 0};if(t&&(i=iK({},i,t(i))),e){var s=oC(i.areArraysEqual),a=oC(i.areMapsEqual),o=oC(i.areObjectsEqual),l=oC(i.areSetsEqual);i=iK({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function F4e(n){return function(e,t,r,i,s,a,o){return n(e,t,o)}}function B4e(n){var e=n.circular,t=n.comparator,r=n.createState,i=n.equals,s=n.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return t(l,c,{cache:h,equals:i,meta:p,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return t(l,c,a)}}var $4e=Mg();Mg({strict:!0});Mg({circular:!0});Mg({circular:!0,strict:!0});Mg({createInternalComparator:function(){return L0}});Mg({strict:!0,createInternalComparator:function(){return L0}});Mg({circular:!0,createInternalComparator:function(){return L0}});Mg({circular:!0,createInternalComparator:function(){return L0},strict:!0});function Mg(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,i=n.createState,s=n.strict,a=s===void 0?!1:s,o=D4e(n),l=M4e(o),c=r?r(l):F4e(l);return B4e({circular:t,comparator:l,createState:i,equals:c,strict:a})}function q4e(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function sK(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=function i(s){t<0&&(t=s),s-t>e?(n(s),t=-1):q4e(i)};requestAnimationFrame(r)}function _6(n){"@babel/helpers - typeof";return _6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_6(n)}function U4e(n){return W4e(n)||V4e(n)||H4e(n)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H4e(n,e){if(n){if(typeof n=="string")return aK(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aK(n,e)}}function aK(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function V4e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function W4e(n){if(Array.isArray(n))return n}function G4e(){var n={},e=function(){return null},t=!1,r=function i(s){if(!t){if(Array.isArray(s)){if(!s.length)return;var a=s,o=U4e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){sK(i.bind(null,c),l);return}i(l),sK(i.bind(null,c));return}_6(s)==="object"&&(n=s,e(n)),typeof s=="function"&&s()}};return{stop:function(){t=!0},start:function(s){t=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function lS(n){"@babel/helpers - typeof";return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(n)}function oK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(t),!0).forEach(function(r){Qae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qae(n,e,t){return e=K4e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K4e(n){var e=X4e(n,"string");return lS(e)==="symbol"?e:String(e)}function X4e(n,e){if(lS(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Y4e=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},J4e=function(e){return e},Z4e=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},y_=function(e,t){return Object.keys(t).reduce(function(r,i){return lK(lK({},r),{},Qae({},i,e(i,t[i])))},{})},cK=function(e,t,r){return e.map(function(i){return"".concat(Z4e(i)," ").concat(t,"ms ").concat(r)}).join(",")};function Q4e(n,e){return nLe(n)||tLe(n,e)||eoe(n,e)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function nLe(n){if(Array.isArray(n))return n}function rLe(n){return aLe(n)||sLe(n)||eoe(n)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(n,e){if(n){if(typeof n=="string")return S6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S6(n,e)}}function sLe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function aLe(n){if(Array.isArray(n))return S6(n)}function S6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var kT=1e-4,toe=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},noe=function(e,t){return e.map(function(r,i){return r*Math.pow(t,i)}).reduce(function(r,i){return r+i})},uK=function(e,t){return function(r){var i=toe(e,t);return noe(i,r)}},oLe=function(e,t){return function(r){var i=toe(e,t),s=[].concat(rLe(i.map(function(a,o){return a*o}).slice(1)),[0]);return noe(s,r)}},fK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],s=t[1],a=t[2],o=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),u=Q4e(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var f=uK(i,a),h=uK(s,o),p=oLe(i,a),x=function(b){return b>1?1:b<0?0:b},y=function(b){for(var S=b>1?1:b,_=S,P=0;P<8;++P){var E=f(_)-S,C=p(_);if(Math.abs(E-S)<kT||C<kT)return h(_);_=x(_-E/C)}return h(_)};return y.isStepper=!1,y},lLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,f,h){var p=-(u-f)*r,x=h*s,y=h+(p-x)*o/1e3,w=h*o/1e3+u;return Math.abs(w-f)<kT&&Math.abs(y)<kT?[f,0]:[w,y]};return l.isStepper=!0,l.dt=o,l},cLe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fK(i);case"spring":return lLe();default:if(i.split("(")[0]==="cubic-bezier")return fK(i)}return typeof i=="function"?i:null};function cS(n){"@babel/helpers - typeof";return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(n)}function dK(n){return dLe(n)||fLe(n)||roe(n)||uLe()}function uLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fLe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dLe(n){if(Array.isArray(n))return P6(n)}function hK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ba(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hK(Object(t),!0).forEach(function(r){A6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function A6(n,e,t){return e=hLe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hLe(n){var e=pLe(n,"string");return cS(e)==="symbol"?e:String(e)}function pLe(n,e){if(cS(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(cS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mLe(n,e){return yLe(n)||vLe(n,e)||roe(n,e)||gLe()}function gLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(n,e){if(n){if(typeof n=="string")return P6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P6(n,e)}}function P6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vLe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function yLe(n){if(Array.isArray(n))return n}var NT=function(e,t,r){return e+(t-e)*r},C6=function(e){var t=e.from,r=e.to;return t!==r},bLe=function n(e,t,r){var i=y_(function(s,a){if(C6(a)){var o=e(a.from,a.to,a.velocity),l=mLe(o,2),c=l[0],u=l[1];return ba(ba({},a),{},{from:c,velocity:u})}return a},t);return r<1?y_(function(s,a){return C6(a)?ba(ba({},a),{},{velocity:NT(a.velocity,i[s].velocity,r),from:NT(a.from,i[s].from,r)}):a},t):n(e,i,r-1)};const wLe=(function(n,e,t,r,i){var s=Y4e(n,e),a=s.reduce(function(w,b){return ba(ba({},w),{},A6({},b,[n[b],e[b]]))},{}),o=s.reduce(function(w,b){return ba(ba({},w),{},A6({},b,{from:n[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return y_(function(b,S){return S.from},o)},p=function(){return!Object.values(o).filter(C6).length},x=function(b){c||(c=b);var S=b-c,_=S/t.dt;o=bLe(t,o,_),i(ba(ba(ba({},n),e),h())),c=b,p()||(l=requestAnimationFrame(f))},y=function(b){u||(u=b);var S=(b-u)/r,_=y_(function(E,C){return NT.apply(void 0,dK(C).concat([t(S)]))},a);if(i(ba(ba(ba({},n),e),_)),S<1)l=requestAnimationFrame(f);else{var P=y_(function(E,C){return NT.apply(void 0,dK(C).concat([t(1)]))},a);i(ba(ba(ba({},n),e),P))}};return f=t.isStepper?x:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function ax(n){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(n)}var xLe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _Le(n,e){if(n==null)return{};var t=SLe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function SLe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function sR(n){return ELe(n)||CLe(n)||PLe(n)||ALe()}function ALe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PLe(n,e){if(n){if(typeof n=="string")return E6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E6(n,e)}}function CLe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ELe(n){if(Array.isArray(n))return E6(n)}function E6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _u(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(t),!0).forEach(function(r){o_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function o_(n,e,t){return e=ioe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TLe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kLe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ioe(r.key),r)}}function NLe(n,e,t){return e&&kLe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ioe(n){var e=OLe(n,"string");return ax(e)==="symbol"?e:String(e)}function OLe(n,e){if(ax(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ax(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jLe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&T6(n,e)}function T6(n,e){return T6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T6(n,e)}function LLe(n){var e=RLe();return function(){var r=OT(n),i;if(e){var s=OT(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return k6(this,i)}}function k6(n,e){if(e&&(ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N6(n)}function N6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function RLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OT(n){return OT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},OT(n)}var Ju=(function(n){jLe(t,n);var e=LLe(t);function t(r,i){var s;TLe(this,t),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(N6(s)),s.changeStyle=s.changeStyle.bind(N6(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),k6(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof h=="function")return s.state={style:c},k6(s);s.state={style:l?o_({},l,c):c}}else s.state={style:{}};return s}return NLe(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,f=s.from,h=this.state.style;if(o){if(!a){var p={style:l?o_({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!($4e(i.to,u)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||c?f:i.to;if(this.state&&h){var w={style:l?o_({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(_u(_u({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=wLe(a,o,cLe(c),l,this.changeStyle),x=function(){s.stopJSAnimation=p()};this.manager.start([h,u,x,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,w,b){if(b===0)return y;var S=w.duration,_=w.easing,P=_===void 0?"ease":_,E=w.style,C=w.properties,N=w.onAnimationEnd,L=b>0?a[b-1]:w,R=C||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(sR(y),[s.runJSAnimation.bind(s,{from:L.style,to:E,duration:S,easing:P}),S]);var F=cK(R,S,P),j=_u(_u(_u({},L.style),E),{},{transition:F});return[].concat(sR(y),[j,S,N]).filter(J4e)};return this.manager.start([l].concat(sR(a.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=G4e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?o_({},o,l):l,w=cK(Object.keys(y),a,c);x.start([u,s,_u(_u({},y),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=_Le(i,xLe),c=U.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var f=function(p){var x=p.props,y=x.style,w=y===void 0?{}:y,b=x.className,S=U.cloneElement(p,_u(_u({},l),{},{style:_u(_u({},w),u),className:b}));return S};return c===1?f(U.Children.only(s)):de.createElement("div",null,U.Children.map(s,function(h){return f(h)}))}}]),t})(U.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function uS(n){"@babel/helpers - typeof";return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uS(n)}function jT(){return jT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jT.apply(this,arguments)}function ILe(n,e){return BLe(n)||FLe(n,e)||DLe(n,e)||MLe()}function MLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DLe(n,e){if(n){if(typeof n=="string")return mK(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mK(n,e)}}function mK(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function FLe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function BLe(n){if(Array.isArray(n))return n}function gK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gK(Object(t),!0).forEach(function(r){$Le(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $Le(n,e,t){return e=qLe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qLe(n){var e=ULe(n,"string");return uS(e)=="symbol"?e:e+""}function ULe(n,e){if(uS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(uS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yK=function(e,t,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];u="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(t)),u+="L ".concat(e+r-l*f[1],",").concat(t),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*f[1])),u+="L ".concat(e+r,",").concat(t+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(t+i)),u+="L ".concat(e+l*f[3],",").concat(t+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+i-o*f[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);u="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+r-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(t+i,`
            L `).concat(e+l*x,",").concat(t+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(t+i-o*x," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},zLe=function(e,t){if(!e||!t)return!1;var r=e.x,i=e.y,s=t.x,a=t.y,o=t.width,l=t.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},HLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VB=function(e){var t=vK(vK({},HLe),e),r=U.useRef(),i=U.useState(-1),s=ILe(i,2),a=s[0],o=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&o(P)}catch{}},[]);var l=t.x,c=t.y,u=t.width,f=t.height,h=t.radius,p=t.className,x=t.animationEasing,y=t.animationDuration,w=t.animationBegin,b=t.isAnimationActive,S=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Kt("recharts-rectangle",p);return S?de.createElement(Ju,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:y,animationEasing:x,isActive:S},function(P){var E=P.width,C=P.height,N=P.x,L=P.y;return de.createElement(Ju,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:b,easing:x},de.createElement("path",jT({},Bt(t,!0),{className:_,d:yK(N,L,E,C,h),ref:r})))}):de.createElement("path",jT({},Bt(t,!0),{className:_,d:yK(l,c,u,f,h)}))},VLe=["points","className","baseLinePoints","connectNulls"];function H1(){return H1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H1.apply(this,arguments)}function WLe(n,e){if(n==null)return{};var t=GLe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GLe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function bK(n){return JLe(n)||YLe(n)||XLe(n)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XLe(n,e){if(n){if(typeof n=="string")return O6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O6(n,e)}}function YLe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function JLe(n){if(Array.isArray(n))return O6(n)}function O6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var wK=function(e){return e&&e.x===+e.x&&e.y===+e.y},ZLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(r){wK(r)?t[t.length-1].push(r):t[t.length-1].length>0&&t.push([])}),wK(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},b_=function(e,t){var r=ZLe(e);t&&(r=[r.reduce(function(s,a){return[].concat(bK(s),bK(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},QLe=function(e,t,r){var i=b_(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(b_(t.reverse(),r).slice(1))},eRe=function(e){var t=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=WLe(e,VLe);if(!t||!t.length)return null;var o=Kt("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=QLe(t,i,s);return de.createElement("g",{className:o},de.createElement("path",H1({},Bt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?de.createElement("path",H1({},Bt(a,!0),{fill:"none",d:b_(t,s)})):null,l?de.createElement("path",H1({},Bt(a,!0),{fill:"none",d:b_(i,s)})):null)}var u=b_(t,s);return de.createElement("path",H1({},Bt(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:o,d:u}))};function j6(){return j6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},j6.apply(this,arguments)}var M5=function(e){var t=e.cx,r=e.cy,i=e.r,s=e.className,a=Kt("recharts-dot",s);return t===+t&&r===+r&&i===+i?U.createElement("circle",j6({},Bt(e,!1),tT(e),{className:a,cx:t,cy:r,r:i})):null};function fS(n){"@babel/helpers - typeof";return fS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fS(n)}var tRe=["x","y","top","left","width","height","className"];function L6(){return L6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},L6.apply(this,arguments)}function xK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nRe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(t),!0).forEach(function(r){rRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rRe(n,e,t){return e=iRe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iRe(n){var e=sRe(n,"string");return fS(e)=="symbol"?e:e+""}function sRe(n,e){if(fS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(fS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aRe(n,e){if(n==null)return{};var t=oRe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oRe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var lRe=function(e,t,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(r)},cRe=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,x=e.className,y=aRe(e,tRe),w=nRe({x:r,y:s,top:o,left:c,width:f,height:p},y);return!tt(r)||!tt(s)||!tt(f)||!tt(p)||!tt(o)||!tt(c)?null:de.createElement("path",L6({},Bt(w,!0),{className:Kt("recharts-cross",x),d:lRe(r,s,f,p,o,c)}))},aR,_K;function uRe(){if(_K)return aR;_K=1;var n=AN(),e=bae(),t=Ed();function r(i,s){return i&&i.length?n(i,t(s,2),e):void 0}return aR=r,aR}var fRe=uRe();const dRe=qn(fRe);var oR,SK;function hRe(){if(SK)return oR;SK=1;var n=AN(),e=Ed(),t=wae();function r(i,s){return i&&i.length?n(i,e(s,2),t):void 0}return oR=r,oR}var pRe=hRe();const mRe=qn(pRe);var gRe=["cx","cy","angle","ticks","axisLine"],vRe=["ticks","tick","angle","tickFormatter","stroke"];function ox(n){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(n)}function w_(){return w_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w_.apply(this,arguments)}function AK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AK(Object(t),!0).forEach(function(r){TN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function PK(n,e){if(n==null)return{};var t=yRe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function yRe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function bRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function CK(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aoe(r.key),r)}}function wRe(n,e,t){return e&&CK(n.prototype,e),t&&CK(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function xRe(n,e,t){return e=LT(e),_Re(n,soe()?Reflect.construct(e,t||[],LT(n).constructor):e.apply(n,t))}function _Re(n,e){if(e&&(ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SRe(n)}function SRe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function soe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(soe=function(){return!!n})()}function LT(n){return LT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},LT(n)}function ARe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&R6(n,e)}function R6(n,e){return R6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R6(n,e)}function TN(n,e,t){return e=aoe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aoe(n){var e=PRe(n,"string");return ox(e)=="symbol"?e:e+""}function PRe(n,e){if(ox(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var kN=(function(n){function e(){return bRe(this,e),xRe(this,e,arguments)}return ARe(e,n),wRe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return ti(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=dRe(o,function(u){return u.coordinate||0}),c=mRe(o,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=PK(r,gRe),u=o.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),f=ti(i,s,u[0],a),h=ti(i,s,u[1],a),p=gv(gv(gv({},Bt(c,!1)),{},{fill:"none"},Bt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",w_({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=PK(i,vRe),f=this.getTickTextAnchor(),h=Bt(u,!1),p=Bt(a,!1),x=s.map(function(y,w){var b=r.getTickValueCoord(y),S=gv(gv(gv(gv({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:w},b),{},{payload:y});return de.createElement(Mn,w_({className:Kt("recharts-polar-radius-axis-tick",Kae(a)),key:"tick-".concat(y.coordinate)},b0(r.props,y,w)),e.renderTickItem(a,S,l?l(y.value,w):y.value))});return de.createElement(Mn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:de.createElement(Mn,{className:Kt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),sa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):nn(r)?a=r(i):a=de.createElement(w0,w_({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(U.PureComponent);TN(kN,"displayName","PolarRadiusAxis");TN(kN,"axisType","radiusAxis");TN(kN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lx(n){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(n)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cv.apply(this,arguments)}function EK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EK(Object(t),!0).forEach(function(r){NN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TK(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,loe(r.key),r)}}function ERe(n,e,t){return e&&TK(n.prototype,e),t&&TK(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function TRe(n,e,t){return e=RT(e),kRe(n,ooe()?Reflect.construct(e,t||[],RT(n).constructor):e.apply(n,t))}function kRe(n,e){if(e&&(lx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(n)}function NRe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ooe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ooe=function(){return!!n})()}function RT(n){return RT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},RT(n)}function ORe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&I6(n,e)}function I6(n,e){return I6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I6(n,e)}function NN(n,e,t){return e=loe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function loe(n){var e=jRe(n,"string");return lx(e)=="symbol"?e:e+""}function jRe(n,e){if(lx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var LRe=Math.PI/180,kK=1e-5,ON=(function(n){function e(){return CRe(this,e),TRe(this,e,arguments)}return ORe(e,n),ERe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=ti(s,a,o,r.coordinate),h=ti(s,a,o+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*LRe),a;return s>kK?a=i==="outer"?"start":"end":s<-kK?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=vv(vv({},Bt(this.props,!1)),{},{fill:"none"},Bt(o,!1));if(l==="circle")return de.createElement(M5,Cv({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var u=this.props.ticks,f=u.map(function(h){return ti(i,s,a,h.coordinate)});return de.createElement(eRe,Cv({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Bt(this.props,!1),f=Bt(a,!1),h=vv(vv({},u),{},{fill:"none"},Bt(o,!1)),p=s.map(function(x,y){var w=r.getTickLineCoord(x),b=r.getTickTextAnchor(x),S=vv(vv(vv({textAnchor:b},u),{},{stroke:"none",fill:c},f),{},{index:y,payload:x,x:w.x2,y:w.y2});return de.createElement(Mn,Cv({className:Kt("recharts-polar-angle-axis-tick",Kae(a)),key:"tick-".concat(x.coordinate)},b0(r.props,x,y)),o&&de.createElement("line",Cv({className:"recharts-polar-angle-axis-tick-line"},h,w)),a&&e.renderTickItem(a,S,l?l(x.value,y):x.value))});return de.createElement(Mn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:de.createElement(Mn,{className:Kt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):nn(r)?a=r(i):a=de.createElement(w0,Cv({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(U.PureComponent);NN(ON,"displayName","PolarAngleAxis");NN(ON,"axisType","angleAxis");NN(ON,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lR,NK;function RRe(){if(NK)return lR;NK=1;var n=yse(),e=n(Object.getPrototypeOf,Object);return lR=e,lR}var cR,OK;function IRe(){if(OK)return cR;OK=1;var n=Ap(),e=RRe(),t=Pp(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(u){if(!t(u)||n(u)!=r)return!1;var f=e(u);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return cR=c,cR}var MRe=IRe();const DRe=qn(MRe);var uR,jK;function FRe(){if(jK)return uR;jK=1;var n=Ap(),e=Pp(),t="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&n(i)==t}return uR=r,uR}var BRe=FRe();const $Re=qn(BRe);function dS(n){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(n)}function IT(){return IT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IT.apply(this,arguments)}function qRe(n,e){return VRe(n)||HRe(n,e)||zRe(n,e)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zRe(n,e){if(n){if(typeof n=="string")return LK(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LK(n,e)}}function LK(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function HRe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function VRe(n){if(Array.isArray(n))return n}function RK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function IK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RK(Object(t),!0).forEach(function(r){WRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WRe(n,e,t){return e=GRe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GRe(n){var e=KRe(n,"string");return dS(e)=="symbol"?e:e+""}function KRe(n,e){if(dS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(dS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var MK=function(e,t,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+s),o+="L ".concat(e+r-a/2-i,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},XRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YRe=function(e){var t=IK(IK({},XRe),e),r=U.useRef(),i=U.useState(-1),s=qRe(i,2),a=s[0],o=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=t.x,c=t.y,u=t.upperWidth,f=t.lowerWidth,h=t.height,p=t.className,x=t.animationEasing,y=t.animationDuration,w=t.animationBegin,b=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var S=Kt("recharts-trapezoid",p);return b?de.createElement(Ju,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:x,isActive:b},function(_){var P=_.upperWidth,E=_.lowerWidth,C=_.height,N=_.x,L=_.y;return de.createElement(Ju,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:x},de.createElement("path",IT({},Bt(t,!0),{className:S,d:MK(N,L,P,E,C),ref:r})))}):de.createElement("g",null,de.createElement("path",IT({},Bt(t,!0),{className:S,d:MK(l,c,u,f,h)})))},JRe=["option","shapeType","propTransformer","activeClassName","isActive"];function hS(n){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(n)}function ZRe(n,e){if(n==null)return{};var t=QRe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QRe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function DK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DK(Object(t),!0).forEach(function(r){eIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eIe(n,e,t){return e=tIe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tIe(n){var e=nIe(n,"string");return hS(e)=="symbol"?e:e+""}function nIe(n,e){if(hS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rIe(n,e){return MT(MT({},e),n)}function iIe(n,e){return n==="symbols"}function FK(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return de.createElement(VB,t);case"trapezoid":return de.createElement(YRe,t);case"sector":return de.createElement(Jae,t);case"symbols":if(iIe(e))return de.createElement(uB,t);break;default:return null}}function sIe(n){return U.isValidElement(n)?n.props:n}function coe(n){var e=n.option,t=n.shapeType,r=n.propTransformer,i=r===void 0?rIe:r,s=n.activeClassName,a=s===void 0?"recharts-active-shape":s,o=n.isActive,l=ZRe(n,JRe),c;if(U.isValidElement(e))c=U.cloneElement(e,MT(MT({},l),sIe(e)));else if(nn(e))c=e(l);else if(DRe(e)&&!$Re(e)){var u=i(e,l);c=de.createElement(FK,{shapeType:t,elementProps:u})}else{var f=l;c=de.createElement(FK,{shapeType:t,elementProps:f})}return o?de.createElement(Mn,{className:a},c):c}function jN(n,e){return e!=null&&"trapezoids"in n.props}function LN(n,e){return e!=null&&"sectors"in n.props}function pS(n,e){return e!=null&&"points"in n.props}function aIe(n,e){var t,r,i=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,s=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return i&&s}function oIe(n,e){var t=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return t&&r}function lIe(n,e){var t=n.x===e.x,r=n.y===e.y,i=n.z===e.z;return t&&r&&i}function cIe(n,e){var t;return jN(n,e)?t=aIe:LN(n,e)?t=oIe:pS(n,e)&&(t=lIe),t}function uIe(n,e){var t;return jN(n,e)?t="trapezoids":LN(n,e)?t="sectors":pS(n,e)&&(t="points"),t}function fIe(n,e){if(jN(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(LN(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return pS(n,e)?e.payload:{}}function dIe(n){var e=n.activeTooltipItem,t=n.graphicalItem,r=n.itemData,i=uIe(t,e),s=fIe(t,e),a=r.filter(function(l,c){var u=x0(s,l),f=t.props[i].filter(function(x){var y=cIe(t,e);return y(x,e)}),h=t.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=r.indexOf(a[a.length-1]);return o}var fE;function cx(n){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(n)}function V1(){return V1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},V1.apply(this,arguments)}function BK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(t),!0).forEach(function(r){Hc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,foe(r.key),r)}}function pIe(n,e,t){return e&&$K(n.prototype,e),t&&$K(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function mIe(n,e,t){return e=DT(e),gIe(n,uoe()?Reflect.construct(e,t||[],DT(n).constructor):e.apply(n,t))}function gIe(n,e){if(e&&(cx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(n)}function vIe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uoe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uoe=function(){return!!n})()}function DT(n){return DT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DT(n)}function yIe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&M6(n,e)}function M6(n,e){return M6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M6(n,e)}function Hc(n,e,t){return e=foe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function foe(n){var e=bIe(n,"string");return cx(e)=="symbol"?e:e+""}function bIe(n,e){if(cx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(cx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ep=(function(n){function e(t){var r;return hIe(this,e),r=mIe(this,e,[t]),Hc(r,"pieRef",null),Hc(r,"sectorRefs",[]),Hc(r,"id",N0("recharts-pie-")),Hc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nn(i)&&i()}),Hc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nn(i)&&i()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return yIe(e,n),pIe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,u=Bt(this.props,!1),f=Bt(a,!1),h=Bt(o,!1),p=a&&a.offsetRadius||20,x=r.map(function(y,w){var b=(y.startAngle+y.endAngle)/2,S=ti(y.cx,y.cy,y.outerRadius+p,b),_=Zr(Zr(Zr(Zr({},u),y),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(S.x,y.cx)},S),P=Zr(Zr(Zr(Zr({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[ti(y.cx,y.cy,y.outerRadius,b),S]}),E=l;return hn(l)&&hn(c)?E="value":hn(l)&&(E=c),de.createElement(Mn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},o&&e.renderLabelLineItem(o,P,"line"),e.renderLabelItem(a,_,as(y,E)))});return de.createElement(Mn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?a:h,x=Zr(Zr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return de.createElement(Mn,V1({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},b0(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),de.createElement(coe,V1({option:p,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return de.createElement(Ju,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,w=[],b=s&&s[0],S=b.startAngle;return s.forEach(function(_,P){var E=h&&h[P],C=P>0?rc(_,"paddingAngle",0):0;if(E){var N=Is(E.endAngle-E.startAngle,_.endAngle-_.startAngle),L=Zr(Zr({},_),{},{startAngle:S+C,endAngle:S+N(y)+C});w.push(L),S=L.endAngle}else{var R=_.endAngle,F=_.startAngle,j=Is(0,R-F),D=j(y),W=Zr(Zr({},_),{},{startAngle:S+C,endAngle:S+D+C});w.push(W),S=W.endAngle}}),de.createElement(Mn,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!x0(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!tt(c)||!tt(u)||!tt(f)||!tt(h))return null;var y=Kt("recharts-pie",o);return de.createElement(Mn,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),sa.renderCallByParent(this.props,null,!1),(!p||x)&&pd.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(de.isValidElement(r))return de.cloneElement(r,i);if(nn(r))return r(i);var a=Kt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(n0,V1({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(de.isValidElement(r))return de.cloneElement(r,i);var a=s;if(nn(r)&&(a=r(i),de.isValidElement(a)))return a;var o=Kt("recharts-pie-label-text",typeof r!="boolean"&&!nn(r)?r.className:"");return de.createElement(w0,V1({},i,{alignmentBaseline:"middle",className:o}),a)}}])})(U.PureComponent);fE=Ep;Hc(Ep,"displayName","Pie");Hc(Ep,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Lg.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Hc(Ep,"parseDeltaAngle",function(n,e){var t=To(e-n),r=Math.min(Math.abs(e-n),360);return t*r});Hc(Ep,"getRealPieData",function(n){var e=n.data,t=n.children,r=Bt(n,!1),i=ic(t,vN);return e&&e.length?e.map(function(s,a){return Zr(Zr(Zr({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Zr(Zr({},r),s.props)}):[]});Hc(Ep,"parseCoordinateOfPie",function(n,e){var t=e.top,r=e.left,i=e.width,s=e.height,a=Gae(i,s),o=r+ko(n.cx,i,i/2),l=t+ko(n.cy,s,s/2),c=ko(n.innerRadius,a,0),u=ko(n.outerRadius,a,a*.8),f=n.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});Hc(Ep,"getComposedData",function(n){var e=n.item,t=n.offset,r=e.type.defaultProps!==void 0?Zr(Zr({},e.type.defaultProps),e.props):e.props,i=fE.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),x=fE.parseCoordinateOfPie(r,t),y=fE.parseDeltaAngle(a,o),w=Math.abs(y),b=c;hn(c)&&hn(f)?(Gu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):hn(c)&&(Gu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var S=i.filter(function(L){return as(L,b,0)!==0}).length,_=(w>=360?S:S-1)*l,P=w-S*p-_,E=i.reduce(function(L,R){var F=as(R,b,0);return L+(tt(F)?F:0)},0),C;if(E>0){var N;C=i.map(function(L,R){var F=as(L,b,0),j=as(L,u,R),D=(tt(F)?F:0)/E,W;R?W=N.endAngle+To(y)*l*(F!==0?1:0):W=a;var V=W+To(y)*((F!==0?p:0)+D*P),Z=(W+V)/2,J=(x.innerRadius+x.outerRadius)/2,K=[{name:j,value:F,payload:L,dataKey:b,type:h}],$=ti(x.cx,x.cy,J,Z);return N=Zr(Zr(Zr({percent:D,cornerRadius:s,name:j,tooltipPayload:K,midAngle:Z,middleRadius:J,tooltipPosition:$},L),x),{},{value:as(L,b),startAngle:W,endAngle:V,payload:L,paddingAngle:To(y)*l}),N})}return Zr(Zr({},x),{},{sectors:C,data:i})});var fR,qK;function wIe(){if(qK)return fR;qK=1;var n=Math.ceil,e=Math.max;function t(r,i,s,a){for(var o=-1,l=e(n((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return fR=t,fR}var dR,UK;function doe(){if(UK)return dR;UK=1;var n=Rse(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var s=i<0?-1:1;return s*t}return i===i?i:0}return dR=r,dR}var hR,zK;function xIe(){if(zK)return hR;zK=1;var n=wIe(),e=gN(),t=doe();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=t(s),a===void 0?(a=s,s=0):a=t(a),o=o===void 0?s<a?1:-1:t(o),n(s,a,o,i)}}return hR=r,hR}var pR,HK;function _Ie(){if(HK)return pR;HK=1;var n=xIe(),e=n();return pR=e,pR}var SIe=_Ie();const FT=qn(SIe);function mS(n){"@babel/helpers - typeof";return mS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mS(n)}function VK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function WK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VK(Object(t),!0).forEach(function(r){hoe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hoe(n,e,t){return e=AIe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AIe(n){var e=PIe(n,"string");return mS(e)=="symbol"?e:e+""}function PIe(n,e){if(mS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CIe=["Webkit","Moz","O","ms"],EIe=function(e,t){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=CIe.reduce(function(s,a){return WK(WK({},s),{},hoe({},a+r,t))},{});return i[e]=t,i};function ux(n){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(n)}function BT(){return BT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BT.apply(this,arguments)}function GK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GK(Object(t),!0).forEach(function(r){kl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function KK(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,moe(r.key),r)}}function kIe(n,e,t){return e&&KK(n.prototype,e),t&&KK(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function NIe(n,e,t){return e=$T(e),OIe(n,poe()?Reflect.construct(e,t||[],$T(n).constructor):e.apply(n,t))}function OIe(n,e){if(e&&(ux(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jIe(n)}function jIe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function poe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(poe=function(){return!!n})()}function $T(n){return $T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$T(n)}function LIe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&D6(n,e)}function D6(n,e){return D6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D6(n,e)}function kl(n,e,t){return e=moe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function moe(n){var e=RIe(n,"string");return ux(e)=="symbol"?e:e+""}function RIe(n,e){if(ux(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var IIe=function(e){var t=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=g_().domain(FT(0,l)).range([s,s+a-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},XK=function(e){return e.changedTouches&&!!e.changedTouches.length},fx=(function(n){function e(t){var r;return TIe(this,e),r=NIe(this,e,[t]),kl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),kl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kl(r,"handleSlideDragStart",function(i){var s=XK(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return LIe(e,n),kIe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(a,f),x=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:x===u?u:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=as(s[r],o,r);return nn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,x=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+u-f-o,c+u-f-a):y<0&&(y=Math.max(y,c-a,c-o));var w=this.getIndex({startX:a+y,endX:o+y});(w.startIndex!==h||w.endIndex!==p)&&x&&x(w),this.setState({startX:a+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=XK(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,x=u.onChange,y=u.gap,w=u.data,b={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,f+h-p-c):S<0&&(S=Math.max(S,f-c)),b[a]=c+S;var _=this.getIndex(b),P=_.startIndex,E=_.endIndex,C=function(){var L=w.length-1;return a==="startX"&&(o>l?P%y===0:E%y===0)||o<l&&E===L||a==="endX"&&(o>l?E%y===0:P%y===0)||o>l&&E===L};this.setState(kl(kl({},a,c+S),"brushMoveStartX",r.pageX),function(){x&&C()&&x(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(kl({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return de.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=U.Children.only(c);return f?de.cloneElement(f,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,x=l.data,y=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),S=mR(mR({},Bt(this.props,!1)),{},{x:b,y:c,width:u,height:f}),_=p||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[w])===null||a===void 0?void 0:a.name);return de.createElement(Mn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,p=5,x={pointerEvents:"none",fill:c};return de.createElement(Mn,{className:"recharts-brush-texts"},de.createElement(w0,BT({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+o/2},x),this.getTextOfTick(i)),de.createElement(w0,BT({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,x=h.endX,y=h.isTextActive,w=h.isSlideMoving,b=h.isTravellerMoving,S=h.isTravellerFocused;if(!i||!i.length||!tt(o)||!tt(l)||!tt(c)||!tt(u)||c<=0||u<=0)return null;var _=Kt("recharts-brush",s),P=de.Children.count(a)===1,E=EIe("userSelect","none");return de.createElement(Mn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(y||w||b||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return de.isValidElement(r)?s=de.cloneElement(r,i):nn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return mR({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?IIe({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])})(U.PureComponent);kl(fx,"displayName","Brush");kl(fx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gR,YK;function MIe(){if(YK)return gR;YK=1;var n=vB();function e(t,r){var i;return n(t,function(s,a,o){return i=r(s,a,o),!i}),!!i}return gR=e,gR}var vR,JK;function DIe(){if(JK)return vR;JK=1;var n=fse(),e=Ed(),t=MIe(),r=cl(),i=gN();function s(a,o,l){var c=r(a)?n:t;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return vR=s,vR}var FIe=DIe();const BIe=qn(FIe);var md=function(e,t){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===t},yR,ZK;function $Ie(){if(ZK)return yR;ZK=1;var n=kse();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return yR=e,yR}var bR,QK;function qIe(){if(QK)return bR;QK=1;var n=$Ie(),e=Ese(),t=Ed();function r(i,s){var a={};return s=t(s,3),e(i,function(o,l,c){n(a,l,s(o,l,c))}),a}return bR=r,bR}var UIe=qIe();const zIe=qn(UIe);var wR,eX;function HIe(){if(eX)return wR;eX=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}return wR=n,wR}var xR,tX;function VIe(){if(tX)return xR;tX=1;var n=vB();function e(t,r){var i=!0;return n(t,function(s,a,o){return i=!!r(s,a,o),i}),i}return xR=e,xR}var _R,nX;function WIe(){if(nX)return _R;nX=1;var n=HIe(),e=VIe(),t=Ed(),r=cl(),i=gN();function s(a,o,l){var c=r(a)?n:e;return l&&i(a,o,l)&&(o=void 0),c(a,t(o,3))}return _R=s,_R}var GIe=WIe();const goe=qn(GIe);var KIe=["x","y"];function gS(n){"@babel/helpers - typeof";return gS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(n)}function F6(){return F6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},F6.apply(this,arguments)}function rX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function O2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rX(Object(t),!0).forEach(function(r){XIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XIe(n,e,t){return e=YIe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YIe(n){var e=JIe(n,"string");return gS(e)=="symbol"?e:e+""}function JIe(n,e){if(gS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(gS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZIe(n,e){if(n==null)return{};var t=QIe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QIe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function eMe(n,e){var t=n.x,r=n.y,i=ZIe(n,KIe),s="".concat(t),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return O2(O2(O2(O2(O2({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function iX(n){return de.createElement(coe,F6({shapeType:"rectangle",propTransformer:eMe,activeClassName:"recharts-active-bar"},n))}var tMe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=tt(r)||C5e(r);return s?e(r,i):(s||g0(),t)}},nMe=["value","background"],voe;function dx(n){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(n)}function rMe(n,e){if(n==null)return{};var t=iMe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function iMe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qT(){return qT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qT.apply(this,arguments)}function sX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ps(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sX(Object(t),!0).forEach(function(r){dg(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function aX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,boe(r.key),r)}}function aMe(n,e,t){return e&&aX(n.prototype,e),t&&aX(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function oMe(n,e,t){return e=UT(e),lMe(n,yoe()?Reflect.construct(e,t||[],UT(n).constructor):e.apply(n,t))}function lMe(n,e){if(e&&(dx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cMe(n)}function cMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yoe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yoe=function(){return!!n})()}function UT(n){return UT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UT(n)}function uMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&B6(n,e)}function B6(n,e){return B6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B6(n,e)}function dg(n,e,t){return e=boe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function boe(n){var e=fMe(n,"string");return dx(e)=="symbol"?e:e+""}function fMe(n,e){if(dx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var up=(function(n){function e(){var t;sMe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=oMe(this,e,[].concat(i)),dg(t,"state",{isAnimationFinished:!1}),dg(t,"id",N0("recharts-bar-")),dg(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),a&&a()}),dg(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),a&&a()}),t}return uMe(e,n),aMe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Bt(this.props,!1);return r&&r.map(function(f,h){var p=h===l,x=p?c:a,y=ps(ps(ps({},u),f),{},{isActive:p,option:x,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(Mn,qT({className:"recharts-bar-rectangle"},b0(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(iX,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return de.createElement(Ju,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,y=s.map(function(w,b){var S=h&&h[b];if(S){var _=Is(S.x,w.x),P=Is(S.y,w.y),E=Is(S.width,w.width),C=Is(S.height,w.height);return ps(ps({},w),{},{x:_(x),y:P(x),width:E(x),height:C(x)})}if(a==="horizontal"){var N=Is(0,w.height),L=N(x);return ps(ps({},w),{},{y:w.y+w.height-L,height:L})}var R=Is(0,w.width),F=R(x);return ps(ps({},w),{},{width:F})});return de.createElement(Mn,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!x0(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Bt(this.props.background,!1);return s.map(function(c,u){c.value;var f=c.background,h=rMe(c,nMe);if(!f)return null;var p=ps(ps(ps(ps(ps({},h),{},{fill:"#eee"},f),l),b0(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return de.createElement(iX,qT({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=ic(u,I5);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,p=function(w,b){var S=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:S,errorVal:as(w,b)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(Mn,x,f.map(function(y){return de.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,p=r.isAnimationActive,x=r.background,y=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=Kt("recharts-bar",a),S=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,P=S||_,E=hn(y)?this.id:y;return de.createElement(Mn,{className:b},S||_?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(E)},de.createElement("rect",{x:S?c:c-f/2,y:_?u:u-h/2,width:S?f:f*2,height:_?h:h*2}))):null,de.createElement(Mn,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!p||w)&&pd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(U.PureComponent);voe=up;dg(up,"displayName","Bar");dg(up,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lg.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dg(up,"getComposedData",function(n){var e=n.props,t=n.item,r=n.barPosition,i=n.bandSize,s=n.xAxis,a=n.yAxis,o=n.xAxisTicks,l=n.yAxisTicks,c=n.stackedData,u=n.dataStartIndex,f=n.displayedData,h=n.offset,p=B3e(r,t);if(!p)return null;var x=e.layout,y=t.type.defaultProps,w=y!==void 0?ps(ps({},y),t.props):t.props,b=w.dataKey,S=w.children,_=w.minPointSize,P=x==="horizontal"?a:s,E=c?P.scale.domain():null,C=W3e({numericAxis:P}),N=ic(S,vN),L=f.map(function(R,F){var j,D,W,V,Z,J;c?j=$3e(c[u+F],E):(j=as(R,b),Array.isArray(j)||(j=[C,j]));var K=tMe(_,voe.defaultProps.minPointSize)(j[1],F);if(x==="horizontal"){var $,te=[a.scale(j[0]),a.scale(j[1])],Q=te[0],X=te[1];D=OG({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:R,index:F}),W=($=X??Q)!==null&&$!==void 0?$:void 0,V=p.size;var B=Q-X;if(Z=Number.isNaN(B)?0:B,J={x:D,y:a.y,width:V,height:a.height},Math.abs(K)>0&&Math.abs(Z)<Math.abs(K)){var G=To(Z||K)*(Math.abs(K)-Math.abs(Z));W-=G,Z+=G}}else{var ne=[s.scale(j[0]),s.scale(j[1])],ie=ne[0],fe=ne[1];if(D=ie,W=OG({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:R,index:F}),V=fe-ie,Z=p.size,J={x:s.x,y:W,width:s.width,height:Z},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var he=To(V||K)*(Math.abs(K)-Math.abs(V));V+=he}}return ps(ps(ps({},R),{},{x:D,y:W,width:V,height:Z,value:c?j:j[1],payload:R,background:J},N&&N[F]&&N[F].props),{},{tooltipPayload:[Vae(t,R)],tooltipPosition:{x:D+V/2,y:W+Z/2}})});return ps({data:L,layout:x},h)});function vS(n){"@babel/helpers - typeof";return vS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(n)}function dMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,woe(r.key),r)}}function hMe(n,e,t){return e&&oX(n.prototype,e),t&&oX(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function lX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Uu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lX(Object(t),!0).forEach(function(r){RN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RN(n,e,t){return e=woe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function woe(n){var e=pMe(n,"string");return vS(e)=="symbol"?e:e+""}function pMe(n,e){if(vS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(vS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WB=function(e,t,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(t),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Kl(c,up);return u.reduce(function(p,x){var y=t[x],w=y.orientation,b=y.domain,S=y.padding,_=S===void 0?{}:S,P=y.mirror,E=y.reversed,C="".concat(w).concat(P?"Mirror":""),N,L,R,F,j;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=b[1]-b[0],W=1/0,V=y.categoricalDomain.sort(k5e);if(V.forEach(function(ne,ie){ie>0&&(W=Math.min((ne||0)-(V[ie-1]||0),W))}),Number.isFinite(W)){var Z=W/D,J=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(N=Z*J/2),y.padding==="no-gap"){var K=ko(e.barCategoryGap,Z*J),$=Z*J/2;N=$-K-($-K)/J*K}}}i==="xAxis"?L=[r.left+(_.left||0)+(N||0),r.left+r.width-(_.right||0)-(N||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(N||0),r.top+r.height-(_.bottom||0)-(N||0)]:L=y.range,E&&(L=[L[1],L[0]]);var te=qae(y,s,h),Q=te.scale,X=te.realScaleType;Q.domain(b).range(L),Uae(Q);var B=zae(Q,Uu(Uu({},y),{},{realScaleType:X}));i==="xAxis"?(j=w==="top"&&!P||w==="bottom"&&P,R=r.left,F=f[C]-j*y.height):i==="yAxis"&&(j=w==="left"&&!P||w==="right"&&P,R=f[C]-j*y.width,F=r.top);var G=Uu(Uu(Uu({},y),B),{},{realScaleType:X,x:R,y:F,scale:Q,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return G.bandSize=CT(G,B),!y.hide&&i==="xAxis"?f[C]+=(j?-1:1)*G.height:y.hide||(f[C]+=(j?-1:1)*G.width),Uu(Uu({},p),{},RN({},x,G))},{})},xoe=function(e,t){var r=e.x,i=e.y,s=t.x,a=t.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},mMe=function(e){var t=e.x1,r=e.y1,i=e.x2,s=e.y2;return xoe({x:t,y:r},{x:i,y:s})},_oe=(function(){function n(e){dMe(this,n),this.scale=e}return hMe(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}],[{key:"create",value:function(t){return new n(t)}}])})();RN(_oe,"EPS",1e-4);var GB=function(e){var t=Object.keys(e).reduce(function(r,i){return Uu(Uu({},r),{},RN({},i,_oe.create(e[i])))},{});return Uu(Uu({},t),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return zIe(i,function(l,c){return t[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return goe(i,function(s,a){return t[a].isInRange(s)})}})};function gMe(n){return(n%180+180)%180}var vMe=function(e){var t=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gMe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},SR,cX;function yMe(){if(cX)return SR;cX=1;var n=Ed(),e=N5(),t=pN();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=n(a,3);s=t(s),a=function(f){return c(l[f],f,l)}}var u=i(s,a,o);return u>-1?l[c?s[u]:u]:void 0}}return SR=r,SR}var AR,uX;function bMe(){if(uX)return AR;uX=1;var n=doe();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return AR=e,AR}var PR,fX;function wMe(){if(fX)return PR;fX=1;var n=_se(),e=Ed(),t=bMe(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:t(o);return c<0&&(c=r(l+c,0)),n(s,e(a,3),c)}return PR=i,PR}var CR,dX;function xMe(){if(dX)return CR;dX=1;var n=yMe(),e=wMe(),t=n(e);return CR=t,CR}var _Me=xMe();const SMe=qn(_Me);var AMe=Die();const PMe=qn(AMe);var CMe=PMe(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),KB=U.createContext(void 0),XB=U.createContext(void 0),Soe=U.createContext(void 0),Aoe=U.createContext({}),Poe=U.createContext(void 0),Coe=U.createContext(0),Eoe=U.createContext(0),hX=function(e){var t=e.state,r=t.xAxisMap,i=t.yAxisMap,s=t.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=CMe(s);return de.createElement(KB.Provider,{value:r},de.createElement(XB.Provider,{value:i},de.createElement(Aoe.Provider,{value:s},de.createElement(Soe.Provider,{value:u},de.createElement(Poe.Provider,{value:a},de.createElement(Coe.Provider,{value:c},de.createElement(Eoe.Provider,{value:l},o)))))))},EMe=function(){return U.useContext(Poe)},Toe=function(e){var t=U.useContext(KB);t==null&&g0();var r=t[e];return r==null&&g0(),r},TMe=function(){var e=U.useContext(KB);return mm(e)},kMe=function(){var e=U.useContext(XB),t=SMe(e,function(r){return goe(r.domain,Number.isFinite)});return t||mm(e)},koe=function(e){var t=U.useContext(XB);t==null&&g0();var r=t[e];return r==null&&g0(),r},NMe=function(){var e=U.useContext(Soe);return e},OMe=function(){return U.useContext(Aoe)},YB=function(){return U.useContext(Eoe)},JB=function(){return U.useContext(Coe)};function hx(n){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(n)}function jMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function LMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ooe(r.key),r)}}function RMe(n,e,t){return e&&LMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function IMe(n,e,t){return e=zT(e),MMe(n,Noe()?Reflect.construct(e,t||[],zT(n).constructor):e.apply(n,t))}function MMe(n,e){if(e&&(hx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(n)}function DMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Noe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Noe=function(){return!!n})()}function zT(n){return zT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zT(n)}function FMe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$6(n,e)}function $6(n,e){return $6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$6(n,e)}function pX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pX(Object(t),!0).forEach(function(r){ZB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZB(n,e,t){return e=Ooe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ooe(n){var e=BMe(n,"string");return hx(e)=="symbol"?e:e+""}function BMe(n,e){if(hx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function $Me(n,e){return HMe(n)||zMe(n,e)||UMe(n,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UMe(n,e){if(n){if(typeof n=="string")return gX(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gX(n,e)}}function gX(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function HMe(n){if(Array.isArray(n))return n}function q6(){return q6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},q6.apply(this,arguments)}var VMe=function(e,t){var r;return de.isValidElement(e)?r=de.cloneElement(e,t):nn(e)?r=e(t):r=de.createElement("line",q6({},t,{className:"recharts-reference-line-line"})),r},WMe=function(e,t,r,i,s,a,o,l,c){var u=s.x,f=s.y,h=s.width,p=s.height;if(r){var x=c.y,y=e.y.apply(x,{position:a});if(md(c,"discard")&&!e.y.isInRange(y))return null;var w=[{x:u+h,y},{x:u,y}];return l==="left"?w.reverse():w}if(t){var b=c.x,S=e.x.apply(b,{position:a});if(md(c,"discard")&&!e.x.isInRange(S))return null;var _=[{x:S,y:f+p},{x:S,y:f}];return o==="top"?_.reverse():_}if(i){var P=c.segment,E=P.map(function(C){return e.apply(C,{position:a})});return md(c,"discard")&&BIe(E,function(C){return!e.isInRange(C)})?null:E}return null};function GMe(n){var e=n.x,t=n.y,r=n.segment,i=n.xAxisId,s=n.yAxisId,a=n.shape,o=n.className,l=n.alwaysShow,c=EMe(),u=Toe(i),f=koe(s),h=NMe();if(!c||!h)return null;Gu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=GB({x:u.scale,y:f.scale}),x=Ds(e),y=Ds(t),w=r&&r.length===2,b=WMe(p,x,y,w,h,n.position,u.orientation,f.orientation,n);if(!b)return null;var S=$Me(b,2),_=S[0],P=_.x,E=_.y,C=S[1],N=C.x,L=C.y,R=md(n,"hidden")?"url(#".concat(c,")"):void 0,F=mX(mX({clipPath:R},Bt(n,!0)),{},{x1:P,y1:E,x2:N,y2:L});return de.createElement(Mn,{className:Kt("recharts-reference-line",o)},VMe(a,F),sa.renderCallByParent(n,mMe({x1:P,y1:E,x2:N,y2:L})))}var QB=(function(n){function e(){return jMe(this,e),IMe(this,e,arguments)}return FMe(e,n),RMe(e,[{key:"render",value:function(){return de.createElement(GMe,this.props)}}])})(de.Component);ZB(QB,"displayName","ReferenceLine");ZB(QB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U6(){return U6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U6.apply(this,arguments)}function px(n){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(n)}function vX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vX(Object(t),!0).forEach(function(r){IN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KMe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function XMe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Loe(r.key),r)}}function YMe(n,e,t){return e&&XMe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function JMe(n,e,t){return e=HT(e),ZMe(n,joe()?Reflect.construct(e,t||[],HT(n).constructor):e.apply(n,t))}function ZMe(n,e){if(e&&(px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QMe(n)}function QMe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function joe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(joe=function(){return!!n})()}function HT(n){return HT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},HT(n)}function eDe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&z6(n,e)}function z6(n,e){return z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z6(n,e)}function IN(n,e,t){return e=Loe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Loe(n){var e=tDe(n,"string");return px(e)=="symbol"?e:e+""}function tDe(n,e){if(px(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var nDe=function(e){var t=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=GB({x:i.scale,y:s.scale}),o=a.apply({x:t,y:r},{bandAware:!0});return md(e,"discard")&&!a.isInRange(o)?null:o},MN=(function(n){function e(){return KMe(this,e),JMe(this,e,arguments)}return eDe(e,n),YMe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Ds(i),u=Ds(s);if(Gu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=nDe(this.props);if(!f)return null;var h=f.x,p=f.y,x=this.props,y=x.shape,w=x.className,b=md(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=yX(yX({clipPath:b},Bt(this.props,!0)),{},{cx:h,cy:p});return de.createElement(Mn,{className:Kt("recharts-reference-dot",w)},e.renderDot(y,S),sa.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])})(de.Component);IN(MN,"displayName","ReferenceDot");IN(MN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});IN(MN,"renderDot",function(n,e){var t;return de.isValidElement(n)?t=de.cloneElement(n,e):nn(n)?t=n(e):t=de.createElement(M5,U6({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function H6(){return H6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H6.apply(this,arguments)}function mx(n){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(n)}function bX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bX(Object(t),!0).forEach(function(r){DN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rDe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iDe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ioe(r.key),r)}}function sDe(n,e,t){return e&&iDe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function aDe(n,e,t){return e=VT(e),oDe(n,Roe()?Reflect.construct(e,t||[],VT(n).constructor):e.apply(n,t))}function oDe(n,e){if(e&&(mx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDe(n)}function lDe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Roe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Roe=function(){return!!n})()}function VT(n){return VT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VT(n)}function cDe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V6(n,e)}function V6(n,e){return V6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V6(n,e)}function DN(n,e,t){return e=Ioe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ioe(n){var e=uDe(n,"string");return mx(e)=="symbol"?e:e+""}function uDe(n,e){if(mx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fDe=function(e,t,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var h=GB({x:u.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:t?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return md(s,"discard")&&(!h.isInRange(p)||!h.isInRange(x))?null:xoe(p,x)},FN=(function(n){function e(){return rDe(this,e),aDe(this,e,arguments)}return cDe(e,n),sDe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Gu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ds(i),h=Ds(s),p=Ds(a),x=Ds(o),y=this.props.shape;if(!f&&!h&&!p&&!x&&!y)return null;var w=fDe(f,h,p,x,this.props);if(!w&&!y)return null;var b=md(this.props,"hidden")?"url(#".concat(u,")"):void 0;return de.createElement(Mn,{className:Kt("recharts-reference-area",l)},e.renderRect(y,wX(wX({clipPath:b},Bt(this.props,!0)),w)),sa.renderCallByParent(this.props,w))}}])})(de.Component);DN(FN,"displayName","ReferenceArea");DN(FN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});DN(FN,"renderRect",function(n,e){var t;return de.isValidElement(n)?t=de.cloneElement(n,e):nn(n)?t=n(e):t=de.createElement(VB,H6({},e,{className:"recharts-reference-area-rect"})),t});function Moe(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function dDe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return vMe(r,t)}function hDe(n,e,t){var r=t==="width",i=n.x,s=n.y,a=n.width,o=n.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function WT(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function pDe(n,e){return Moe(n,e+1)}function mDe(n,e,t,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,f=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:Moe(r,c)};var y=l,w,b=function(){return w===void 0&&(w=t(x,y)),w},S=x.coordinate,_=l===0||WT(n,S,b,u,o);_||(l=0,u=a,c+=1),_&&(u=S+n*(b()/2+i),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function yS(n){"@babel/helpers - typeof";return yS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yS(n)}function xX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xX(Object(t),!0).forEach(function(r){gDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gDe(n,e,t){return e=vDe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vDe(n){var e=yDe(n,"string");return yS(e)=="symbol"?e:e+""}function yDe(n,e){if(yS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(yS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bDe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var p=s[h],x,y=function(){return x===void 0&&(x=t(p,h)),x};if(h===a-1){var w=n*(p.coordinate+n*y()/2-l);s[h]=p=Xa(Xa({},p),{},{tickCoord:w>0?p.coordinate-w*n:p.coordinate})}else s[h]=p=Xa(Xa({},p),{},{tickCoord:p.coordinate});var b=WT(n,p.tickCoord,y,o,l);b&&(l=p.tickCoord-n*(y()/2+i),s[h]=Xa(Xa({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function wDe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],f=t(u,o-1),h=n*(u.coordinate+n*f/2-c);a[o-1]=u=Xa(Xa({},u),{},{tickCoord:h>0?u.coordinate-h*n:u.coordinate});var p=WT(n,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-n*(f/2+i),a[o-1]=Xa(Xa({},u),{},{isShow:!0}))}for(var x=s?o-1:o,y=function(S){var _=a[S],P,E=function(){return P===void 0&&(P=t(_,S)),P};if(S===0){var C=n*(_.coordinate-n*E()/2-l);a[S]=_=Xa(Xa({},_),{},{tickCoord:C<0?_.coordinate-C*n:_.coordinate})}else a[S]=_=Xa(Xa({},_),{},{tickCoord:_.coordinate});var N=WT(n,_.tickCoord,E,l,c);N&&(l=_.tickCoord+n*(E()/2+i),a[S]=Xa(Xa({},_),{},{isShow:!0}))},w=0;w<x;w++)y(w);return a}function e7(n,e,t){var r=n.tick,i=n.ticks,s=n.viewBox,a=n.minTickGap,o=n.orientation,l=n.interval,c=n.tickFormatter,u=n.unit,f=n.angle;if(!i||!i.length||!r)return[];if(tt(l)||Lg.isSsr)return pDe(i,typeof l=="number"&&tt(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",x=u&&p==="width"?m_(u,{fontSize:e,letterSpacing:t}):{width:0,height:0},y=function(_,P){var E=nn(c)?c(_.value,P):_.value;return p==="width"?dDe(m_(E,{fontSize:e,letterSpacing:t}),x,f):m_(E,{fontSize:e,letterSpacing:t})[p]},w=i.length>=2?To(i[1].coordinate-i[0].coordinate):1,b=hDe(s,w,p);return l==="equidistantPreserveStart"?mDe(w,b,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=wDe(w,b,y,i,a,l==="preserveStartEnd"):h=bDe(w,b,y,i,a),h.filter(function(S){return S.isShow}))}var xDe=["viewBox"],_De=["viewBox"],SDe=["ticks"];function gx(n){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(n)}function W1(){return W1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},W1.apply(this,arguments)}function _X(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ks(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_X(Object(t),!0).forEach(function(r){t7(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_X(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ER(n,e){if(n==null)return{};var t=ADe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ADe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function PDe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function SX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Foe(r.key),r)}}function CDe(n,e,t){return e&&SX(n.prototype,e),t&&SX(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function EDe(n,e,t){return e=GT(e),TDe(n,Doe()?Reflect.construct(e,t||[],GT(n).constructor):e.apply(n,t))}function TDe(n,e){if(e&&(gx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kDe(n)}function kDe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Doe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Doe=function(){return!!n})()}function GT(n){return GT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},GT(n)}function NDe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&W6(n,e)}function W6(n,e){return W6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W6(n,e)}function t7(n,e,t){return e=Foe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Foe(n){var e=ODe(n,"string");return gx(e)=="symbol"?e:e+""}function ODe(n,e){if(gx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var $x=(function(n){function e(t){var r;return PDe(this,e),r=EDe(this,e,[t]),r.state={fontSize:"",letterSpacing:""},r}return NDe(e,n),CDe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=ER(r,xDe),o=this.props,l=o.viewBox,c=ER(o,_De);return!cb(s,l)||!cb(a,c)||!cb(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,x,y,w,b,S,_=f?-1:1,P=r.tickSize||u,E=tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=x=r.coordinate,w=a+ +!f*l,y=w-_*P,S=y-_*h,b=E;break;case"left":y=w=r.coordinate,x=s+ +!f*o,p=x-_*P,b=p-_*h,S=E;break;case"right":y=w=r.coordinate,x=s+ +f*o,p=x+_*P,b=p+_*h,S=E;break;default:p=x=r.coordinate,w=a+ +f*l,y=w+_*P,S=y+_*h,b=E;break}return{line:{x1:p,y1:y,x2:x,y2:w},tick:{x:b,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=ks(ks(ks({},Bt(this.props,!1)),Bt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ks(ks({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ks(ks({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return de.createElement("line",W1({},f,{className:Kt("recharts-cartesian-axis-line",rc(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=e7(ks(ks({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=Bt(this.props,!1),b=Bt(u,!1),S=ks(ks({},w),{},{fill:"none"},Bt(l,!1)),_=p.map(function(P,E){var C=a.getTickLineCoord(P),N=C.line,L=C.tick,R=ks(ks(ks(ks({textAnchor:x,verticalAnchor:y},w),{},{stroke:"none",fill:c},b),L),{},{index:E,payload:P,visibleTicksCount:p.length,tickFormatter:f});return de.createElement(Mn,W1({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},b0(a.props,P,E)),l&&de.createElement("line",W1({},S,N,{className:Kt("recharts-cartesian-axis-tick-line",rc(l,"className"))})),u&&e.renderTickItem(u,R,"".concat(nn(f)?f(P.value,E):P.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=ER(f,SDe),x=h;return nn(l)&&(x=h&&h.length>0?l(this.props):l(p)),a<=0||o<=0||!x||!x.length?null:de.createElement(Mn,{className:Kt("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),sa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=Kt(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?a=de.cloneElement(r,ks(ks({},i),{},{className:o})):nn(r)?a=r(ks(ks({},i),{},{className:o})):a=de.createElement(w0,W1({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(U.Component);t7($x,"displayName","CartesianAxis");t7($x,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jDe=["x1","y1","x2","y2","key"],LDe=["offset"];function S0(n){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(n)}function AX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ya(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AX(Object(t),!0).forEach(function(r){RDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RDe(n,e,t){return e=IDe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IDe(n){var e=MDe(n,"string");return S0(e)=="symbol"?e:e+""}function MDe(n,e){if(S0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fv.apply(this,arguments)}function PX(n,e){if(n==null)return{};var t=DDe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function DDe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}var FDe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return de.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Boe(n,e){var t;if(de.isValidElement(n))t=de.cloneElement(n,e);else if(nn(n))t=n(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=PX(e,jDe),c=Bt(l,!1);c.offset;var u=PX(c,LDe);t=de.createElement("line",Fv({},u,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return t}function BDe(n){var e=n.x,t=n.width,r=n.horizontal,i=r===void 0?!0:r,s=n.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Ya(Ya({},n),{},{x1:e,y1:o,x2:e+t,y2:o,key:"line-".concat(l),index:l});return Boe(i,c)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function $De(n){var e=n.y,t=n.height,r=n.vertical,i=r===void 0?!0:r,s=n.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Ya(Ya({},n),{},{x1:o,y1:e,x2:o,y2:e+t,key:"line-".concat(l),index:l});return Boe(i,c)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function qDe(n){var e=n.horizontalFill,t=n.fillOpacity,r=n.x,i=n.y,s=n.width,a=n.height,o=n.horizontalPoints,l=n.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var x=!u[p+1],y=x?i+a-h:u[p+1]-h;if(y<=0)return null;var w=p%e.length;return de.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:s,stroke:"none",fill:e[w],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function UDe(n){var e=n.vertical,t=e===void 0?!0:e,r=n.verticalFill,i=n.fillOpacity,s=n.x,a=n.y,o=n.width,l=n.height,c=n.verticalPoints;if(!t||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var x=!u[p+1],y=x?s+o-h:u[p+1]-h;if(y<=0)return null;var w=p%r.length;return de.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var zDe=function(e,t){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return $ae(e7(Ya(Ya(Ya({},$x.defaultProps),r),{},{ticks:sp(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,t)},HDe=function(e,t){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return $ae(e7(Ya(Ya(Ya({},$x.defaultProps),r),{},{ticks:sp(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,t)},_1={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dE(n){var e,t,r,i,s,a,o=YB(),l=JB(),c=OMe(),u=Ya(Ya({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:_1.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:_1.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:_1.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:_1.horizontalFill,vertical:(s=n.vertical)!==null&&s!==void 0?s:_1.vertical,verticalFill:(a=n.verticalFill)!==null&&a!==void 0?a:_1.verticalFill,x:tt(n.x)?n.x:c.left,y:tt(n.y)?n.y:c.top,width:tt(n.width)?n.width:c.width,height:tt(n.height)?n.height:c.height}),f=u.x,h=u.y,p=u.width,x=u.height,y=u.syncWithTicks,w=u.horizontalValues,b=u.verticalValues,S=TMe(),_=kMe();if(!tt(p)||p<=0||!tt(x)||x<=0||!tt(f)||f!==+f||!tt(h)||h!==+h)return null;var P=u.verticalCoordinatesGenerator||zDe,E=u.horizontalCoordinatesGenerator||HDe,C=u.horizontalPoints,N=u.verticalPoints;if((!C||!C.length)&&nn(E)){var L=w&&w.length,R=E({yAxis:_?Ya(Ya({},_),{},{ticks:L?w:_.ticks}):void 0,width:o,height:l,offset:c},L?!0:y);Gu(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(S0(R),"]")),Array.isArray(R)&&(C=R)}if((!N||!N.length)&&nn(P)){var F=b&&b.length,j=P({xAxis:S?Ya(Ya({},S),{},{ticks:F?b:S.ticks}):void 0,width:o,height:l,offset:c},F?!0:y);Gu(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(S0(j),"]")),Array.isArray(j)&&(N=j)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(FDe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),de.createElement(BDe,Fv({},u,{offset:c,horizontalPoints:C,xAxis:S,yAxis:_})),de.createElement($De,Fv({},u,{offset:c,verticalPoints:N,xAxis:S,yAxis:_})),de.createElement(qDe,Fv({},u,{horizontalPoints:C})),de.createElement(UDe,Fv({},u,{verticalPoints:N})))}dE.displayName="CartesianGrid";var VDe=["type","layout","connectNulls","ref"],WDe=["key"];function vx(n){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(n)}function CX(n,e){if(n==null)return{};var t=GDe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GDe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function x_(){return x_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},x_.apply(this,arguments)}function EX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function El(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EX(Object(t),!0).forEach(function(r){zu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S1(n){return JDe(n)||YDe(n)||XDe(n)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(n,e){if(n){if(typeof n=="string")return G6(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G6(n,e)}}function YDe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function JDe(n){if(Array.isArray(n))return G6(n)}function G6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ZDe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qoe(r.key),r)}}function QDe(n,e,t){return e&&TX(n.prototype,e),t&&TX(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function e6e(n,e,t){return e=KT(e),t6e(n,$oe()?Reflect.construct(e,t||[],KT(n).constructor):e.apply(n,t))}function t6e(n,e){if(e&&(vx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n6e(n)}function n6e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $oe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($oe=function(){return!!n})()}function KT(n){return KT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KT(n)}function r6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&K6(n,e)}function K6(n,e){return K6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K6(n,e)}function zu(n,e,t){return e=qoe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qoe(n){var e=i6e(n,"string");return vx(e)=="symbol"?e:e+""}function i6e(n,e){if(vx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var r0=(function(n){function e(){var t;ZDe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e6e(this,e,[].concat(i)),zu(t,"state",{isAnimationFinished:!0,totalLength:0}),zu(t,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),zu(t,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(b,S){return b+S});if(!c)return t.generateSimpleStrokeDasharray(o,a);for(var u=Math.floor(a/c),f=a%c,h=o-a,p=[],x=0,y=0;x<l.length;y+=l[x],++x)if(y+l[x]>f){p=[].concat(S1(l.slice(0,x)),[f-y]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(S1(e.repeat(l,u)),S1(p),w).map(function(b){return"".concat(b,"px")}).join(", ")}),zu(t,"id",N0("recharts-line-")),zu(t,"pathRef",function(a){t.mainCurve=a}),zu(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),zu(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return r6e(e,n),QDe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=ic(u,I5);if(!f)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:as(y.payload,w)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(Mn,p,f.map(function(x){return de.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Bt(this.props,!1),h=Bt(l,!0),p=c.map(function(y,w){var b=El(El(El({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:u,payload:y.payload,points:c});return e.renderDotItem(l,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return de.createElement(Mn,x_({className:"recharts-line-dots",key:"dots"},x),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=CX(o,VDe),h=El(El(El({},Bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return de.createElement(n0,x_({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,x=a.animateNewValues,y=a.width,w=a.height,b=this.state,S=b.prevPoints,_=b.totalLength;return de.createElement(Ju,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var E=P.t;if(S){var C=S.length/o.length,N=o.map(function(D,W){var V=Math.floor(W*C);if(S[V]){var Z=S[V],J=Is(Z.x,D.x),K=Is(Z.y,D.y);return El(El({},D),{},{x:J(E),y:K(E)})}if(x){var $=Is(y*2,D.x),te=Is(w/2,D.y);return El(El({},D),{},{x:$(E),y:te(E)})}return El(El({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(N,r,i)}var L=Is(0,_),R=L(E),F;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});F=s.getStrokeDasharray(R,_,j)}else F=s.generateSimpleStrokeDasharray(_,R);return s.renderCurveStatically(o,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&a&&a.length&&(!c&&u>0||!x0(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,h=i.left,p=i.width,x=i.height,y=i.isAnimationActive,w=i.id;if(s||!o||!o.length)return null;var b=this.state.isAnimationFinished,S=o.length===1,_=Kt("recharts-line",l),P=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,C=P||E,N=hn(w)?this.id:w,L=(r=Bt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=L.r,F=R===void 0?3:R,j=L.strokeWidth,D=j===void 0?2:j,W=Uie(a)?a:{},V=W.clipDot,Z=V===void 0?!0:V,J=F*2+D;return de.createElement(Mn,{className:_},P||E?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(N)},de.createElement("rect",{x:P?h:h-p/2,y:E?f:f-x/2,width:P?p:p*2,height:E?x:x*2})),!Z&&de.createElement("clipPath",{id:"clipPath-dots-".concat(N)},de.createElement("rect",{x:h-J/2,y:f-J/2,width:p+J,height:x+J}))):null,!S&&this.renderCurve(C,N),this.renderErrorBar(C,N),(S||a)&&this.renderDots(C,Z,N),(!y||b)&&pd.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(S1(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(S1(a),S1(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(de.isValidElement(r))s=de.cloneElement(r,i);else if(nn(r))s=r(i);else{var a=i.key,o=CX(i,WDe),l=Kt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=de.createElement(M5,x_({key:a},o,{className:l}))}return s}}])})(U.PureComponent);zu(r0,"displayName","Line");zu(r0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lg.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});zu(r0,"getComposedData",function(n){var e=n.props,t=n.xAxis,r=n.yAxis,i=n.xAxisTicks,s=n.yAxisTicks,a=n.dataKey,o=n.bandSize,l=n.displayedData,c=n.offset,u=e.layout,f=l.map(function(h,p){var x=as(h,a);return u==="horizontal"?{x:PT({axis:t,ticks:i,bandSize:o,entry:h,index:p}),y:hn(x)?null:r.scale(x),value:x,payload:h}:{x:hn(x)?null:t.scale(x),y:PT({axis:r,ticks:s,bandSize:o,entry:h,index:p}),value:x,payload:h}});return El({points:f,layout:u},c)});var s6e=["layout","type","stroke","connectNulls","isRange","ref"],a6e=["key"],Uoe;function yx(n){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(n)}function zoe(n,e){if(n==null)return{};var t=o6e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function o6e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Bv(){return Bv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bv.apply(this,arguments)}function kX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kX(Object(t),!0).forEach(function(r){ld(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NX(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Voe(r.key),r)}}function c6e(n,e,t){return e&&NX(n.prototype,e),t&&NX(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function u6e(n,e,t){return e=XT(e),f6e(n,Hoe()?Reflect.construct(e,t||[],XT(n).constructor):e.apply(n,t))}function f6e(n,e){if(e&&(yx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6e(n)}function d6e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Hoe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hoe=function(){return!!n})()}function XT(n){return XT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},XT(n)}function h6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&X6(n,e)}function X6(n,e){return X6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X6(n,e)}function ld(n,e,t){return e=Voe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Voe(n){var e=p6e(n,"string");return yx(e)=="symbol"?e:e+""}function p6e(n,e){if(yx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var gd=(function(n){function e(){var t;l6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=u6e(this,e,[].concat(i)),ld(t,"state",{isAnimationFinished:!0}),ld(t,"id",N0("recharts-area-")),ld(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),nn(a)&&a()}),ld(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),nn(a)&&a()}),t}return h6e(e,n),c6e(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Bt(this.props,!1),p=Bt(c,!0),x=u.map(function(w,b){var S=dm(dm(dm({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:u});return e.renderDotItem(c,S)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return de.createElement(Mn,Bv({className:"recharts-area-dots"},y),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),f=fg(a.map(function(h){return h.y||0}));return tt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(fg(s.map(function(h){return h.y||0})),f)),tt(f)?de.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),f=fg(a.map(function(h){return h.x||0}));return tt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(fg(s.map(function(h){return h.x||0})),f)),tt(f)?de.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=zoe(o,s6e);return de.createElement(Mn,{clipPath:s?"url(#clipPath-".concat(a,")"):null},de.createElement(n0,Bv({},Bt(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&de.createElement(n0,Bv({},Bt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&de.createElement(n0,Bv({},Bt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,x=this.state,y=x.prevPoints,w=x.prevBaseLine;return de.createElement(Ju,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(y){var _=y.length/o.length,P=o.map(function(L,R){var F=Math.floor(R*_);if(y[F]){var j=y[F],D=Is(j.x,L.x),W=Is(j.y,L.y);return dm(dm({},L),{},{x:D(S),y:W(S)})}return L}),E;if(tt(l)&&typeof l=="number"){var C=Is(w,l);E=C(S)}else if(hn(l)||Ix(l)){var N=Is(w,0);E=N(S)}else E=l.map(function(L,R){var F=Math.floor(R*_);if(w[F]){var j=w[F],D=Is(j.x,L.x),W=Is(j.y,L.y);return dm(dm({},L),{},{x:D(S),y:W(S)})}return L});return s.renderAreaStatically(P,E,r,i)}return de.createElement(Mn,null,de.createElement("defs",null,de.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),de.createElement(Mn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&a&&a.length&&(!u&&h>0||!x0(u,a)||!x0(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,x=i.height,y=i.isAnimationActive,w=i.id;if(s||!o||!o.length)return null;var b=this.state.isAnimationFinished,S=o.length===1,_=Kt("recharts-area",l),P=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,C=P||E,N=hn(w)?this.id:w,L=(r=Bt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=L.r,F=R===void 0?3:R,j=L.strokeWidth,D=j===void 0?2:j,W=Uie(a)?a:{},V=W.clipDot,Z=V===void 0?!0:V,J=F*2+D;return de.createElement(Mn,{className:_},P||E?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(N)},de.createElement("rect",{x:P?u:u-p/2,y:E?c:c-x/2,width:P?p:p*2,height:E?x:x*2})),!Z&&de.createElement("clipPath",{id:"clipPath-dots-".concat(N)},de.createElement("rect",{x:u-J/2,y:c-J/2,width:p+J,height:x+J}))):null,S?null:this.renderArea(C,N),(a||S)&&this.renderDots(C,Z,N),(!y||b)&&pd.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(U.PureComponent);Uoe=gd;ld(gd,"displayName","Area");ld(gd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lg.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ld(gd,"getBaseValue",function(n,e,t,r){var i=n.layout,s=n.baseValue,a=e.props.baseValue,o=a??s;if(tt(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:t,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});ld(gd,"getComposedData",function(n){var e=n.props,t=n.item,r=n.xAxis,i=n.yAxis,s=n.xAxisTicks,a=n.yAxisTicks,o=n.bandSize,l=n.dataKey,c=n.stackedData,u=n.dataStartIndex,f=n.displayedData,h=n.offset,p=e.layout,x=c&&c.length,y=Uoe.getBaseValue(e,t,r,i),w=p==="horizontal",b=!1,S=f.map(function(P,E){var C;x?C=c[u+E]:(C=as(P,l),Array.isArray(C)?b=!0:C=[y,C]);var N=C[1]==null||x&&as(P,l)==null;return w?{x:PT({axis:r,ticks:s,bandSize:o,entry:P,index:E}),y:N?null:i.scale(C[1]),value:C,payload:P}:{x:N?null:r.scale(C[1]),y:PT({axis:i,ticks:a,bandSize:o,entry:P,index:E}),value:C,payload:P}}),_;return x||b?_=S.map(function(P){var E=Array.isArray(P.value)?P.value[0]:null;return w?{x:P.x,y:E!=null&&P.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:P.y}}):_=w?i.scale(y):r.scale(y),dm({points:S,baseLine:_,layout:p,isRange:b},h)});ld(gd,"renderDotItem",function(n,e){var t;if(de.isValidElement(n))t=de.cloneElement(n,e);else if(nn(n))t=n(e);else{var r=Kt("recharts-area-dot",typeof n!="boolean"?n.className:""),i=e.key,s=zoe(e,a6e);t=de.createElement(M5,Bv({},s,{key:i,className:r}))}return t});function bx(n){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(n)}function m6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function g6e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Koe(r.key),r)}}function v6e(n,e,t){return e&&g6e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function y6e(n,e,t){return e=YT(e),b6e(n,Woe()?Reflect.construct(e,t||[],YT(n).constructor):e.apply(n,t))}function b6e(n,e){if(e&&(bx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w6e(n)}function w6e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Woe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Woe=function(){return!!n})()}function YT(n){return YT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YT(n)}function x6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y6(n,e)}function Y6(n,e){return Y6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y6(n,e)}function Goe(n,e,t){return e=Koe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Koe(n){var e=_6e(n,"string");return bx(e)=="symbol"?e:e+""}function _6e(n,e){if(bx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function J6(){return J6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},J6.apply(this,arguments)}function S6e(n){var e=n.xAxisId,t=YB(),r=JB(),i=Toe(e);return i==null?null:U.createElement($x,J6({},i,{className:Kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:r},ticksGenerator:function(a){return sp(a,!0)}}))}var gg=(function(n){function e(){return m6e(this,e),y6e(this,e,arguments)}return x6e(e,n),v6e(e,[{key:"render",value:function(){return U.createElement(S6e,this.props)}}])})(U.Component);Goe(gg,"displayName","XAxis");Goe(gg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wx(n){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(n)}function A6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function P6e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Joe(r.key),r)}}function C6e(n,e,t){return e&&P6e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function E6e(n,e,t){return e=JT(e),T6e(n,Xoe()?Reflect.construct(e,t||[],JT(n).constructor):e.apply(n,t))}function T6e(n,e){if(e&&(wx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(n)}function k6e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xoe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xoe=function(){return!!n})()}function JT(n){return JT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JT(n)}function N6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Z6(n,e)}function Z6(n,e){return Z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z6(n,e)}function Yoe(n,e,t){return e=Joe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Joe(n){var e=O6e(n,"string");return wx(e)=="symbol"?e:e+""}function O6e(n,e){if(wx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Q6(){return Q6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Q6.apply(this,arguments)}var j6e=function(e){var t=e.yAxisId,r=YB(),i=JB(),s=koe(t);return s==null?null:U.createElement($x,Q6({},s,{className:Kt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return sp(o,!0)}}))},vg=(function(n){function e(){return A6e(this,e),E6e(this,e,arguments)}return N6e(e,n),C6e(e,[{key:"render",value:function(){return U.createElement(j6e,this.props)}}])})(U.Component);Yoe(vg,"displayName","YAxis");Yoe(vg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OX(n){return M6e(n)||I6e(n)||R6e(n)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(n,e){if(n){if(typeof n=="string")return e8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e8(n,e)}}function I6e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M6e(n){if(Array.isArray(n))return e8(n)}function e8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var t8=function(e,t,r,i,s){var a=ic(e,QB),o=ic(e,MN),l=[].concat(OX(a),OX(o)),c=ic(e,FN),u="".concat(i,"Id"),f=i[0],h=t;if(l.length&&(h=l.reduce(function(y,w){if(w.props[u]===r&&md(w.props,"extendDomain")&&tt(w.props[f])){var b=w.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),c.length){var p="".concat(f,"1"),x="".concat(f,"2");h=c.reduce(function(y,w){if(w.props[u]===r&&md(w.props,"extendDomain")&&tt(w.props[p])&&tt(w.props[x])){var b=w.props[p],S=w.props[x];return[Math.min(y[0],b,S),Math.max(y[1],b,S)]}return y},h)}return s&&s.length&&(h=s.reduce(function(y,w){return tt(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},TR={exports:{}},jX;function D6e(){return jX||(jX=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),x=t?t+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],p]:l._events[x].push(p):(l._events[x]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=t?t+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,x=new Array(p);h<p;h++)x[h]=f[h].fn;return x},o.prototype.listenerCount=function(c){var u=t?t+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,x){var y=t?t+c:c;if(!this._events[y])return!1;var w=this._events[y],b=arguments.length,S,_;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,h),!0;case 5:return w.fn.call(w.context,u,f,h,p),!0;case 6:return w.fn.call(w.context,u,f,h,p,x),!0}for(_=1,S=new Array(b-1);_<b;_++)S[_-1]=arguments[_];w.fn.apply(w.context,S)}else{var P=w.length,E;for(_=0;_<P;_++)switch(w[_].once&&this.removeListener(c,w[_].fn,void 0,!0),b){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,u);break;case 3:w[_].fn.call(w[_].context,u,f);break;case 4:w[_].fn.call(w[_].context,u,f,h);break;default:if(!S)for(E=1,S=new Array(b-1);E<b;E++)S[E-1]=arguments[E];w[_].fn.apply(w[_].context,S)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=t?t+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var x=this._events[p];if(x.fn)x.fn===u&&(!h||x.once)&&(!f||x.context===f)&&a(this,p);else{for(var y=0,w=[],b=x.length;y<b;y++)(x[y].fn!==u||h&&!x[y].once||f&&x[y].context!==f)&&w.push(x[y]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(TR)),TR.exports}var F6e=D6e();const B6e=qn(F6e);var kR=new B6e,NR="recharts.syncMouseEvents";function bS(n){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(n)}function $6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function q6e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Zoe(r.key),r)}}function U6e(n,e,t){return e&&q6e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function OR(n,e,t){return e=Zoe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zoe(n){var e=z6e(n,"string");return bS(e)=="symbol"?e:e+""}function z6e(n,e){if(bS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(bS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var H6e=(function(){function n(){$6e(this,n),OR(this,"activeIndex",0),OR(this,"coordinateList",[]),OR(this,"layout","horizontal")}return U6e(n,[{key:"setDetails",value:function(t){var r,i=t.coordinateList,s=i===void 0?null:i,a=t.container,o=a===void 0?null:a,l=t.layout,c=l===void 0?null:l,u=t.offset,f=u===void 0?null:u,h=t.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,h=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function V6e(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var r=n==null?void 0:n[0],i=n==null?void 0:n[1];if(r&&i&&tt(r)&&tt(i))return!0}return!1}function W6e(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function Qoe(n){var e=n.cx,t=n.cy,r=n.radius,i=n.startAngle,s=n.endAngle,a=ti(e,t,r,i),o=ti(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function G6e(n,e,t){var r,i,s,a;if(n==="horizontal")r=e.x,s=r,i=t.top,a=t.top+t.height;else if(n==="vertical")i=e.y,a=i,r=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=ti(o,l,c,f),p=ti(o,l,u,f);r=h.x,i=h.y,s=p.x,a=p.y}else return Qoe(e);return[{x:r,y:i},{x:s,y:a}]}function wS(n){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wS(n)}function LX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LX(Object(t),!0).forEach(function(r){K6e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K6e(n,e,t){return e=X6e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X6e(n){var e=Y6e(n,"string");return wS(e)=="symbol"?e:e+""}function Y6e(n,e){if(wS(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(wS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J6e(n){var e,t,r=n.element,i=n.tooltipEventType,s=n.isActive,a=n.activeCoordinate,o=n.activePayload,l=n.offset,c=n.activeTooltipIndex,u=n.tooltipAxisBandSize,f=n.layout,h=n.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(t=r.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!r||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var x,y=n0;if(h==="ScatterChart")x=a,y=cRe;else if(h==="BarChart")x=W6e(f,a,l,u),y=VB;else if(f==="radial"){var w=Qoe(a),b=w.cx,S=w.cy,_=w.radius,P=w.startAngle,E=w.endAngle;x={cx:b,cy:S,startAngle:P,endAngle:E,innerRadius:_,outerRadius:_},y=Jae}else x={points:G6e(f,a,l)},y=n0;var C=lC(lC(lC(lC({stroke:"#ccc",pointerEvents:"none"},l),x),Bt(p,!1)),{},{payload:o,payloadIndex:c,className:Kt("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,C):U.createElement(y,C)}var Z6e=["item"],Q6e=["children","className","width","height","style","compact","title","desc"];function xx(n){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(n)}function G1(){return G1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},G1.apply(this,arguments)}function RX(n,e){return n8e(n)||t8e(n,e)||tle(n,e)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function n8e(n){if(Array.isArray(n))return n}function IX(n,e){if(n==null)return{};var t=r8e(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function r8e(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function i8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function s8e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nle(r.key),r)}}function a8e(n,e,t){return e&&s8e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function o8e(n,e,t){return e=ZT(e),l8e(n,ele()?Reflect.construct(e,t||[],ZT(n).constructor):e.apply(n,t))}function l8e(n,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c8e(n)}function c8e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ele(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ele=function(){return!!n})()}function ZT(n){return ZT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZT(n)}function u8e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&n8(n,e)}function n8(n,e){return n8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n8(n,e)}function _x(n){return h8e(n)||d8e(n)||tle(n)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tle(n,e){if(n){if(typeof n=="string")return r8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r8(n,e)}}function d8e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function h8e(n){if(Array.isArray(n))return r8(n)}function r8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function MX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MX(Object(t),!0).forEach(function(r){en(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function en(n,e,t){return e=nle(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nle(n){var e=p8e(n,"string");return xx(e)=="symbol"?e:e+""}function p8e(n,e){if(xx(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var m8e={xAxis:["bottom","top"],yAxis:["left","right"]},g8e={width:"100%",height:"100%"},rle={x:0,y:0};function cC(n){return n}var v8e=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},y8e=function(e,t,r,i){var s=t.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Ve(Ve(Ve({},i),ti(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Ve(Ve(Ve({},i),ti(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return rle},BN=function(e,t){var r=t.graphicalItems,i=t.dataStartIndex,s=t.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(_x(o),_x(c)):o},[]);return a.length>0?a:e&&e.length&&tt(i)&&tt(s)?e.slice(i,s+1):[]};function ile(n){return n==="number"?[0,"auto"]:void 0}var i8=function(e,t,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=BN(t,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:t;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;h=eT(p,a.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(_x(l),[Vae(c,h)]):l},[])},DX=function(e,t,r,i){var s=i||{x:e.chartX,y:e.chartY},a=v8e(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=L3e(a,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=i8(e,t,u,f),p=y8e(r,o,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},b8e=function(e,t){var r=t.axes,i=t.graphicalItems,s=t.axisType,a=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=Bae(u,s);return r.reduce(function(x,y){var w,b=y.type.defaultProps!==void 0?Ve(Ve({},y.type.defaultProps),y.props):y.props,S=b.type,_=b.dataKey,P=b.allowDataOverflow,E=b.allowDuplicatedCategory,C=b.scale,N=b.ticks,L=b.includeHidden,R=b[a];if(x[R])return x;var F=BN(e.data,{graphicalItems:i.filter(function(B){var G,ne=a in B.props?B.props[a]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[a];return ne===R}),dataStartIndex:l,dataEndIndex:c}),j=F.length,D,W,V;V6e(b.domain,P,S)&&(D=v6(b.domain,null,P),p&&(S==="number"||C!=="auto")&&(V=v_(F,_,"category")));var Z=ile(S);if(!D||D.length===0){var J,K=(J=b.domain)!==null&&J!==void 0?J:Z;if(_){if(D=v_(F,_,S),S==="category"&&p){var $=T5e(D);E&&$?(W=D,D=FT(0,j)):E||(D=RG(K,D,y).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(_x(B),[G])},[]))}else if(S==="category")E?D=D.filter(function(B){return B!==""&&!hn(B)}):D=RG(K,D,y).reduce(function(B,G){return B.indexOf(G)>=0||G===""||hn(G)?B:[].concat(_x(B),[G])},[]);else if(S==="number"){var te=F3e(F,i.filter(function(B){var G,ne,ie=a in B.props?B.props[a]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[a],fe="hide"in B.props?B.props.hide:(ne=B.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ie===R&&(L||!fe)}),_,s,u);te&&(D=te)}p&&(S==="number"||C!=="auto")&&(V=v_(F,_,"category"))}else p?D=FT(0,j):o&&o[R]&&o[R].hasStack&&S==="number"?D=h==="expand"?[0,1]:Hae(o[R].stackGroups,l,c):D=Fae(F,i.filter(function(B){var G=a in B.props?B.props[a]:B.type.defaultProps[a],ne="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===R&&(L||!ne)}),S,u,!0);if(S==="number")D=t8(f,D,R,s,N),K&&(D=v6(K,D,P));else if(S==="category"&&K){var Q=K,X=D.every(function(B){return Q.indexOf(B)>=0});X&&(D=Q)}}return Ve(Ve({},x),{},en({},R,Ve(Ve({},b),{},{axisType:s,domain:D,categoricalDomain:V,duplicateDomain:W,originalDomain:(w=b.domain)!==null&&w!==void 0?w:Z,isCategorical:p,layout:u})))},{})},w8e=function(e,t){var r=t.graphicalItems,i=t.Axis,s=t.axisType,a=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,f=e.children,h=BN(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,x=Bae(u,s),y=-1;return r.reduce(function(w,b){var S=b.type.defaultProps!==void 0?Ve(Ve({},b.type.defaultProps),b.props):b.props,_=S[a],P=ile("number");if(!w[_]){y++;var E;return x?E=FT(0,p):o&&o[_]&&o[_].hasStack?(E=Hae(o[_].stackGroups,l,c),E=t8(f,E,_,s)):(E=v6(P,Fae(h,r.filter(function(C){var N,L,R=a in C.props?C.props[a]:(N=C.type.defaultProps)===null||N===void 0?void 0:N[a],F="hide"in C.props?C.props.hide:(L=C.type.defaultProps)===null||L===void 0?void 0:L.hide;return R===_&&!F}),"number",u),i.defaultProps.allowDataOverflow),E=t8(f,E,_,s)),Ve(Ve({},w),{},en({},_,Ve(Ve({axisType:s},i.defaultProps),{},{hide:!0,orientation:rc(m8e,"".concat(s,".").concat(y%2),null),domain:E,originalDomain:P,isCategorical:x,layout:u})))}return w},{})},x8e=function(e,t){var r=t.axisType,i=r===void 0?"xAxis":r,s=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=ic(u,s),p={};return h&&h.length?p=b8e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=w8e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},_8e=function(e){var t=mm(e),r=sp(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yB(r,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:CT(t,r)}},FX=function(e){var t=e.children,r=e.defaultShowTooltip,i=Kl(t,fx),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},S8e=function(e){return!e||!e.length?!1:e.some(function(t){var r=lp(t&&t.type);return r&&r.indexOf("Bar")>=0})},BX=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},A8e=function(e,t){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,h=r.margin||{},p=Kl(f,fx),x=Kl(f,ub),y=Object.keys(l).reduce(function(E,C){var N=l[C],L=N.orientation;return!N.mirror&&!N.hide?Ve(Ve({},E),{},en({},L,E[L]+N.width)):E},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(E,C){var N=a[C],L=N.orientation;return!N.mirror&&!N.hide?Ve(Ve({},E),{},en({},L,rc(E,"".concat(L))+N.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=Ve(Ve({},w),y),S=b.bottom;p&&(b.bottom+=p.props.height||fx.defaultProps.height),x&&t&&(b=M3e(b,i,r,t));var _=c-b.left-b.right,P=u-b.top-b.bottom;return Ve(Ve({brushBottom:S},b),{},{width:Math.max(_,0),height:Math.max(P,0)})},P8e=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},$N=function(e){var t=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(b,S){var _=S.graphicalItems,P=S.stackGroups,E=S.offset,C=S.updateId,N=S.dataStartIndex,L=S.dataEndIndex,R=b.barSize,F=b.layout,j=b.barGap,D=b.barCategoryGap,W=b.maxBarSize,V=BX(F),Z=V.numericAxisName,J=V.cateAxisName,K=S8e(_),$=[];return _.forEach(function(te,Q){var X=BN(b.data,{graphicalItems:[te],dataStartIndex:N,dataEndIndex:L}),B=te.type.defaultProps!==void 0?Ve(Ve({},te.type.defaultProps),te.props):te.props,G=B.dataKey,ne=B.maxBarSize,ie=B["".concat(Z,"Id")],fe=B["".concat(J,"Id")],he={},oe=l.reduce(function(et,ut){var lt=S["".concat(ut.axisType,"Map")],Ht=B["".concat(ut.axisType,"Id")];lt&&lt[Ht]||ut.axisType==="zAxis"||g0();var $t=lt[Ht];return Ve(Ve({},et),{},en(en({},ut.axisType,$t),"".concat(ut.axisType,"Ticks"),sp($t)))},he),pe=oe[J],Se=oe["".concat(J,"Ticks")],be=P&&P[ie]&&P[ie].hasStack&&G3e(te,P[ie].stackGroups),ye=lp(te.type).indexOf("Bar")>=0,Oe=CT(pe,Se),Pe=[],ge=K&&R3e({barSize:R,stackGroups:P,totalSize:P8e(oe,J)});if(ye){var Ke,Xe,rt=hn(ne)?W:ne,$e=(Ke=(Xe=CT(pe,Se,!0))!==null&&Xe!==void 0?Xe:rt)!==null&&Ke!==void 0?Ke:0;Pe=I3e({barGap:j,barCategoryGap:D,bandSize:$e!==Oe?$e:Oe,sizeList:ge[fe],maxBarSize:rt}),$e!==Oe&&(Pe=Pe.map(function(et){return Ve(Ve({},et),{},{position:Ve(Ve({},et.position),{},{offset:et.position.offset-$e/2})})}))}var at=te&&te.type&&te.type.getComposedData;at&&$.push({props:Ve(Ve({},at(Ve(Ve({},oe),{},{displayedData:X,props:b,dataKey:G,item:te,bandSize:Oe,barPosition:Pe,offset:E,stackedData:be,layout:F,dataStartIndex:N,dataEndIndex:L}))),{},en(en(en({key:te.key||"item-".concat(Q)},Z,oe[Z]),J,oe[J]),"animationId",C)),childIndex:$5e(te,b.children),item:te})}),$},p=function(b,S){var _=b.props,P=b.dataStartIndex,E=b.dataEndIndex,C=b.updateId;if(!Xz({props:_}))return null;var N=_.children,L=_.layout,R=_.stackOffset,F=_.data,j=_.reverseStackOrder,D=BX(L),W=D.numericAxisName,V=D.cateAxisName,Z=ic(N,r),J=V3e(F,Z,"".concat(W,"Id"),"".concat(V,"Id"),R,j),K=l.reduce(function(B,G){var ne="".concat(G.axisType,"Map");return Ve(Ve({},B),{},en({},ne,x8e(_,Ve(Ve({},G),{},{graphicalItems:Z,stackGroups:G.axisType===W&&J,dataStartIndex:P,dataEndIndex:E}))))},{}),$=A8e(Ve(Ve({},K),{},{props:_,graphicalItems:Z}),S==null?void 0:S.legendBBox);Object.keys(K).forEach(function(B){K[B]=u(_,K[B],$,B.replace("Map",""),t)});var te=K["".concat(V,"Map")],Q=_8e(te),X=h(_,Ve(Ve({},K),{},{dataStartIndex:P,dataEndIndex:E,updateId:C,graphicalItems:Z,stackGroups:J,offset:$}));return Ve(Ve({formattedGraphicalItems:X,graphicalItems:Z,offset:$,stackGroups:J},Q),K)},x=(function(w){function b(S){var _,P,E;return i8e(this,b),E=o8e(this,b,[S]),en(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),en(E,"accessibilityManager",new H6e),en(E,"handleLegendBBoxUpdate",function(C){if(C){var N=E.state,L=N.dataStartIndex,R=N.dataEndIndex,F=N.updateId;E.setState(Ve({legendBBox:C},p({props:E.props,dataStartIndex:L,dataEndIndex:R,updateId:F},Ve(Ve({},E.state),{},{legendBBox:C}))))}}),en(E,"handleReceiveSyncEvent",function(C,N,L){if(E.props.syncId===C){if(L===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(N)}}),en(E,"handleBrushChange",function(C){var N=C.startIndex,L=C.endIndex;if(N!==E.state.dataStartIndex||L!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return Ve({dataStartIndex:N,dataEndIndex:L},p({props:E.props,dataStartIndex:N,dataEndIndex:L,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:N,dataEndIndex:L})}}),en(E,"handleMouseEnter",function(C){var N=E.getMouseInfo(C);if(N){var L=Ve(Ve({},N),{},{isTooltipActive:!0});E.setState(L),E.triggerSyncEvent(L);var R=E.props.onMouseEnter;nn(R)&&R(L,C)}}),en(E,"triggeredAfterMouseMove",function(C){var N=E.getMouseInfo(C),L=N?Ve(Ve({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(L),E.triggerSyncEvent(L);var R=E.props.onMouseMove;nn(R)&&R(L,C)}),en(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),en(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),en(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),en(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var L=E.props.onMouseLeave;nn(L)&&L(N,C)}),en(E,"handleOuterEvent",function(C){var N=B5e(C),L=rc(E.props,"".concat(N));if(N&&nn(L)){var R,F;/.*touch.*/i.test(N)?F=E.getMouseInfo(C.changedTouches[0]):F=E.getMouseInfo(C),L((R=F)!==null&&R!==void 0?R:{},C)}}),en(E,"handleClick",function(C){var N=E.getMouseInfo(C);if(N){var L=Ve(Ve({},N),{},{isTooltipActive:!0});E.setState(L),E.triggerSyncEvent(L);var R=E.props.onClick;nn(R)&&R(L,C)}}),en(E,"handleMouseDown",function(C){var N=E.props.onMouseDown;if(nn(N)){var L=E.getMouseInfo(C);N(L,C)}}),en(E,"handleMouseUp",function(C){var N=E.props.onMouseUp;if(nn(N)){var L=E.getMouseInfo(C);N(L,C)}}),en(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),en(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),en(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),en(E,"handleDoubleClick",function(C){var N=E.props.onDoubleClick;if(nn(N)){var L=E.getMouseInfo(C);N(L,C)}}),en(E,"handleContextMenu",function(C){var N=E.props.onContextMenu;if(nn(N)){var L=E.getMouseInfo(C);N(L,C)}}),en(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&kR.emit(NR,E.props.syncId,C,E.eventEmitterSymbol)}),en(E,"applySyncEvent",function(C){var N=E.props,L=N.layout,R=N.syncMethod,F=E.state.updateId,j=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(Ve({dataStartIndex:j,dataEndIndex:D},p({props:E.props,dataStartIndex:j,dataEndIndex:D,updateId:F},E.state)));else if(C.activeTooltipIndex!==void 0){var W=C.chartX,V=C.chartY,Z=C.activeTooltipIndex,J=E.state,K=J.offset,$=J.tooltipTicks;if(!K)return;if(typeof R=="function")Z=R($,C);else if(R==="value"){Z=-1;for(var te=0;te<$.length;te++)if($[te].value===C.activeLabel){Z=te;break}}var Q=Ve(Ve({},K),{},{x:K.left,y:K.top}),X=Math.min(W,Q.x+Q.width),B=Math.min(V,Q.y+Q.height),G=$[Z]&&$[Z].value,ne=i8(E.state,E.props.data,Z),ie=$[Z]?{x:L==="horizontal"?$[Z].coordinate:X,y:L==="horizontal"?B:$[Z].coordinate}:rle;E.setState(Ve(Ve({},C),{},{activeLabel:G,activeCoordinate:ie,activePayload:ne,activeTooltipIndex:Z}))}else E.setState(C)}),en(E,"renderCursor",function(C){var N,L=E.state,R=L.isTooltipActive,F=L.activeCoordinate,j=L.activePayload,D=L.offset,W=L.activeTooltipIndex,V=L.tooltipAxisBandSize,Z=E.getTooltipEventType(),J=(N=C.props.active)!==null&&N!==void 0?N:R,K=E.props.layout,$=C.key||"_recharts-cursor";return de.createElement(J6e,{key:$,activeCoordinate:F,activePayload:j,activeTooltipIndex:W,chartName:t,element:C,isActive:J,layout:K,offset:D,tooltipAxisBandSize:V,tooltipEventType:Z})}),en(E,"renderPolarAxis",function(C,N,L){var R=rc(C,"type.axisType"),F=rc(E.state,"".concat(R,"Map")),j=C.type.defaultProps,D=j!==void 0?Ve(Ve({},j),C.props):C.props,W=F&&F[D["".concat(R,"Id")]];return U.cloneElement(C,Ve(Ve({},W),{},{className:Kt(R,W.className),key:C.key||"".concat(N,"-").concat(L),ticks:sp(W,!0)}))}),en(E,"renderPolarGrid",function(C){var N=C.props,L=N.radialLines,R=N.polarAngles,F=N.polarRadius,j=E.state,D=j.radiusAxisMap,W=j.angleAxisMap,V=mm(D),Z=mm(W),J=Z.cx,K=Z.cy,$=Z.innerRadius,te=Z.outerRadius;return U.cloneElement(C,{polarAngles:Array.isArray(R)?R:sp(Z,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(F)?F:sp(V,!0).map(function(Q){return Q.coordinate}),cx:J,cy:K,innerRadius:$,outerRadius:te,key:C.key||"polar-grid",radialLines:L})}),en(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,N=E.props,L=N.children,R=N.width,F=N.height,j=E.props.margin||{},D=R-(j.left||0)-(j.right||0),W=Mae({children:L,formattedGraphicalItems:C,legendWidth:D,legendContent:c});if(!W)return null;var V=W.item,Z=IX(W,Z6e);return U.cloneElement(V,Ve(Ve({},Z),{},{chartWidth:R,chartHeight:F,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),en(E,"renderTooltip",function(){var C,N=E.props,L=N.children,R=N.accessibilityLayer,F=Kl(L,Yl);if(!F)return null;var j=E.state,D=j.isTooltipActive,W=j.activeCoordinate,V=j.activePayload,Z=j.activeLabel,J=j.offset,K=(C=F.props.active)!==null&&C!==void 0?C:D;return U.cloneElement(F,{viewBox:Ve(Ve({},J),{},{x:J.left,y:J.top}),active:K,label:Z,payload:K?V:[],coordinate:W,accessibilityLayer:R})}),en(E,"renderBrush",function(C){var N=E.props,L=N.margin,R=N.data,F=E.state,j=F.offset,D=F.dataStartIndex,W=F.dataEndIndex,V=F.updateId;return U.cloneElement(C,{key:C.key||"_recharts-brush",onChange:iC(E.handleBrushChange,C.props.onChange),data:R,x:tt(C.props.x)?C.props.x:j.left,y:tt(C.props.y)?C.props.y:j.top+j.height+j.brushBottom-(L.bottom||0),width:tt(C.props.width)?C.props.width:j.width,startIndex:D,endIndex:W,updateId:"brush-".concat(V)})}),en(E,"renderReferenceElement",function(C,N,L){if(!C)return null;var R=E,F=R.clipPathId,j=E.state,D=j.xAxisMap,W=j.yAxisMap,V=j.offset,Z=C.type.defaultProps||{},J=C.props,K=J.xAxisId,$=K===void 0?Z.xAxisId:K,te=J.yAxisId,Q=te===void 0?Z.yAxisId:te;return U.cloneElement(C,{key:C.key||"".concat(N,"-").concat(L),xAxis:D[$],yAxis:W[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:F})}),en(E,"renderActivePoints",function(C){var N=C.item,L=C.activePoint,R=C.basePoint,F=C.childIndex,j=C.isRange,D=[],W=N.props.key,V=N.item.type.defaultProps!==void 0?Ve(Ve({},N.item.type.defaultProps),N.item.props):N.item.props,Z=V.activeDot,J=V.dataKey,K=Ve(Ve({index:F,dataKey:J,cx:L.x,cy:L.y,r:4,fill:HB(N.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Bt(Z,!1)),tT(Z));return D.push(b.renderActiveDot(Z,K,"".concat(W,"-activePoint-").concat(F))),R?D.push(b.renderActiveDot(Z,Ve(Ve({},K),{},{cx:R.x,cy:R.y}),"".concat(W,"-basePoint-").concat(F))):j&&D.push(null),D}),en(E,"renderGraphicChild",function(C,N,L){var R=E.filterFormatItem(C,N,L);if(!R)return null;var F=E.getTooltipEventType(),j=E.state,D=j.isTooltipActive,W=j.tooltipAxis,V=j.activeTooltipIndex,Z=j.activeLabel,J=E.props.children,K=Kl(J,Yl),$=R.props,te=$.points,Q=$.isRange,X=$.baseLine,B=R.item.type.defaultProps!==void 0?Ve(Ve({},R.item.type.defaultProps),R.item.props):R.item.props,G=B.activeDot,ne=B.hide,ie=B.activeBar,fe=B.activeShape,he=!!(!ne&&D&&K&&(G||ie||fe)),oe={};F!=="axis"&&K&&K.props.trigger==="click"?oe={onClick:iC(E.handleItemMouseEnter,C.props.onClick)}:F!=="axis"&&(oe={onMouseLeave:iC(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:iC(E.handleItemMouseEnter,C.props.onMouseEnter)});var pe=U.cloneElement(C,Ve(Ve({},R.props),oe));function Se(ut){return typeof W.dataKey=="function"?W.dataKey(ut.payload):null}if(he)if(V>=0){var be,ye;if(W.dataKey&&!W.allowDuplicatedCategory){var Oe=typeof W.dataKey=="function"?Se:"payload.".concat(W.dataKey.toString());be=eT(te,Oe,Z),ye=Q&&X&&eT(X,Oe,Z)}else be=te==null?void 0:te[V],ye=Q&&X&&X[V];if(fe||ie){var Pe=C.props.activeIndex!==void 0?C.props.activeIndex:V;return[U.cloneElement(C,Ve(Ve(Ve({},R.props),oe),{},{activeIndex:Pe})),null,null]}if(!hn(be))return[pe].concat(_x(E.renderActivePoints({item:R,activePoint:be,basePoint:ye,childIndex:V,isRange:Q})))}else{var ge,Ke=(ge=E.getItemByXY(E.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:pe},Xe=Ke.graphicalItem,rt=Xe.item,$e=rt===void 0?C:rt,at=Xe.childIndex,et=Ve(Ve(Ve({},R.props),oe),{},{activeIndex:at});return[U.cloneElement($e,et),null,null]}return Q?[pe,null,null]:[pe,null]}),en(E,"renderCustomized",function(C,N,L){return U.cloneElement(C,Ve(Ve({key:"recharts-customized-".concat(L)},E.props),E.state))}),en(E,"renderMap",{CartesianGrid:{handler:cC,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:cC},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:cC},YAxis:{handler:cC},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=S.id)!==null&&_!==void 0?_:N0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Ise(E.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return u8e(b,w),a8e(b,[{key:"componentDidMount",value:function(){var _,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,P=_.children,E=_.data,C=_.height,N=_.layout,L=Kl(P,Yl);if(L){var R=L.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,j=i8(this.state,E,R,F),D=this.state.tooltipTicks[R].coordinate,W=(this.state.offset.top+C)/2,V=N==="horizontal",Z=V?{x:D,y:W}:{y:D,x:W},J=this.state.formattedGraphicalItems.find(function($){var te=$.item;return te.type.name==="Scatter"});J&&(Z=Ve(Ve({},Z),J.props.points[R].tooltipPosition),j=J.props.points[R].tooltipPayload);var K={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:j,activeCoordinate:Z};this.setState(K),this.renderCursor(L),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){BD([Kl(_.children,Yl)],[Kl(this.props.children,Yl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Kl(this.props.children,Yl);if(_&&typeof _.props.shared=="boolean"){var P=_.props.shared?"axis":"item";return o.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),C=CTe(E),N={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},L=E.width/P.offsetWidth||1,R=this.inRange(N.chartX,N.chartY,L);if(!R)return null;var F=this.state,j=F.xAxisMap,D=F.yAxisMap,W=this.getTooltipEventType(),V=DX(this.state,this.props.data,this.props.layout,R);if(W!=="axis"&&j&&D){var Z=mm(j).scale,J=mm(D).scale,K=Z&&Z.invert?Z.invert(N.chartX):null,$=J&&J.invert?J.invert(N.chartY):null;return Ve(Ve({},N),{},{xValue:K,yValue:$},V)}return V?Ve(Ve({},N),V):null}},{key:"inRange",value:function(_,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,N=_/E,L=P/E;if(C==="horizontal"||C==="vertical"){var R=this.state.offset,F=N>=R.left&&N<=R.left+R.width&&L>=R.top&&L<=R.top+R.height;return F?{x:N,y:L}:null}var j=this.state,D=j.angleAxisMap,W=j.radiusAxisMap;if(D&&W){var V=mm(D);return DG({x:N,y:L},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,P=this.getTooltipEventType(),E=Kl(_,Yl),C={};E&&P==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=tT(this.props,this.handleOuterEvent);return Ve(Ve({},N),C)}},{key:"addListener",value:function(){kR.on(NR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kR.removeListener(NR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,P,E){for(var C=this.state.formattedGraphicalItems,N=0,L=C.length;N<L;N++){var R=C[N];if(R.item===_||R.props.key===_.key||P===lp(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,P=this.state.offset,E=P.left,C=P.top,N=P.height,L=P.width;return de.createElement("defs",null,de.createElement("clipPath",{id:_},de.createElement("rect",{x:E,y:C,height:N,width:L})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(P,E){var C=RX(E,2),N=C[0],L=C[1];return Ve(Ve({},P),{},en({},N,L.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(P,E){var C=RX(E,2),N=C[0],L=C[1];return Ve(Ve({},P),{},en({},N,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(_){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(_){var P=this.state,E=P.formattedGraphicalItems,C=P.activeItem;if(E&&E.length)for(var N=0,L=E.length;N<L;N++){var R=E[N],F=R.props,j=R.item,D=j.type.defaultProps!==void 0?Ve(Ve({},j.type.defaultProps),j.props):j.props,W=lp(j.type);if(W==="Bar"){var V=(F.data||[]).find(function($){return zLe(_,$)});if(V)return{graphicalItem:R,payload:V}}else if(W==="RadialBar"){var Z=(F.data||[]).find(function($){return DG(_,$)});if(Z)return{graphicalItem:R,payload:Z}}else if(jN(R,C)||LN(R,C)||pS(R,C)){var J=dIe({graphicalItem:R,activeTooltipItem:C,itemData:D.data}),K=D.activeIndex===void 0?J:D.activeIndex;return{graphicalItem:Ve(Ve({},R),{},{childIndex:K}),payload:pS(R,C)?D.data[J]:R.props.data[J]}}}return null}},{key:"render",value:function(){var _=this;if(!Xz(this))return null;var P=this.props,E=P.children,C=P.className,N=P.width,L=P.height,R=P.style,F=P.compact,j=P.title,D=P.desc,W=IX(P,Q6e),V=Bt(W,!1);if(F)return de.createElement(hX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(qD,G1({},V,{width:N,height:L,title:j,desc:D}),this.renderClipPath(),Jz(E,this.renderMap)));if(this.props.accessibilityLayer){var Z,J;V.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,V.role=(J=this.props.role)!==null&&J!==void 0?J:"application",V.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},V.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return de.createElement(hX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",G1({className:Kt("recharts-wrapper",C),style:Ve({position:"relative",cursor:"default",width:N,height:L},R)},K,{ref:function(te){_.container=te}}),de.createElement(qD,G1({},V,{width:N,height:L,title:j,desc:D,style:g8e}),this.renderClipPath(),Jz(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(U.Component);en(x,"displayName",t),en(x,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),en(x,"getDerivedStateFromProps",function(w,b){var S=w.dataKey,_=w.data,P=w.children,E=w.width,C=w.height,N=w.layout,L=w.stackOffset,R=w.margin,F=b.dataStartIndex,j=b.dataEndIndex;if(b.updateId===void 0){var D=FX(w);return Ve(Ve(Ve({},D),{},{updateId:0},p(Ve(Ve({props:w},D),{},{updateId:0}),b)),{},{prevDataKey:S,prevData:_,prevWidth:E,prevHeight:C,prevLayout:N,prevStackOffset:L,prevMargin:R,prevChildren:P})}if(S!==b.prevDataKey||_!==b.prevData||E!==b.prevWidth||C!==b.prevHeight||N!==b.prevLayout||L!==b.prevStackOffset||!cb(R,b.prevMargin)){var W=FX(w),V={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},Z=Ve(Ve({},DX(b,_,N)),{},{updateId:b.updateId+1}),J=Ve(Ve(Ve({},W),V),Z);return Ve(Ve(Ve({},J),p(Ve({props:w},J),b)),{},{prevDataKey:S,prevData:_,prevWidth:E,prevHeight:C,prevLayout:N,prevStackOffset:L,prevMargin:R,prevChildren:P})}if(!BD(P,b.prevChildren)){var K,$,te,Q,X=Kl(P,fx),B=X&&(K=($=X.props)===null||$===void 0?void 0:$.startIndex)!==null&&K!==void 0?K:F,G=X&&(te=(Q=X.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&te!==void 0?te:j,ne=B!==F||G!==j,ie=!hn(_),fe=ie&&!ne?b.updateId:b.updateId+1;return Ve(Ve({updateId:fe},p(Ve(Ve({props:w},b),{},{updateId:fe,dataStartIndex:B,dataEndIndex:G}),b)),{},{prevChildren:P,dataStartIndex:B,dataEndIndex:G})}return null}),en(x,"renderActiveDot",function(w,b,S){var _;return U.isValidElement(w)?_=U.cloneElement(w,b):nn(w)?_=w(b):_=de.createElement(M5,b),de.createElement(Mn,{className:"recharts-active-dot",key:S},_)});var y=U.forwardRef(function(b,S){return de.createElement(x,G1({},b,{ref:S}))});return y.displayName=x.displayName,y},C8e=$N({chartName:"LineChart",GraphicalChild:r0,axisComponents:[{axisType:"xAxis",AxisComp:gg},{axisType:"yAxis",AxisComp:vg}],formatAxisMap:WB}),E8e=$N({chartName:"BarChart",GraphicalChild:up,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gg},{axisType:"yAxis",AxisComp:vg}],formatAxisMap:WB}),T8e=$N({chartName:"PieChart",GraphicalChild:Ep,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ON},{axisType:"radiusAxis",AxisComp:kN}],formatAxisMap:rje,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),k8e=$N({chartName:"AreaChart",GraphicalChild:gd,axisComponents:[{axisType:"xAxis",AxisComp:gg},{axisType:"yAxis",AxisComp:vg}],formatAxisMap:WB});function N8e({patients:n,riskAssessments:e}){const[t,r]=U.useState("6months"),[i,s]=U.useState("pdf");function a(P){const E=new Date;let C,N;switch(P){case"today":C=new Date(E),C.setHours(0,0,0,0),N=new Date(E),N.setHours(23,59,59,999);break;case"1month":C=new Date(E.getFullYear(),E.getMonth(),1),N=new Date(E);break;case"3months":C=new Date(E.getFullYear(),E.getMonth()-2,1),N=new Date(E);break;case"6months":C=new Date(E.getFullYear(),E.getMonth()-5,1),N=new Date(E);break;case"1year":C=new Date(E.getFullYear(),E.getMonth()-11,1),N=new Date(E);break}return N.setHours(23,59,59,999),{startDate:C,endDate:N}}const{startDate:o,endDate:l}=a(t),c=U.useMemo(()=>n.filter(P=>{const E=new Date(P.createdAt);return E>=o&&E<=l}),[n,o,l]),u=U.useMemo(()=>e.filter(P=>{const E=new Date(P.date);return E>=o&&E<=l}),[e,o,l]),f=U.useMemo(()=>{const P=new Date,E=new Date(P.getTime()-720*60*60*1e3),C=c.length,N=n.length,L=c.filter($=>new Date($.createdAt)>E).length,R=n.filter($=>$.status==="Ongoing").length,F=n.filter($=>$.status==="Recurrence").length,j=n.filter($=>$.status==="Cancer-Free").length,D=n.filter($=>$.status==="Under Observation").length,W=n.filter($=>$.status==="Deceased").length,V={low:u.filter($=>$.riskLevel==="Low").length,moderate:u.filter($=>$.riskLevel==="Moderate").length,high:u.filter($=>$.riskLevel==="High").length},Z={};u.forEach($=>{$.factors.forEach(te=>{te.includes("Age")&&(Z["Advanced Age"]=(Z["Advanced Age"]||0)+1),(te.includes("Stage IV")||te.includes("Stage III"))&&(Z["Advanced Cancer Stage"]=(Z["Advanced Cancer Stage"]||0)+1),te.includes("Multiple symptoms")&&(Z["Multiple Symptoms"]=(Z["Multiple Symptoms"]||0)+1),te.includes("cancer history")&&(Z["Previous Cancer History"]=(Z["Previous Cancer History"]||0)+1),te.includes("smoker")&&(Z["Smoking History"]=(Z["Smoking History"]||0)+1),te.includes("Comorbidities")&&(Z["Comorbidities Present"]=(Z["Comorbidities Present"]||0)+1),te.includes("Severe symptoms")&&(Z["Severe Symptoms"]=(Z["Severe Symptoms"]||0)+1)})});const J=Object.entries(Z).map(([$,te])=>({factor:$,count:te})).sort(($,te)=>te.count-$.count).slice(0,5),K=$U({start:o,end:l}).map($=>{const te=BU($,1),Q=c.filter(X=>{const B=new Date(X.createdAt);return B>=$&&B<te});return{month:$.toLocaleDateString("en-US",{month:"short",year:"numeric"}),ongoing:Q.filter(X=>X.status==="Ongoing").length,recurrence:Q.filter(X=>X.status==="Recurrence").length,cancerFree:Q.filter(X=>X.status==="Cancer-Free").length}});return{totalPatients:C,countPatients:N,newPatientsThisMonth:L,ongoingPatients:R,recurrenceCases:F,cancerFreePatients:j,underObservation:D,deceased:W,riskDistribution:V,commonRiskFactors:J,monthlyTrends:K}},[c,u,t,l]),h=U.useMemo(()=>[{group:"18-30",min:18,max:30},{group:"31-45",min:31,max:45},{group:"46-60",min:46,max:60},{group:"61-75",min:61,max:75},{group:"75+",min:76,max:150}].map(E=>{const N=c.filter(R=>R.age>=E.min&&R.age<=E.max).map(R=>R.id),L=u.filter(R=>N.includes(R.patientId));return{group:E.group,low:L.filter(R=>R.riskLevel==="Low").length,moderate:L.filter(R=>R.riskLevel==="Moderate").length,high:L.filter(R=>R.riskLevel==="High").length}}),[c,u]),p=U.useMemo(()=>{const P=c.filter(L=>L.gender==="Male").length,E=c.filter(L=>L.gender==="Female").length,C=c.filter(L=>L.gender==="Other").length,N=c.length||1;return{male:{count:P,percentage:Math.round(P/N*100)},female:{count:E,percentage:Math.round(E/N*100)},other:{count:C,percentage:Math.round(C/N*100)}}},[c]),x=U.useMemo(()=>["Low","Moderate","High"].reduce((E,C)=>{const L=u.filter(F=>F.riskLevel===C).map(F=>F.patientId),R=c.filter(F=>L.includes(F.id));if(R.length>0){const F=R.reduce((j,D)=>j+D.age,0);E[C]=(F/R.length).toFixed(1)}else E[C]="N/A";return E},{}),[c,u]),y=U.useMemo(()=>{const P=u.filter(C=>C.riskLevel==="High"),E=[...new Set(P.map(C=>C.patientId))];return c.filter(C=>E.includes(C.id)).slice(0,5)},[c,u]),w={low:"#22c55e",moderate:"#f59e0b",high:"#ef4444"},b=[{name:"Low Risk",value:f.riskDistribution.low,color:w.low},{name:"Moderate Risk",value:f.riskDistribution.moderate,color:w.moderate},{name:"High Risk",value:f.riskDistribution.high,color:w.high}],S=U.useMemo(()=>$U({start:o,end:l}).map(E=>{const C=BU(E,1),N=c.filter(F=>{const j=new Date(F.createdAt);return j>=E&&j<C}).length,L=u.filter(F=>{const j=new Date(F.date);return j>=E&&j<C}).length,R=u.filter(F=>{const j=new Date(F.date);return j>=E&&j<C&&F.riskLevel==="High"}).length;return{month:E.toLocaleDateString("en-US",{month:"short",year:"numeric"}),newPatients:N,assessments:L,highRisk:R}}),[c,u,o,l]),_=P=>{const E=`clinitrack-analytics-${new Date().toISOString().split("T")[0]}.${P}`;console.log(`Generating ${P.toUpperCase()} report: ${E}`),alert(`${P.toUpperCase()} report would be downloaded as: ${E}`)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Analytics Dashboard"}),v.jsx("p",{className:"text-muted-foreground",children:"Comprehensive patient data insights and trends"})]}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs(bo,{value:t,onValueChange:P=>r(P),children:[v.jsx(xo,{className:"w-40",children:v.jsx(wo,{})}),v.jsxs(_o,{children:[v.jsx(Mt,{value:"today",children:"Today"}),v.jsx(Mt,{value:"1month",children:"Last Month"}),v.jsx(Mt,{value:"3months",children:"Last 3 Months"}),v.jsx(Mt,{value:"6months",children:"Last 6 Months"}),v.jsx(Mt,{value:"1year",children:"Last Year"})]})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(Ft,{children:v.jsxs(tn,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Patients"}),v.jsx("p",{className:"text-3xl font-bold",children:f.countPatients})]}),v.jsx(ug,{className:"h-8 w-8 text-blue-500"})]}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["+",f.newPatientsThisMonth," new this month"]})]})}),v.jsx(Ft,{children:v.jsxs(tn,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Ongoing Patients"}),v.jsx("p",{className:"text-3xl font-bold",children:f.ongoingPatients})]}),v.jsx(bd,{className:"h-8 w-8 text-green-500"})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Active treatment cases"})]})}),v.jsx(Ft,{children:v.jsxs(tn,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recurrence Cases"}),v.jsx("p",{className:"text-3xl font-bold",children:f.recurrenceCases})]}),v.jsx(yg,{className:"h-8 w-8 text-orange-500"})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Require immediate attention"})]})}),v.jsx(Ft,{children:v.jsxs(tn,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cancer-Free"}),v.jsx("p",{className:"text-3xl font-bold",children:f.cancerFreePatients})]}),v.jsx(c_,{className:"h-8 w-8 text-teal-500"})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Successfully treated"})]})})]}),v.jsxs(eN,{defaultValue:"overview",className:"space-y-4",children:[v.jsxs(tN,{className:"grid w-full grid-cols-5",children:[v.jsx(Ao,{value:"overview",children:"Overview"}),v.jsx(Ao,{value:"risk",children:"Risk Analysis"}),v.jsx(Ao,{value:"trends",children:"Trends"}),v.jsx(Ao,{value:"demographics",children:"Demographics"}),v.jsx(Ao,{value:"reports",children:"Reports"})]}),v.jsxs(Po,{value:"overview",className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Risk Distribution"}),v.jsx(ai,{children:"Current patient risk levels"})]}),v.jsx(tn,{children:b.some(P=>P.value>0)?v.jsx("div",{className:"h-80",children:v.jsx(QP,{width:"100%",height:"100%",children:v.jsxs(T8e,{children:[v.jsx(Ep,{data:b,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:P,value:E,percent:C})=>`${P}: ${E} (${(C*100).toFixed(0)}%)`,children:b.map((P,E)=>v.jsx(vN,{fill:P.color},`cell-${E}`))}),v.jsx(Yl,{})]})})}):v.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No risk assessment data available"})})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Patient Status Trends"}),v.jsx(ai,{children:"Monthly status distribution"})]}),v.jsx(tn,{children:f.monthlyTrends.some(P=>P.ongoing>0||P.recurrence>0||P.cancerFree>0)?v.jsx("div",{className:"h-80",children:v.jsx(QP,{width:"100%",height:"100%",children:v.jsxs(k8e,{data:f.monthlyTrends,children:[v.jsx(dE,{strokeDasharray:"3 3"}),v.jsx(gg,{dataKey:"month"}),v.jsx(vg,{}),v.jsx(Yl,{}),v.jsx(gd,{type:"monotone",dataKey:"ongoing",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Ongoing"}),v.jsx(gd,{type:"monotone",dataKey:"recurrence",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Recurrence"}),v.jsx(gd,{type:"monotone",dataKey:"cancerFree",stackId:"1",stroke:"#ffc658",fill:"#ffc658",name:"Cancer-Free"})]})})}):v.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No trend data available yet"})})]})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Most Common Risk Factors"}),v.jsx(ai,{children:"Frequently identified risk factors across all assessments"})]}),v.jsx(tn,{children:f.commonRiskFactors.length>0?v.jsx("div",{className:"space-y-4",children:f.commonRiskFactors.map((P,E)=>v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",E+1]}),v.jsx("span",{className:"font-medium",children:P.factor})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-24 bg-muted rounded-full h-2",children:v.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${P.count/f.commonRiskFactors[0].count*100}%`}})}),v.jsx(ir,{variant:"secondary",children:P.count})]})]},P.factor))}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No risk factor data available yet"})})]})]}),v.jsx(Po,{value:"risk",className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Risk Distribution by Age Group"}),v.jsx(ai,{children:"Risk levels across different age demographics"})]}),v.jsx(tn,{children:h.some(P=>P.low>0||P.moderate>0||P.high>0)?v.jsx("div",{className:"h-80",children:v.jsx(QP,{width:"100%",height:"100%",children:v.jsxs(E8e,{data:h,children:[v.jsx(dE,{strokeDasharray:"3 3"}),v.jsx(gg,{dataKey:"group"}),v.jsx(vg,{}),v.jsx(Yl,{}),v.jsx(up,{dataKey:"low",stackId:"a",fill:w.low,name:"Low"}),v.jsx(up,{dataKey:"moderate",stackId:"a",fill:w.moderate,name:"Moderate"}),v.jsx(up,{dataKey:"high",stackId:"a",fill:w.high,name:"High"})]})})}):v.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No age group data available"})})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs($n,{className:"flex items-center space-x-2",children:[v.jsx(yg,{className:"h-5 w-5 text-red-500"}),v.jsx("span",{children:"High Risk Patients"})]}),v.jsx(ai,{children:"Patients requiring immediate attention"})]}),v.jsx(tn,{children:y.length>0?v.jsx("div",{className:"space-y-3",children:y.map(P=>v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:P.name}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.age," years, ",P.gender]})]}),v.jsx(ir,{variant:"destructive",children:"High Risk"})]},P.id))}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No high-risk patients identified"})})]})]})}),v.jsx(Po,{value:"trends",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Monthly Activity Trends"}),v.jsx(ai,{children:"Patient registrations, assessments, and high-risk cases over time"})]}),v.jsx(tn,{children:S.some(P=>P.newPatients>0||P.assessments>0||P.highRisk>0)?v.jsx("div",{className:"h-80",children:v.jsx(QP,{width:"100%",height:"100%",children:v.jsxs(C8e,{data:S,children:[v.jsx(dE,{strokeDasharray:"3 3"}),v.jsx(gg,{dataKey:"month"}),v.jsx(vg,{}),v.jsx(Yl,{}),v.jsx(r0,{type:"monotone",dataKey:"newPatients",stroke:"#8884d8",strokeWidth:2,name:"New Patients"}),v.jsx(r0,{type:"monotone",dataKey:"assessments",stroke:"#82ca9d",strokeWidth:2,name:"Assessments"}),v.jsx(r0,{type:"monotone",dataKey:"highRisk",stroke:"#ff7300",strokeWidth:2,name:"High Risk"})]})})}):v.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No activity trend data available yet"})})]})}),v.jsx(Po,{value:"demographics",className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{children:"Gender Distribution"})}),v.jsx(tn,{children:c.length>0?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Female"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:v.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${p.female.percentage}%`}})}),v.jsxs("span",{className:"text-sm",children:[p.female.percentage,"%"]})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Male"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:v.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${p.male.percentage}%`}})}),v.jsxs("span",{className:"text-sm",children:[p.male.percentage,"%"]})]})]}),p.other.count>0&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Other"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:v.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${p.other.percentage}%`}})}),v.jsxs("span",{className:"text-sm",children:[p.other.percentage,"%"]})]})]})]}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No patient data available"})})]}),v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{children:"Average Age by Risk Level"})}),v.jsx(tn,{children:u.length>0?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Low Risk"}),v.jsxs(ir,{variant:"default",children:[x.Low," years"]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Moderate Risk"}),v.jsxs(ir,{variant:"secondary",children:[x.Moderate," years"]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:"High Risk"}),v.jsxs(ir,{variant:"destructive",children:[x.High," years"]})]})]}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No risk assessment data available"})})]})]})}),v.jsx(Po,{value:"reports",className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsx(Ft,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>_("pdf"),children:v.jsxs(tn,{className:"p-6 text-center",children:[v.jsx(sd,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),v.jsx("h3",{className:"font-medium",children:"Monthly Summary Report"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Comprehensive overview of monthly statistics"}),v.jsxs(zt,{variant:"outline",className:"mt-4",children:[v.jsx(SC,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})}),v.jsx(Ft,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>_("excel"),children:v.jsxs(tn,{className:"p-6 text-center",children:[v.jsx(lme,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),v.jsx("h3",{className:"font-medium",children:"Patient Data Export"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Detailed patient information and metrics"}),v.jsxs(zt,{variant:"outline",className:"mt-4",children:[v.jsx(SC,{className:"h-4 w-4 mr-2"}),"Download Excel"]})]})}),v.jsx(Ft,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>_("csv"),children:v.jsxs(tn,{className:"p-6 text-center",children:[v.jsx(U8,{className:"h-12 w-12 mx-auto text-blue-500 mb-4"}),v.jsx("h3",{className:"font-medium",children:"Risk Assessment Report"}),v.jsx("p",{className:"text-sm text-mute-foreground mt-2",children:"AI risk assessment data and trends"}),v.jsxs(zt,{variant:"outline",className:"mt-4",children:[v.jsx(SC,{className:"h-4 w-4 mr-2"}),"Download CSV"]})]})})]})})]})]})}const O8e="modulepreload",j8e=function(n){return"/"+n},$X={},jR=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(c=>{if(c=j8e(c),c in $X)return;$X[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":O8e,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,x)=>{h.addEventListener("load",p),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Ar(n){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(n)}var Zu=Uint8Array,tc=Uint16Array,n7=Int32Array,r7=new Zu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i7=new Zu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qX=new Zu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sle=function(n,e){for(var t=new tc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new n7(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},ale=sle(r7,2),L8e=ale.b,s8=ale.r;L8e[28]=258,s8[258]=28;var R8e=sle(i7,0),UX=R8e.r,a8=new tc(32768);for(var oi=0;oi<32768;++oi){var om=(oi&43690)>>1|(oi&21845)<<1;om=(om&52428)>>2|(om&13107)<<2,om=(om&61680)>>4|(om&3855)<<4,a8[oi]=((om&65280)>>8|(om&255)<<8)>>1}var __=(function(n,e,t){for(var r=n.length,i=0,s=new tc(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new tc(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new tc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=a[n[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[a8[f]>>l]=c}else for(o=new tc(r),i=0;i<r;++i)n[i]&&(o[i]=a8[a[n[i]-1]++]>>15-n[i]);return o}),A0=new Zu(288);for(var oi=0;oi<144;++oi)A0[oi]=8;for(var oi=144;oi<256;++oi)A0[oi]=9;for(var oi=256;oi<280;++oi)A0[oi]=7;for(var oi=280;oi<288;++oi)A0[oi]=8;var QT=new Zu(32);for(var oi=0;oi<32;++oi)QT[oi]=5;var I8e=__(A0,9,0),M8e=__(QT,5,0),ole=function(n){return(n+7)/8|0},D8e=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Zu(n.subarray(e,t))},dh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},j2=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},LR=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:cle,l:0};if(i==1){var a=new Zu(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(E,C){return E.f-C.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,f=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[f].f?c++:f++],l=t[c!=u&&t[c].f<t[f].f?c++:f++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new tc(h+1),x=o8(t[u-1],p,0);if(x>e){var r=0,y=0,w=x-e,b=1<<w;for(s.sort(function(C,N){return p[N.s]-p[C.s]||C.f-N.f});r<i;++r){var S=s[r].s;if(p[S]>e)y+=b-(1<<x-p[S]),p[S]=e;else break}for(y>>=w;y>0;){var _=s[r].s;p[_]<e?y-=1<<e-p[_]++-1:++r}for(;r>=0&&y;--r){var P=s[r].s;p[P]==e&&(--p[P],++y)}x=e}return{t:new Zu(p),l:x}},o8=function(n,e,t){return n.s==-1?Math.max(o8(n.l,e,t+1),o8(n.r,e,t+1)):e[n.s]=t},zX=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new tc(++e),r=0,i=n[0],s=1,a=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},L2=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},lle=function(n,e,t){var r=t.length,i=ole(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},HX=function(n,e,t,r,i,s,a,o,l,c,u){dh(e,u++,t),++i[256];for(var f=LR(i,15),h=f.t,p=f.l,x=LR(s,15),y=x.t,w=x.l,b=zX(h),S=b.c,_=b.n,P=zX(y),E=P.c,C=P.n,N=new tc(19),L=0;L<S.length;++L)++N[S[L]&31];for(var L=0;L<E.length;++L)++N[E[L]&31];for(var R=LR(N,7),F=R.t,j=R.l,D=19;D>4&&!F[qX[D-1]];--D);var W=c+5<<3,V=L2(i,A0)+L2(s,QT)+a,Z=L2(i,h)+L2(s,y)+a+14+3*D+L2(N,F)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&W<=V&&W<=Z)return lle(e,u,n.subarray(l,l+c));var J,K,$,te;if(dh(e,u,1+(Z<V)),u+=2,Z<V){J=__(h,p,0),K=h,$=__(y,w,0),te=y;var Q=__(F,j,0);dh(e,u,_-257),dh(e,u+5,C-1),dh(e,u+10,D-4),u+=14;for(var L=0;L<D;++L)dh(e,u+3*L,F[qX[L]]);u+=3*D;for(var X=[S,E],B=0;B<2;++B)for(var G=X[B],L=0;L<G.length;++L){var ne=G[L]&31;dh(e,u,Q[ne]),u+=F[ne],ne>15&&(dh(e,u,G[L]>>5&127),u+=G[L]>>12)}}else J=I8e,K=A0,$=M8e,te=QT;for(var L=0;L<o;++L){var ie=r[L];if(ie>255){var ne=ie>>18&31;j2(e,u,J[ne+257]),u+=K[ne+257],ne>7&&(dh(e,u,ie>>23&31),u+=r7[ne]);var fe=ie&31;j2(e,u,$[fe]),u+=te[fe],fe>3&&(j2(e,u,ie>>5&8191),u+=i7[fe])}else j2(e,u,J[ie]),u+=K[ie]}return j2(e,u,J[256]),u+K[256]},F8e=new n7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cle=new Zu(0),B8e=function(n,e,t,r,i,s){var a=s.z||n.length,o=new Zu(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var f=F8e[e-1],h=f>>13,p=f&8191,x=(1<<t)-1,y=s.p||new tc(32768),w=s.h||new tc(x+1),b=Math.ceil(t/3),S=2*b,_=function(Pe){return(n[Pe]^n[Pe+1]<<b^n[Pe+2]<<S)&x},P=new n7(25e3),E=new tc(288),C=new tc(32),N=0,L=0,R=s.i||0,F=0,j=s.w||0,D=0;R+2<a;++R){var W=_(R),V=R&32767,Z=w[W];if(y[V]=Z,w[W]=V,j<=R){var J=a-R;if((N>7e3||F>24576)&&(J>423||!c)){u=HX(n,l,0,P,E,C,L,F,D,R-D,u),F=N=L=0,D=R;for(var K=0;K<286;++K)E[K]=0;for(var K=0;K<30;++K)C[K]=0}var $=2,te=0,Q=p,X=V-Z&32767;if(J>2&&W==_(R-X))for(var B=Math.min(h,J)-1,G=Math.min(32767,R),ne=Math.min(258,J);X<=G&&--Q&&V!=Z;){if(n[R+$]==n[R+$-X]){for(var ie=0;ie<ne&&n[R+ie]==n[R+ie-X];++ie);if(ie>$){if($=ie,te=X,ie>B)break;for(var fe=Math.min(X,ie-2),he=0,K=0;K<fe;++K){var oe=R-X+K&32767,pe=y[oe],Se=oe-pe&32767;Se>he&&(he=Se,Z=oe)}}}V=Z,Z=y[V],X+=V-Z&32767}if(te){P[F++]=268435456|s8[$]<<18|UX[te];var be=s8[$]&31,ye=UX[te]&31;L+=r7[be]+i7[ye],++E[257+be],++C[ye],j=R+$,++N}else P[F++]=n[R],++E[n[R]]}}for(R=Math.max(R,j);R<a;++R)P[F++]=n[R],++E[n[R]];u=HX(n,l,c,P,E,C,L,F,D,R-D,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=w,s.p=y,s.i=R,s.w=j)}else{for(var R=s.w||0;R<a+c;R+=65535){var Oe=R+65535;Oe>=a&&(l[u/8|0]=c,Oe=a),u=lle(l,u+1,n.subarray(R,Oe))}s.i=a}return D8e(o,0,r+ole(u)+i)},ule=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},$8e=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Zu(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return B8e(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},fle=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},q8e=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=ule();i.p(e.dictionary),fle(n,2,i.d())}};function l8(n,e){e||(e={});var t=ule();t.p(n);var r=$8e(n,e,e.dictionary?6:2,4);return q8e(r,e),fle(r,r.length-4,t.d()),r}var U8e=typeof TextDecoder<"u"&&new TextDecoder,z8e=0;try{U8e.decode(cle,{stream:!0}),z8e=1}catch{}function H8e(n){if(Array.isArray(n))return n}function V8e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function VX(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function W8e(n,e){if(n){if(typeof n=="string")return VX(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?VX(n,e):void 0}}function G8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WX(n,e){return H8e(n)||V8e(n,e)||W8e(n,e)||G8e()}function GX(n,e="utf8"){return new TextDecoder(e).decode(n)}const K8e=new TextEncoder;function X8e(n){return K8e.encode(n)}const Y8e=1024*8,J8e=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),RR={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class s7{constructor(e=Y8e,t={}){He(this,"buffer");He(this,"byteLength");He(this,"byteOffset");He(this,"length");He(this,"offset");He(this,"lastWrittenByte");He(this,"littleEndian");He(this,"_data");He(this,"_mark");He(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof s7)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=RR[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===J8e&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new RR[t](o.buffer);return this.offset+=r,l.reverse(),l}const a=new RR[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return GX(this.readBytes(e))}decodeText(e=1,t="utf8"){return GX(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(X8e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qx(n){let e=n.length;for(;--e>=0;)n[e]=0}const Z8e=3,Q8e=258,dle=29,eFe=256,tFe=eFe+1+dle,hle=30,nFe=512,rFe=new Array((tFe+2)*2);qx(rFe);const iFe=new Array(hle*2);qx(iFe);const sFe=new Array(nFe);qx(sFe);const aFe=new Array(Q8e-Z8e+1);qx(aFe);const oFe=new Array(dle);qx(oFe);const lFe=new Array(hle);qx(lFe);const cFe=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var c8=cFe;const uFe=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},fFe=new Uint32Array(uFe()),dFe=(n,e,t,r)=>{const i=fFe,s=r+t;n^=-1;for(let a=r;a<s;a++)n=n>>>8^i[(n^e[a])&255];return n^-1};var Ef=dFe,u8={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ple={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const hFe=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var pFe=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)hFe(t,r)&&(n[r]=t[r])}}return n},mFe=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let a=n[r];t.set(a,i),i+=a.length}return t},mle={assign:pFe,flattenChunks:mFe};let gle=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gle=!1}const xS=new Uint8Array(256);for(let n=0;n<256;n++)xS[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;xS[254]=xS[254]=1;var gFe=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,a=n.length,o=0;for(i=0;i<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const vFe=(n,e)=>{if(e<65534&&n.subarray&&gle)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var yFe=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let a=n[r++];if(a<128){s[i++]=a;continue}let o=xS[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|n[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return vFe(s,i)},bFe=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+xS[n[t]]>e?t:e},f8={string2buf:gFe,buf2string:yFe,utf8border:bFe};function wFe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xFe=wFe;const uC=16209,_Fe=16191;var SFe=function(e,t){let r,i,s,a,o,l,c,u,f,h,p,x,y,w,b,S,_,P,E,C,N,L,R,F;const j=e.state;r=e.next_in,R=e.input,i=r+(e.avail_in-5),s=e.next_out,F=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=j.dmax,c=j.wsize,u=j.whave,f=j.wnext,h=j.window,p=j.hold,x=j.bits,y=j.lencode,w=j.distcode,b=(1<<j.lenbits)-1,S=(1<<j.distbits)-1;e:do{x<15&&(p+=R[r++]<<x,x+=8,p+=R[r++]<<x,x+=8),_=y[p&b];t:for(;;){if(P=_>>>24,p>>>=P,x-=P,P=_>>>16&255,P===0)F[s++]=_&65535;else if(P&16){E=_&65535,P&=15,P&&(x<P&&(p+=R[r++]<<x,x+=8),E+=p&(1<<P)-1,p>>>=P,x-=P),x<15&&(p+=R[r++]<<x,x+=8,p+=R[r++]<<x,x+=8),_=w[p&S];n:for(;;){if(P=_>>>24,p>>>=P,x-=P,P=_>>>16&255,P&16){if(C=_&65535,P&=15,x<P&&(p+=R[r++]<<x,x+=8,x<P&&(p+=R[r++]<<x,x+=8)),C+=p&(1<<P)-1,C>l){e.msg="invalid distance too far back",j.mode=uC;break e}if(p>>>=P,x-=P,P=s-a,C>P){if(P=C-P,P>u&&j.sane){e.msg="invalid distance too far back",j.mode=uC;break e}if(N=0,L=h,f===0){if(N+=c-P,P<E){E-=P;do F[s++]=h[N++];while(--P);N=s-C,L=F}}else if(f<P){if(N+=c+f-P,P-=f,P<E){E-=P;do F[s++]=h[N++];while(--P);if(N=0,f<E){P=f,E-=P;do F[s++]=h[N++];while(--P);N=s-C,L=F}}}else if(N+=f-P,P<E){E-=P;do F[s++]=h[N++];while(--P);N=s-C,L=F}for(;E>2;)F[s++]=L[N++],F[s++]=L[N++],F[s++]=L[N++],E-=3;E&&(F[s++]=L[N++],E>1&&(F[s++]=L[N++]))}else{N=s-C;do F[s++]=F[N++],F[s++]=F[N++],F[s++]=F[N++],E-=3;while(E>2);E&&(F[s++]=F[N++],E>1&&(F[s++]=F[N++]))}}else if((P&64)===0){_=w[(_&65535)+(p&(1<<P)-1)];continue n}else{e.msg="invalid distance code",j.mode=uC;break e}break}}else if((P&64)===0){_=y[(_&65535)+(p&(1<<P)-1)];continue t}else if(P&32){j.mode=_Fe;break e}else{e.msg="invalid literal/length code",j.mode=uC;break e}break}}while(r<i&&s<o);E=x>>3,r-=E,x-=E<<3,p&=(1<<x)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),j.hold=p,j.bits=x};const A1=15,KX=852,XX=592,YX=0,IR=1,JX=2,AFe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PFe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CFe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),EFe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),TFe=(n,e,t,r,i,s,a,o)=>{const l=o.bits;let c=0,u=0,f=0,h=0,p=0,x=0,y=0,w=0,b=0,S=0,_,P,E,C,N,L=null,R;const F=new Uint16Array(A1+1),j=new Uint16Array(A1+1);let D=null,W,V,Z;for(c=0;c<=A1;c++)F[c]=0;for(u=0;u<r;u++)F[e[t+u]]++;for(p=l,h=A1;h>=1&&F[h]===0;h--);if(p>h&&(p=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&F[f]===0;f++);for(p<f&&(p=f),w=1,c=1;c<=A1;c++)if(w<<=1,w-=F[c],w<0)return-1;if(w>0&&(n===YX||h!==1))return-1;for(j[1]=0,c=1;c<A1;c++)j[c+1]=j[c]+F[c];for(u=0;u<r;u++)e[t+u]!==0&&(a[j[e[t+u]]++]=u);if(n===YX?(L=D=a,R=20):n===IR?(L=AFe,D=PFe,R=257):(L=CFe,D=EFe,R=0),S=0,u=0,c=f,N=s,x=p,y=0,E=-1,b=1<<p,C=b-1,n===IR&&b>KX||n===JX&&b>XX)return 1;for(;;){W=c-y,a[u]+1<R?(V=0,Z=a[u]):a[u]>=R?(V=D[a[u]-R],Z=L[a[u]-R]):(V=96,Z=0),_=1<<c-y,P=1<<x,f=P;do P-=_,i[N+(S>>y)+P]=W<<24|V<<16|Z|0;while(P!==0);for(_=1<<c-1;S&_;)_>>=1;if(_!==0?(S&=_-1,S+=_):S=0,u++,--F[c]===0){if(c===h)break;c=e[t+a[u]]}if(c>p&&(S&C)!==E){for(y===0&&(y=p),N+=f,x=c-y,w=1<<x;x+y<h&&(w-=F[x+y],!(w<=0));)x++,w<<=1;if(b+=1<<x,n===IR&&b>KX||n===JX&&b>XX)return 1;E=S&C,i[E]=p<<24|x<<16|N-s|0}}return S!==0&&(i[N+S]=c-y<<24|64<<16|0),o.bits=p,0};var S_=TFe;const kFe=0,vle=1,yle=2,{Z_FINISH:ZX,Z_BLOCK:NFe,Z_TREES:fC,Z_OK:P0,Z_STREAM_END:OFe,Z_NEED_DICT:jFe,Z_STREAM_ERROR:Qc,Z_DATA_ERROR:ble,Z_MEM_ERROR:wle,Z_BUF_ERROR:LFe,Z_DEFLATED:QX}=ple,qN=16180,eY=16181,tY=16182,nY=16183,rY=16184,iY=16185,sY=16186,aY=16187,oY=16188,lY=16189,ek=16190,hh=16191,MR=16192,cY=16193,DR=16194,uY=16195,fY=16196,dY=16197,hY=16198,dC=16199,hC=16200,pY=16201,mY=16202,gY=16203,vY=16204,yY=16205,FR=16206,bY=16207,wY=16208,mi=16209,xle=16210,_le=16211,RFe=852,IFe=592,MFe=15,DFe=MFe,xY=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function FFe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const R0=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<qN||e.mode>_le?1:0},Sle=n=>{if(R0(n))return Qc;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=qN,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(RFe),e.distcode=e.distdyn=new Int32Array(IFe),e.sane=1,e.back=-1,P0},Ale=n=>{if(R0(n))return Qc;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Sle(n)},Ple=(n,e)=>{let t;if(R0(n))return Qc;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Ale(n))},Cle=(n,e)=>{if(!n)return Qc;const t=new FFe;n.state=t,t.strm=n,t.window=null,t.mode=qN;const r=Ple(n,e);return r!==P0&&(n.state=null),r},BFe=n=>Cle(n,DFe);let _Y=!0,BR,$R;const $Fe=n=>{if(_Y){BR=new Int32Array(512),$R=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(S_(vle,n.lens,0,288,BR,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;S_(yle,n.lens,0,32,$R,0,n.work,{bits:5}),_Y=!1}n.lencode=BR,n.lenbits=9,n.distcode=$R,n.distbits=5},Ele=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},qFe=(n,e)=>{let t,r,i,s,a,o,l,c,u,f,h,p,x,y,w=0,b,S,_,P,E,C,N,L;const R=new Uint8Array(4);let F,j;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(R0(n)||!n.output||!n.input&&n.avail_in!==0)return Qc;t=n.state,t.mode===hh&&(t.mode=MR),a=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,c=t.hold,u=t.bits,f=o,h=l,L=P0;e:for(;;)switch(t.mode){case qN:if(t.wrap===0){t.mode=MR;break}for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=c&255,R[1]=c>>>8&255,t.check=Ef(t.check,R,2,0),c=0,u=0,t.mode=eY;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=mi;break}if((c&15)!==QX){n.msg="unknown compression method",t.mode=mi;break}if(c>>>=4,u-=4,N=(c&15)+8,t.wbits===0&&(t.wbits=N),N>15||N>t.wbits){n.msg="invalid window size",t.mode=mi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?lY:hh,c=0,u=0;break;case eY:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==QX){n.msg="unknown compression method",t.mode=mi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=mi;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,t.check=Ef(t.check,R,2,0)),c=0,u=0,t.mode=tY;case tY:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,t.check=Ef(t.check,R,4,0)),c=0,u=0,t.mode=nY;case nY:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,t.check=Ef(t.check,R,2,0)),c=0,u=0,t.mode=rY;case rY:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,t.check=Ef(t.check,R,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=iY;case iY:if(t.flags&1024&&(p=t.length,p>o&&(p=o),p&&(t.head&&(N=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+p),N)),t.flags&512&&t.wrap&4&&(t.check=Ef(t.check,r,p,s)),o-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=sY;case sY:if(t.flags&2048){if(o===0)break e;p=0;do N=r[s+p++],t.head&&N&&t.length<65536&&(t.head.name+=String.fromCharCode(N));while(N&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Ef(t.check,r,p,s)),o-=p,s+=p,N)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=aY;case aY:if(t.flags&4096){if(o===0)break e;p=0;do N=r[s+p++],t.head&&N&&t.length<65536&&(t.head.comment+=String.fromCharCode(N));while(N&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Ef(t.check,r,p,s)),o-=p,s+=p,N)break e}else t.head&&(t.head.comment=null);t.mode=oY;case oY:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=mi;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=hh;break;case lY:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.adler=t.check=xY(c),c=0,u=0,t.mode=ek;case ek:if(t.havedict===0)return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=u,jFe;n.adler=t.check=1,t.mode=hh;case hh:if(e===NFe||e===fC)break e;case MR:if(t.last){c>>>=u&7,u-=u&7,t.mode=FR;break}for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=cY;break;case 1:if($Fe(t),t.mode=dC,e===fC){c>>>=2,u-=2;break e}break;case 2:t.mode=fY;break;case 3:n.msg="invalid block type",t.mode=mi}c>>>=2,u-=2;break;case cY:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=mi;break}if(t.length=c&65535,c=0,u=0,t.mode=DR,e===fC)break e;case DR:t.mode=uY;case uY:if(p=t.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,t.length-=p;break}t.mode=hh;break;case fY:for(;u<14;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=mi;break}t.have=0,t.mode=dY;case dY:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.lens[D[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},L=S_(kFe,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,L){n.msg="invalid code lengths set",t.mode=mi;break}t.have=0,t.mode=hY;case hY:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[c&(1<<t.lenbits)-1],b=w>>>24,S=w>>>16&255,_=w&65535,!(b<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(_<16)c>>>=b,u-=b,t.lens[t.have++]=_;else{if(_===16){for(j=b+2;u<j;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(c>>>=b,u-=b,t.have===0){n.msg="invalid bit length repeat",t.mode=mi;break}N=t.lens[t.have-1],p=3+(c&3),c>>>=2,u-=2}else if(_===17){for(j=b+3;u<j;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,N=0,p=3+(c&7),c>>>=3,u-=3}else{for(j=b+7;u<j;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=b,u-=b,N=0,p=11+(c&127),c>>>=7,u-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=mi;break}for(;p--;)t.lens[t.have++]=N}}if(t.mode===mi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=mi;break}if(t.lenbits=9,F={bits:t.lenbits},L=S_(vle,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,L){n.msg="invalid literal/lengths set",t.mode=mi;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},L=S_(yle,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,L){n.msg="invalid distances set",t.mode=mi;break}if(t.mode=dC,e===fC)break e;case dC:t.mode=hC;case hC:if(o>=6&&l>=258){n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=u,SFe(n,h),a=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,c=t.hold,u=t.bits,t.mode===hh&&(t.back=-1);break}for(t.back=0;w=t.lencode[c&(1<<t.lenbits)-1],b=w>>>24,S=w>>>16&255,_=w&65535,!(b<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(S&&(S&240)===0){for(P=b,E=S,C=_;w=t.lencode[C+((c&(1<<P+E)-1)>>P)],b=w>>>24,S=w>>>16&255,_=w&65535,!(P+b<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=P,u-=P,t.back+=P}if(c>>>=b,u-=b,t.back+=b,t.length=_,S===0){t.mode=yY;break}if(S&32){t.back=-1,t.mode=hh;break}if(S&64){n.msg="invalid literal/length code",t.mode=mi;break}t.extra=S&15,t.mode=pY;case pY:if(t.extra){for(j=t.extra;u<j;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=mY;case mY:for(;w=t.distcode[c&(1<<t.distbits)-1],b=w>>>24,S=w>>>16&255,_=w&65535,!(b<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if((S&240)===0){for(P=b,E=S,C=_;w=t.distcode[C+((c&(1<<P+E)-1)>>P)],b=w>>>24,S=w>>>16&255,_=w&65535,!(P+b<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=P,u-=P,t.back+=P}if(c>>>=b,u-=b,t.back+=b,S&64){n.msg="invalid distance code",t.mode=mi;break}t.offset=_,t.extra=S&15,t.mode=gY;case gY:if(t.extra){for(j=t.extra;u<j;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=mi;break}t.mode=vY;case vY:if(l===0)break e;if(p=h-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=mi;break}p>t.wnext?(p-=t.wnext,x=t.wsize-p):x=t.wnext-p,p>t.length&&(p=t.length),y=t.window}else y=i,x=a-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do i[a++]=y[x++];while(--p);t.length===0&&(t.mode=hC);break;case yY:if(l===0)break e;i[a++]=t.length,l--,t.mode=hC;break;case FR:if(t.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[s++]<<u,u+=8}if(h-=l,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?Ef(t.check,i,h,a-h):c8(t.check,i,h,a-h)),h=l,t.wrap&4&&(t.flags?c:xY(c))!==t.check){n.msg="incorrect data check",t.mode=mi;break}c=0,u=0}t.mode=bY;case bY:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=mi;break}c=0,u=0}t.mode=wY;case wY:L=OFe;break e;case mi:L=ble;break e;case xle:return wle;case _le:default:return Qc}return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=u,(t.wsize||h!==n.avail_out&&t.mode<mi&&(t.mode<FR||e!==ZX))&&Ele(n,n.output,n.next_out,h-n.avail_out),f-=n.avail_in,h-=n.avail_out,n.total_in+=f,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?Ef(t.check,i,h,n.next_out-h):c8(t.check,i,h,n.next_out-h)),n.data_type=t.bits+(t.last?64:0)+(t.mode===hh?128:0)+(t.mode===dC||t.mode===DR?256:0),(f===0&&h===0||e===ZX)&&L===P0&&(L=LFe),L},UFe=n=>{if(R0(n))return Qc;let e=n.state;return e.window&&(e.window=null),n.state=null,P0},zFe=(n,e)=>{if(R0(n))return Qc;const t=n.state;return(t.wrap&2)===0?Qc:(t.head=e,e.done=!1,P0)},HFe=(n,e)=>{const t=e.length;let r,i,s;return R0(n)||(r=n.state,r.wrap!==0&&r.mode!==ek)?Qc:r.mode===ek&&(i=1,i=c8(i,e,t,0),i!==r.check)?ble:(s=Ele(n,e,t,t),s?(r.mode=xle,wle):(r.havedict=1,P0))};var VFe=Ale,WFe=Ple,GFe=Sle,KFe=BFe,XFe=Cle,YFe=qFe,JFe=UFe,ZFe=zFe,QFe=HFe,eBe="pako inflate (from Nodeca project)",wh={inflateReset:VFe,inflateReset2:WFe,inflateResetKeep:GFe,inflateInit:KFe,inflateInit2:XFe,inflate:YFe,inflateEnd:JFe,inflateGetHeader:ZFe,inflateSetDictionary:QFe,inflateInfo:eBe};function tBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nBe=tBe;const Tle=Object.prototype.toString,{Z_NO_FLUSH:rBe,Z_FINISH:iBe,Z_OK:_S,Z_STREAM_END:qR,Z_NEED_DICT:UR,Z_STREAM_ERROR:sBe,Z_DATA_ERROR:SY,Z_MEM_ERROR:aBe}=ple;function D5(n){this.options=mle.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xFe,this.strm.avail_out=0;let t=wh.inflateInit2(this.strm,e.windowBits);if(t!==_S)throw new Error(u8[t]);if(this.header=new nBe,wh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=f8.string2buf(e.dictionary):Tle.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=wh.inflateSetDictionary(this.strm,e.dictionary),t!==_S)))throw new Error(u8[t])}D5.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?iBe:rBe,Tle.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=wh.inflate(t,a),s===UR&&i&&(s=wh.inflateSetDictionary(t,i),s===_S?s=wh.inflate(t,a):s===SY&&(s=UR));t.avail_in>0&&s===qR&&t.state.wrap>0&&n[t.next_in]!==0;)wh.inflateReset(t),s=wh.inflate(t,a);switch(s){case sBe:case SY:case UR:case aBe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===qR))if(this.options.to==="string"){let l=f8.utf8border(t.output,t.next_out),c=t.next_out-l,u=f8.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===_S&&o===0)){if(s===qR)return s=wh.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};D5.prototype.onData=function(n){this.chunks.push(n)};D5.prototype.onEnd=function(n){n===_S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mle.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function oBe(n,e){const t=new D5(e);if(t.push(n),t.err)throw t.msg||u8[t.err];return t.result}var lBe=D5,cBe=oBe,uBe={Inflate:lBe,inflate:cBe};const{Inflate:fBe,inflate:dBe}=uBe;var AY=fBe,hBe=dBe;const kle=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;kle[n]=e}const PY=4294967295;function pBe(n,e,t){let r=n;for(let i=0;i<t;i++)r=kle[(r^e[i])&255]^r>>>8;return r}function mBe(n,e){return(pBe(PY,n,e)^PY)>>>0}function CY(n,e,t){const r=n.readUint32(),i=mBe(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function Nle(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function Ole(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function jle(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function Lle(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Rle(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+gBe(e[s-i],t[s],t[s-i])&255}}function gBe(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),a=Math.abs(r-t);return i<=s&&i<=a?n:s<=a?e:t}function vBe(n,e,t,r,i,s){switch(n){case 0:Nle(e,t,i);break;case 1:Ole(e,t,i,s);break;case 2:jle(e,t,r,i);break;case 3:Lle(e,t,r,i,s);break;case 4:Rle(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const yBe=new Uint16Array([255]),bBe=new Uint8Array(yBe.buffer),wBe=bBe[0]===255;function xBe(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*t*o);let c=0;for(let u=0;u<7;u++){const f=a[u],h=Math.ceil((t-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(h<=0||p<=0)continue;const x=h*o,y=new Uint8Array(x);for(let w=0;w<p;w++){const b=e[c++],S=e.subarray(c,c+x);c+=x;const _=new Uint8Array(x);vBe(b,S,_,y,x,o),y.set(_);for(let P=0;P<h;P++){const E=f.x+P*f.xStep,C=f.y+w*f.yStep;if(!(E>=t||C>=r))for(let N=0;N<o;N++)l[(C*t+E)*o+N]=_[P*o+N]}}}if(s===16){const u=new Uint16Array(l.buffer);if(wBe)for(let f=0;f<u.length;f++)u[f]=_Be(u[f]);return u}else return l}function _Be(n){return(n&255)<<8|n>>8&255}const SBe=new Uint16Array([255]),ABe=new Uint8Array(SBe.buffer),PBe=ABe[0]===255,CBe=new Uint8Array(0);function EY(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),l=new Uint8Array(r*o);let c=CBe,u=0,f,h;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),h=l.subarray(p*o,(p+1)*o),e[u]){case 0:Nle(f,h,o);break;case 1:Ole(f,h,o,a);break;case 2:jle(f,h,c,o);break;case 3:Lle(f,h,c,o,a);break;case 4:Rle(f,h,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(PBe)for(let x=0;x<p.length;x++)p[x]=EBe(p[x]);return p}else return l}function EBe(n){return(n&255)<<8|n>>8&255}const hE=Uint8Array.of(137,80,78,71,13,10,26,10);function TY(n){if(!TBe(n.readBytes(hE.length)))throw new Error("wrong PNG signature")}function TBe(n){if(n.length<hE.length)return!1;for(let e=0;e<hE.length;e++)if(n[e]!==hE[e])return!1;return!0}const kBe="tEXt",NBe=0,Ile=new TextDecoder("latin1");function OBe(n){if(LBe(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const jBe=/^[\u0000-\u00FF]*$/;function LBe(n){if(!jBe.test(n))throw new Error("invalid latin1 text")}function RBe(n,e,t){const r=Mle(e);n[r]=IBe(e,t-r.length-1)}function Mle(n){for(n.mark();n.readByte()!==NBe;);const e=n.offset;n.reset();const t=Ile.decode(n.readBytes(e-n.offset-1));return n.skip(1),OBe(t),t}function IBe(n,e){return Ile.decode(n.readBytes(e))}const Cl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zR={UNKNOWN:-1,DEFLATE:0},kY={UNKNOWN:-1,ADAPTIVE:0},HR={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pC={NONE:0,BACKGROUND:1,PREVIOUS:2},VR={SOURCE:0,OVER:1};class MBe extends s7{constructor(t,r={}){super(t);He(this,"_checkCrc");He(this,"_inflator");He(this,"_png");He(this,"_apng");He(this,"_end");He(this,"_hasPalette");He(this,"_palette");He(this,"_hasTransparency");He(this,"_transparency");He(this,"_compressionMethod");He(this,"_filterMethod");He(this,"_interlaceMethod");He(this,"_colorType");He(this,"_isAnimated");He(this,"_numberOfFrames");He(this,"_numberOfPlays");He(this,"_frames");He(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new AY,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zR.UNKNOWN,this._filterMethod=kY.UNKNOWN,this._interlaceMethod=HR.UNKNOWN,this._colorType=Cl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(TY(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(TY(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case kBe:RBe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?CY(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?CY(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=DBe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Cl.GREYSCALE:i=1;break;case Cl.TRUECOLOUR:i=3;break;case Cl.INDEXED_COLOUR:i=1;break;case Cl.GREYSCALE_ALPHA:i=2;break;case Cl.TRUECOLOUR_ALPHA:i=4;break;case Cl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==zR.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Cl.GREYSCALE:case Cl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Cl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Cl.UNKNOWN:case Cl.GREYSCALE_ALPHA:case Cl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Mle(this),i=this.readUint8();if(i!==zR.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:hBe(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=EY({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case pC.NONE:break;case pC.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case pC.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case VR.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case VR.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(f*h+(1-f)*t.data[l+u]);t.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==kY.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===HR.NO_INTERLACE)this._png.data=EY({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===HR.ADAM7)this._png.data=xBe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pC.NONE,blendOp:VR.SOURCE,data:t}),this._inflator=new AY,this._writingDataChunks=!1}}function DBe(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var NY;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(NY||(NY={}));function FBe(n,e){return new MBe(n,e).decode()}var fn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function WR(){fn.console&&typeof fn.console.log=="function"&&fn.console.log.apply(fn.console,arguments)}var qr={log:WR,warn:function(n){fn.console&&(typeof fn.console.warn=="function"?fn.console.warn.apply(fn.console,arguments):WR.call(null,arguments))},error:function(n){fn.console&&(typeof fn.console.error=="function"?fn.console.error.apply(fn.console,arguments):WR(n))}};function GR(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Av(r.response,e,t)},r.onerror=function(){qr.error("could not download file")},r.send()}function OY(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mC(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Av=fn.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==fn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=fn.URL||fn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?OY(i.href)?GR(n,e,t):mC(i,i.target="_blank"):mC(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){mC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(OY(n))GR(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){mC(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Ar(s)!=="object"&&(qr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return GR(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(fn.HTMLElement)||fn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(n)}else{var l=fn.URL||fn.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dle(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var pE=fn.atob.bind(fn),jY=fn.btoa.bind(fn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function KR(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Fa(t,r,i,s,e[0],7,-680876936),s=Fa(s,t,r,i,e[1],12,-389564586),i=Fa(i,s,t,r,e[2],17,606105819),r=Fa(r,i,s,t,e[3],22,-1044525330),t=Fa(t,r,i,s,e[4],7,-176418897),s=Fa(s,t,r,i,e[5],12,1200080426),i=Fa(i,s,t,r,e[6],17,-1473231341),r=Fa(r,i,s,t,e[7],22,-45705983),t=Fa(t,r,i,s,e[8],7,1770035416),s=Fa(s,t,r,i,e[9],12,-1958414417),i=Fa(i,s,t,r,e[10],17,-42063),r=Fa(r,i,s,t,e[11],22,-1990404162),t=Fa(t,r,i,s,e[12],7,1804603682),s=Fa(s,t,r,i,e[13],12,-40341101),i=Fa(i,s,t,r,e[14],17,-1502002290),t=Ba(t,r=Fa(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ba(s,t,r,i,e[6],9,-1069501632),i=Ba(i,s,t,r,e[11],14,643717713),r=Ba(r,i,s,t,e[0],20,-373897302),t=Ba(t,r,i,s,e[5],5,-701558691),s=Ba(s,t,r,i,e[10],9,38016083),i=Ba(i,s,t,r,e[15],14,-660478335),r=Ba(r,i,s,t,e[4],20,-405537848),t=Ba(t,r,i,s,e[9],5,568446438),s=Ba(s,t,r,i,e[14],9,-1019803690),i=Ba(i,s,t,r,e[3],14,-187363961),r=Ba(r,i,s,t,e[8],20,1163531501),t=Ba(t,r,i,s,e[13],5,-1444681467),s=Ba(s,t,r,i,e[2],9,-51403784),i=Ba(i,s,t,r,e[7],14,1735328473),t=$a(t,r=Ba(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=$a(s,t,r,i,e[8],11,-2022574463),i=$a(i,s,t,r,e[11],16,1839030562),r=$a(r,i,s,t,e[14],23,-35309556),t=$a(t,r,i,s,e[1],4,-1530992060),s=$a(s,t,r,i,e[4],11,1272893353),i=$a(i,s,t,r,e[7],16,-155497632),r=$a(r,i,s,t,e[10],23,-1094730640),t=$a(t,r,i,s,e[13],4,681279174),s=$a(s,t,r,i,e[0],11,-358537222),i=$a(i,s,t,r,e[3],16,-722521979),r=$a(r,i,s,t,e[6],23,76029189),t=$a(t,r,i,s,e[9],4,-640364487),s=$a(s,t,r,i,e[12],11,-421815835),i=$a(i,s,t,r,e[15],16,530742520),t=qa(t,r=$a(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qa(s,t,r,i,e[7],10,1126891415),i=qa(i,s,t,r,e[14],15,-1416354905),r=qa(r,i,s,t,e[5],21,-57434055),t=qa(t,r,i,s,e[12],6,1700485571),s=qa(s,t,r,i,e[3],10,-1894986606),i=qa(i,s,t,r,e[10],15,-1051523),r=qa(r,i,s,t,e[1],21,-2054922799),t=qa(t,r,i,s,e[8],6,1873313359),s=qa(s,t,r,i,e[15],10,-30611744),i=qa(i,s,t,r,e[6],15,-1560198380),r=qa(r,i,s,t,e[13],21,1309151649),t=qa(t,r,i,s,e[4],6,-145523070),s=qa(s,t,r,i,e[11],10,-1120210379),i=qa(i,s,t,r,e[2],15,718787259),r=qa(r,i,s,t,e[9],21,-343485551),n[0]=hg(t,n[0]),n[1]=hg(r,n[1]),n[2]=hg(i,n[2]),n[3]=hg(s,n[3])}function UN(n,e,t,r,i,s){return e=hg(hg(e,n),hg(r,s)),hg(e<<i|e>>>32-i,t)}function Fa(n,e,t,r,i,s,a){return UN(e&t|~e&r,n,e,i,s,a)}function Ba(n,e,t,r,i,s,a){return UN(e&r|t&~r,n,e,i,s,a)}function $a(n,e,t,r,i,s,a){return UN(e^t^r,n,e,i,s,a)}function qa(n,e,t,r,i,s,a){return UN(t^(e|~r),n,e,i,s,a)}function Fle(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)KR(r,BBe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(KR(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,KR(r,i),r}function BBe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var LY="0123456789abcdef".split("");function $Be(n){for(var e="",t=0;t<4;t++)e+=LY[n>>8*t+4&15]+LY[n>>8*t&15];return e}function qBe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function d8(n){return Fle(n).map(qBe).join("")}var UBe=(function(n){for(var e=0;e<n.length;e++)n[e]=$Be(n[e]);return n.join("")})(Fle("hello"))!="5d41402abc4b2a76b9719d911017c592";function hg(n,e){if(UBe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h8(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}t=n,r=o}else o=r;var f=e.length,h=0,p=0,x="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,a=o[(o[h]+o[p])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RY={print:4,modify:8,copy:16,"annot-forms":32};function I1(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(RY.perm!==void 0)throw new Error("Invalid permission: "+o);i+=RY[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=d8(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h8(this.encryptionKey,this.padding)}function M1(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function IY(n){if(Ar(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){fn.console&&qr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function tk(n){if(!(this instanceof tk))return new tk(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Ble(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ev(n,e,t,r,i){if(!(this instanceof Ev))return new Ev(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Ble.call(this,r,i)}function K1(n,e,t,r,i){if(!(this instanceof K1))return new K1(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Ble.call(this,r,i)}function Dt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Ar(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=IY;var x="1.3",y=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(I){x=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var b=p.__private__.getPageFormat=function(I){return w[I]};i=i||"a4";var S="compat",_="advanced",P=S;function E(){this.saveGraphicsState(),ge(new ct(Lt,0,0,-Lt,0,Bo()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),c="n",P=_}function C(){this.restoreGraphicsState(),c="S",P=S}var N=p.__private__.combineFontStyleAndFontWeight=function(I,ae){if(I=="bold"&&ae=="normal"||I=="bold"&&ae==400||I=="normal"&&ae=="italic"||I=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(I=ae==400||ae==="normal"?I==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||I!=="normal"?(ae==700?"bold":ae)+""+I:"bold"),I};p.advancedAPI=function(I){var ae=P===S;return ae&&E.call(this),typeof I!="function"||(I(this),ae&&C.call(this)),this},p.compatAPI=function(I){var ae=P===_;return ae&&C.call(this),typeof I!="function"||(I(this),ae&&E.call(this)),this},p.isAdvancedAPI=function(){return P===_};var L,R=function(I){if(P!==_)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(I,ae){var _e=e||ae;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return F(I,16)};var j=p.f2=p.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return F(I,2)},D=p.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return F(I,3)},W=p.scale=p.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return P===S?I*Lt:P===_?I:void 0},V=function(I){return W((function(ae){return P===S?Bo()-ae:P===_?ae:void 0})(I))};p.__private__.setPrecision=p.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var Z,J="00000000000000000000000000000000",K=p.__private__.getFileId=function(){return J},$=p.__private__.setFileId=function(I){return J=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(_i=new I1(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};p.setFileId=function(I){return $(I),this},p.getFileId=function(){return K()};var te=p.__private__.convertDateToPDFDate=function(I){var ae=I.getTimezoneOffset(),_e=ae<0?"+":"-",Ce=Math.floor(Math.abs(ae/60)),je=Math.abs(ae%60),ze=[_e,ne(Ce),"'",ne(je),"'"].join("");return["D:",I.getFullYear(),ne(I.getMonth()+1),ne(I.getDate()),ne(I.getHours()),ne(I.getMinutes()),ne(I.getSeconds()),ze].join("")},Q=p.__private__.convertPDFDateToDate=function(I){var ae=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,Ce=parseInt(I.substr(8,2),10),je=parseInt(I.substr(10,2),10),ze=parseInt(I.substr(12,2),10),Ye=parseInt(I.substr(14,2),10);return new Date(ae,_e,Ce,je,ze,Ye,0)},X=p.__private__.setCreationDate=function(I){var ae;if(I===void 0&&(I=new Date),I instanceof Date)ae=te(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=I}return Z=ae},B=p.__private__.getCreationDate=function(I){var ae=Z;return I==="jsDate"&&(ae=Q(Z)),ae};p.setCreationDate=function(I){return X(I),this},p.getCreationDate=function(I){return B(I)};var G,ne=p.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ie=p.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},fe=0,he=[],oe=[],pe=0,Se=[],be=[],ye=!1,Oe=oe;p.__private__.setCustomOutputDestination=function(I){ye=!0,Oe=I};var Pe=function(I){ye||(Oe=I)};p.__private__.resetCustomOutputDestination=function(){ye=!1,Oe=oe};var ge=p.__private__.out=function(I){return I=I.toString(),pe+=I.length+1,Oe.push(I),Oe},Ke=p.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Xe=p.__private__.getArrayBuffer=function(I){for(var ae=I.length,_e=new ArrayBuffer(ae),Ce=new Uint8Array(_e);ae--;)Ce[ae]=I.charCodeAt(ae);return _e},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return rt};var $e=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(I){return $e=P===_?I/Lt:I,this};var at,et=p.__private__.getFontSize=p.getFontSize=function(){return P===S?$e:$e*Lt},ut=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(I){return ut=I,this},p.__private__.getR2L=p.getR2L=function(){return ut};var lt,Ht=p.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))at=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');at=I}else at=parseInt(I,10)};p.__private__.getZoomMode=function(){return at};var $t,Xt=p.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');lt=I};p.__private__.getPageMode=function(){return lt};var Vn=p.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');$t=I};p.__private__.getLayoutMode=function(){return $t},p.__private__.setDisplayMode=p.setDisplayMode=function(I,ae,_e){return Ht(I),Vn(ae),Xt(_e),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(I){if(Object.keys(Qt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[I]},p.__private__.getDocumentProperties=function(){return Qt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(I){for(var ae in Qt)Qt.hasOwnProperty(ae)&&I[ae]&&(Qt[ae]=I[ae]);return this},p.__private__.setDocumentProperty=function(I,ae){if(Object.keys(Qt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[I]=ae};var Tt,Lt,_t,Un,Dn,Et={},sn={},Wn=[],qt={},bn={},Ut={},Mr={},Pr=null,Ln=0,Yt=[],ot=new IY(p),vr=n.hotfixes||[],Fn={},Wr={},ws=[],ct=function I(ae,_e,Ce,je,ze,Ye){if(!(this instanceof I))return new I(ae,_e,Ce,je,ze,Ye);isNaN(ae)&&(ae=1),isNaN(_e)&&(_e=0),isNaN(Ce)&&(Ce=0),isNaN(je)&&(je=1),isNaN(ze)&&(ze=0),isNaN(Ye)&&(Ye=0),this._matrix=[ae,_e,Ce,je,ze,Ye]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(I)},ct.prototype.multiply=function(I){var ae=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,Ce=I.shx*this.sx+I.sy*this.shx,je=I.shx*this.shy+I.sy*this.sy,ze=I.tx*this.sx+I.ty*this.shx+this.tx,Ye=I.tx*this.shy+I.ty*this.sy+this.ty;return new ct(ae,_e,Ce,je,ze,Ye)},ct.prototype.decompose=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ce=this.sy,je=this.tx,ze=this.ty,Ye=Math.sqrt(I*I+ae*ae),bt=(I/=Ye)*_e+(ae/=Ye)*Ce;_e-=I*bt,Ce-=ae*bt;var Nt=Math.sqrt(_e*_e+Ce*Ce);return bt/=Nt,I*(Ce/=Nt)<ae*(_e/=Nt)&&(I=-I,ae=-ae,bt=-bt,Ye=-Ye),{scale:new ct(Ye,0,0,Nt,0,0),translate:new ct(1,0,0,1,je,ze),rotate:new ct(I,ae,-ae,I,0,0),skew:new ct(1,0,bt,1,0,0)}},ct.prototype.toString=function(I){return this.join(" ")},ct.prototype.inversed=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ce=this.sy,je=this.tx,ze=this.ty,Ye=1/(I*Ce-ae*_e),bt=Ce*Ye,Nt=-ae*Ye,an=-_e*Ye,on=I*Ye;return new ct(bt,Nt,an,on,-bt*je-an*ze,-Nt*je-on*ze)},ct.prototype.applyToPoint=function(I){var ae=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new fc(ae,_e)},ct.prototype.applyToRectangle=function(I){var ae=this.applyToPoint(I),_e=this.applyToPoint(new fc(I.x+I.w,I.y+I.h));return new Bd(ae.x,ae.y,_e.x-ae.x,_e.y-ae.y)},ct.prototype.clone=function(){var I=this.sx,ae=this.shy,_e=this.shx,Ce=this.sy,je=this.tx,ze=this.ty;return new ct(I,ae,_e,Ce,je,ze)},p.Matrix=ct;var Cr=p.matrixMult=function(I,ae){return ae.multiply(I)},$s=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=$s;var ur=function(I,ae){if(!bn[I]){var _e=(ae instanceof Ev?"Sh":"P")+(Object.keys(qt).length+1).toString(10);ae.id=_e,bn[I]=_e,qt[_e]=ae,ot.publish("addPattern",ae)}};p.ShadingPattern=Ev,p.TilingPattern=K1,p.addShadingPattern=function(I,ae){return R("addShadingPattern()"),ur(I,ae),this},p.beginTilingPattern=function(I){R("beginTilingPattern()"),Mo(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},p.endTilingPattern=function(I,ae){R("endTilingPattern()"),ae.stream=be[G].join(`
`),ur(I,ae),ot.publish("endTilingPattern",ae),ws.pop().restore()};var Gr,ar=p.__private__.newObject=function(){var I=or();return xi(I,!0),I},or=p.__private__.newObjectDeferred=function(){return fe++,he[fe]=function(){return pe},fe},xi=function(I,ae){return ae=typeof ae=="boolean"&&ae,he[I]=pe,ae&&ge(I+" 0 obj"),I},nu=p.__private__.newAdditionalObject=function(){var I={objId:or(),content:""};return Se.push(I),I},lf=or(),fl=or(),ac=p.__private__.decodeColorString=function(I){var ae=I.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var _e=parseFloat(ae[0]);ae=[_e,_e,_e,"r"]}for(var Ce="#",je=0;je<3;je++)Ce+=("0"+Math.floor(255*parseFloat(ae[je])).toString(16)).slice(-2);return Ce},xs=p.__private__.encodeColorString=function(I){var ae;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,Ce=I.ch2,je=I.ch3,ze=I.ch4,Ye=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var bt=new Dle(_e);if(bt.ok)_e=bt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Nt=parseInt(_e.substr(1),16);_e=Nt>>16&255,Ce=Nt>>8&255,je=255&Nt}if(Ce===void 0||ze===void 0&&_e===Ce&&Ce===je)ae=typeof _e=="string"?_e+" "+Ye[0]:I.precision===2?j(_e/255)+" "+Ye[0]:D(_e/255)+" "+Ye[0];else if(ze===void 0||Ar(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Ye[1]].join(" ");ae=typeof _e=="string"?[_e,Ce,je,Ye[1]].join(" "):I.precision===2?[j(_e/255),j(Ce/255),j(je/255),Ye[1]].join(" "):[D(_e/255),D(Ce/255),D(je/255),Ye[1]].join(" ")}else ae=typeof _e=="string"?[_e,Ce,je,ze,Ye[2]].join(" "):I.precision===2?[j(_e),j(Ce),j(je),j(ze),Ye[2]].join(" "):[D(_e),D(Ce),D(je),D(ze),Ye[2]].join(" ");return ae},Lo=p.__private__.getFilters=function(){return a},Qa=p.__private__.putStream=function(I){var ae=(I=I||{}).data||"",_e=I.filters||Lo(),Ce=I.alreadyAppliedFilters||[],je=I.addLength1||!1,ze=ae.length,Ye=I.objectId,bt=function(Xi){return Xi};if(u!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(bt=_i.encryptor(Ye,0));var Nt={};_e===!0&&(_e=["FlateEncode"]);var an=I.additionalKeyValues||[],on=(Nt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(ae,_e):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Nt.data.length!==0&&(an.push({key:"Length",value:Nt.data.length}),je===!0&&an.push({key:"Length1",value:ze})),on.length!=0)if(on.split("/").length-1==1)an.push({key:"Filter",value:on});else{an.push({key:"Filter",value:"["+on+"]"});for(var Yn=0;Yn<an.length;Yn+=1)if(an[Yn].key==="DecodeParms"){for(var ni=[],Ii=0;Ii<Nt.reverseChain.split("/").length-1;Ii+=1)ni.push("null");ni.push(an[Yn].value),an[Yn].value="["+ni.join(" ")+"]"}}ge("<<");for(var Er=0;Er<an.length;Er++)ge("/"+an[Er].key+" "+an[Er].value);ge(">>"),Nt.data.length!==0&&(ge("stream"),ge(bt(Nt.data)),ge("endstream"))},kd=p.__private__.putPage=function(I){var ae=I.number,_e=I.data,Ce=I.objId,je=I.contentsObjId;xi(Ce,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(L(I.mediaBox.bottomLeftX))+" "+parseFloat(L(I.mediaBox.bottomLeftY))+" "+L(I.mediaBox.topRightX)+" "+L(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+L(I.cropBox.bottomLeftX)+" "+L(I.cropBox.bottomLeftY)+" "+L(I.cropBox.topRightX)+" "+L(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+L(I.bleedBox.bottomLeftX)+" "+L(I.bleedBox.bottomLeftY)+" "+L(I.bleedBox.topRightX)+" "+L(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+L(I.trimBox.bottomLeftX)+" "+L(I.trimBox.bottomLeftY)+" "+L(I.trimBox.topRightX)+" "+L(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+L(I.artBox.bottomLeftX)+" "+L(I.artBox.bottomLeftY)+" "+L(I.artBox.topRightX)+" "+L(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),ot.publish("putPage",{objId:Ce,pageContext:Yt[ae],pageNumber:ae,page:_e}),ge("/Contents "+je+" 0 R"),ge(">>"),ge("endobj");var ze=_e.join(`
`);return P===_&&(ze+=`
Q`),xi(je,!0),Qa({data:ze,filters:Lo(),objectId:je}),ge("endobj"),Ce},dl=p.__private__.putPages=function(){var I,ae,_e=[];for(I=1;I<=Ln;I++)Yt[I].objId=or(),Yt[I].contentsObjId=or();for(I=1;I<=Ln;I++)_e.push(kd({number:I,data:be[I],objId:Yt[I].objId,contentsObjId:Yt[I].contentsObjId,mediaBox:Yt[I].mediaBox,cropBox:Yt[I].cropBox,bleedBox:Yt[I].bleedBox,trimBox:Yt[I].trimBox,artBox:Yt[I].artBox,userUnit:Yt[I].userUnit,rootDictionaryObjId:lf,resourceDictionaryObjId:fl}));xi(lf,!0),ge("<</Type /Pages");var Ce="/Kids [";for(ae=0;ae<Ln;ae++)Ce+=_e[ae]+" 0 R ";ge(Ce+"]"),ge("/Count "+Ln),ge(">>"),ge("endobj"),ot.publish("postPutPages")},cf=function(I){ot.publish("putFont",{font:I,out:ge,newObject:ar,putStream:Qa}),I.isAlreadyPutted!==!0&&(I.objectNumber=ar(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+M1(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Nd=function(I){I.objectNumber=ar();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[L(I.x),L(I.y),L(I.x+I.width),L(I.y+I.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);Qa({data:_e,additionalKeyValues:ae,objectId:I.objectNumber}),ge("endobj")},Od=function(I,ae){ae||(ae=21);var _e=ar(),Ce=(function(Ye,bt){var Nt,an=[],on=1/(bt-1);for(Nt=0;Nt<1;Nt+=on)an.push(Nt);if(an.push(1),Ye[0].offset!=0){var Yn={offset:0,color:Ye[0].color};Ye.unshift(Yn)}if(Ye[Ye.length-1].offset!=1){var ni={offset:1,color:Ye[Ye.length-1].color};Ye.push(ni)}for(var Ii="",Er=0,Xi=0;Xi<an.length;Xi++){for(Nt=an[Xi];Nt>Ye[Er+1].offset;)Er++;var Si=Ye[Er].offset,_s=(Nt-Si)/(Ye[Er+1].offset-Si),$o=Ye[Er].color,ka=Ye[Er+1].color;Ii+=ie(Math.round((1-_s)*$o[0]+_s*ka[0]).toString(16))+ie(Math.round((1-_s)*$o[1]+_s*ka[1]).toString(16))+ie(Math.round((1-_s)*$o[2]+_s*ka[2]).toString(16))}return Ii.trim()})(I.colors,ae),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+ae+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qa({data:Ce,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ge("endobj"),I.objectNumber=ar(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var ze="/Coords ["+L(parseFloat(I.coords[0]))+" "+L(parseFloat(I.coords[1]))+" ";I.type===2?ze+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3])):ze+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3]))+" "+L(parseFloat(I.coords[4]))+" "+L(parseFloat(I.coords[5])),ge(ze+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+_e+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Tp=function(I,ae){var _e=or(),Ce=ar();ae.push({resourcesOid:_e,objectOid:Ce}),I.objectNumber=Ce;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+I.boundingBox.map(L).join(" ")+"]"}),je.push({key:"XStep",value:L(I.xStep)}),je.push({key:"YStep",value:L(I.yStep)}),je.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&je.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Qa({data:I.stream,additionalKeyValues:je,objectId:I.objectNumber}),ge("endobj")},Ux=function(I){for(var ae in I.objectNumber=ar(),ge("<<"),I)switch(ae){case"opacity":ge("/ca "+j(I[ae]));break;case"stroke-opacity":ge("/CA "+j(I[ae]))}ge(">>"),ge("endobj")},Dr=function(I){xi(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ae in ge("/Font <<"),Et)Et.hasOwnProperty(ae)&&(f===!1||f===!0&&h.hasOwnProperty(ae))&&ge("/"+ae+" "+Et[ae].objectNumber+" 0 R");ge(">>")})(),(function(){if(Object.keys(qt).length>0){for(var ae in ge("/Shading <<"),qt)qt.hasOwnProperty(ae)&&qt[ae]instanceof Ev&&qt[ae].objectNumber>=0&&ge("/"+ae+" "+qt[ae].objectNumber+" 0 R");ot.publish("putShadingPatternDict"),ge(">>")}})(),(function(ae){if(Object.keys(qt).length>0){for(var _e in ge("/Pattern <<"),qt)qt.hasOwnProperty(_e)&&qt[_e]instanceof p.TilingPattern&&qt[_e].objectNumber>=0&&qt[_e].objectNumber<ae&&ge("/"+_e+" "+qt[_e].objectNumber+" 0 R");ot.publish("putTilingPatternDict"),ge(">>")}})(I.objectOid),(function(){if(Object.keys(Ut).length>0){var ae;for(ae in ge("/ExtGState <<"),Ut)Ut.hasOwnProperty(ae)&&Ut[ae].objectNumber>=0&&ge("/"+ae+" "+Ut[ae].objectNumber+" 0 R");ot.publish("putGStateDict"),ge(">>")}})(),(function(){for(var ae in ge("/XObject <<"),Fn)Fn.hasOwnProperty(ae)&&Fn[ae].objectNumber>=0&&ge("/"+ae+" "+Fn[ae].objectNumber+" 0 R");ot.publish("putXobjectDict"),ge(">>")})(),ge(">>"),ge("endobj")},M0=function(I){sn[I.fontName]=sn[I.fontName]||{},sn[I.fontName][I.fontStyle]=I.id},kp=function(I,ae,_e,Ce,je){var ze={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:I,fontName:ae,fontStyle:_e,encoding:Ce,isStandardFont:je||!1,metadata:{}};return ot.publish("addFont",{font:ze,instance:this}),Et[ze.id]=ze,M0(ze),ze.id},eo=p.__private__.pdfEscape=p.pdfEscape=function(I,ae){return(function(_e,Ce){var je,ze,Ye,bt,Nt,an,on,Yn,ni;if(Ye=(Ce=Ce||{}).sourceEncoding||"Unicode",Nt=Ce.outputEncoding,(Ce.autoencode||Nt)&&Et[Tt].metadata&&Et[Tt].metadata[Ye]&&Et[Tt].metadata[Ye].encoding&&(bt=Et[Tt].metadata[Ye].encoding,!Nt&&Et[Tt].encoding&&(Nt=Et[Tt].encoding),!Nt&&bt.codePages&&(Nt=bt.codePages[0]),typeof Nt=="string"&&(Nt=bt[Nt]),Nt)){for(on=!1,an=[],je=0,ze=_e.length;je<ze;je++)(Yn=Nt[_e.charCodeAt(je)])?an.push(String.fromCharCode(Yn)):an.push(_e[je]),an[je].charCodeAt(0)>>8&&(on=!0);_e=an.join("")}for(je=_e.length;on===void 0&&je!==0;)_e.charCodeAt(je-1)>>8&&(on=!0),je--;if(!on)return _e;for(an=Ce.noBOM?[]:[254,255],je=0,ze=_e.length;je<ze;je++){if((ni=(Yn=_e.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");an.push(ni),an.push(Yn-(ni<<8))}return String.fromCharCode.apply(void 0,an)})(I,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uf=p.__private__.beginPage=function(I){be[++Ln]=[],Yt[Ln]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},jd(Ln),Pe(be[G])},D0=function(I,ae){var _e,Ce,je;switch(t=ae||t,typeof I=="string"&&(_e=b(I.toLowerCase()),Array.isArray(_e)&&(Ce=_e[0],je=_e[1])),Array.isArray(I)&&(Ce=I[0]*Lt,je=I[1]*Lt),isNaN(Ce)&&(Ce=i[0],je=i[1]),(Ce>14400||je>14400)&&(qr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),je=Math.min(14400,je)),i=[Ce,je],t.substr(0,1)){case"l":je>Ce&&(i=[je,Ce]);break;case"p":Ce>je&&(i=[je,Ce])}uf(i),Dd(Io),ge(Fd),$g!==0&&ge($g+" J"),qg!==0&&ge(qg+" j"),ot.publish("addPage",{pageNumber:Ln})},Np=function(I){I>0&&I<=Ln&&(be.splice(I,1),Yt.splice(I,1),Ln--,G>Ln&&(G=Ln),this.setPage(G))},jd=function(I){I>0&&I<=Ln&&(G=I)},to=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return be.length-1},F0=function(I,ae,_e){var Ce,je=void 0;return _e=_e||{},I=I!==void 0?I:Et[Tt].fontName,ae=ae!==void 0?ae:Et[Tt].fontStyle,Ce=I.toLowerCase(),sn[Ce]!==void 0&&sn[Ce][ae]!==void 0?je=sn[Ce][ae]:sn[I]!==void 0&&sn[I][ae]!==void 0?je=sn[I][ae]:_e.disableWarning===!1&&qr.warn("Unable to look up font label for font '"+I+"', '"+ae+"'. Refer to getFontList() for available fonts."),je||_e.noFallback||(je=sn.times[ae])==null&&(je=sn.times.normal),je},qs=p.__private__.putInfo=function(){var I=ar(),ae=function(Ce){return Ce};for(var _e in u!==null&&(ae=_i.encryptor(I,0)),ge("<<"),ge("/Producer ("+eo(ae("jsPDF "+Dt.version))+")"),Qt)Qt.hasOwnProperty(_e)&&Qt[_e]&&ge("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+eo(ae(Qt[_e]))+")");ge("/CreationDate ("+eo(ae(Z))+")"),ge(">>"),ge("endobj")},zx=p.__private__.putCatalog=function(I){var ae=(I=I||{}).rootDictionaryObjId||lf;switch(ar(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+ae+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+at;_e.substr(_e.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+j(at)+"]")}switch($t||($t="continuous"),$t){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}lt&&ge("/PageMode /"+lt),ot.publish("putCatalog"),ge(">>"),ge("endobj")},Ri=p.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(fe+1)),ge("/Root "+fe+" 0 R"),ge("/Info "+(fe-1)+" 0 R"),u!==null&&ge("/Encrypt "+_i.oid+" 0 R"),ge("/ID [ <"+J+"> <"+J+"> ]"),ge(">>")},B0=p.__private__.putHeader=function(){ge("%PDF-"+x),ge("%")},Ld=p.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(fe+1)),ge("0000000000 65535 f ");for(var ae=1;ae<=fe;ae++)typeof he[ae]=="function"?ge((I+he[ae]()).slice(-10)+" 00000 n "):he[ae]!==void 0?ge((I+he[ae]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Ro=p.__private__.buildDocument=function(){var I;fe=0,pe=0,oe=[],he=[],Se=[],lf=or(),fl=or(),Pe(oe),ot.publish("buildDocument"),B0(),dl(),(function(){ot.publish("putAdditionalObjects");for(var _e=0;_e<Se.length;_e++){var Ce=Se[_e];xi(Ce.objId,!0),ge(Ce.content),ge("endobj")}ot.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var _e in Et)Et.hasOwnProperty(_e)&&(f===!1||f===!0&&h.hasOwnProperty(_e))&&cf(Et[_e])})(),(function(){var _e;for(_e in Ut)Ut.hasOwnProperty(_e)&&Ux(Ut[_e])})(),(function(){for(var _e in Fn)Fn.hasOwnProperty(_e)&&Nd(Fn[_e])})(),(function(_e){var Ce;for(Ce in qt)qt.hasOwnProperty(Ce)&&(qt[Ce]instanceof Ev?Od(qt[Ce]):qt[Ce]instanceof K1&&Tp(qt[Ce],_e))})(I),ot.publish("putResources"),I.forEach(Dr),Dr({resourcesOid:fl,objectOid:Number.MAX_SAFE_INTEGER}),ot.publish("postPutResources"),u!==null&&(_i.oid=ar(),ge("<<"),ge("/Filter /Standard"),ge("/V "+_i.v),ge("/R "+_i.r),ge("/U <"+_i.toHexString(_i.U)+">"),ge("/O <"+_i.toHexString(_i.O)+">"),ge("/P "+_i.P),ge(">>"),ge("endobj")),qs(),zx();var ae=pe;return Ld(),Ri(),ge("startxref"),ge(""+ae),ge("%%EOF"),Pe(be[G]),oe.join(`
`)},hl=p.__private__.getBlob=function(I){return new Blob([Xe(I)],{type:"application/pdf"})},Ea=p.output=p.__private__.output=(Gr=function(I,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",I){case void 0:return Ro();case"save":p.save(ae.filename);break;case"arraybuffer":return Xe(Ro());case"blob":return hl(Ro());case"bloburi":case"bloburl":if(fn.URL!==void 0&&typeof fn.URL.createObjectURL=="function")return fn.URL&&fn.URL.createObjectURL(hl(Ro()))||void 0;qr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ce=Ro();try{_e=jY(Ce)}catch{_e=jY(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+ae.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fn)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(je=ae.pdfObjectUrl,ze="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",bt=fn.open();return bt!==null&&bt.document.write(Ye),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fn)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',an=fn.open();if(an!==null){an.document.write(Nt);var on=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=ae.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(on.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',ni=fn.open();if(ni!==null&&(ni.document.write(Yn),ni.document.title=ae.filename),ni||typeof safari>"u")return ni;break;case"datauri":case"dataurl":return fn.document.location.href=this.output("datauristring",ae);default:return null}},Gr.foo=function(){try{return Gr.apply(this,arguments)}catch(_e){var I=_e.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var ae="Error in function "+I.split(`
`)[0].split("<")[0]+": "+_e.message;if(!fn.console)throw new Error(ae);fn.console.error(ae,_e),fn.alert&&alert(ae)}},Gr.foo.bar=Gr,Gr.foo),Rd=function(I){return Array.isArray(vr)===!0&&vr.indexOf(I)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=Rd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var _i=null;X(),$();var Id=p.__private__.getPageInfo=p.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[I].objId,pageNumber:I,pageContext:Yt[I]}},$0=p.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Yt)if(Yt[ae].objId===I)break;return Id(ae)},Dg=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Yt[G].objId,pageNumber:G,pageContext:Yt[G]}};p.addPage=function(){return D0.apply(this,arguments),this},p.setPage=function(){return jd.apply(this,arguments),Pe.call(this,be[G]),this},p.insertPage=function(I){return this.addPage(),this.movePage(G,I),this},p.movePage=function(I,ae){var _e,Ce;if(I>ae){_e=be[I],Ce=Yt[I];for(var je=I;je>ae;je--)be[je]=be[je-1],Yt[je]=Yt[je-1];be[ae]=_e,Yt[ae]=Ce,this.setPage(ae)}else if(I<ae){_e=be[I],Ce=Yt[I];for(var ze=I;ze<ae;ze++)be[ze]=be[ze+1],Yt[ze]=Yt[ze+1];be[ae]=_e,Yt[ae]=Ce,this.setPage(ae)}return this},p.deletePage=function(){return Np.apply(this,arguments),this},p.__private__.text=p.text=function(I,ae,_e,Ce,je){var ze,Ye,bt,Nt,an,on,Yn,ni,Ii,Er=(Ce=Ce||{}).scope||this;if(typeof I=="number"&&typeof ae=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Xi=_e;_e=ae,ae=I,I=Xi}if(arguments[3]instanceof ct==0?(bt=arguments[4],Nt=arguments[5],Ar(Yn=arguments[3])==="object"&&Yn!==null||(typeof bt=="string"&&(Nt=bt,bt=null),typeof Yn=="string"&&(Nt=Yn,Yn=null),typeof Yn=="number"&&(bt=Yn,Yn=null),Ce={flags:Yn,angle:bt,align:Nt})):(R("The transform parameter of text() with a Matrix value"),Ii=je),isNaN(ae)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Er;var Si,_s="",$o=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Ta,ka=Er.internal.scaleFactor;function V0(Jn){return Jn=Jn.split("	").join(Array(Ce.TabLen||9).join(" ")),eo(Jn,Yn)}function ff(Jn){for(var fr,fi=Jn.concat(),Mi=[],bl=fi.length;bl--;)typeof(fr=fi.shift())=="string"?Mi.push(fr):Array.isArray(Jn)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?Mi.push(fr[0]):Mi.push([fr[0],fr[1],fr[2]]);return Mi}function Ud(Jn,fr){var fi;if(typeof Jn=="string")fi=fr(Jn)[0];else if(Array.isArray(Jn)){for(var Mi,bl,Wg=Jn.concat(),qp=[],du=Wg.length;du--;)typeof(Mi=Wg.shift())=="string"?qp.push(fr(Mi)[0]):Array.isArray(Mi)&&typeof Mi[0]=="string"&&(bl=fr(Mi[0],Mi[1],Mi[2]),qp.push([bl[0],bl[1],bl[2]]));fi=qp}return fi}var df=!1,zd=!0;if(typeof I=="string")df=!0;else if(Array.isArray(I)){var hf=I.concat();Ye=[];for(var Hd,zs=hf.length;zs--;)(typeof(Hd=hf.shift())!="string"||Array.isArray(Hd)&&typeof Hd[0]!="string")&&(zd=!1);df=zd}if(df===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Vd=$e/Er.internal.scaleFactor,Wd=Vd*($o-1);switch(Ce.baseline){case"bottom":_e-=Wd;break;case"top":_e+=Vd-Wd;break;case"hanging":_e+=Vd-2*Wd;break;case"middle":_e+=Vd/2-Wd}if((on=Ce.maxWidth||0)>0&&(typeof I=="string"?I=Er.splitTextToSize(I,on):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Jn,fr){return Jn.concat(Er.splitTextToSize(fr,on))},[]))),ze={text:I,x:ae,y:_e,options:Ce,mutex:{pdfEscape:eo,activeFontKey:Tt,fonts:Et,activeFontSize:$e}},ot.publish("preProcessText",ze),I=ze.text,bt=(Ce=ze.options).angle,Ii instanceof ct==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,Ce.rotationDirection===0&&(bt=-bt),P===_&&(bt=-bt);var Hg=Math.cos(bt),Vg=Math.sin(bt);Ii=new ct(Hg,Vg,-Vg,Hg,0,0)}else bt&&bt instanceof ct&&(Ii=bt);P!==_||Ii||(Ii=$s),(an=Ce.charSpace||gl)!==void 0&&(_s+=L(W(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ni=Ce.horizontalScale)!==void 0&&(_s+=L(100*ni)+` Tz
`),Ce.lang;var ci=-1,vl=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,dc=Er.internal.getCurrentPageInfo().pageContext;switch(vl){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var W0=dc.usedRenderingMode!==void 0?dc.usedRenderingMode:-1;ci!==-1?_s+=ci+` Tr
`:W0!==-1&&(_s+=`0 Tr
`),ci!==-1&&(dc.usedRenderingMode=ci),Nt=Ce.align||"left";var ro,pf=$e*$o,Dp=Er.internal.pageSize.getWidth(),Fp=Et[Tt];an=Ce.charSpace||gl,on=Ce.maxWidth||0,Yn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var lu=[],qo=function(Jn){return Er.getStringUnitWidth(Jn,{font:Fp,charSpace:an,fontSize:$e,doKerning:!1})*$e/ka};if(Object.prototype.toString.call(I)==="[object Array]"){var io;Ye=ff(I),Nt!=="left"&&(ro=Ye.map(qo));var so,mf=0;if(Nt==="right"){ae-=ro[0],I=[],zs=Ye.length;for(var hc=0;hc<zs;hc++)hc===0?(so=no(ae),io=su(_e)):(so=W(mf-ro[hc]),io=-pf),I.push([Ye[hc],so,io]),mf=ro[hc]}else if(Nt==="center"){ae-=ro[0]/2,I=[],zs=Ye.length;for(var cu=0;cu<zs;cu++)cu===0?(so=no(ae),io=su(_e)):(so=W((mf-ro[cu])/2),io=-pf),I.push([Ye[cu],so,io]),mf=ro[cu]}else if(Nt==="left"){I=[],zs=Ye.length;for(var uu=0;uu<zs;uu++)I.push(Ye[uu])}else if(Nt==="justify"&&Fp.encoding==="Identity-H"){I=[],zs=Ye.length,on=on!==0?on:Dp;for(var pc=0,Ai=0;Ai<zs;Ai++)if(io=Ai===0?su(_e):-pf,so=Ai===0?no(ae):pc,Ai<zs-1){var Gd=W((on-ro[Ai])/(Ye[Ai].split(" ").length-1)),mc=Ye[Ai].split(" ");I.push([mc[0]+" ",so,io]),pc=0;for(var yl=1;yl<mc.length;yl++){var Kd=(qo(mc[yl-1]+" "+mc[yl])-qo(mc[yl]))*ka+Gd;yl==mc.length-1?I.push([mc[yl],Kd,0]):I.push([mc[yl]+" ",Kd,0]),pc-=Kd}}else I.push([Ye[Ai],so,io]);I.push(["",pc,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],zs=Ye.length,on=on!==0?on:Dp,Ai=0;Ai<zs;Ai++){io=Ai===0?su(_e):-pf,so=Ai===0?no(ae):0;var Xd=Ye[Ai].split(" ").length-1,Bp=Xd>0?(on-ro[Ai])/Xd:0;Ai<zs-1?lu.push(L(W(Bp))):lu.push(0),I.push([Ye[Ai],so,io])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:ut)===!0&&(I=Ud(I,function(Jn,fr,fi){return[Jn.split("").reverse().join(""),fr,fi]})),ze={text:I,x:ae,y:_e,options:Ce,mutex:{pdfEscape:eo,activeFontKey:Tt,fonts:Et,activeFontSize:$e}},ot.publish("postProcessText",ze),I=ze.text,Si=ze.mutex.isHex||!1;var $p=Et[Tt].encoding;$p!=="WinAnsiEncoding"&&$p!=="StandardEncoding"||(I=Ud(I,function(Jn,fr,fi){return[V0(Jn),fr,fi]})),Ye=ff(I),I=[];for(var fu,gf,vf,Yd=Array.isArray(Ye[0])?1:0,yf="",Jd=function(Jn,fr,fi){var Mi="";return fi instanceof ct?(fi=typeof Ce.angle=="number"?Cr(fi,new ct(1,0,0,1,Jn,fr)):Cr(new ct(1,0,0,1,Jn,fr),fi),P===_&&(fi=Cr(new ct(1,0,0,-1,0,0),fi)),Mi=fi.join(" ")+` Tm
`):Mi=L(Jn)+" "+L(fr)+` Td
`,Mi},ui=0;ui<Ye.length;ui++){switch(yf="",Yd){case 1:vf=(Si?"<":"(")+Ye[ui][0]+(Si?">":")"),fu=parseFloat(Ye[ui][1]),gf=parseFloat(Ye[ui][2]);break;case 0:vf=(Si?"<":"(")+Ye[ui]+(Si?">":")"),fu=no(ae),gf=su(_e)}lu!==void 0&&lu[ui]!==void 0&&(yf=lu[ui]+` Tw
`),ui===0?I.push(yf+Jd(fu,gf,Ii)+vf):Yd===0?I.push(yf+vf):Yd===1&&I.push(yf+Jd(fu,gf,Ii)+vf)}I=Yd===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Na=`BT
/`;return Na+=Tt+" "+$e+` Tf
`,Na+=L($e*$o)+` TL
`,Na+=ml+`
`,Na+=_s,Na+=I,ge(Na+="ET"),h[Tt]=!0,Er};var Md=p.__private__.clip=p.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Md("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ge("n"),this};var oc=p.__private__.isValidStyle=function(I){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ae=!0),ae};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(I){return oc(I)&&(c=I),this};var Op=p.__private__.getStyle=p.getStyle=function(I){var ae=c;switch(I){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=I}return ae},Gn=p.close=function(){return ge("h"),this};p.stroke=function(){return ge("S"),this},p.fill=function(I){return ru("f",I),this},p.fillEvenOdd=function(I){return ru("f*",I),this},p.fillStroke=function(I){return ru("B",I),this},p.fillStrokeEvenOdd=function(I){return ru("B*",I),this};var ru=function(I,ae){Ar(ae)==="object"?q0(ae,I):ge(I)},jp=function(I){I===null||P===_&&I===void 0||(I=Op(I),ge(I))};function Fg(I,ae,_e,Ce,je){var ze=new K1(ae||this.boundingBox,_e||this.xStep,Ce||this.yStep,this.gState,je||this.matrix);ze.stream=this.stream;var Ye=I+"$$"+this.cloneIndex+++"$$";return ur(Ye,ze),ze}var q0=function(I,ae){var _e=bn[I.key],Ce=qt[_e];if(Ce instanceof Ev)ge("q"),ge(U0(ae)),Ce.gState&&p.setGState(Ce.gState),ge(I.matrix.toString()+" cm"),ge("/"+_e+" sh"),ge("Q");else if(Ce instanceof K1){var je=new ct(1,0,0,-1,0,Bo());I.matrix&&(je=je.multiply(I.matrix||$s),_e=Fg.call(Ce,I.key,I.boundingBox,I.xStep,I.yStep,je).id),ge("q"),ge("/Pattern cs"),ge("/"+_e+" scn"),Ce.gState&&p.setGState(Ce.gState),ge(ae),ge("Q")}},U0=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lp=p.moveTo=function(I,ae){return ge(L(W(I))+" "+L(V(ae))+" m"),this},iu=p.lineTo=function(I,ae){return ge(L(W(I))+" "+L(V(ae))+" l"),this},pl=p.curveTo=function(I,ae,_e,Ce,je,ze){return ge([L(W(I)),L(V(ae)),L(W(_e)),L(V(Ce)),L(W(je)),L(V(ze)),"c"].join(" ")),this};p.__private__.line=p.line=function(I,ae,_e,Ce,je){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ce)||!oc(je))throw new Error("Invalid arguments passed to jsPDF.line");return P===S?this.lines([[_e-I,Ce-ae]],I,ae,[1,1],je||"S"):this.lines([[_e-I,Ce-ae]],I,ae,[1,1]).stroke()},p.__private__.lines=p.lines=function(I,ae,_e,Ce,je,ze){var Ye,bt,Nt,an,on,Yn,ni,Ii,Er,Xi,Si,_s;if(typeof I=="number"&&(_s=_e,_e=ae,ae=I,I=_s),Ce=Ce||[1,1],ze=ze||!1,isNaN(ae)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(Ce)||!oc(je)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lp(ae,_e),Ye=Ce[0],bt=Ce[1],an=I.length,Xi=ae,Si=_e,Nt=0;Nt<an;Nt++)(on=I[Nt]).length===2?(Xi=on[0]*Ye+Xi,Si=on[1]*bt+Si,iu(Xi,Si)):(Yn=on[0]*Ye+Xi,ni=on[1]*bt+Si,Ii=on[2]*Ye+Xi,Er=on[3]*bt+Si,Xi=on[4]*Ye+Xi,Si=on[5]*bt+Si,pl(Yn,ni,Ii,Er,Xi,Si));return ze&&Gn(),jp(je),this},p.path=function(I){for(var ae=0;ae<I.length;ae++){var _e=I[ae],Ce=_e.c;switch(_e.op){case"m":Lp(Ce[0],Ce[1]);break;case"l":iu(Ce[0],Ce[1]);break;case"c":pl.apply(this,Ce);break;case"h":Gn()}}return this},p.__private__.rect=p.rect=function(I,ae,_e,Ce,je){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ce)||!oc(je))throw new Error("Invalid arguments passed to jsPDF.rect");return P===S&&(Ce=-Ce),ge([L(W(I)),L(V(ae)),L(W(_e)),L(W(Ce)),"re"].join(" ")),jp(je),this},p.__private__.triangle=p.triangle=function(I,ae,_e,Ce,je,ze,Ye){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ce)||isNaN(je)||isNaN(ze)||!oc(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,Ce-ae],[je-_e,ze-Ce],[I-je,ae-ze]],I,ae,[1,1],Ye,!0),this},p.__private__.roundedRect=p.roundedRect=function(I,ae,_e,Ce,je,ze,Ye){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ce)||isNaN(je)||isNaN(ze)||!oc(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*_e),ze=Math.min(ze,.5*Ce),this.lines([[_e-2*je,0],[je*bt,0,je,ze-ze*bt,je,ze],[0,Ce-2*ze],[0,ze*bt,-je*bt,ze,-je,ze],[2*je-_e,0],[-je*bt,0,-je,-ze*bt,-je,-ze],[0,2*ze-Ce],[0,-ze*bt,je*bt,-ze,je,-ze]],I+je,ae,[1,1],Ye,!0),this},p.__private__.ellipse=p.ellipse=function(I,ae,_e,Ce,je){if(isNaN(I)||isNaN(ae)||isNaN(_e)||isNaN(Ce)||!oc(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*_e,Ye=4/3*(Math.SQRT2-1)*Ce;return Lp(I+_e,ae),pl(I+_e,ae-Ye,I+ze,ae-Ce,I,ae-Ce),pl(I-ze,ae-Ce,I-_e,ae-Ye,I-_e,ae),pl(I-_e,ae+Ye,I-ze,ae+Ce,I,ae+Ce),pl(I+ze,ae+Ce,I+_e,ae+Ye,I+_e,ae),jp(je),this},p.__private__.circle=p.circle=function(I,ae,_e,Ce){if(isNaN(I)||isNaN(ae)||isNaN(_e)||!oc(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ae,_e,_e,Ce)},p.setFont=function(I,ae,_e){return _e&&(ae=N(ae,_e)),Tt=F0(I,ae,{disableWarning:!1}),this};var lc=p.__private__.getFont=p.getFont=function(){return Et[F0.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var I,ae,_e={};for(I in sn)if(sn.hasOwnProperty(I))for(ae in _e[I]=[],sn[I])sn[I].hasOwnProperty(ae)&&_e[I].push(ae);return _e},p.addFont=function(I,ae,_e,Ce,je){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(_e=N(_e,Ce)),kp.call(this,I,ae,_e,je=je||"Identity-H")};var Ta,Io=n.lineWidth||.200025,Jt=p.__private__.getLineWidth=p.getLineWidth=function(){return Io},Dd=p.__private__.setLineWidth=p.setLineWidth=function(I){return Io=I,ge(L(W(I))+" w"),this};p.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(I,ae){if(I=I||[],ae=ae||0,isNaN(ae)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return L(W(_e))}).join(" "),ae=L(W(ae)),ge("["+I+"] "+ae+" d"),this};var cc=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Ta};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Ta};var Hx=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Ta=I),this},z0=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ta};Hx(n.lineHeight);var no=p.__private__.getHorizontalCoordinate=function(I){return W(I)},su=p.__private__.getVerticalCoordinate=function(I){return P===_?I:Yt[G].mediaBox.topRightY-Yt[G].mediaBox.bottomLeftY-W(I)},H0=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(I){return L(no(I))},Rp=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(I){return L(su(I))},Fd=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ac(Fd)},p.__private__.setStrokeColor=p.setDrawColor=function(I,ae,_e,Ce){return Fd=xs({ch1:I,ch2:ae,ch3:_e,ch4:Ce,pdfColorType:"draw",precision:2}),ge(Fd),this};var Bg=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ac(Bg)},p.__private__.setFillColor=p.setFillColor=function(I,ae,_e,Ce){return Bg=xs({ch1:I,ch2:ae,ch3:_e,ch4:Ce,pdfColorType:"fill",precision:2}),ge(Bg),this};var ml=n.textColor||"0 g",uc=p.__private__.getTextColor=p.getTextColor=function(){return ac(ml)};p.__private__.setTextColor=p.setTextColor=function(I,ae,_e,Ce){return ml=xs({ch1:I,ch2:ae,ch3:_e,ch4:Ce,pdfColorType:"text",precision:3}),this};var gl=n.charSpace,Ip=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(gl||0)};p.__private__.setCharSpace=p.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gl=I,this};var $g=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(I){var ae=p.CapJoinStyles[I];if(ae===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $g=ae,ge(ae+" J"),this};var qg=0;p.__private__.setLineJoin=p.setLineJoin=function(I){var ae=p.CapJoinStyles[I];if(ae===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qg=ae,ge(ae+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(L(W(I))+" M"),this},p.GState=tk,p.setGState=function(I){(I=typeof I=="string"?Ut[Mr[I]]:au(null,I)).equals(Pr)||(ge("/"+I.id+" gs"),Pr=I)};var au=function(I,ae){if(!I||!Mr[I]){var _e=!1;for(var Ce in Ut)if(Ut.hasOwnProperty(Ce)&&Ut[Ce].equals(ae)){_e=!0;break}if(_e)ae=Ut[Ce];else{var je="GS"+(Object.keys(Ut).length+1).toString(10);Ut[je]=ae,ae.id=je}return I&&(Mr[I]=ae.id),ot.publish("addGState",ae),ae}};p.addGState=function(I,ae){return au(I,ae),this},p.saveGraphicsState=function(){return ge("q"),Wn.push({key:Tt,size:$e,color:ml}),this},p.restoreGraphicsState=function(){ge("Q");var I=Wn.pop();return Tt=I.key,$e=I.size,ml=I.color,Pr=null,this},p.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},p.comment=function(I){return ge("#"+I),this};var fc=function(I,ae){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(ze){isNaN(ze)||(_e=parseFloat(ze))}});var Ce=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(ze){isNaN(ze)||(Ce=parseFloat(ze))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(ze){je=ze.toString()}}),this},Bd=function(I,ae,_e,Ce){fc.call(this,I,ae),this.type="rect";var je=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ye){isNaN(Ye)||(je=parseFloat(Ye))}});var ze=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Ye){isNaN(Ye)||(ze=parseFloat(Ye))}}),this},$d=function(){this.page=Ln,this.currentPage=G,this.pages=be.slice(0),this.pagesContext=Yt.slice(0),this.x=_t,this.y=Un,this.matrix=Dn,this.width=qd(G),this.height=Do(G),this.outputDestination=Oe,this.id="",this.objectNumber=-1};$d.prototype.restore=function(){Ln=this.page,G=this.currentPage,Yt=this.pagesContext,be=this.pages,_t=this.x,Un=this.y,Dn=this.matrix,Ug(G,this.width),Fo(G,this.height),Oe=this.outputDestination};var Mo=function(I,ae,_e,Ce,je){ws.push(new $d),Ln=G=0,be=[],_t=I,Un=ae,Dn=je,uf([_e,Ce])};for(var ou in p.beginFormObject=function(I,ae,_e,Ce,je){return Mo(I,ae,_e,Ce,je),this},p.endFormObject=function(I){return(function(ae){if(Wr[ae])ws.pop().restore();else{var _e=new $d,Ce="Xo"+(Object.keys(Fn).length+1).toString(10);_e.id=Ce,Wr[ae]=Ce,Fn[Ce]=_e,ot.publish("addFormObject",_e),ws.pop().restore()}})(I),this},p.doFormObject=function(I,ae){var _e=Fn[Wr[I]];return ge("q"),ge(ae.toString()+" cm"),ge("/"+_e.id+" Do"),ge("Q"),this},p.getFormObject=function(I){var ae=Fn[Wr[I]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},p.save=function(I,ae){return I=I||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Av(hl(Ro()),I),typeof Av.unload=="function"&&fn.setTimeout&&setTimeout(Av.unload,911),this):new Promise(function(_e,Ce){try{var je=Av(hl(Ro()),I);typeof Av.unload=="function"&&fn.setTimeout&&setTimeout(Av.unload,911),_e(je)}catch(ze){Ce(ze.message)}})},Dt.API)Dt.API.hasOwnProperty(ou)&&(ou==="events"&&Dt.API.events.length?(function(I,ae){var _e,Ce,je;for(je=ae.length-1;je!==-1;je--)_e=ae[je][0],Ce=ae[je][1],I.subscribe.apply(I,[_e].concat(typeof Ce=="function"?[Ce]:Ce))})(ot,Dt.API.events):p[ou]=Dt.API[ou]);function qd(I){return Yt[I].mediaBox.topRightX-Yt[I].mediaBox.bottomLeftX}function Ug(I,ae){Yt[I].mediaBox.topRightX=ae+Yt[I].mediaBox.bottomLeftX}function Do(I){return Yt[I].mediaBox.topRightY-Yt[I].mediaBox.bottomLeftY}function Fo(I,ae){Yt[I].mediaBox.topRightY=ae+Yt[I].mediaBox.bottomLeftY}var zg=p.getPageWidth=function(I){return qd(I=I||G)/Lt},Us=p.setPageWidth=function(I,ae){Ug(I,ae*Lt)},Bo=p.getPageHeight=function(I){return Do(I=I||G)/Lt},Mp=p.setPageHeight=function(I,ae){Fo(I,ae*Lt)};return p.internal={pdfEscape:eo,getStyle:Op,getFont:lc,getFontSize:et,getCharSpace:Ip,getTextColor:uc,getLineHeight:cc,getLineHeightFactor:z0,getLineWidth:Jt,write:Ke,getHorizontalCoordinate:no,getVerticalCoordinate:su,getCoordinateString:H0,getVerticalCoordinateString:Rp,collections:{},newObject:ar,newAdditionalObject:nu,newObjectDeferred:or,newObjectDeferredBegin:xi,getFilters:Lo,putStream:Qa,events:ot,scaleFactor:Lt,pageSize:{getWidth:function(){return zg(G)},setWidth:function(I){Us(G,I)},getHeight:function(){return Bo(G)},setHeight:function(I){Mp(G,I)}},encryptionOptions:u,encryption:_i,getEncryptor:function(I){return u!==null?_i.encryptor(I,0):function(ae){return ae}},output:Ea,getNumberOfPages:to,pages:be,out:ge,f2:j,f3:D,getPageInfo:Id,getPageInfoByObjId:$0,getCurrentPageInfo:Dg,getPDFVersion:y,Point:fc,Rectangle:Bd,Matrix:ct,hasHotfix:Rd},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zg(G)},set:function(I){Us(G,I)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Bo(G)},set:function(I){Mp(G,I)},enumerable:!0,configurable:!0}),(function(I){for(var ae=0,_e=rt.length;ae<_e;ae++){var Ce=kp.call(this,I[ae][0],I[ae][1],I[ae][2],rt[ae][3],!0);f===!1&&(h[Ce]=!0);var je=I[ae][0].split("-");M0({id:Ce,fontName:je[0],fontStyle:je[1]||""})}ot.publish("addFonts",{fonts:Et,dictionary:sn})}).call(p,rt),Tt="F1",D0(i,t),ot.publish("initialized"),p}I1.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},I1.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I1.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},I1.prototype.processOwnerPassword=function(n,e){return h8(d8(e).substr(0,5),n)},I1.prototype.encryptor=function(n,e){var t=d8(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return h8(t,r)}},tk.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ar(n)!==Ar(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Dt.API={events:[]},Dt.version="3.0.3";var Hi=Dt.API,a7=1,I0=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},P1=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vn=function(n){return n.toFixed(2)},lm=function(n){return n.toFixed(5)};Hi.__acroform__={};var ul=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},MY=function(n){return n*a7},jf=function(n){var e=new qle,t=Ct.internal.getHeight(n)||0,r=Ct.internal.getWidth(n)||0;return e.BBox=[0,0,Number(vn(r)),Number(vn(t))],e},zBe=Hi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},HBe=Hi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},VBe=Hi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},rs=Hi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VBe(n,e-1)},is=Hi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zBe(n,e-1)},ss=Hi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HBe(n,e-1)},WBe=Hi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=r(s)||0,[Number(vn(l.lowerLeft_X)),Number(vn(l.lowerLeft_Y)),Number(vn(l.upperRight_X)),Number(vn(l.upperRight_Y))]},GBe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=p8(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+vn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=jf(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},p8=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=t,a=Ct.internal.getHeight(n)||0;a=a<0?-a:a;var o=Ct.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(j,D,W){if(j+1<i.length){var V=D+" "+i[j+1][0];return gC(V,n,W).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=gC("3",n,s).height,h=n.multiline?a-s:(a-f)/2,p=h+=2,x=0,y=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+gC(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",S=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var P=!1;if(i[_].length!==1&&w!==i[_].length-1){if((f+2)*(S+2)+2>a)continue e;b+=i[_][w],P=!0,y=_,_--}else{b=(b+=i[_][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var E=parseInt(_),C=l(E,b,s),N=_>=i.length-1;if(C&&!N){b+=" ",w=0;continue}if(C||N){if(N)y=E;else if(n.multiline&&(f+2)*(S+2)+2>a)continue e}else{if(!n.multiline||(f+2)*(S+2)+2>a)continue e;y=E}}for(var L="",R=x;R<=y;R++){var F=i[R];if(n.multiline){if(R===y){L+=F[w]+" ",w=(w+1)%F.length;continue}if(R===x){L+=F[F.length-1]+" ";continue}}L+=F[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=gC(L,n,s).width,n.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=vn(c)+" "+vn(p)+` Td
`,e+="("+I0(L)+`) Tj
`,e+=-vn(c)+` 0 Td
`,p=-(s+2),u=0,x=P?y:y+1,S++,b=""}break}return r.text=e,r.fontSize=s,r},gC=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},KBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XBe=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},YBe=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(af.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(KBe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a7=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Ule,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&XBe(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=WBe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ct.createDefaultAppearanceStream(o),Ar(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=GBe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var x=p[a];typeof x=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(y,w){for(var b in y)if(y.hasOwnProperty(b)){var S=b,_=y[b];w.internal.newObjectDeferredBegin(_.objId,!0),Ar(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete y[S]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},$le=Hi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Ar(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+I0(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},XR=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+I0(r(n))+")"},cd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cd.prototype.toString=function(){return this.objId+" 0 R"},cd.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},cd.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:$le(i,this.objId,this.scope)}):i instanceof cd?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var qle=function(){cd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ul(qle,cd);var Ule=function(){cd.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+I0(t(n))+")"}},set:function(t){n=t}})};ul(Ule,cd);var af=function n(){cd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rs(e,3)},set:function(b){b?this.F=is(e,3):this.F=ss(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof nk)return;s="FieldObject"+n.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+I0(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/a7:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof nk||this instanceof i0))return XR(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ia==0?XR(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof ia==0?b.substr(0,1)==="("?P1(b.substr(1,b.length-2)):P1(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?P1(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ia==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ia==0?XR(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof ia==0?b.substr(0,1)==="("?P1(b.substr(1,b.length-2)):P1(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?P1(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof ia==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(b){b=!!b,y=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,1)},set:function(b){b?this.Ff=is(this.Ff,1):this.Ff=ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,2)},set:function(b){b?this.Ff=is(this.Ff,2):this.Ff=ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,3)},set:function(b){b?this.Ff=is(this.Ff,3):this.Ff=ss(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};ul(af,cd);var hb=function(){af.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $le(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,18)},set:function(t){t?this.Ff=is(this.Ff,18):this.Ff=ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=is(this.Ff,19):this.Ff=ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,20)},set:function(t){t?(this.Ff=is(this.Ff,20),e.sort()):this.Ff=ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,22)},set:function(t){t?this.Ff=is(this.Ff,22):this.Ff=ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(t){t?this.Ff=is(this.Ff,23):this.Ff=ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,27)},set:function(t){t?this.Ff=is(this.Ff,27):this.Ff=ss(this.Ff,27)}}),this.hasAppearanceStream=!1};ul(hb,af);var pb=function(){hb.call(this),this.fontName="helvetica",this.combo=!1};ul(pb,hb);var mb=function(){pb.call(this),this.combo=!0};ul(mb,pb);var mE=function(){mb.call(this),this.edit=!0};ul(mE,mb);var ia=function(){af.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,15)},set:function(t){t?this.Ff=is(this.Ff,15):this.Ff=ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,16)},set:function(t){t?this.Ff=is(this.Ff,16):this.Ff=ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,17)},set:function(t){t?this.Ff=is(this.Ff,17):this.Ff=ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(t){t?this.Ff=is(this.Ff,26):this.Ff=ss(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+I0(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Ar(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ul(ia,af);var gE=function(){ia.call(this),this.pushButton=!0};ul(gE,ia);var gb=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ul(gb,ia);var nk=function(){var n,e;af.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+I0(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ar(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ul(nk,af),gb.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},gb.prototype.createOption=function(n){var e=new nk;return e.Parent=this,e.optionName=n,this.Kids.push(e),JBe.call(this.scope,e),e};var vE=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};ul(vE,ia);var i0=function(){af.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,13)},set:function(e){e?this.Ff=is(this.Ff,13):this.Ff=ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,21)},set:function(e){e?this.Ff=is(this.Ff,21):this.Ff=ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(e){e?this.Ff=is(this.Ff,23):this.Ff=ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,24)},set:function(e){e?this.Ff=is(this.Ff,24):this.Ff=ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,25)},set:function(e){e?this.Ff=is(this.Ff,25):this.Ff=ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(e){e?this.Ff=is(this.Ff,26):this.Ff=ss(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ul(i0,af);var yE=function(){i0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,14)},set:function(n){n?this.Ff=is(this.Ff,14):this.Ff=ss(this.Ff,14)}}),this.password=!0};ul(yE,i0);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=p8(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+vn(Ct.internal.getWidth(n))+" "+vn(Ct.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+vn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=jf(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Ct.internal.getHeight(n),a=Ct.internal.getWidth(n),o=p8(n,n.caption);return i.push("1 g"),i.push("0 0 "+vn(a)+" "+vn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vn(a-1)+" "+vn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+vn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+vn(Ct.internal.getWidth(n))+" "+vn(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Circle.YesNormal,e.D[n]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=jf(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+lm(Ct.internal.getWidth(n)/2)+" "+lm(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5)),a=Number((r*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lm(Ct.internal.getWidth(n)/2)+" "+lm(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+lm(Ct.internal.getWidth(n)/2)+" "+lm(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lm(Ct.internal.getWidth(n)/2)+" "+lm(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Cross.YesNormal,e.D[n]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=jf(n);e.scope=n.scope;var t=[],r=Ct.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+vn(Ct.internal.getWidth(n)-2)+" "+vn(Ct.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(vn(r.x1.x)+" "+vn(r.x1.y)+" m"),t.push(vn(r.x2.x)+" "+vn(r.x2.y)+" l"),t.push(vn(r.x4.x)+" "+vn(r.x4.y)+" m"),t.push(vn(r.x3.x)+" "+vn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=Ct.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+vn(Ct.internal.getWidth(n))+" "+vn(Ct.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vn(Ct.internal.getWidth(n)-2)+" "+vn(Ct.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(vn(t.x1.x)+" "+vn(t.x1.y)+" m"),r.push(vn(t.x2.x)+" "+vn(t.x2.y)+" l"),r.push(vn(t.x4.x)+" "+vn(t.x4.y)+" m"),r.push(vn(t.x3.x)+" "+vn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=jf(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+vn(Ct.internal.getWidth(n))+" "+vn(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ct.internal.getWidth(n),t=Ct.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ct.internal.getWidth=function(n){var e=0;return Ar(n)==="object"&&(e=MY(n.Rect[2])),e},Ct.internal.getHeight=function(n){var e=0;return Ar(n)==="object"&&(e=MY(n.Rect[3])),e};var JBe=Hi.addField=function(n){if(YBe(this,n),!(n instanceof af))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hi.AcroFormChoiceField=hb,Hi.AcroFormListBox=pb,Hi.AcroFormComboBox=mb,Hi.AcroFormEditBox=mE,Hi.AcroFormButton=ia,Hi.AcroFormPushButton=gE,Hi.AcroFormRadioButton=gb,Hi.AcroFormCheckBox=vE,Hi.AcroFormTextField=i0,Hi.AcroFormPasswordField=yE,Hi.AcroFormAppearance=Ct,Hi.AcroForm={ChoiceField:hb,ListBox:pb,ComboBox:mb,EditBox:mE,Button:ia,PushButton:gE,RadioButton:gb,CheckBox:vE,TextField:i0,PasswordField:yE,Appearance:Ct},Dt.AcroForm={ChoiceField:hb,ListBox:pb,ComboBox:mb,EditBox:mE,Button:ia,PushButton:gE,RadioButton:gb,CheckBox:vE,TextField:i0,PasswordField:yE,Appearance:Ct};Dt.AcroForm;function zle(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(j,D){var W,V,Z,J,K,$=t;if((D=D||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(C(j))for(K in r)for(Z=r[K],W=0;W<Z.length;W+=1){for(J=!0,V=0;V<Z[W].length;V+=1)if(Z[W][V]!==void 0&&Z[W][V]!==j[V]){J=!1;break}if(J===!0){$=K;break}}else for(K in r)for(Z=r[K],W=0;W<Z.length;W+=1){for(J=!0,V=0;V<Z[W].length;V+=1)if(Z[W][V]!==void 0&&Z[W][V]!==j.charCodeAt(V)){J=!1;break}if(J===!0){$=K;break}}return $===t&&D!==t&&($=D),$},s=function j(D){for(var W=this.internal.write,V=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:D.width}),J.push({key:"Height",value:D.height}),D.colorSpace===b.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===b.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var K="",$=0,te=D.transparency.length;$<te;$++)K+=D.transparency[$]+" "+D.transparency[$]+" ";J.push({key:"Mask",value:"["+K+"]"})}D.sMask!==void 0&&J.push({key:"SMask",value:D.objectId+1+" 0 R"});var Q=D.filter!==void 0?["/"+D.filter]:void 0;if(V({data:D.data,additionalKeyValues:J,alreadyAppliedFilters:Q,objectId:D.objectId}),W("endobj"),"sMask"in D&&D.sMask!==void 0){var X,B=(X=D.sMaskBitsPerComponent)!==null&&X!==void 0?X:D.bitsPerComponent,G={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:D.sMask};"filter"in D&&(G.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(D.width),G.filter=D.filter),j.call(this,G)}if(D.colorSpace===b.INDEXED){var ne=this.internal.newObject();V({data:L(new Uint8Array(D.palette)),objectId:ne}),W("endobj")}},a=function(){var j=this.internal.collections[e+"images"];for(var D in j)s.call(this,j[D])},o=function(){var j,D=this.internal.collections[e+"images"],W=this.internal.write;for(var V in D)W("/I"+(j=D[V]).index,j.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var j=this.internal.collections[e+"images"];return l.call(this),j},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(j){return typeof n["process"+j.toUpperCase()]=="function"},h=function(j){return Ar(j)==="object"&&j.nodeType===1},p=function(j,D){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var W=""+j.getAttribute("src");if(W.indexOf("data:image/")===0)return pE(unescape(W).split("base64,").pop());var V=n.loadFile(W,!0);if(V!==void 0)return V}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var Z;switch(D){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return pE(j.toDataURL(Z,1).split("base64,").pop())}},x=function(j){var D=this.internal.collections[e+"images"];if(D){for(var W in D)if(j===D[W].alias)return D[W]}},y=function(j,D,W){return j||D||(j=-96,D=-96),j<0&&(j=-1*W.width*72/j/this.internal.scaleFactor),D<0&&(D=-1*W.height*72/D/this.internal.scaleFactor),j===0&&(j=D*W.width/W.height),D===0&&(D=j*W.height/W.width),[j,D]},w=function(j,D,W,V,Z,J){var K=y.call(this,W,V,Z),$=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,Q=c.call(this);if(W=K[0],V=K[1],Q[Z.index]=Z,J){J*=Math.PI/180;var X=Math.cos(J),B=Math.sin(J),G=function(ie){return ie.toFixed(4)},ne=[G(X),G(B),G(-1*B),G(X),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,$(j),te(D+V),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([$(W),"0","0",$(V),"0","0","cm"].join(" "))):this.internal.write([$(W),"0","0",$(V),$(j),te(D+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(j){var D,W,V=0;if(typeof j=="string")for(W=j.length,D=0;D<W;D++)V=(V<<5)-V+j.charCodeAt(D),V|=0;else if(C(j))for(W=j.byteLength/2,D=0;D<W;D++)V=(V<<5)-V+j[D],V|=0;return V},P=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var D=!0;return j.length===0&&(D=!1),j.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(D=!1),D},E=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var D=j.indexOf(",");return D<0?null:j.substring(0,D).trim().endsWith("base64")?j.substring(D+1):null};n.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var C=n.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},N=n.__addimage__.binaryStringToUint8Array=function(j){for(var D=j.length,W=new Uint8Array(D),V=0;V<D;V++)W[V]=j.charCodeAt(V);return W},L=n.__addimage__.arrayBufferToBinaryString=function(j){for(var D="",W=C(j)?j:new Uint8Array(j),V=0;V<W.length;V+=8192)D+=String.fromCharCode.apply(null,W.subarray(V,V+8192));return D};n.addImage=function(){var j,D,W,V,Z,J,K,$,te;if(typeof arguments[1]=="number"?(D=t,W=arguments[1],V=arguments[2],Z=arguments[3],J=arguments[4],K=arguments[5],$=arguments[6],te=arguments[7]):(D=arguments[1],W=arguments[2],V=arguments[3],Z=arguments[4],J=arguments[5],K=arguments[6],$=arguments[7],te=arguments[8]),Ar(j=arguments[0])==="object"&&!h(j)&&"imageData"in j){var Q=j;j=Q.imageData,D=Q.format||D||t,W=Q.x||W||0,V=Q.y||V||0,Z=Q.w||Q.width||Z,J=Q.h||Q.height||J,K=Q.alias||K,$=Q.compression||$,te=Q.rotation||Q.angle||te}var X=this.internal.getFilters();if($===void 0&&X.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(W)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=R.call(this,j,D,K,$);return w.call(this,W,V,Z,J,B,te),this};var R=function(j,D,W,V){var Z,J,K;if(typeof j=="string"&&i(j)===t){j=unescape(j);var $=F(j,!1);($!==""||($=n.loadFile(j,!0))!==void 0)&&(j=$)}if(h(j)&&(j=p(j,D)),D=i(j,D),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((K=W)==null||K.length===0)&&(W=(function(te){return typeof te=="string"||C(te)?_(te):C(te.data)?_(te.data):null})(j)),(Z=x.call(this,W))||(j instanceof Uint8Array||D==="RGBA"||(J=j,j=N(j)),Z=this["process"+D.toUpperCase()](j,u.call(this),W,(function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in n.image_compression?te:S.NONE})(V),J)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},F=n.__addimage__.convertBase64ToBinaryString=function(j,D){D=typeof D!="boolean"||D;var W,V="";if(typeof j=="string"){var Z;W=(Z=E(j))!==null&&Z!==void 0?Z:j;try{V=pE(W)}catch(J){if(D)throw P(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};n.getImageProperties=function(j){var D,W,V="";if(h(j)&&(j=p(j)),typeof j=="string"&&i(j)===t&&((V=F(j,!1))===""&&(V=n.loadFile(j)||""),j=V),W=i(j),!f(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(j instanceof Uint8Array||(j=N(j)),!(D=this["process"+W.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=W,D}})(Dt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Dt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(y.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(b(r.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(b(S))+") >>",y.content=s;var _=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(y.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var C=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+C+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(t,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Dt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=n.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(y){var w=0,b=t,S="",_=0;for(w=0;w<y.length;w+=1)b[y.charCodeAt(w)]!==void 0?(_++,typeof(b=b[y.charCodeAt(w)])=="number"&&(S+=String.fromCharCode(b),b=t,_=0),w===y.length-1&&(b=t,S+=y.charAt(w-(_-1)),w-=_-1,_=0)):(b=t,S+=y.charAt(w-_),w-=_,_=0);return S};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(y,w,b){return a(y)?s(y)===!1?-1:!c(y)||!a(w)&&!a(b)||!a(b)&&o(w)||o(y)&&!a(w)||o(y)&&l(w)||o(y)&&o(w)?0:u(y)&&a(w)&&!o(w)&&a(b)&&c(b)?3:o(y)||!a(b)?1:2:-1},p=function(y){var w=0,b=0,S=0,_="",P="",E="",C=(y=y||"").split("\\s+"),N=[];for(w=0;w<C.length;w+=1){for(N.push(""),b=0;b<C[w].length;b+=1)_=C[w][b],P=C[w][b-1],E=C[w][b+1],a(_)?(S=h(_,P,E),N[w]+=S!==-1?String.fromCharCode(e[_.charCodeAt(0)][S]):_):N[w]+=_;N[w]=f(N[w])}return N.join(" ")},x=n.__arabicParser__.processArabic=n.processArabic=function(){var y,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var S=0;for(b=[],S=0;S<w.length;S+=1)Array.isArray(w[S])?b.push([p(w[S][0]),w[S][1],w[S][2]]):b.push([p(w[S])]);y=b}else y=p(w);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",x])})(Dt.API),Dt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Dt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,x=0,y=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,P){return _.concat(w.splitTextToSize(P,b))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)p<(y=this.getStringUnitWidth(l[S],{font:f})*u)&&(p=y);return p!==0&&(x=l.length),{w:p/=h,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,x,y,w,b=[],S=[],_=[],P={},E={},C=[],N=[],L=(h=h||{}).autoSize||!1,R=h.printHeaders!==!1,F=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,j=h.margins||Object.assign({width:this.getPageWidth()},e),D=typeof h.padding=="number"?h.padding:3,W=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=V,this.setFontSize(F),f==null)S=b=Object.keys(u[0]),_=b.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(b=f.map(function(Q){return Q.name}),S=f.map(function(Q){return Q.prompt||Q.name||""}),_=f.map(function(Q){return Q.align||"left"}),p=0;p<f.length;p+=1)E[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=b=f,_=b.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<b.length;p+=1){for(P[w=b[p]]=u.map(function(Q){return Q[w]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=P[w],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)C.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[w]=Math.max.apply(null,C)+D+D,C=[]}if(R){var Z={};for(p=0;p<b.length;p+=1)Z[b[p]]={},Z[b[p]].text=S[p],Z[b[p]].align=_[p];var J=o.call(this,Z,E);N=b.map(function(Q){return new s(l,c,E[Q],J,Z[Q].text,void 0,Z[Q].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var K=f.reduce(function(Q,X){return Q[X.name]=X.align,Q},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var $=o.call(this,u[p],E);for(y=0;y<b.length;y+=1){var te=u[p][b[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:y,data:te},this),a.call(this,new s(l,c,E[b[y]],$,te,p+2,K[b[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var x=l[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,x){return Math.max(p,x)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(x)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}})(Dt.API);var Hle={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vle=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m8=zle(Vle),Wle=[100,200,300,400,500,600,700,800,900],ZBe=zle(Wle);function YR(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return Hle[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof m8[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function DY(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var QBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BY(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function $Y(n){return n.trimLeft()}function e7e(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function t7e(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var vC,qY,UY,C1,yC,zY,HY,VY,JR=["times"];function WY(n,e,t,r,i){var s=4,a=KY;switch(i){case Dt.API.image_compression.FAST:s=1,a=GY;break;case Dt.API.image_compression.MEDIUM:s=6,a=XY;break;case Dt.API.image_compression.SLOW:s=9,a=YY}n=(function(l,c,u,f){for(var h,p=l.length/c,x=new Uint8Array(l.length+p),y=[n7e,GY,KY,XY,YY],w=0;w<p;w+=1){var b=w*c,S=l.subarray(b,b+c);if(f)x.set(f(S,u,h),b+w);else{for(var _=y.length,P=[],E=0;E<_;E+=1)P[E]=y[E](S,u,h);var C=i7e(P.concat());x.set(P[C],b+w)}h=S}return x})(n,e,Math.ceil(t*r/8),a);var o=l8(n,{level:s});return Dt.API.__addimage__.arrayBufferToBinaryString(o)}function n7e(n){var e=Array.apply([],n);return e.unshift(0),e}function GY(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function KY(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=t&&t[s]||0;i[s+1]=n[s]-a+256&255}return i}function XY(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;i[s+1]=n[s]+256-(a+o>>>1)&255}return i}function YY(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=r7e(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-a+256&255}return i}function r7e(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function i7e(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function ZR(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),a=(1<<t)-1;return Gle(n,i)>>s&a}function JY(n,e,t,r){var i=t*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var h=f>>8&255;c.setUint8(u,h)}})(n,s,Gle(n,s)&~(o<<a)&65535|l)}function Gle(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function s7e(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<1+(7&i);n[e++],n[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],f=0,h=null,p=0,x=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,x=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[e++];f=n[e++]|n[e++]<<8,h=n[e++],1&y||(h=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var w=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,P=n[e++],E=P>>6&1,C=1<<1+(7&P),N=o,L=l,R=!1;P>>7&&(R=!0,N=e,L=C,e+=3*C);var F=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}u.push({x:w,y:b,width:S,height:_,has_local_palette:R,palette_offset:N,palette_size:L,data_offset:F,data_length:e-F,transparent_index:h,interlaced:!!E,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,W){var V=this.frameInfo(D),Z=V.width*V.height,J=new Uint8Array(Z);ZY(n,V.data_offset,J,Z);var K=V.palette_offset,$=V.transparent_index;$===null&&($=256);var te=V.width,Q=t-te,X=te,B=4*(V.y*t+V.x),G=4*((V.y+V.height)*t+V.x),ne=B,ie=4*Q;V.interlaced===!0&&(ie+=4*t*7);for(var fe=8,he=0,oe=J.length;he<oe;++he){var pe=J[he];if(X===0&&(X=te,(ne+=ie)>=G&&(ie=4*Q+4*t*(fe-1),ne=B+(te+Q)*(fe<<1),fe>>=1)),pe===$)ne+=4;else{var Se=n[K+3*pe],be=n[K+3*pe+1],ye=n[K+3*pe+2];W[ne++]=ye,W[ne++]=be,W[ne++]=Se,W[ne++]=255}--X}},this.decodeAndBlitFrameRGBA=function(D,W){var V=this.frameInfo(D),Z=V.width*V.height,J=new Uint8Array(Z);ZY(n,V.data_offset,J,Z);var K=V.palette_offset,$=V.transparent_index;$===null&&($=256);var te=V.width,Q=t-te,X=te,B=4*(V.y*t+V.x),G=4*((V.y+V.height)*t+V.x),ne=B,ie=4*Q;V.interlaced===!0&&(ie+=4*t*7);for(var fe=8,he=0,oe=J.length;he<oe;++he){var pe=J[he];if(X===0&&(X=te,(ne+=ie)>=G&&(ie=4*Q+4*t*(fe-1),ne=B+(te+Q)*(fe<<1),fe>>=1)),pe===$)ne+=4;else{var Se=n[K+3*pe],be=n[K+3*pe+1],ye=n[K+3*pe+2];W[ne++]=Se,W[ne++]=be,W[ne++]=ye,W[ne++]=255}--X}}}function ZY(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=n[e++],x=new Int32Array(4096),y=null;;){for(;u<16&&p!==0;)f|=n[e++]<<u,u+=8,p===1?p=n[e++]:--p;if(u<l)break;var w=f&c;if(f>>=l,u-=l,w!==s){if(w===a)break;for(var b=w<o?w:y,S=0,_=b;_>s;)_=x[_]>>8,++S;var P=_;if(h+S+(b!==w?1:0)>r)return void qr.log("Warning, gif stream longer than expected.");t[h++]=P;var E=h+=S;for(b!==w&&(t[h++]=P),_=b;S--;)_=x[_],t[--E]=255&_,_>>=8;y!==null&&o<4096&&(x[o++]=y<<8|P,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=w}else o=a+1,c=(1<<(l=i+1))-1,y=null}return h!==r&&qr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function QR(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),x=new Array(64),y=[],w=0,b=7,S=new Array(64),_=new Array(64),P=new Array(64),E=new Array(256),C=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(B,G){for(var ne=0,ie=0,fe=new Array,he=1;he<=16;he++){for(var oe=1;oe<=B[he];oe++)fe[G[ie]]=[],fe[G[ie]][0]=ne,fe[G[ie]][1]=he,ie++,ne++;ne*=2}return fe}function K(B){for(var G=B[0],ne=B[1]-1;ne>=0;)G&1<<ne&&(w|=1<<b),ne--,--b<0&&(w==255?($(255),$(0)):$(w),b=7,w=0)}function $(B){y.push(B)}function te(B){$(B>>8&255),$(255&B)}function Q(B,G,ne,ie,fe){for(var he,oe=fe[0],pe=fe[240],Se=(function($e,at){var et,ut,lt,Ht,$t,Xt,Vn,Qt,Tt,Lt,_t=0;for(Tt=0;Tt<8;++Tt){et=$e[_t],ut=$e[_t+1],lt=$e[_t+2],Ht=$e[_t+3],$t=$e[_t+4],Xt=$e[_t+5],Vn=$e[_t+6];var Un=et+(Qt=$e[_t+7]),Dn=et-Qt,Et=ut+Vn,sn=ut-Vn,Wn=lt+Xt,qt=lt-Xt,bn=Ht+$t,Ut=Ht-$t,Mr=Un+bn,Pr=Un-bn,Ln=Et+Wn,Yt=Et-Wn;$e[_t]=Mr+Ln,$e[_t+4]=Mr-Ln;var ot=.707106781*(Yt+Pr);$e[_t+2]=Pr+ot,$e[_t+6]=Pr-ot;var vr=.382683433*((Mr=Ut+qt)-(Yt=sn+Dn)),Fn=.5411961*Mr+vr,Wr=1.306562965*Yt+vr,ws=.707106781*(Ln=qt+sn),ct=Dn+ws,Cr=Dn-ws;$e[_t+5]=Cr+Fn,$e[_t+3]=Cr-Fn,$e[_t+1]=ct+Wr,$e[_t+7]=ct-Wr,_t+=8}for(_t=0,Tt=0;Tt<8;++Tt){et=$e[_t],ut=$e[_t+8],lt=$e[_t+16],Ht=$e[_t+24],$t=$e[_t+32],Xt=$e[_t+40],Vn=$e[_t+48];var $s=et+(Qt=$e[_t+56]),ur=et-Qt,Gr=ut+Vn,ar=ut-Vn,or=lt+Xt,xi=lt-Xt,nu=Ht+$t,lf=Ht-$t,fl=$s+nu,ac=$s-nu,xs=Gr+or,Lo=Gr-or;$e[_t]=fl+xs,$e[_t+32]=fl-xs;var Qa=.707106781*(Lo+ac);$e[_t+16]=ac+Qa,$e[_t+48]=ac-Qa;var kd=.382683433*((fl=lf+xi)-(Lo=ar+ur)),dl=.5411961*fl+kd,cf=1.306562965*Lo+kd,Nd=.707106781*(xs=xi+ar),Od=ur+Nd,Tp=ur-Nd;$e[_t+40]=Tp+dl,$e[_t+24]=Tp-dl,$e[_t+8]=Od+cf,$e[_t+56]=Od-cf,_t++}for(Tt=0;Tt<64;++Tt)Lt=$e[Tt]*at[Tt],p[Tt]=Lt>0?Lt+.5|0:Lt-.5|0;return p})(B,G),be=0;be<64;++be)x[N[be]]=Se[be];var ye=x[0]-ne;ne=x[0],ye==0?K(ie[0]):(K(ie[h[he=32767+ye]]),K(f[he]));for(var Oe=63;Oe>0&&x[Oe]==0;)Oe--;if(Oe==0)return K(oe),ne;for(var Pe,ge=1;ge<=Oe;){for(var Ke=ge;x[ge]==0&&ge<=Oe;)++ge;var Xe=ge-Ke;if(Xe>=16){Pe=Xe>>4;for(var rt=1;rt<=Pe;++rt)K(pe);Xe&=15}he=32767+x[ge],K(fe[(Xe<<4)+h[he]]),K(f[he]),ge++}return Oe!=63&&K(oe),ne}function X(B){B=Math.min(Math.max(B,1),100),s!=B&&((function(G){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var fe=a((ne[ie]*G+50)/100);fe=Math.min(Math.max(fe,1),255),o[N[ie]]=fe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var pe=a((he[oe]*G+50)/100);pe=Math.min(Math.max(pe,1),255),l[N[oe]]=pe}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,ye=0;ye<8;ye++)for(var Oe=0;Oe<8;Oe++)c[be]=1/(o[N[be]]*Se[ye]*Se[Oe]*8),u[be]=1/(l[N[be]]*Se[ye]*Se[Oe]*8),be++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,G){G&&X(G),y=new Array,w=0,b=7,te(65496),te(65504),te(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),te(1),te(1),$(0),$(0),(function(){te(65499),te(132),$(0);for(var ut=0;ut<64;ut++)$(o[ut]);$(1);for(var lt=0;lt<64;lt++)$(l[lt])})(),(function(ut,lt){te(65472),te(17),$(8),te(lt),te(ut),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(B.width,B.height),(function(){te(65476),te(418),$(0);for(var ut=0;ut<16;ut++)$(L[ut+1]);for(var lt=0;lt<=11;lt++)$(R[lt]);$(16);for(var Ht=0;Ht<16;Ht++)$(F[Ht+1]);for(var $t=0;$t<=161;$t++)$(j[$t]);$(1);for(var Xt=0;Xt<16;Xt++)$(D[Xt+1]);for(var Vn=0;Vn<=11;Vn++)$(W[Vn]);$(17);for(var Qt=0;Qt<16;Qt++)$(V[Qt+1]);for(var Tt=0;Tt<=161;Tt++)$(Z[Tt])})(),te(65498),te(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var ne=0,ie=0,fe=0;w=0,b=7,this.encode.displayName="_encode_";for(var he,oe,pe,Se,be,ye,Oe,Pe,ge,Ke=B.data,Xe=B.width,rt=B.height,$e=4*Xe,at=0;at<rt;){for(he=0;he<$e;){for(be=$e*at+he,Oe=-1,Pe=0,ge=0;ge<64;ge++)ye=be+(Pe=ge>>3)*$e+(Oe=4*(7&ge)),at+Pe>=rt&&(ye-=$e*(at+1+Pe-rt)),he+Oe>=$e&&(ye-=he+Oe-$e+4),oe=Ke[ye++],pe=Ke[ye++],Se=Ke[ye++],S[ge]=(C[oe]+C[pe+256|0]+C[Se+512|0]>>16)-128,_[ge]=(C[oe+768|0]+C[pe+1024|0]+C[Se+1280|0]>>16)-128,P[ge]=(C[oe+1280|0]+C[pe+1536|0]+C[Se+1792|0]>>16)-128;ne=Q(S,c,ne,e,r),ie=Q(_,u,ie,t,i),fe=Q(P,u,fe,t,i),he+=32}at+=8}if(b>=0){var et=[];et[1]=b+1,et[0]=(1<<b+1)-1,K(et)}return te(65497),new Uint8Array(y)},n=n||50,(function(){for(var B=String.fromCharCode,G=0;G<256;G++)E[G]=B(G)})(),e=J(L,R),t=J(D,W),r=J(F,j),i=J(V,Z),(function(){for(var B=1,G=2,ne=1;ne<=15;ne++){for(var ie=B;ie<G;ie++)h[32767+ie]=ne,f[32767+ie]=[],f[32767+ie][1]=ne,f[32767+ie][0]=ie;for(var fe=-(G-1);fe<=-B;fe++)h[32767+fe]=ne,f[32767+fe]=[],f[32767+fe][1]=ne,f[32767+fe][0]=G-1+fe;B<<=1,G<<=1}})(),(function(){for(var B=0;B<256;B++)C[B]=19595*B,C[B+256|0]=38470*B,C[B+512|0]=7471*B+32768,C[B+768|0]=-11059*B,C[B+1024|0]=-21709*B,C[B+1280|0]=32768*B+8421375,C[B+1536|0]=-27439*B,C[B+1792|0]=-5329*B})(),X(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Su(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QY(n){function e(R){if(!R)throw Error("assert :P")}function t(R,F,j){for(var D=0;4>D;D++)if(R[F+D]!=j.charCodeAt(D))return!0;return!1}function r(R,F,j,D,W){for(var V=0;V<W;V++)R[F+V]=j[D+V]}function i(R,F,j,D){for(var W=0;W<D;W++)R[F+W]=j}function s(R){return new Int32Array(R)}function a(R,F){for(var j=[],D=0;D<R;D++)j.push(new F);return j}function o(R,F){var j=[];return(function D(W,V,Z){for(var J=Z[V],K=0;K<J&&(W.push(Z.length>V+1?[]:new F),!(Z.length<V+1));K++)D(W[K],V+1,Z)})(j,0,R),j}var l=function(){var R=this;function F(T,O){for(var q=1<<O-1>>>0;T&q;)q>>>=1;return q?(T&q-1)+q:T}function j(T,O,q,Y,se){e(!(Y%q));do T[O+(Y-=q)]=se;while(0<Y)}function D(T,O,q,Y,se){if(e(2328>=se),512>=se)var ce=s(512);else if((ce=s(se))==null)return 0;return(function(ue,me,ve,we,Ee,Re){var xe,ke,Le=me,Ue=1<<ve,Me=s(16),Be=s(16);for(e(Ee!=0),e(we!=null),e(ue!=null),e(0<ve),ke=0;ke<Ee;++ke){if(15<we[ke])return 0;++Me[we[ke]]}if(Me[0]==Ee)return 0;for(Be[1]=0,xe=1;15>xe;++xe){if(Me[xe]>1<<xe)return 0;Be[xe+1]=Be[xe]+Me[xe]}for(ke=0;ke<Ee;++ke)xe=we[ke],0<we[ke]&&(Re[Be[xe]++]=ke);if(Be[15]==1)return(we=new W).g=0,we.value=Re[0],j(ue,Le,1,Ue,we),Ue;var qe,We=-1,Ge=Ue-1,Ot=0,dt=1,pn=1,wt=1<<ve;for(ke=0,xe=1,Ee=2;xe<=ve;++xe,Ee<<=1){if(dt+=pn<<=1,0>(pn-=Me[xe]))return 0;for(;0<Me[xe];--Me[xe])(we=new W).g=xe,we.value=Re[ke++],j(ue,Le+Ot,Ee,wt,we),Ot=F(Ot,xe)}for(xe=ve+1,Ee=2;15>=xe;++xe,Ee<<=1){if(dt+=pn<<=1,0>(pn-=Me[xe]))return 0;for(;0<Me[xe];--Me[xe]){if(we=new W,(Ot&Ge)!=We){for(Le+=wt,qe=1<<(We=xe)-ve;15>We&&!(0>=(qe-=Me[We]));)++We,qe<<=1;Ue+=wt=1<<(qe=We-ve),ue[me+(We=Ot&Ge)].g=qe+ve,ue[me+We].value=Le-me-We}we.g=xe-ve,we.value=Re[ke++],j(ue,Le+(Ot>>ve),Ee,wt,we),Ot=F(Ot,xe)}}return dt!=2*Be[15]-1?0:Ue})(T,O,q,Y,se,ce)}function W(){this.value=this.g=0}function V(){this.value=this.g=0}function Z(){this.G=a(5,W),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(qo,V)}function J(T,O,q,Y){e(T!=null),e(O!=null),e(2147483648>Y),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=O,T.pa=q,T.Jd=O,T.Yc=q+Y,T.Zc=4<=Y?q+Y-4+1:q,oe(T)}function K(T,O){for(var q=0;0<O--;)q|=Se(T,128)<<O;return q}function $(T,O){var q=K(T,O);return pe(T)?-q:q}function te(T,O,q,Y){var se,ce=0;for(e(T!=null),e(O!=null),e(4294967288>Y),T.Sb=Y,T.Ra=0,T.u=0,T.h=0,4<Y&&(Y=4),se=0;se<Y;++se)ce+=O[q+se]<<8*se;T.Ra=ce,T.bb=Y,T.oa=O,T.pa=q}function Q(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<mf-8>>>0,++T.bb,T.u-=8;ie(T)&&(T.h=1,T.u=0)}function X(T,O){if(e(0<=O),!T.h&&O<=so){var q=ne(T)&io[O];return T.u+=O,Q(T),q}return T.h=1,T.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(T){return T.Ra>>>(T.u&mf-1)>>>0}function ie(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>mf}function fe(T,O){T.u=O,T.h=ie(T)}function he(T){T.u>=hc&&(e(T.u>=hc),Q(T))}function oe(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function pe(T){return K(T,1)}function Se(T,O){var q=T.Ca;0>T.b&&oe(T);var Y=T.b,se=q*O>>>8,ce=(T.I>>>Y>se)+0;for(ce?(q-=se,T.I-=se+1<<Y>>>0):q=se+1,Y=q,se=0;256<=Y;)se+=8,Y>>=8;return Y=7^se+cu[Y],T.b-=Y,T.Ca=(q<<Y)-1,ce}function be(T,O,q){T[O+0]=q>>24&255,T[O+1]=q>>16&255,T[O+2]=q>>8&255,T[O+3]=255&q}function ye(T,O){return T[O+0]|T[O+1]<<8}function Oe(T,O){return ye(T,O)|T[O+2]<<16}function Pe(T,O){return ye(T,O)|ye(T,O+2)<<16}function ge(T,O){var q=1<<O;return e(T!=null),e(0<O),T.X=s(q),T.X==null?0:(T.Mb=32-O,T.Xa=O,1)}function Ke(T,O){e(T!=null),e(O!=null),e(T.Xa==O.Xa),r(O.X,0,T.X,0,1<<O.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function rt(T,O,q,Y){e(q!=null),e(Y!=null);var se=q[0],ce=Y[0];return se==0&&(se=(T*ce+O/2)/O),ce==0&&(ce=(O*se+T/2)/T),0>=se||0>=ce?0:(q[0]=se,Y[0]=ce,1)}function $e(T,O){return T+(1<<O)-1>>>O}function at(T,O){return((4278255360&T)+(4278255360&O)>>>0&4278255360)+((16711935&T)+(16711935&O)>>>0&16711935)>>>0}function et(T,O){R[O]=function(q,Y,se,ce,ue,me,ve){var we;for(we=0;we<ue;++we){var Ee=R[T](me[ve+we-1],se,ce+we);me[ve+we]=at(q[Y+we],Ee)}}}function ut(){this.ud=this.hd=this.jd=0}function lt(T,O){return((4278124286&(T^O))>>>1)+(T&O)>>>0}function Ht(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function $t(T,O){return Ht(T+(T-O+.5>>1))}function Xt(T,O,q){return Math.abs(O-q)-Math.abs(T-q)}function Vn(T,O,q,Y,se,ce,ue){for(Y=ce[ue-1],q=0;q<se;++q)ce[ue+q]=Y=at(T[O+q],Y)}function Qt(T,O,q,Y,se){var ce;for(ce=0;ce<q;++ce){var ue=T[O+ce],me=ue>>8&255,ve=16711935&(ve=(ve=16711935&ue)+((me<<16)+me));Y[se+ce]=(4278255360&ue)+ve>>>0}}function Tt(T,O){O.jd=255&T,O.hd=T>>8&255,O.ud=T>>16&255}function Lt(T,O,q,Y,se,ce){var ue;for(ue=0;ue<Y;++ue){var me=O[q+ue],ve=me>>>8,we=me,Ee=255&(Ee=(Ee=me>>>16)+((T.jd<<24>>24)*(ve<<24>>24)>>>5));we=255&(we=(we+=(T.hd<<24>>24)*(ve<<24>>24)>>>5)+((T.ud<<24>>24)*(Ee<<24>>24)>>>5)),se[ce+ue]=(4278255360&me)+(Ee<<16)+we}}function _t(T,O,q,Y,se){R[O]=function(ce,ue,me,ve,we,Ee,Re,xe,ke){for(ve=Re;ve<xe;++ve)for(Re=0;Re<ke;++Re)we[Ee++]=se(me[Y(ce[ue++])])},R[T]=function(ce,ue,me,ve,we,Ee,Re){var xe=8>>ce.b,ke=ce.Ea,Le=ce.K[0],Ue=ce.w;if(8>xe)for(ce=(1<<ce.b)-1,Ue=(1<<xe)-1;ue<me;++ue){var Me,Be=0;for(Me=0;Me<ke;++Me)Me&ce||(Be=Y(ve[we++])),Ee[Re++]=se(Le[Be&Ue]),Be>>=xe}else R["VP8LMapColor"+q](ve,we,Le,Ue,Ee,Re,ue,me,ke)}}function Un(T,O,q,Y,se){for(q=O+q;O<q;){var ce=T[O++];Y[se++]=ce>>16&255,Y[se++]=ce>>8&255,Y[se++]=255&ce}}function Dn(T,O,q,Y,se){for(q=O+q;O<q;){var ce=T[O++];Y[se++]=ce>>16&255,Y[se++]=ce>>8&255,Y[se++]=255&ce,Y[se++]=ce>>24&255}}function Et(T,O,q,Y,se){for(q=O+q;O<q;){var ce=(ue=T[O++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;Y[se++]=ce,Y[se++]=ue}}function sn(T,O,q,Y,se){for(q=O+q;O<q;){var ce=(ue=T[O++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;Y[se++]=ce,Y[se++]=ue}}function Wn(T,O,q,Y,se){for(q=O+q;O<q;){var ce=T[O++];Y[se++]=255&ce,Y[se++]=ce>>8&255,Y[se++]=ce>>16&255}}function qt(T,O,q,Y,se,ce){if(ce==0)for(q=O+q;O<q;)be(Y,((ce=T[O++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),se+=32;else r(Y,se,T,O,q)}function bn(T,O){R[O][0]=R[T+"0"],R[O][1]=R[T+"1"],R[O][2]=R[T+"2"],R[O][3]=R[T+"3"],R[O][4]=R[T+"4"],R[O][5]=R[T+"5"],R[O][6]=R[T+"6"],R[O][7]=R[T+"7"],R[O][8]=R[T+"8"],R[O][9]=R[T+"9"],R[O][10]=R[T+"10"],R[O][11]=R[T+"11"],R[O][12]=R[T+"12"],R[O][13]=R[T+"13"],R[O][14]=R[T+"0"],R[O][15]=R[T+"0"]}function Ut(T){return T==Hp||T==eh||T==Jg||T==Zg}function Mr(){this.eb=[],this.size=this.A=this.fb=0}function Pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mr,this.f.kb=new Pr,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vr(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function Fn(T,O){var q=T.T,Y=O.ba.f.RGBA,se=Y.eb,ce=Y.fb+T.ka*Y.A,ue=ja[O.ba.S],me=T.y,ve=T.O,we=T.f,Ee=T.N,Re=T.ea,xe=T.W,ke=O.cc,Le=O.dc,Ue=O.Mc,Me=O.Nc,Be=T.ka,qe=T.ka+T.T,We=T.U,Ge=We+1>>1;for(Be==0?ue(me,ve,null,null,we,Ee,Re,xe,we,Ee,Re,xe,se,ce,null,null,We):(ue(O.ec,O.fc,me,ve,ke,Le,Ue,Me,we,Ee,Re,xe,se,ce-Y.A,se,ce,We),++q);Be+2<qe;Be+=2)ke=we,Le=Ee,Ue=Re,Me=xe,Ee+=T.Rc,xe+=T.Rc,ce+=2*Y.A,ue(me,(ve+=2*T.fa)-T.fa,me,ve,ke,Le,Ue,Me,we,Ee,Re,xe,se,ce-Y.A,se,ce,We);return ve+=T.fa,T.j+qe<T.o?(r(O.ec,O.fc,me,ve,We),r(O.cc,O.dc,we,Ee,Ge),r(O.Mc,O.Nc,Re,xe,Ge),q--):1&qe||ue(me,ve,null,null,we,Ee,Re,xe,we,Ee,Re,xe,se,ce+Y.A,null,null,We),q}function Wr(T,O,q){var Y=T.F,se=[T.J];if(Y!=null){var ce=T.U,ue=O.ba.S,me=ue==Yg||ue==Jg;O=O.ba.f.RGBA;var ve=[0],we=T.ka;ve[0]=T.T,T.Kb&&(we==0?--ve[0]:(--we,se[0]-=T.width),T.j+T.ka+T.T==T.o&&(ve[0]=T.o-T.j-we));var Ee=O.eb;we=O.fb+we*O.A,T=Kg(Y,se[0],T.width,ce,ve,Ee,we+(me?0:3),O.A),e(q==ve),T&&Ut(ue)&&Qd(Ee,we,me,ce,ve,O.A)}return 0}function ws(T){var O=T.ma,q=O.ba.S,Y=11>q,se=q==bf||q==Xg||q==Yg||q==yr||q==12||Ut(q);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!Dp(O.Oa,T,se?11:12))return 0;if(se&&Ut(q)&&V0(),T.da)alert("todo:use_scaling");else{if(Y){if(O.Ib=vr,T.Kb){if(q=T.U+1>>1,O.memory=s(T.U+2*q),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+T.U,O.Mc=O.cc,O.Nc=O.dc+q,O.Ib=Fn,V0()}}else alert("todo:EmitYUV");se&&(O.Jb=Wr,Y&&$o())}if(Y&&!Ss){for(T=0;256>T;++T)La[T]=89858*(T-128)+wl>>hu,Ra[T]=-22014*(T-128)+wl,Kp[T]=-45773*(T-128),ih[T]=113618*(T-128)+wl>>hu;for(T=lr;T<dr;++T)O=76283*(T-16)+wl>>hu,Q0[T-lr]=ci(O,255),z5[T-lr]=ci(O+8>>4,15);Ss=1}return 1}function ct(T){var O=T.ma,q=T.U,Y=T.T;return e(!(1&T.ka)),0>=q||0>=Y?0:(q=O.Ib(T,O),O.Jb!=null&&O.Jb(T,O,q),O.Dc+=q,1)}function Cr(T){T.ma.memory=null}function $s(T,O,q,Y){return X(T,8)!=47?0:(O[0]=X(T,14)+1,q[0]=X(T,14)+1,Y[0]=X(T,1),X(T,3)!=0?0:!T.h)}function ur(T,O){if(4>T)return T+1;var q=T-2>>1;return(2+(1&T)<<q)+X(O,q)+1}function Gr(T,O){return 120<O?O-120:1<=(q=((q=WN[O-1])>>4)*T+(8-(15&q)))?q:1;var q}function ar(T,O,q){var Y=ne(q),se=T[O+=255&Y].g-8;return 0<se&&(fe(q,q.u+8),Y=ne(q),O+=T[O].value,O+=Y&(1<<se)-1),fe(q,q.u+T[O].g),T[O].value}function or(T,O,q){return q.g+=T.g,q.value+=T.value<<O>>>0,e(8>=q.g),T.g}function xi(T,O,q){var Y=T.xc;return e((O=Y==0?0:T.vc[T.md*(q>>Y)+(O>>Y)])<T.Wb),T.Ya[O]}function nu(T,O,q,Y){var se=T.ab,ce=T.c*O,ue=T.C;O=ue+O;var me=q,ve=Y;for(Y=T.Ta,q=T.Ua;0<se--;){var we=T.gc[se],Ee=ue,Re=O,xe=me,ke=ve,Le=(ve=Y,me=q,we.Ea);switch(e(Ee<Re),e(Re<=we.nc),we.hc){case 2:Ai(xe,ke,(Re-Ee)*Le,ve,me);break;case 0:var Ue=Ee,Me=Re,Be=ve,qe=me,We=(wt=we).Ea;Ue==0&&(uu(xe,ke,null,null,1,Be,qe),Vn(xe,ke+1,0,0,We-1,Be,qe+1),ke+=We,qe+=We,++Ue);for(var Ge=1<<wt.b,Ot=Ge-1,dt=$e(We,wt.b),pn=wt.K,wt=wt.w+(Ue>>wt.b)*dt;Ue<Me;){var Nn=pn,di=wt,gn=1;for(pc(xe,ke,Be,qe-We,1,Be,qe);gn<We;){var ht=(gn&~Ot)+Ge;ht>We&&(ht=We),(0,Xd[Nn[di++]>>8&15])(xe,ke+ +gn,Be,qe+gn-We,ht-gn,Be,qe+gn),gn=ht}ke+=We,qe+=We,++Ue&Ot||(wt+=dt)}Re!=we.nc&&r(ve,me-Le,ve,me+(Re-Ee-1)*Le,Le);break;case 1:for(Le=xe,Me=ke,We=(xe=we.Ea)-(qe=xe&~(Be=(ke=1<<we.b)-1)),Ue=$e(xe,we.b),Ge=we.K,we=we.w+(Ee>>we.b)*Ue;Ee<Re;){for(Ot=Ge,dt=we,pn=new ut,wt=Me+qe,Nn=Me+xe;Me<wt;)Tt(Ot[dt++],pn),Bp(pn,Le,Me,ke,ve,me),Me+=ke,me+=ke;Me<Nn&&(Tt(Ot[dt++],pn),Bp(pn,Le,Me,We,ve,me),Me+=We,me+=We),++Ee&Be||(we+=Ue)}break;case 3:if(xe==ve&&ke==me&&0<we.b){for(Me=ve,xe=Le=me+(Re-Ee)*Le-(qe=(Re-Ee)*$e(we.Ea,we.b)),ke=ve,Be=me,Ue=[],qe=(We=qe)-1;0<=qe;--qe)Ue[qe]=ke[Be+qe];for(qe=We-1;0<=qe;--qe)Me[xe+qe]=Ue[qe];Gd(we,Ee,Re,ve,Le,ve,me)}else Gd(we,Ee,Re,xe,ke,ve,me)}me=Y,ve=q}ve!=q&&r(Y,q,me,ve,ce)}function lf(T,O){var q=T.V,Y=T.Ba+T.c*T.C,se=O-T.C;if(e(O<=T.l.o),e(16>=se),0<se){var ce=T.l,ue=T.Ta,me=T.Ua,ve=ce.width;if(nu(T,se,q,Y),se=me=[me],e((q=T.C)<(Y=O)),e(ce.v<ce.va),Y>ce.o&&(Y=ce.o),q<ce.j){var we=ce.j-q;q=ce.j,se[0]+=we*ve}if(q>=Y?q=0:(se[0]+=4*ce.v,ce.ka=q-ce.j,ce.U=ce.va-ce.v,ce.T=Y-q,q=1),q){if(me=me[0],11>(q=T.ca).S){var Ee=q.f.RGBA,Re=(Y=q.S,se=ce.U,ce=ce.T,we=Ee.eb,Ee.A),xe=ce;for(Ee=Ee.fb+T.Ma*Ee.A;0<xe--;){var ke=ue,Le=me,Ue=se,Me=we,Be=Ee;switch(Y){case X0:$p(ke,Le,Ue,Me,Be);break;case bf:fu(ke,Le,Ue,Me,Be);break;case Hp:fu(ke,Le,Ue,Me,Be),Qd(Me,Be,0,Ue,1,0);break;case F5:Yd(ke,Le,Ue,Me,Be);break;case Xg:qt(ke,Le,Ue,Me,Be,1);break;case eh:qt(ke,Le,Ue,Me,Be,1),Qd(Me,Be,0,Ue,1,0);break;case Yg:qt(ke,Le,Ue,Me,Be,0);break;case Jg:qt(ke,Le,Ue,Me,Be,0),Qd(Me,Be,1,Ue,1,0);break;case yr:gf(ke,Le,Ue,Me,Be);break;case Zg:gf(ke,Le,Ue,Me,Be),Wx(Me,Be,Ue,1,0);break;case Y0:vf(ke,Le,Ue,Me,Be);break;default:e(0)}me+=ve,Ee+=Re}T.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=q.height)}}T.C=O,e(T.C<=T.i)}function fl(T){var O;if(0<T.ua)return 0;for(O=0;O<T.Wb;++O){var q=T.Ya[O].G,Y=T.Ya[O].H;if(0<q[1][Y[1]+0].g||0<q[2][Y[2]+0].g||0<q[3][Y[3]+0].g)return 0}return 1}function ac(T,O,q,Y,se,ce){if(T.Z!=0){var ue=T.qd,me=T.rd;for(e(Hs[T.Z]!=null);O<q;++O)Hs[T.Z](ue,me,Y,se,Y,se,ce),ue=Y,me=se,se+=ce;T.qd=ue,T.rd=me}}function xs(T,O){var q=T.l.ma,Y=q.Z==0||q.Z==1?T.l.j:T.C;if(Y=T.C<Y?Y:T.C,e(O<=T.l.o),O>Y){var se=T.l.width,ce=q.ca,ue=q.tb+se*Y,me=T.V,ve=T.Ba+T.c*Y,we=T.gc;e(T.ab==1),e(we[0].hc==3),yl(we[0],Y,O,me,ve,ce,ue),ac(q,Y,O,ce,ue,se)}T.C=T.Ma=O}function Lo(T,O,q,Y,se,ce,ue){var me=T.$/Y,ve=T.$%Y,we=T.m,Ee=T.s,Re=q+T.$,xe=Re;se=q+Y*se;var ke=q+Y*ce,Le=280+Ee.ua,Ue=T.Pb?me:16777216,Me=0<Ee.ua?Ee.Wa:null,Be=Ee.wc,qe=Re<ke?xi(Ee,ve,me):null;e(T.C<ce),e(ke<=se);var We=!1;e:for(;;){for(;We||Re<ke;){var Ge=0;if(me>=Ue){var Ot=Re-q;e((Ue=T).Pb),Ue.wd=Ue.m,Ue.xd=Ot,0<Ue.s.ua&&Ke(Ue.s.Wa,Ue.s.vb),Ue=me+Z0}if(ve&Be||(qe=xi(Ee,ve,me)),e(qe!=null),qe.Qb&&(O[Re]=qe.qb,We=!0),!We)if(he(we),qe.jc){Ge=we,Ot=O;var dt=Re,pn=qe.pd[ne(Ge)&qo-1];e(qe.jc),256>pn.g?(fe(Ge,Ge.u+pn.g),Ot[dt]=pn.value,Ge=0):(fe(Ge,Ge.u+pn.g-256),e(256<=pn.value),Ge=pn.value),Ge==0&&(We=!0)}else Ge=ar(qe.G[0],qe.H[0],we);if(we.h)break;if(We||256>Ge){if(!We)if(qe.nd)O[Re]=(qe.qb|Ge<<8)>>>0;else{if(he(we),We=ar(qe.G[1],qe.H[1],we),he(we),Ot=ar(qe.G[2],qe.H[2],we),dt=ar(qe.G[3],qe.H[3],we),we.h)break;O[Re]=(dt<<24|We<<16|Ge<<8|Ot)>>>0}if(We=!1,++Re,++ve>=Y&&(ve=0,++me,ue!=null&&me<=ce&&!(me%16)&&ue(T,me),Me!=null))for(;xe<Re;)Ge=O[xe++],Me.X[(506832829*Ge&4294967295)>>>Me.Mb]=Ge}else if(280>Ge){if(Ge=ur(Ge-256,we),Ot=ar(qe.G[4],qe.H[4],we),he(we),Ot=Gr(Y,Ot=ur(Ot,we)),we.h)break;if(Re-q<Ot||se-Re<Ge)break e;for(dt=0;dt<Ge;++dt)O[Re+dt]=O[Re+dt-Ot];for(Re+=Ge,ve+=Ge;ve>=Y;)ve-=Y,++me,ue!=null&&me<=ce&&!(me%16)&&ue(T,me);if(e(Re<=se),ve&Be&&(qe=xi(Ee,ve,me)),Me!=null)for(;xe<Re;)Ge=O[xe++],Me.X[(506832829*Ge&4294967295)>>>Me.Mb]=Ge}else{if(!(Ge<Le))break e;for(We=Ge-280,e(Me!=null);xe<Re;)Ge=O[xe++],Me.X[(506832829*Ge&4294967295)>>>Me.Mb]=Ge;Ge=Re,e(!(We>>>(Ot=Me).Xa)),O[Ge]=Ot.X[We],We=!0}We||e(we.h==ie(we))}if(T.Pb&&we.h&&Re<se)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&Ke(T.s.vb,T.s.Wa);else{if(we.h)break e;ue!=null&&ue(T,me>ce?ce:me),T.a=0,T.$=Re-q}return 1}return T.a=3,0}function Qa(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var O=T.Wa;O!=null&&(O.X=null),T.vb=null,e(T!=null)}function kd(){var T=new Nt;return T==null?null:(T.a=0,T.xb=Wp,bn("Predictor","VP8LPredictors"),bn("Predictor","VP8LPredictors_C"),bn("PredictorAdd","VP8LPredictorsAdd"),bn("PredictorAdd","VP8LPredictorsAdd_C"),Ai=Qt,Bp=Lt,$p=Un,fu=Dn,gf=Et,vf=sn,Yd=Wn,R.VP8LMapColor32b=mc,R.VP8LMapColor8b=Kd,T)}function dl(T,O,q,Y,se){var ce=1,ue=[T],me=[O],ve=Y.m,we=Y.s,Ee=null,Re=0;e:for(;;){if(q)for(;ce&&X(ve,1);){var xe=ue,ke=me,Le=Y,Ue=1,Me=Le.m,Be=Le.gc[Le.ab],qe=X(Me,2);if(Le.Oc&1<<qe)ce=0;else{switch(Le.Oc|=1<<qe,Be.hc=qe,Be.Ea=xe[0],Be.nc=ke[0],Be.K=[null],++Le.ab,e(4>=Le.ab),qe){case 0:case 1:Be.b=X(Me,3)+2,Ue=dl($e(Be.Ea,Be.b),$e(Be.nc,Be.b),0,Le,Be.K),Be.K=Be.K[0];break;case 3:var We,Ge=X(Me,8)+1,Ot=16<Ge?0:4<Ge?1:2<Ge?2:3;if(xe[0]=$e(Be.Ea,Ot),Be.b=Ot,We=Ue=dl(Ge,1,0,Le,Be.K)){var dt,pn=Ge,wt=Be,Nn=1<<(8>>wt.b),di=s(Nn);if(di==null)We=0;else{var gn=wt.K[0],ht=wt.w;for(di[0]=wt.K[0][0],dt=1;dt<1*pn;++dt)di[dt]=at(gn[ht+dt],di[dt-1]);for(;dt<4*Nn;++dt)di[dt]=0;wt.K[0]=null,wt.K[0]=di,We=1}}Ue=We;break;case 2:break;default:e(0)}ce=Ue}}if(ue=ue[0],me=me[0],ce&&X(ve,1)&&!(ce=1<=(Re=X(ve,4))&&11>=Re)){Y.a=3;break e}var it;if(it=ce)t:{var Pi,rn,Tn,Tr=Y,os=ue,Di=me,ri=Re,Yi=q,ls=Tr.m,Kr=Tr.s,Rn=[null],Zn=1,Xr=0,Qn=$5[ri];n:for(;;){if(Yi&&X(ls,1)){var hi=X(ls,3)+2,pi=$e(os,hi),br=$e(Di,hi),Vs=pi*br;if(!dl(pi,br,0,Tr,Rn))break n;for(Rn=Rn[0],Kr.xc=hi,Pi=0;Pi<Vs;++Pi){var hr=Rn[Pi]>>8&65535;Rn[Pi]=hr,hr>=Zn&&(Zn=hr+1)}}if(ls.h)break n;for(rn=0;5>rn;++rn){var wr=th[rn];!rn&&0<ri&&(wr+=1<<ri),Xr<wr&&(Xr=wr)}var Fi=a(Zn*Qn,W),As=Zn,Ia=a(As,Z);if(Ia==null)var Ci=null;else e(65536>=As),Ci=Ia;var Ei=s(Xr);if(Ci==null||Ei==null||Fi==null){Tr.a=1;break n}var Ws=Fi;for(Pi=Tn=0;Pi<Zn;++Pi){var xr=Ci[Pi],Gs=xr.G,Ho=xr.H,xl=0,cs=1,Ti=0;for(rn=0;5>rn;++rn){wr=th[rn],Gs[rn]=Ws,Ho[rn]=Tn,!rn&&0<ri&&(wr+=1<<ri);i:{var _f,mu=wr,Xp=Tr,yc=Ei,V5=Ws,i2=Tn,Fr=0,_l=Xp.m,s2=X(_l,1);if(i(yc,0,0,mu),s2){var a2=X(_l,1)+1,e1=X(_l,1),t1=X(_l,e1==0?1:8);yc[t1]=1,a2==2&&(yc[t1=X(_l,8)]=1);var bc=1}else{var Yr=s(19),Bi=X(_l,4)+4;if(19<Bi){Xp.a=3;var ki=0;break i}for(_f=0;_f<Bi;++_f)Yr[VN[_f]]=X(_l,3);var Yp=void 0,gu=void 0,Jp=Xp,JN=Yr,Ji=mu,n1=yc,rv=0,wc=Jp.m,Sl=8,ao=a(128,W);r:for(;D(ao,0,7,JN,19);){if(X(wc,1)){var iv=2+2*X(wc,3);if((Yp=2+X(wc,iv))>Ji)break r}else Yp=Ji;for(gu=0;gu<Ji&&Yp--;){he(wc);var r1=ao[0+(127&ne(wc))];fe(wc,wc.u+r1.g);var Sf=r1.value;if(16>Sf)n1[gu++]=Sf,Sf!=0&&(Sl=Sf);else{var W5=Sf==16,o2=Sf-16,G5=J0[o2],l2=X(wc,Qg[o2])+G5;if(gu+l2>Ji)break r;for(var K5=W5?Sl:0;0<l2--;)n1[gu++]=K5}}rv=1;break r}rv||(Jp.a=3),bc=rv}(bc=bc&&!_l.h)&&(Fr=D(V5,i2,8,yc,mu)),bc&&Fr!=0?ki=Fr:(Xp.a=3,ki=0)}if(ki==0)break n;if(cs&&B5[rn]==1&&(cs=Ws[Tn].g==0),xl+=Ws[Tn].g,Tn+=ki,3>=rn){var Zp,i1=Ei[0];for(Zp=1;Zp<wr;++Zp)Ei[Zp]>i1&&(i1=Ei[Zp]);Ti+=i1}}if(xr.nd=cs,xr.Qb=0,cs&&(xr.qb=(Gs[3][Ho[3]+0].value<<24|Gs[1][Ho[1]+0].value<<16|Gs[2][Ho[2]+0].value)>>>0,xl==0&&256>Gs[0][Ho[0]+0].value&&(xr.Qb=1,xr.qb+=Gs[0][Ho[0]+0].value<<8)),xr.jc=!xr.Qb&&6>Ti,xr.jc){var sv,oo=xr;for(sv=0;sv<qo;++sv){var vu=sv,Al=oo.pd[vu],ah=oo.G[0][oo.H[0]+vu];256<=ah.value?(Al.g=ah.g+256,Al.value=ah.value):(Al.g=0,Al.value=0,vu>>=or(ah,8,Al),vu>>=or(oo.G[1][oo.H[1]+vu],16,Al),vu>>=or(oo.G[2][oo.H[2]+vu],0,Al),or(oo.G[3][oo.H[3]+vu],24,Al))}}}Kr.vc=Rn,Kr.Wb=Zn,Kr.Ya=Ci,Kr.yc=Fi,it=1;break t}it=0}if(!(ce=it)){Y.a=3;break e}if(0<Re){if(we.ua=1<<Re,!ge(we.Wa,Re)){Y.a=1,ce=0;break e}}else we.ua=0;var s1=Y,a1=ue,X5=me,o1=s1.s,l1=o1.xc;if(s1.c=a1,s1.i=X5,o1.md=$e(a1,l1),o1.wc=l1==0?-1:(1<<l1)-1,q){Y.xb=vc;break e}if((Ee=s(ue*me))==null){Y.a=1,ce=0;break e}ce=(ce=Lo(Y,Ee,0,ue,me,me,null))&&!ve.h;break e}return ce?(se!=null?se[0]=Ee:(e(Ee==null),e(q)),Y.$=0,q||Qa(we)):Qa(we),ce}function cf(T,O){var q=T.c*T.i,Y=q+O+16*O;return e(T.c<=O),T.V=s(Y),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+q+O,1)}function Nd(T,O){var q=T.C,Y=O-q,se=T.V,ce=T.Ba+T.c*q;for(e(O<=T.l.o);0<Y;){var ue=16<Y?16:Y,me=T.l.ma,ve=T.l.width,we=ve*ue,Ee=me.ca,Re=me.tb+ve*q,xe=T.Ta,ke=T.Ua;nu(T,ue,se,ce),Gx(xe,ke,Ee,Re,we),ac(me,q,q+ue,Ee,Re,ve),Y-=ue,se+=ue*T.c,q+=ue}e(q==O),T.C=T.Ma=O}function Od(){this.ub=this.yd=this.td=this.Rb=0}function Tp(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ux(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dr(){this.Yb=(function(){var T=[];return(function O(q,Y,se){for(var ce=se[Y],ue=0;ue<ce&&(q.push(se.length>Y+1?[]:0),!(se.length<Y+1));ue++)O(q[ue],Y+1,se)})(T,0,[3,11]),T})()}function M0(){this.jb=s(3),this.Wc=o([4,8],Dr),this.Xc=o([4,17],Dr)}function kp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function eo(){this.ld=this.La=this.dd=this.tc=0}function uf(){this.Na=this.la=0}function D0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Np(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jd(){this.uc=this.M=this.Nb=0,this.wa=Array(new eo),this.Y=0,this.ya=Array(new Np),this.aa=0,this.l=new qs}function to(){this.y=s(16),this.f=s(8),this.ea=s(8)}function F0(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Od,this.Kc=new Tp,this.ed=new kp,this.Qa=new Ux,this.Ic=this.$c=this.Aa=0,this.D=new jd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,B),this.ia=0,this.pb=a(4,D0),this.Pa=new M0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new to),this.Hd=0,this.rb=Array(new uf),this.sb=0,this.wa=Array(new eo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Np),this.L=this.aa=0,this.gd=o([4,2],eo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zx(){var T=new F0;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,nh||(nh=Ro)),T}function Ri(T,O,q){return T.a==0&&(T.a=O,T.sc=q,T.cb=0),0}function B0(T,O,q){return 3<=q&&T[O+0]==157&&T[O+1]==1&&T[O+2]==42}function Ld(T,O){if(T==null)return 0;if(T.a=0,T.sc="OK",O==null)return Ri(T,2,"null VP8Io passed to VP8GetHeaders()");var q=O.data,Y=O.w,se=O.ha;if(4>se)return Ri(T,7,"Truncated header.");var ce=q[Y+0]|q[Y+1]<<8|q[Y+2]<<16,ue=T.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return Ri(T,3,"Incorrect keyframe parameters.");if(!ue.yd)return Ri(T,4,"Frame not displayable.");Y+=3,se-=3;var me=T.Kc;if(ue.Rb){if(7>se)return Ri(T,7,"cannot parse picture header");if(!B0(q,Y,se))return Ri(T,3,"Bad code word");me.c=16383&(q[Y+4]<<8|q[Y+3]),me.Td=q[Y+4]>>6,me.i=16383&(q[Y+6]<<8|q[Y+5]),me.Ud=q[Y+6]>>6,Y+=7,se-=7,T.za=me.c+15>>4,T.Ub=me.i+15>>4,O.width=me.c,O.height=me.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((ce=T.Pa).jb,0,255,ce.jb.length),e((ce=T.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(ue.ub>se)return Ri(T,7,"bad partition length");J(ce=T.m,q,Y,ue.ub),Y+=ue.ub,se-=ue.ub,ue.Rb&&(me.Ld=pe(ce),me.Kd=pe(ce)),me=T.Qa;var ve,we=T.Pa;if(e(ce!=null),e(me!=null),me.Cb=pe(ce),me.Cb){if(me.Bb=pe(ce),pe(ce)){for(me.Fb=pe(ce),ve=0;4>ve;++ve)me.Zb[ve]=pe(ce)?$(ce,7):0;for(ve=0;4>ve;++ve)me.Lb[ve]=pe(ce)?$(ce,6):0}if(me.Bb)for(ve=0;3>ve;++ve)we.jb[ve]=pe(ce)?K(ce,8):255}else me.Bb=0;if(ce.Ka)return Ri(T,3,"cannot parse segment header");if((me=T.ed).zd=pe(ce),me.Tb=K(ce,6),me.wb=K(ce,3),me.Pc=pe(ce),me.Pc&&pe(ce)){for(we=0;4>we;++we)pe(ce)&&(me.vd[we]=$(ce,6));for(we=0;4>we;++we)pe(ce)&&(me.od[we]=$(ce,6))}if(T.L=me.Tb==0?0:me.zd?1:2,ce.Ka)return Ri(T,3,"cannot parse filter header");var Ee=se;if(se=ve=Y,Y=ve+Ee,me=Ee,T.Xb=(1<<K(T.m,2))-1,Ee<3*(we=T.Xb))q=7;else{for(ve+=3*we,me-=3*we,Ee=0;Ee<we;++Ee){var Re=q[se+0]|q[se+1]<<8|q[se+2]<<16;Re>me&&(Re=me),J(T.Jc[+Ee],q,ve,Re),ve+=Re,me-=Re,se+=3}J(T.Jc[+we],q,ve,me),q=ve<Y?0:5}if(q!=0)return Ri(T,q,"cannot parse partitions");for(q=K(ve=T.m,7),se=pe(ve)?$(ve,4):0,Y=pe(ve)?$(ve,4):0,me=pe(ve)?$(ve,4):0,we=pe(ve)?$(ve,4):0,ve=pe(ve)?$(ve,4):0,Ee=T.Qa,Re=0;4>Re;++Re){if(Ee.Cb){var xe=Ee.Zb[Re];Ee.Fb||(xe+=q)}else{if(0<Re){T.pb[Re]=T.pb[0];continue}xe=q}var ke=T.pb[Re];ke.Sc[0]=Vp[ci(xe+se,127)],ke.Sc[1]=ev[ci(xe+0,127)],ke.Eb[0]=2*Vp[ci(xe+Y,127)],ke.Eb[1]=101581*ev[ci(xe+me,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Vp[ci(xe+we,117)],ke.Qc[1]=ev[ci(xe+ve,127)],ke.lc=xe+ve}if(!ue.Rb)return Ri(T,4,"Not a key frame.");for(pe(ce),ue=T.Pa,q=0;4>q;++q){for(se=0;8>se;++se)for(Y=0;3>Y;++Y)for(me=0;11>me;++me)we=Se(ce,KN[q][se][Y][me])?K(ce,8):U5[q][se][Y][me],ue.Wc[q][se].Yb[Y][me]=we;for(se=0;17>se;++se)ue.Xc[q][se]=ue.Wc[q][t2[se]]}return T.kc=pe(ce),T.kc&&(T.Bd=K(ce,8)),T.cb=1}function Ro(T,O,q,Y,se,ce,ue){var me=O[se].Yb[q];for(q=0;16>se;++se){if(!Se(T,me[q+0]))return se;for(;!Se(T,me[q+1]);)if(me=O[++se].Yb[0],q=0,se==16)return 16;var ve=O[se+1].Yb;if(Se(T,me[q+2])){var we=T,Ee=0;if(Se(we,(xe=me)[(Re=q)+3]))if(Se(we,xe[Re+6])){for(me=0,Re=2*(Ee=Se(we,xe[Re+8]))+(xe=Se(we,xe[Re+9+Ee])),Ee=0,xe=Qx[Re];xe[me];++me)Ee+=Ee+Se(we,xe[me]);Ee+=3+(8<<Re)}else Se(we,xe[Re+7])?(Ee=7+2*Se(we,165),Ee+=Se(we,145)):Ee=5+Se(we,159);else Ee=Se(we,xe[Re+4])?3+Se(we,xe[Re+5]):2;me=ve[2]}else Ee=1,me=ve[1];ve=ue+e2[se],0>(we=T).b&&oe(we);var Re,xe=we.b,ke=(Re=we.Ca>>1)-(we.I>>xe)>>31;--we.b,we.Ca+=ke,we.Ca|=1,we.I-=(Re+1&ke)<<xe,ce[ve]=((Ee^ke)-ke)*Y[(0<se)+0]}return 16}function hl(T){var O=T.rb[T.sb-1];O.la=0,O.Na=0,i(T.zc,0,0,T.zc.length),T.ja=0}function Ea(T,O,q,Y,se){se=T[O+q+32*Y]+(se>>3),T[O+q+32*Y]=-256&se?0>se?0:255:se}function Rd(T,O,q,Y,se,ce){Ea(T,O,0,q,Y+se),Ea(T,O,1,q,Y+ce),Ea(T,O,2,q,Y-ce),Ea(T,O,3,q,Y-se)}function _i(T){return(20091*T>>16)+T}function Id(T,O,q,Y){var se,ce=0,ue=s(16);for(se=0;4>se;++se){var me=T[O+0]+T[O+8],ve=T[O+0]-T[O+8],we=(35468*T[O+4]>>16)-_i(T[O+12]),Ee=_i(T[O+4])+(35468*T[O+12]>>16);ue[ce+0]=me+Ee,ue[ce+1]=ve+we,ue[ce+2]=ve-we,ue[ce+3]=me-Ee,ce+=4,O++}for(se=ce=0;4>se;++se)me=(T=ue[ce+0]+4)+ue[ce+8],ve=T-ue[ce+8],we=(35468*ue[ce+4]>>16)-_i(ue[ce+12]),Ea(q,Y,0,0,me+(Ee=_i(ue[ce+4])+(35468*ue[ce+12]>>16))),Ea(q,Y,1,0,ve+we),Ea(q,Y,2,0,ve-we),Ea(q,Y,3,0,me-Ee),ce++,Y+=32}function $0(T,O,q,Y){var se=T[O+0]+4,ce=35468*T[O+4]>>16,ue=_i(T[O+4]),me=35468*T[O+1]>>16;Rd(q,Y,0,se+ue,T=_i(T[O+1]),me),Rd(q,Y,1,se+ce,T,me),Rd(q,Y,2,se-ce,T,me),Rd(q,Y,3,se-ue,T,me)}function Dg(T,O,q,Y,se){Id(T,O,q,Y),se&&Id(T,O+16,q,Y+4)}function Md(T,O,q,Y){Jd(T,O+0,q,Y,1),Jd(T,O+32,q,Y+128,1)}function oc(T,O,q,Y){var se;for(T=T[O+0]+4,se=0;4>se;++se)for(O=0;4>O;++O)Ea(q,Y,O,se,T)}function Op(T,O,q,Y){T[O+0]&&Jn(T,O+0,q,Y),T[O+16]&&Jn(T,O+16,q,Y+4),T[O+32]&&Jn(T,O+32,q,Y+128),T[O+48]&&Jn(T,O+48,q,Y+128+4)}function Gn(T,O,q,Y){var se,ce=s(16);for(se=0;4>se;++se){var ue=T[O+0+se]+T[O+12+se],me=T[O+4+se]+T[O+8+se],ve=T[O+4+se]-T[O+8+se],we=T[O+0+se]-T[O+12+se];ce[0+se]=ue+me,ce[8+se]=ue-me,ce[4+se]=we+ve,ce[12+se]=we-ve}for(se=0;4>se;++se)ue=(T=ce[0+4*se]+3)+ce[3+4*se],me=ce[1+4*se]+ce[2+4*se],ve=ce[1+4*se]-ce[2+4*se],we=T-ce[3+4*se],q[Y+0]=ue+me>>3,q[Y+16]=we+ve>>3,q[Y+32]=ue-me>>3,q[Y+48]=we-ve>>3,Y+=64}function ru(T,O,q){var Y,se=O-32,ce=la,ue=255-T[se-1];for(Y=0;Y<q;++Y){var me,ve=ce,we=ue+T[O-1];for(me=0;me<q;++me)T[O+me]=ve[we+T[se+me]];O+=32}}function jp(T,O){ru(T,O,4)}function Fg(T,O){ru(T,O,8)}function q0(T,O){ru(T,O,16)}function U0(T,O){var q;for(q=0;16>q;++q)r(T,O+32*q,T,O-32,16)}function Lp(T,O){var q;for(q=16;0<q;--q)i(T,O,T[O-1],16),O+=32}function iu(T,O,q){var Y;for(Y=0;16>Y;++Y)i(O,q+32*Y,T,16)}function pl(T,O){var q,Y=16;for(q=0;16>q;++q)Y+=T[O-1+32*q]+T[O+q-32];iu(Y>>5,T,O)}function lc(T,O){var q,Y=8;for(q=0;16>q;++q)Y+=T[O-1+32*q];iu(Y>>4,T,O)}function Ta(T,O){var q,Y=8;for(q=0;16>q;++q)Y+=T[O+q-32];iu(Y>>4,T,O)}function Io(T,O){iu(128,T,O)}function Jt(T,O,q){return T+2*O+q+2>>2}function Dd(T,O){var q,Y=O-32;for(Y=new Uint8Array([Jt(T[Y-1],T[Y+0],T[Y+1]),Jt(T[Y+0],T[Y+1],T[Y+2]),Jt(T[Y+1],T[Y+2],T[Y+3]),Jt(T[Y+2],T[Y+3],T[Y+4])]),q=0;4>q;++q)r(T,O+32*q,Y,0,Y.length)}function cc(T,O){var q=T[O-1],Y=T[O-1+32],se=T[O-1+64],ce=T[O-1+96];be(T,O+0,16843009*Jt(T[O-1-32],q,Y)),be(T,O+32,16843009*Jt(q,Y,se)),be(T,O+64,16843009*Jt(Y,se,ce)),be(T,O+96,16843009*Jt(se,ce,ce))}function Hx(T,O){var q,Y=4;for(q=0;4>q;++q)Y+=T[O+q-32]+T[O-1+32*q];for(Y>>=3,q=0;4>q;++q)i(T,O+32*q,Y,4)}function z0(T,O){var q=T[O-1+0],Y=T[O-1+32],se=T[O-1+64],ce=T[O-1-32],ue=T[O+0-32],me=T[O+1-32],ve=T[O+2-32],we=T[O+3-32];T[O+0+96]=Jt(Y,se,T[O-1+96]),T[O+1+96]=T[O+0+64]=Jt(q,Y,se),T[O+2+96]=T[O+1+64]=T[O+0+32]=Jt(ce,q,Y),T[O+3+96]=T[O+2+64]=T[O+1+32]=T[O+0+0]=Jt(ue,ce,q),T[O+3+64]=T[O+2+32]=T[O+1+0]=Jt(me,ue,ce),T[O+3+32]=T[O+2+0]=Jt(ve,me,ue),T[O+3+0]=Jt(we,ve,me)}function no(T,O){var q=T[O+1-32],Y=T[O+2-32],se=T[O+3-32],ce=T[O+4-32],ue=T[O+5-32],me=T[O+6-32],ve=T[O+7-32];T[O+0+0]=Jt(T[O+0-32],q,Y),T[O+1+0]=T[O+0+32]=Jt(q,Y,se),T[O+2+0]=T[O+1+32]=T[O+0+64]=Jt(Y,se,ce),T[O+3+0]=T[O+2+32]=T[O+1+64]=T[O+0+96]=Jt(se,ce,ue),T[O+3+32]=T[O+2+64]=T[O+1+96]=Jt(ce,ue,me),T[O+3+64]=T[O+2+96]=Jt(ue,me,ve),T[O+3+96]=Jt(me,ve,ve)}function su(T,O){var q=T[O-1+0],Y=T[O-1+32],se=T[O-1+64],ce=T[O-1-32],ue=T[O+0-32],me=T[O+1-32],ve=T[O+2-32],we=T[O+3-32];T[O+0+0]=T[O+1+64]=ce+ue+1>>1,T[O+1+0]=T[O+2+64]=ue+me+1>>1,T[O+2+0]=T[O+3+64]=me+ve+1>>1,T[O+3+0]=ve+we+1>>1,T[O+0+96]=Jt(se,Y,q),T[O+0+64]=Jt(Y,q,ce),T[O+0+32]=T[O+1+96]=Jt(q,ce,ue),T[O+1+32]=T[O+2+96]=Jt(ce,ue,me),T[O+2+32]=T[O+3+96]=Jt(ue,me,ve),T[O+3+32]=Jt(me,ve,we)}function H0(T,O){var q=T[O+0-32],Y=T[O+1-32],se=T[O+2-32],ce=T[O+3-32],ue=T[O+4-32],me=T[O+5-32],ve=T[O+6-32],we=T[O+7-32];T[O+0+0]=q+Y+1>>1,T[O+1+0]=T[O+0+64]=Y+se+1>>1,T[O+2+0]=T[O+1+64]=se+ce+1>>1,T[O+3+0]=T[O+2+64]=ce+ue+1>>1,T[O+0+32]=Jt(q,Y,se),T[O+1+32]=T[O+0+96]=Jt(Y,se,ce),T[O+2+32]=T[O+1+96]=Jt(se,ce,ue),T[O+3+32]=T[O+2+96]=Jt(ce,ue,me),T[O+3+64]=Jt(ue,me,ve),T[O+3+96]=Jt(me,ve,we)}function Rp(T,O){var q=T[O-1+0],Y=T[O-1+32],se=T[O-1+64],ce=T[O-1+96];T[O+0+0]=q+Y+1>>1,T[O+2+0]=T[O+0+32]=Y+se+1>>1,T[O+2+32]=T[O+0+64]=se+ce+1>>1,T[O+1+0]=Jt(q,Y,se),T[O+3+0]=T[O+1+32]=Jt(Y,se,ce),T[O+3+32]=T[O+1+64]=Jt(se,ce,ce),T[O+3+64]=T[O+2+64]=T[O+0+96]=T[O+1+96]=T[O+2+96]=T[O+3+96]=ce}function Fd(T,O){var q=T[O-1+0],Y=T[O-1+32],se=T[O-1+64],ce=T[O-1+96],ue=T[O-1-32],me=T[O+0-32],ve=T[O+1-32],we=T[O+2-32];T[O+0+0]=T[O+2+32]=q+ue+1>>1,T[O+0+32]=T[O+2+64]=Y+q+1>>1,T[O+0+64]=T[O+2+96]=se+Y+1>>1,T[O+0+96]=ce+se+1>>1,T[O+3+0]=Jt(me,ve,we),T[O+2+0]=Jt(ue,me,ve),T[O+1+0]=T[O+3+32]=Jt(q,ue,me),T[O+1+32]=T[O+3+64]=Jt(Y,q,ue),T[O+1+64]=T[O+3+96]=Jt(se,Y,q),T[O+1+96]=Jt(ce,se,Y)}function Bg(T,O){var q;for(q=0;8>q;++q)r(T,O+32*q,T,O-32,8)}function ml(T,O){var q;for(q=0;8>q;++q)i(T,O,T[O-1],8),O+=32}function uc(T,O,q){var Y;for(Y=0;8>Y;++Y)i(O,q+32*Y,T,8)}function gl(T,O){var q,Y=8;for(q=0;8>q;++q)Y+=T[O+q-32]+T[O-1+32*q];uc(Y>>4,T,O)}function Ip(T,O){var q,Y=4;for(q=0;8>q;++q)Y+=T[O+q-32];uc(Y>>3,T,O)}function $g(T,O){var q,Y=4;for(q=0;8>q;++q)Y+=T[O-1+32*q];uc(Y>>3,T,O)}function qg(T,O){uc(128,T,O)}function au(T,O,q){var Y=T[O-q],se=T[O+0],ce=3*(se-Y)+gc[1020+T[O-2*q]-T[O+q]],ue=zp[112+(ce+4>>3)];T[O-q]=la[255+Y+zp[112+(ce+3>>3)]],T[O+0]=la[255+se-ue]}function fc(T,O,q,Y){var se=T[O+0],ce=T[O+q];return Uo[255+T[O-2*q]-T[O-q]]>Y||Uo[255+ce-se]>Y}function Bd(T,O,q,Y){return 4*Uo[255+T[O-q]-T[O+0]]+Uo[255+T[O-2*q]-T[O+q]]<=Y}function $d(T,O,q,Y,se){var ce=T[O-3*q],ue=T[O-2*q],me=T[O-q],ve=T[O+0],we=T[O+q],Ee=T[O+2*q],Re=T[O+3*q];return 4*Uo[255+me-ve]+Uo[255+ue-we]>Y?0:Uo[255+T[O-4*q]-ce]<=se&&Uo[255+ce-ue]<=se&&Uo[255+ue-me]<=se&&Uo[255+Re-Ee]<=se&&Uo[255+Ee-we]<=se&&Uo[255+we-ve]<=se}function Mo(T,O,q,Y){var se=2*Y+1;for(Y=0;16>Y;++Y)Bd(T,O+Y,q,se)&&au(T,O+Y,q)}function ou(T,O,q,Y){var se=2*Y+1;for(Y=0;16>Y;++Y)Bd(T,O+Y*q,1,se)&&au(T,O+Y*q,1)}function qd(T,O,q,Y){var se;for(se=3;0<se;--se)Mo(T,O+=4*q,q,Y)}function Ug(T,O,q,Y){var se;for(se=3;0<se;--se)ou(T,O+=4,q,Y)}function Do(T,O,q,Y,se,ce,ue,me){for(ce=2*ce+1;0<se--;){if($d(T,O,q,ce,ue))if(fc(T,O,q,me))au(T,O,q);else{var ve=T,we=O,Ee=q,Re=ve[we-2*Ee],xe=ve[we-Ee],ke=ve[we+0],Le=ve[we+Ee],Ue=ve[we+2*Ee],Me=27*(qe=gc[1020+3*(ke-xe)+gc[1020+Re-Le]])+63>>7,Be=18*qe+63>>7,qe=9*qe+63>>7;ve[we-3*Ee]=la[255+ve[we-3*Ee]+qe],ve[we-2*Ee]=la[255+Re+Be],ve[we-Ee]=la[255+xe+Me],ve[we+0]=la[255+ke-Me],ve[we+Ee]=la[255+Le-Be],ve[we+2*Ee]=la[255+Ue-qe]}O+=Y}}function Fo(T,O,q,Y,se,ce,ue,me){for(ce=2*ce+1;0<se--;){if($d(T,O,q,ce,ue))if(fc(T,O,q,me))au(T,O,q);else{var ve=T,we=O,Ee=q,Re=ve[we-Ee],xe=ve[we+0],ke=ve[we+Ee],Le=zp[112+(4+(Ue=3*(xe-Re))>>3)],Ue=zp[112+(Ue+3>>3)],Me=Le+1>>1;ve[we-2*Ee]=la[255+ve[we-2*Ee]+Me],ve[we-Ee]=la[255+Re+Ue],ve[we+0]=la[255+xe-Le],ve[we+Ee]=la[255+ke-Me]}O+=Y}}function zg(T,O,q,Y,se,ce){Do(T,O,q,1,16,Y,se,ce)}function Us(T,O,q,Y,se,ce){Do(T,O,1,q,16,Y,se,ce)}function Bo(T,O,q,Y,se,ce){var ue;for(ue=3;0<ue;--ue)Fo(T,O+=4*q,q,1,16,Y,se,ce)}function Mp(T,O,q,Y,se,ce){var ue;for(ue=3;0<ue;--ue)Fo(T,O+=4,1,q,16,Y,se,ce)}function I(T,O,q,Y,se,ce,ue,me){Do(T,O,se,1,8,ce,ue,me),Do(q,Y,se,1,8,ce,ue,me)}function ae(T,O,q,Y,se,ce,ue,me){Do(T,O,1,se,8,ce,ue,me),Do(q,Y,1,se,8,ce,ue,me)}function _e(T,O,q,Y,se,ce,ue,me){Fo(T,O+4*se,se,1,8,ce,ue,me),Fo(q,Y+4*se,se,1,8,ce,ue,me)}function Ce(T,O,q,Y,se,ce,ue,me){Fo(T,O+4,1,se,8,ce,ue,me),Fo(q,Y+4,1,se,8,ce,ue,me)}function je(){this.ba=new Ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new W}function Nt(){this.xb=this.a=0,this.l=new qs,this.ca=new Ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=a(4,Ye),this.Oc=0}function an(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function on(T,O,q,Y,se,ce,ue){for(T=T==null?0:T[O+0],O=0;O<ue;++O)se[ce+O]=T+q[Y+O]&255,T=se[ce+O]}function Yn(T,O,q,Y,se,ce,ue){var me;if(T==null)on(null,null,q,Y,se,ce,ue);else for(me=0;me<ue;++me)se[ce+me]=T[O+me]+q[Y+me]&255}function ni(T,O,q,Y,se,ce,ue){if(T==null)on(null,null,q,Y,se,ce,ue);else{var me,ve=T[O+0],we=ve,Ee=ve;for(me=0;me<ue;++me)we=Ee+(ve=T[O+me])-we,Ee=q[Y+me]+(-256&we?0>we?0:255:we)&255,we=ve,se[ce+me]=Ee}}function Ii(T,O,q,Y){var se=O.width,ce=O.o;if(e(T!=null&&O!=null),0>q||0>=Y||q+Y>ce)return null;if(!T.Cc){if(T.ga==null){var ue;if(T.ga=new an,(ue=T.ga==null)||(ue=O.width*O.o,e(T.Gb.length==0),T.Gb=s(ue),T.Uc=0,T.Gb==null?ue=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,ue=1),ue=!ue),!ue){ue=T.ga;var me=T.Fa,ve=T.P,we=T.qc,Ee=T.mb,Re=T.nb,xe=ve+1,ke=we-1,Le=ue.l;if(e(me!=null&&Ee!=null&&O!=null),Hs[0]=null,Hs[1]=on,Hs[2]=Yn,Hs[3]=ni,ue.ca=Ee,ue.tb=Re,ue.c=O.width,ue.i=O.height,e(0<ue.c&&0<ue.i),1>=we)O=0;else if(ue.$a=3&me[ve+0],ue.Z=me[ve+0]>>2&3,ue.Lc=me[ve+0]>>4&3,ve=me[ve+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ve)O=0;else if(Le.put=ct,Le.ac=ws,Le.bc=Cr,Le.ma=ue,Le.width=O.width,Le.height=O.height,Le.Da=O.Da,Le.v=O.v,Le.va=O.va,Le.j=O.j,Le.o=O.o,ue.$a)e:{e(ue.$a==1),O=kd();t:for(;;){if(O==null){O=0;break e}if(e(ue!=null),ue.mc=O,O.c=ue.c,O.i=ue.i,O.l=ue.l,O.l.ma=ue,O.l.width=ue.c,O.l.height=ue.i,O.a=0,te(O.m,me,xe,ke),!dl(ue.c,ue.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&fl(O.s)?(ue.ic=1,me=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(me),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(ue.ic=0,O=cf(O,ue.c)),!O))break t;O=1;break e}ue.mc=null,O=0}else O=ke>=ue.c*ue.i;ue=!O}if(ue)return null;T.ga.Lc!=1?T.Ga=0:Y=ce-q}e(T.ga!=null),e(q+Y<=ce);e:{if(O=(me=T.ga).c,ce=me.l.o,me.$a==0){if(xe=T.rc,ke=T.Vc,Le=T.Fa,ve=T.P+1+q*O,we=T.mb,Ee=T.nb+q*O,e(ve<=T.P+T.qc),me.Z!=0)for(e(Hs[me.Z]!=null),ue=0;ue<Y;++ue)Hs[me.Z](xe,ke,Le,ve,we,Ee,O),xe=we,ke=Ee,Ee+=O,ve+=O;else for(ue=0;ue<Y;++ue)r(we,Ee,Le,ve,O),xe=we,ke=Ee,Ee+=O,ve+=O;T.rc=xe,T.Vc=ke}else{if(e(me.mc!=null),O=q+Y,e((ue=me.mc)!=null),e(O<=ue.i),ue.C>=O)O=1;else if(me.ic||$o(),me.ic){me=ue.V,xe=ue.Ba,ke=ue.c;var Ue=ue.i,Me=(Le=1,ve=ue.$/ke,we=ue.$%ke,Ee=ue.m,Re=ue.s,ue.$),Be=ke*Ue,qe=ke*O,We=Re.wc,Ge=Me<qe?xi(Re,we,ve):null;e(Me<=Be),e(O<=Ue),e(fl(Re));t:for(;;){for(;!Ee.h&&Me<qe;){if(we&We||(Ge=xi(Re,we,ve)),e(Ge!=null),he(Ee),256>(Ue=ar(Ge.G[0],Ge.H[0],Ee)))me[xe+Me]=Ue,++Me,++we>=ke&&(we=0,++ve<=O&&!(ve%16)&&xs(ue,ve));else{if(!(280>Ue)){Le=0;break t}Ue=ur(Ue-256,Ee);var Ot,dt=ar(Ge.G[4],Ge.H[4],Ee);if(he(Ee),!(Me>=(dt=Gr(ke,dt=ur(dt,Ee)))&&Be-Me>=Ue)){Le=0;break t}for(Ot=0;Ot<Ue;++Ot)me[xe+Me+Ot]=me[xe+Me+Ot-dt];for(Me+=Ue,we+=Ue;we>=ke;)we-=ke,++ve<=O&&!(ve%16)&&xs(ue,ve);Me<qe&&we&We&&(Ge=xi(Re,we,ve))}e(Ee.h==ie(Ee))}xs(ue,ve>O?O:ve);break t}!Le||Ee.h&&Me<Be?(Le=0,ue.a=Ee.h?5:3):ue.$=Me,O=Le}else O=Lo(ue,ue.V,ue.Ba,ue.c,ue.i,O,Nd);if(!O){Y=0;break e}}q+Y>=ce&&(T.Cc=1),Y=1}if(!Y)return null;if(T.Cc&&((Y=T.ga)!=null&&(Y.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+q*se}function Er(T,O,q,Y,se,ce){for(;0<se--;){var ue,me=T,ve=O+(q?1:0),we=T,Ee=O+(q?0:3);for(ue=0;ue<Y;++ue){var Re=we[Ee+4*ue];Re!=255&&(Re*=32897,me[ve+4*ue+0]=me[ve+4*ue+0]*Re>>23,me[ve+4*ue+1]=me[ve+4*ue+1]*Re>>23,me[ve+4*ue+2]=me[ve+4*ue+2]*Re>>23)}O+=ce}}function Xi(T,O,q,Y,se){for(;0<Y--;){var ce;for(ce=0;ce<q;++ce){var ue=T[O+2*ce+0],me=15&(we=T[O+2*ce+1]),ve=4369*me,we=(240&we|we>>4)*ve>>16;T[O+2*ce+0]=(240&ue|ue>>4)*ve>>16&240|(15&ue|ue<<4)*ve>>16>>4&15,T[O+2*ce+1]=240&we|me}O+=se}}function Si(T,O,q,Y,se,ce,ue,me){var ve,we,Ee=255;for(we=0;we<se;++we){for(ve=0;ve<Y;++ve){var Re=T[O+ve];ce[ue+4*ve]=Re,Ee&=Re}O+=q,ue+=me}return Ee!=255}function _s(T,O,q,Y,se){var ce;for(ce=0;ce<se;++ce)q[Y+ce]=T[O+ce]>>8}function $o(){Qd=Er,Wx=Xi,Kg=Si,Gx=_s}function ka(T,O,q){R[T]=function(Y,se,ce,ue,me,ve,we,Ee,Re,xe,ke,Le,Ue,Me,Be,qe,We){var Ge,Ot=We-1>>1,dt=me[ve+0]|we[Ee+0]<<16,pn=Re[xe+0]|ke[Le+0]<<16;e(Y!=null);var wt=3*dt+pn+131074>>2;for(O(Y[se+0],255&wt,wt>>16,Ue,Me),ce!=null&&(wt=3*pn+dt+131074>>2,O(ce[ue+0],255&wt,wt>>16,Be,qe)),Ge=1;Ge<=Ot;++Ge){var Nn=me[ve+Ge]|we[Ee+Ge]<<16,di=Re[xe+Ge]|ke[Le+Ge]<<16,gn=dt+Nn+pn+di+524296,ht=gn+2*(Nn+pn)>>3;wt=ht+dt>>1,dt=(gn=gn+2*(dt+di)>>3)+Nn>>1,O(Y[se+2*Ge-1],255&wt,wt>>16,Ue,Me+(2*Ge-1)*q),O(Y[se+2*Ge-0],255&dt,dt>>16,Ue,Me+(2*Ge-0)*q),ce!=null&&(wt=gn+pn>>1,dt=ht+di>>1,O(ce[ue+2*Ge-1],255&wt,wt>>16,Be,qe+(2*Ge-1)*q),O(ce[ue+2*Ge+0],255&dt,dt>>16,Be,qe+(2*Ge+0)*q)),dt=Nn,pn=di}1&We||(wt=3*dt+pn+131074>>2,O(Y[se+We-1],255&wt,wt>>16,Ue,Me+(We-1)*q),ce!=null&&(wt=3*pn+dt+131074>>2,O(ce[ue+We-1],255&wt,wt>>16,Be,qe+(We-1)*q)))}}function V0(){ja[X0]=XN,ja[bf]=wf,ja[F5]=YN,ja[Xg]=Gp,ja[Yg]=rh,ja[yr]=tv,ja[Y0]=n2,ja[Hp]=wf,ja[eh]=Gp,ja[Jg]=rh,ja[Zg]=tv}function ff(T){return T&-16384?0>T?0:255:T>>xf}function Ud(T,O){return ff((19077*T>>8)+(26149*O>>8)-14234)}function df(T,O,q){return ff((19077*T>>8)-(6419*O>>8)-(13320*q>>8)+8708)}function zd(T,O){return ff((19077*T>>8)+(33050*O>>8)-17685)}function hf(T,O,q,Y,se){Y[se+0]=Ud(T,q),Y[se+1]=df(T,O,q),Y[se+2]=zd(T,O)}function Hd(T,O,q,Y,se){Y[se+0]=zd(T,O),Y[se+1]=df(T,O,q),Y[se+2]=Ud(T,q)}function zs(T,O,q,Y,se){var ce=df(T,O,q);O=ce<<3&224|zd(T,O)>>3,Y[se+0]=248&Ud(T,q)|ce>>5,Y[se+1]=O}function Vd(T,O,q,Y,se){var ce=240&zd(T,O)|15;Y[se+0]=240&Ud(T,q)|df(T,O,q)>>4,Y[se+1]=ce}function Wd(T,O,q,Y,se){Y[se+0]=255,hf(T,O,q,Y,se+1)}function Hg(T,O,q,Y,se){Hd(T,O,q,Y,se),Y[se+3]=255}function Vg(T,O,q,Y,se){hf(T,O,q,Y,se),Y[se+3]=255}function ci(T,O){return 0>T?0:T>O?O:T}function vl(T,O,q){R[T]=function(Y,se,ce,ue,me,ve,we,Ee,Re){for(var xe=Ee+(-2&Re)*q;Ee!=xe;)O(Y[se+0],ce[ue+0],me[ve+0],we,Ee),O(Y[se+1],ce[ue+0],me[ve+0],we,Ee+q),se+=2,++ue,++ve,Ee+=2*q;1&Re&&O(Y[se+0],ce[ue+0],me[ve+0],we,Ee)}}function dc(T,O,q){return q==0?T==0?O==0?6:5:O==0?4:0:q}function W0(T,O,q,Y,se){switch(T>>>30){case 3:Jd(O,q,Y,se,0);break;case 2:ui(O,q,Y,se);break;case 1:Jn(O,q,Y,se)}}function ro(T,O){var q,Y,se=O.M,ce=O.Nb,ue=T.oc,me=T.pc+40,ve=T.oc,we=T.pc+584,Ee=T.oc,Re=T.pc+600;for(q=0;16>q;++q)ue[me+32*q-1]=129;for(q=0;8>q;++q)ve[we+32*q-1]=129,Ee[Re+32*q-1]=129;for(0<se?ue[me-1-32]=ve[we-1-32]=Ee[Re-1-32]=129:(i(ue,me-32-1,127,21),i(ve,we-32-1,127,9),i(Ee,Re-32-1,127,9)),Y=0;Y<T.za;++Y){var xe=O.ya[O.aa+Y];if(0<Y){for(q=-1;16>q;++q)r(ue,me+32*q-4,ue,me+32*q+12,4);for(q=-1;8>q;++q)r(ve,we+32*q-4,ve,we+32*q+4,4),r(Ee,Re+32*q-4,Ee,Re+32*q+4,4)}var ke=T.Gd,Le=T.Hd+Y,Ue=xe.ad,Me=xe.Hc;if(0<se&&(r(ue,me-32,ke[Le].y,0,16),r(ve,we-32,ke[Le].f,0,8),r(Ee,Re-32,ke[Le].ea,0,8)),xe.Za){var Be=ue,qe=me-32+16;for(0<se&&(Y>=T.za-1?i(Be,qe,ke[Le].y[15],4):r(Be,qe,ke[Le+1].y,0,4)),q=0;4>q;q++)Be[qe+128+q]=Be[qe+256+q]=Be[qe+384+q]=Be[qe+0+q];for(q=0;16>q;++q,Me<<=2)Be=ue,qe=me+r2[q],zo[xe.Ob[q]](Be,qe),W0(Me,Ue,16*+q,Be,qe)}else if(Be=dc(Y,se,xe.Ob[0]),ca[Be](ue,me),Me!=0)for(q=0;16>q;++q,Me<<=2)W0(Me,Ue,16*+q,ue,me+r2[q]);for(q=xe.Gc,Be=dc(Y,se,xe.Dd),Oa[Be](ve,we),Oa[Be](Ee,Re),Me=Ue,Be=ve,qe=we,255&(xe=0|q)&&(170&xe?Na(Me,256,Be,qe):fr(Me,256,Be,qe)),xe=Ee,Me=Re,255&(q>>=8)&&(170&q?Na(Ue,320,xe,Me):fr(Ue,320,xe,Me)),se<T.Ub-1&&(r(ke[Le].y,0,ue,me+480,16),r(ke[Le].f,0,ve,we+224,8),r(ke[Le].ea,0,Ee,Re+224,8)),q=8*ce*T.B,ke=T.sa,Le=T.ta+16*Y+16*ce*T.R,Ue=T.qa,xe=T.ra+8*Y+q,Me=T.Ha,Be=T.Ia+8*Y+q,q=0;16>q;++q)r(ke,Le+q*T.R,ue,me+32*q,16);for(q=0;8>q;++q)r(Ue,xe+q*T.B,ve,we+32*q,8),r(Me,Be+q*T.B,Ee,Re+32*q,8)}}function pf(T,O,q,Y,se,ce,ue,me,ve){var we=[0],Ee=[0],Re=0,xe=ve!=null?ve.kd:0,ke=ve??new ze;if(T==null||12>q)return 7;ke.data=T,ke.w=O,ke.ha=q,O=[O],q=[q],ke.gb=[ke.gb];e:{var Le=O,Ue=q,Me=ke.gb;if(e(T!=null),e(Ue!=null),e(Me!=null),Me[0]=0,12<=Ue[0]&&!t(T,Le[0],"RIFF")){if(t(T,Le[0]+8,"WEBP")){Me=3;break e}var Be=Pe(T,Le[0]+4);if(12>Be||4294967286<Be){Me=3;break e}if(xe&&Be>Ue[0]-8){Me=7;break e}Me[0]=Be,Le[0]+=12,Ue[0]-=12}Me=0}if(Me!=0)return Me;for(Be=0<ke.gb[0],q=q[0];;){e:{var qe=T;Ue=O,Me=q;var We=we,Ge=Ee,Ot=Le=[0];if((wt=Re=[Re])[0]=0,8>Me[0])Me=7;else{if(!t(qe,Ue[0],"VP8X")){if(Pe(qe,Ue[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var dt=Pe(qe,Ue[0]+8),pn=1+Oe(qe,Ue[0]+12);if(2147483648<=pn*(qe=1+Oe(qe,Ue[0]+15))){Me=3;break e}Ot!=null&&(Ot[0]=dt),We!=null&&(We[0]=pn),Ge!=null&&(Ge[0]=qe),Ue[0]+=18,Me[0]-=18,wt[0]=1}Me=0}}if(Re=Re[0],Le=Le[0],Me!=0)return Me;if(Ue=!!(2&Le),!Be&&Re)return 3;if(ce!=null&&(ce[0]=!!(16&Le)),ue!=null&&(ue[0]=Ue),me!=null&&(me[0]=0),ue=we[0],Le=Ee[0],Re&&Ue&&ve==null){Me=0;break}if(4>q){Me=7;break}if(Be&&Re||!Be&&!Re&&!t(T,O[0],"ALPH")){q=[q],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{dt=T,Me=O,Be=q;var wt=ke.gb;We=ke.na,Ge=ke.P,Ot=ke.Sa,pn=22,e(dt!=null),e(Be!=null),qe=Me[0];var Nn=Be[0];for(e(We!=null),e(Ot!=null),We[0]=null,Ge[0]=null,Ot[0]=0;;){if(Me[0]=qe,Be[0]=Nn,8>Nn){Me=7;break e}var di=Pe(dt,qe+4);if(4294967286<di){Me=3;break e}var gn=8+di+1&-2;if(pn+=gn,0<wt&&pn>wt){Me=3;break e}if(!t(dt,qe,"VP8 ")||!t(dt,qe,"VP8L")){Me=0;break e}if(Nn[0]<gn){Me=7;break e}t(dt,qe,"ALPH")||(We[0]=dt,Ge[0]=qe+8,Ot[0]=di),qe+=gn,Nn-=gn}}if(q=q[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Me!=0)break}q=[q],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(wt=T,Me=O,Be=q,We=ke.gb[0],Ge=ke.Ja,Ot=ke.xa,dt=Me[0],qe=!t(wt,dt,"VP8 "),pn=!t(wt,dt,"VP8L"),e(wt!=null),e(Be!=null),e(Ge!=null),e(Ot!=null),8>Be[0])Me=7;else{if(qe||pn){if(wt=Pe(wt,dt+4),12<=We&&wt>We-12){Me=3;break e}if(xe&&wt>Be[0]-8){Me=7;break e}Ge[0]=wt,Me[0]+=8,Be[0]-=8,Ot[0]=pn}else Ot[0]=5<=Be[0]&&wt[dt+0]==47&&!(wt[dt+4]>>5),Ge[0]=Be[0];Me=0}if(q=q[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],O=O[0],Me!=0)break;if(4294967286<ke.Ja)return 3;if(me==null||Ue||(me[0]=ke.xa?2:1),ue=[ue],Le=[Le],ke.xa){if(5>q){Me=7;break}me=ue,xe=Le,Ue=ce,T==null||5>q?T=0:5<=q&&T[O+0]==47&&!(T[O+4]>>5)?(Be=[0],wt=[0],We=[0],te(Ge=new G,T,O,q),$s(Ge,Be,wt,We)?(me!=null&&(me[0]=Be[0]),xe!=null&&(xe[0]=wt[0]),Ue!=null&&(Ue[0]=We[0]),T=1):T=0):T=0}else{if(10>q){Me=7;break}me=Le,T==null||10>q||!B0(T,O+3,q-3)?T=0:(xe=T[O+0]|T[O+1]<<8|T[O+2]<<16,Ue=16383&(T[O+7]<<8|T[O+6]),T=16383&(T[O+9]<<8|T[O+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=ke.Ja||!Ue||!T?T=0:(ue&&(ue[0]=Ue),me&&(me[0]=T),T=1))}if(!T||(ue=ue[0],Le=Le[0],Re&&(we[0]!=ue||Ee[0]!=Le)))return 3;ve!=null&&(ve[0]=ke,ve.offset=O-ve.w,e(4294967286>O-ve.w),e(ve.offset==ve.ha-q));break}return Me==0||Me==7&&Re&&ve==null?(ce!=null&&(ce[0]|=ke.na!=null&&0<ke.na.length),Y!=null&&(Y[0]=ue),se!=null&&(se[0]=Le),0):Me}function Dp(T,O,q){var Y=O.width,se=O.height,ce=0,ue=0,me=Y,ve=se;if(O.Da=T!=null&&0<T.Da,O.Da&&(me=T.cd,ve=T.bd,ce=T.v,ue=T.j,11>q||(ce&=-2,ue&=-2),0>ce||0>ue||0>=me||0>=ve||ce+me>Y||ue+ve>se))return 0;if(O.v=ce,O.j=ue,O.va=ce+me,O.o=ue+ve,O.U=me,O.T=ve,O.da=T!=null&&0<T.da,O.da){if(!rt(me,ve,q=[T.ib],ce=[T.hb]))return 0;O.ib=q[0],O.hb=ce[0]}return O.ob=T!=null&&T.ob,O.Kb=T==null||!T.Sd,O.da&&(O.ob=O.ib<3*Y/4&&O.hb<3*se/4,O.Kb=0),1}function Fp(T){if(T==null)return 2;if(11>T.S){var O=T.f.RGBA;O.fb+=(T.height-1)*O.A,O.A=-O.A}else O=T.f.kb,T=T.height,O.O+=(T-1)*O.fa,O.fa=-O.fa,O.N+=(T-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(T-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(T-1)*O.lb,O.lb=-O.lb);return 0}function lu(T,O,q,Y){if(Y==null||0>=T||0>=O)return 2;if(q!=null){if(q.Da){var se=q.cd,ce=q.bd,ue=-2&q.v,me=-2&q.j;if(0>ue||0>me||0>=se||0>=ce||ue+se>T||me+ce>O)return 2;T=se,O=ce}if(q.da){if(!rt(T,O,se=[q.ib],ce=[q.hb]))return 2;T=se[0],O=ce[0]}}Y.width=T,Y.height=O;e:{var ve=Y.width,we=Y.height;if(T=Y.S,0>=ve||0>=we||!(T>=X0&&13>T))T=2;else{if(0>=Y.Rd&&Y.sd==null){ue=ce=se=O=0;var Ee=(me=ve*nv[T])*we;if(11>T||(ce=(we+1)/2*(O=(ve+1)/2),T==12&&(ue=(se=ve)*we)),(we=s(Ee+2*ce+ue))==null){T=1;break e}Y.sd=we,11>T?((ve=Y.f.RGBA).eb=we,ve.fb=0,ve.A=me,ve.size=Ee):((ve=Y.f.kb).y=we,ve.O=0,ve.fa=me,ve.Fd=Ee,ve.f=we,ve.N=0+Ee,ve.Ab=O,ve.Cd=ce,ve.ea=we,ve.W=0+Ee+ce,ve.Db=O,ve.Ed=ce,T==12&&(ve.F=we,ve.J=0+Ee+2*ce),ve.Tc=ue,ve.lb=se)}if(O=1,se=Y.S,ce=Y.width,ue=Y.height,se>=X0&&13>se)if(11>se)T=Y.f.RGBA,O&=(me=Math.abs(T.A))*(ue-1)+ce<=T.size,O&=me>=ce*nv[se],O&=T.eb!=null;else{T=Y.f.kb,me=(ce+1)/2,Ee=(ue+1)/2,ve=Math.abs(T.fa),we=Math.abs(T.Ab);var Re=Math.abs(T.Db),xe=Math.abs(T.lb),ke=xe*(ue-1)+ce;O&=ve*(ue-1)+ce<=T.Fd,O&=we*(Ee-1)+me<=T.Cd,O=(O&=Re*(Ee-1)+me<=T.Ed)&ve>=ce&we>=me&Re>=me,O&=T.y!=null,O&=T.f!=null,O&=T.ea!=null,se==12&&(O&=xe>=ce,O&=ke<=T.Tc,O&=T.F!=null)}else O=0;T=O?0:2}}return T!=0||q!=null&&q.fd&&(T=Fp(Y)),T}var qo=64,io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],so=24,mf=32,hc=8,cu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(T){return T},R.Predictor2=function(T,O,q){return O[q+0]},R.Predictor3=function(T,O,q){return O[q+1]},R.Predictor4=function(T,O,q){return O[q-1]},R.Predictor5=function(T,O,q){return lt(lt(T,O[q+1]),O[q+0])},R.Predictor6=function(T,O,q){return lt(T,O[q-1])},R.Predictor7=function(T,O,q){return lt(T,O[q+0])},R.Predictor8=function(T,O,q){return lt(O[q-1],O[q+0])},R.Predictor9=function(T,O,q){return lt(O[q+0],O[q+1])},R.Predictor10=function(T,O,q){return lt(lt(T,O[q-1]),lt(O[q+0],O[q+1]))},R.Predictor11=function(T,O,q){var Y=O[q+0];return 0>=Xt(Y>>24&255,T>>24&255,(O=O[q-1])>>24&255)+Xt(Y>>16&255,T>>16&255,O>>16&255)+Xt(Y>>8&255,T>>8&255,O>>8&255)+Xt(255&Y,255&T,255&O)?Y:T},R.Predictor12=function(T,O,q){var Y=O[q+0];return(Ht((T>>24&255)+(Y>>24&255)-((O=O[q-1])>>24&255))<<24|Ht((T>>16&255)+(Y>>16&255)-(O>>16&255))<<16|Ht((T>>8&255)+(Y>>8&255)-(O>>8&255))<<8|Ht((255&T)+(255&Y)-(255&O)))>>>0},R.Predictor13=function(T,O,q){var Y=O[q-1];return($t((T=lt(T,O[q+0]))>>24&255,Y>>24&255)<<24|$t(T>>16&255,Y>>16&255)<<16|$t(T>>8&255,Y>>8&255)<<8|$t(255&T,255&Y))>>>0};var uu=R.PredictorAdd0;R.PredictorAdd1=Vn,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var pc=R.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Ai,Gd=R.ColorIndexInverseTransform,mc=R.MapARGB,yl=R.VP8LColorIndexInverseTransformAlpha,Kd=R.MapAlpha,Xd=R.VP8LPredictorsAdd=[];Xd.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Bp,$p,fu,gf,vf,Yd,yf,Jd,ui,Na,Jn,fr,fi,Mi,bl,Wg,qp,du,G0,Up,K0,Vx,Gg,Zd,Qd,Wx,Kg,Gx,Kx=s(511),Xx=s(2041),Yx=s(225),Jx=s(767),Zx=0,gc=Xx,zp=Yx,la=Jx,Uo=Kx,X0=0,bf=1,F5=2,Xg=3,Yg=4,yr=5,Y0=6,Hp=7,eh=8,Jg=9,Zg=10,Qg=[2,3,7],J0=[3,3,11],th=[280,256,256,256,40],B5=[0,1,1,1,0],VN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Z0=8,Vp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ev=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nh=null,Qx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],e2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],q5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],U5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],GN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],t2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ca=[],zo=[],Oa=[],vc=1,Wp=2,Hs=[],ja=[];ka("UpsampleRgbLinePair",hf,3),ka("UpsampleBgrLinePair",Hd,3),ka("UpsampleRgbaLinePair",Vg,4),ka("UpsampleBgraLinePair",Hg,4),ka("UpsampleArgbLinePair",Wd,4),ka("UpsampleRgba4444LinePair",Vd,2),ka("UpsampleRgb565LinePair",zs,2);var XN=R.UpsampleRgbLinePair,YN=R.UpsampleBgrLinePair,wf=R.UpsampleRgbaLinePair,Gp=R.UpsampleBgraLinePair,rh=R.UpsampleArgbLinePair,tv=R.UpsampleRgba4444LinePair,n2=R.UpsampleRgb565LinePair,hu=16,wl=1<<hu-1,lr=-227,dr=482,xf=6,Ss=0,La=s(256),ih=s(256),Kp=s(256),Ra=s(256),Q0=s(dr-lr),z5=s(dr-lr);vl("YuvToRgbRow",hf,3),vl("YuvToBgrRow",Hd,3),vl("YuvToRgbaRow",Vg,4),vl("YuvToBgraRow",Hg,4),vl("YuvToArgbRow",Wd,4),vl("YuvToRgba4444Row",Vd,2),vl("YuvToRgb565Row",zs,2);var r2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sh=[0,2,8],H5=[8,7,6,4,4,2,2,2,1,1,1,1],pu=1;this.WebPDecodeRGBA=function(T,O,q,Y,se){var ce=bf,ue=new je,me=new Ln;ue.ba=me,me.S=ce,me.width=[me.width],me.height=[me.height];var ve=me.width,we=me.height,Ee=new Yt;if(Ee==null||T==null)var Re=2;else e(Ee!=null),Re=pf(T,O,q,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Re!=0?ve=0:(ve!=null&&(ve[0]=Ee.width[0]),we!=null&&(we[0]=Ee.height[0]),ve=1),ve){me.width=me.width[0],me.height=me.height[0],Y!=null&&(Y[0]=me.width),se!=null&&(se[0]=me.height);e:{if(Y=new qs,(se=new ze).data=T,se.w=O,se.ha=q,se.kd=1,O=[0],e(se!=null),((T=pf(se.data,se.w,se.ha,null,null,null,O,null,se))==0||T==7)&&O[0]&&(T=4),(O=T)==0){if(e(ue!=null),Y.data=se.data,Y.w=se.w+se.offset,Y.ha=se.ha-se.offset,Y.put=ct,Y.ac=ws,Y.bc=Cr,Y.ma=ue,se.xa){if((T=kd())==null){ue=1;break e}if((function(xe,ke){var Le=[0],Ue=[0],Me=[0];t:for(;;){if(xe==null)return 0;if(ke==null)return xe.a=2,0;if(xe.l=ke,xe.a=0,te(xe.m,ke.data,ke.w,ke.ha),!$s(xe.m,Le,Ue,Me)){xe.a=3;break t}if(xe.xb=Wp,ke.width=Le[0],ke.height=Ue[0],!dl(Le[0],Ue[0],1,xe,null))break t;return 1}return e(xe.a!=0),0})(T,Y)){if(Y=(O=lu(Y.width,Y.height,ue.Oa,ue.ba))==0){t:{Y=T;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((q=Y.l)!=null),e((se=q.ma)!=null),Y.xb!=0){if(Y.ca=se.ba,Y.tb=se.tb,e(Y.ca!=null),!Dp(se.Oa,q,Xg)){Y.a=2;break n}if(!cf(Y,q.width)||q.da)break n;if((q.da||Ut(Y.ca.S))&&$o(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&$o()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!ge(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!Lo(Y,Y.V,Y.Ba,Y.c,Y.i,q.o,lf))break n;se.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(O=T.a)}else O=T.a}else{if((T=new zx)==null){ue=1;break e}if(T.Fa=se.na,T.P=se.P,T.qc=se.Sa,Ld(T,Y)){if((O=lu(Y.width,Y.height,ue.Oa,ue.ba))==0){if(T.Aa=0,q=ue.Oa,e((se=T)!=null),q!=null){if(0<(ve=0>(ve=q.Md)?0:100<ve?255:255*ve/100)){for(we=Ee=0;4>we;++we)12>(Re=se.pb[we]).lc&&(Re.ia=ve*H5[0>Re.lc?0:Re.lc]>>3),Ee|=Re.ia;Ee&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=q.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}(function(xe,ke){if(xe==null)return 0;if(ke==null)return Ri(xe,2,"NULL VP8Io parameter in VP8Decode().");if(!xe.cb&&!Ld(xe,ke))return 0;if(e(xe.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(xe.L=0);var Le=sh[xe.L];if(xe.L==2?(xe.yb=0,xe.zb=0):(xe.yb=ke.v-Le>>4,xe.zb=ke.j-Le>>4,0>xe.yb&&(xe.yb=0),0>xe.zb&&(xe.zb=0)),xe.Va=ke.o+15+Le>>4,xe.Hb=ke.va+15+Le>>4,xe.Hb>xe.za&&(xe.Hb=xe.za),xe.Va>xe.Ub&&(xe.Va=xe.Ub),0<xe.L){var Ue=xe.ed;for(Le=0;4>Le;++Le){var Me;if(xe.Qa.Cb){var Be=xe.Qa.Lb[Le];xe.Qa.Fb||(Be+=Ue.Tb)}else Be=Ue.Tb;for(Me=0;1>=Me;++Me){var qe=xe.gd[Le][Me],We=Be;if(Ue.Pc&&(We+=Ue.vd[0],Me&&(We+=Ue.od[0])),0<(We=0>We?0:63<We?63:We)){var Ge=We;0<Ue.wb&&(Ge=4<Ue.wb?Ge>>2:Ge>>1)>9-Ue.wb&&(Ge=9-Ue.wb),1>Ge&&(Ge=1),qe.dd=Ge,qe.tc=2*We+Ge,qe.ld=40<=We?2:15<=We?1:0}else qe.tc=0;qe.La=Me}}}Le=0}else Ri(xe,6,"Frame setup failed"),Le=xe.a;if(Le=Le==0){if(Le){xe.$c=0,0<xe.Aa||(xe.Ic=pu);t:{Le=xe.Ic,Ue=4*(Ge=xe.za);var Ot=32*Ge,dt=Ge+1,pn=0<xe.L?Ge*(0<xe.Aa?2:1):0,wt=(xe.Aa==2?2:1)*Ge;if((qe=Ue+832+(Me=3*(16*Le+sh[xe.L])/2*Ot)+(Be=xe.Fa!=null&&0<xe.Fa.length?xe.Kc.c*xe.Kc.i:0))!=qe)Le=0;else{if(qe>xe.Vb){if(xe.Vb=0,xe.Ec=s(qe),xe.Fc=0,xe.Ec==null){Le=Ri(xe,1,"no memory during frame initialization.");break t}xe.Vb=qe}qe=xe.Ec,We=xe.Fc,xe.Ac=qe,xe.Bc=We,We+=Ue,xe.Gd=a(Ot,to),xe.Hd=0,xe.rb=a(dt+1,uf),xe.sb=1,xe.wa=pn?a(pn,eo):null,xe.Y=0,xe.D.Nb=0,xe.D.wa=xe.wa,xe.D.Y=xe.Y,0<xe.Aa&&(xe.D.Y+=Ge),e(!0),xe.oc=qe,xe.pc=We,We+=832,xe.ya=a(wt,Np),xe.aa=0,xe.D.ya=xe.ya,xe.D.aa=xe.aa,xe.Aa==2&&(xe.D.aa+=Ge),xe.R=16*Ge,xe.B=8*Ge,Ge=(Ot=sh[xe.L])*xe.R,Ot=Ot/2*xe.B,xe.sa=qe,xe.ta=We+Ge,xe.qa=xe.sa,xe.ra=xe.ta+16*Le*xe.R+Ot,xe.Ha=xe.qa,xe.Ia=xe.ra+8*Le*xe.B+Ot,xe.$c=0,We+=Me,xe.mb=Be?qe:null,xe.nb=Be?We:null,e(We+Be<=xe.Fc+xe.Vb),hl(xe),i(xe.Ac,xe.Bc,0,Ue),Le=1}}if(Le){if(ke.ka=0,ke.y=xe.sa,ke.O=xe.ta,ke.f=xe.qa,ke.N=xe.ra,ke.ea=xe.Ha,ke.Vd=xe.Ia,ke.fa=xe.R,ke.Rc=xe.B,ke.F=null,ke.J=0,!Zx){for(Le=-255;255>=Le;++Le)Kx[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Xx[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)Yx[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)Jx[255+Le]=0>Le?0:255<Le?255:Le;Zx=1}yf=Gn,Jd=Dg,Na=Md,Jn=oc,fr=Op,ui=$0,fi=zg,Mi=Us,bl=I,Wg=ae,qp=Bo,du=Mp,G0=_e,Up=Ce,K0=Mo,Vx=ou,Gg=qd,Zd=Ug,zo[0]=Hx,zo[1]=jp,zo[2]=Dd,zo[3]=cc,zo[4]=z0,zo[5]=su,zo[6]=no,zo[7]=H0,zo[8]=Fd,zo[9]=Rp,ca[0]=pl,ca[1]=q0,ca[2]=U0,ca[3]=Lp,ca[4]=lc,ca[5]=Ta,ca[6]=Io,Oa[0]=gl,Oa[1]=Fg,Oa[2]=Bg,Oa[3]=ml,Oa[4]=$g,Oa[5]=Ip,Oa[6]=qg,Le=1}else Le=0}Le&&(Le=(function(Nn,di){for(Nn.M=0;Nn.M<Nn.Va;++Nn.M){var gn,ht=Nn.Jc[Nn.M&Nn.Xb],it=Nn.m,Pi=Nn;for(gn=0;gn<Pi.za;++gn){var rn=it,Tn=Pi,Tr=Tn.Ac,os=Tn.Bc+4*gn,Di=Tn.zc,ri=Tn.ya[Tn.aa+gn];if(Tn.Qa.Bb?ri.$b=Se(rn,Tn.Pa.jb[0])?2+Se(rn,Tn.Pa.jb[2]):Se(rn,Tn.Pa.jb[1]):ri.$b=0,Tn.kc&&(ri.Ad=Se(rn,Tn.Bd)),ri.Za=!Se(rn,145)+0,ri.Za){var Yi=ri.Ob,ls=0;for(Tn=0;4>Tn;++Tn){var Kr,Rn=Di[0+Tn];for(Kr=0;4>Kr;++Kr){Rn=GN[Tr[os+Kr]][Rn];for(var Zn=q5[Se(rn,Rn[0])];0<Zn;)Zn=q5[2*Zn+Se(rn,Rn[Zn])];Rn=-Zn,Tr[os+Kr]=Rn}r(Yi,ls,Tr,os,4),ls+=4,Di[0+Tn]=Rn}}else Rn=Se(rn,156)?Se(rn,128)?1:3:Se(rn,163)?2:0,ri.Ob[0]=Rn,i(Tr,os,Rn,4),i(Di,0,Rn,4);ri.Dd=Se(rn,142)?Se(rn,114)?Se(rn,183)?1:3:2:0}if(Pi.m.Ka)return Ri(Nn,7,"Premature end-of-partition0 encountered.");for(;Nn.ja<Nn.za;++Nn.ja){if(Pi=ht,rn=(it=Nn).rb[it.sb-1],Tr=it.rb[it.sb+it.ja],gn=it.ya[it.aa+it.ja],os=it.kc?gn.Ad:0)rn.la=Tr.la=0,gn.Za||(rn.Na=Tr.Na=0),gn.Hc=0,gn.Gc=0,gn.ia=0;else{var Xr,Qn;if(rn=Tr,Tr=Pi,os=it.Pa.Xc,Di=it.ya[it.aa+it.ja],ri=it.pb[Di.$b],Tn=Di.ad,Yi=0,ls=it.rb[it.sb-1],Rn=Kr=0,i(Tn,Yi,0,384),Di.Za)var hi=0,pi=os[3];else{Zn=s(16);var br=rn.Na+ls.Na;if(br=nh(Tr,os[1],br,ri.Eb,0,Zn,0),rn.Na=ls.Na=(0<br)+0,1<br)yf(Zn,0,Tn,Yi);else{var Vs=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)Tn[Yi+Zn]=Vs}hi=1,pi=os[0]}var hr=15&rn.la,wr=15&ls.la;for(Zn=0;4>Zn;++Zn){var Fi=1&wr;for(Vs=Qn=0;4>Vs;++Vs)hr=hr>>1|(Fi=(br=nh(Tr,pi,br=Fi+(1&hr),ri.Sc,hi,Tn,Yi))>hi)<<7,Qn=Qn<<2|(3<br?3:1<br?2:Tn[Yi+0]!=0),Yi+=16;hr>>=4,wr=wr>>1|Fi<<7,Kr=(Kr<<8|Qn)>>>0}for(pi=hr,hi=wr>>4,Xr=0;4>Xr;Xr+=2){for(Qn=0,hr=rn.la>>4+Xr,wr=ls.la>>4+Xr,Zn=0;2>Zn;++Zn){for(Fi=1&wr,Vs=0;2>Vs;++Vs)br=Fi+(1&hr),hr=hr>>1|(Fi=0<(br=nh(Tr,os[2],br,ri.Qc,0,Tn,Yi)))<<3,Qn=Qn<<2|(3<br?3:1<br?2:Tn[Yi+0]!=0),Yi+=16;hr>>=2,wr=wr>>1|Fi<<5}Rn|=Qn<<4*Xr,pi|=hr<<4<<Xr,hi|=(240&wr)<<Xr}rn.la=pi,ls.la=hi,Di.Hc=Kr,Di.Gc=Rn,Di.ia=43690&Rn?0:ri.ia,os=!(Kr|Rn)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[gn.$b][gn.Za],it.wa[it.Y+it.ja].La|=!os),Pi.Ka)return Ri(Nn,7,"Premature end-of-file encountered.")}if(hl(Nn),it=di,Pi=1,gn=(ht=Nn).D,rn=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(gn.M=ht.M,gn.uc=rn,ro(ht,gn),Pi=1,gn=(Qn=ht.D).Nb,rn=(Rn=sh[ht.L])*ht.R,Tr=Rn/2*ht.B,Zn=16*gn*ht.R,Vs=8*gn*ht.B,os=ht.sa,Di=ht.ta-rn+Zn,ri=ht.qa,Tn=ht.ra-Tr+Vs,Yi=ht.Ha,ls=ht.Ia-Tr+Vs,wr=(hr=Qn.M)==0,Kr=hr>=ht.Va-1,ht.Aa==2&&ro(ht,Qn),Qn.uc)for(Fi=(br=ht).D.M,e(br.D.uc),Qn=br.yb;Qn<br.Hb;++Qn){hi=Qn,pi=Fi;var As=(Ia=(Ti=br).D).Nb;Xr=Ti.R;var Ia=Ia.wa[Ia.Y+hi],Ci=Ti.sa,Ei=Ti.ta+16*As*Xr+16*hi,Ws=Ia.dd,xr=Ia.tc;if(xr!=0)if(e(3<=xr),Ti.L==1)0<hi&&Vx(Ci,Ei,Xr,xr+4),Ia.La&&Zd(Ci,Ei,Xr,xr),0<pi&&K0(Ci,Ei,Xr,xr+4),Ia.La&&Gg(Ci,Ei,Xr,xr);else{var Gs=Ti.B,Ho=Ti.qa,xl=Ti.ra+8*As*Gs+8*hi,cs=Ti.Ha,Ti=Ti.Ia+8*As*Gs+8*hi;As=Ia.ld,0<hi&&(Mi(Ci,Ei,Xr,xr+4,Ws,As),Wg(Ho,xl,cs,Ti,Gs,xr+4,Ws,As)),Ia.La&&(du(Ci,Ei,Xr,xr,Ws,As),Up(Ho,xl,cs,Ti,Gs,xr,Ws,As)),0<pi&&(fi(Ci,Ei,Xr,xr+4,Ws,As),bl(Ho,xl,cs,Ti,Gs,xr+4,Ws,As)),Ia.La&&(qp(Ci,Ei,Xr,xr,Ws,As),G0(Ho,xl,cs,Ti,Gs,xr,Ws,As))}}if(ht.ia&&alert("todo:DitherRow"),it.put!=null){if(Qn=16*hr,hr=16*(hr+1),wr?(it.y=ht.sa,it.O=ht.ta+Zn,it.f=ht.qa,it.N=ht.ra+Vs,it.ea=ht.Ha,it.W=ht.Ia+Vs):(Qn-=Rn,it.y=os,it.O=Di,it.f=ri,it.N=Tn,it.ea=Yi,it.W=ls),Kr||(hr-=Rn),hr>it.o&&(hr=it.o),it.F=null,it.J=null,ht.Fa!=null&&0<ht.Fa.length&&Qn<hr&&(it.J=Ii(ht,it,Qn,hr-Qn),it.F=ht.mb,it.F==null&&it.F.length==0)){Pi=Ri(ht,3,"Could not decode alpha data.");break t}Qn<it.j&&(Rn=it.j-Qn,Qn=it.j,e(!(1&Rn)),it.O+=ht.R*Rn,it.N+=ht.B*(Rn>>1),it.W+=ht.B*(Rn>>1),it.F!=null&&(it.J+=it.width*Rn)),Qn<hr&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,it.F!=null&&(it.J+=it.v),it.ka=Qn-it.j,it.U=it.va-it.v,it.T=hr-Qn,Pi=it.put(it))}gn+1!=ht.Ic||Kr||(r(ht.sa,ht.ta-rn,os,Di+16*ht.R,rn),r(ht.qa,ht.ra-Tr,ri,Tn+8*ht.B,Tr),r(ht.Ha,ht.Ia-Tr,Yi,ls+8*ht.B,Tr))}if(!Pi)return Ri(Nn,6,"Output aborted.")}return 1})(xe,ke)),ke.bc!=null&&ke.bc(ke),Le&=1}return Le?(xe.cb=0,Le):0})(T,Y)||(O=T.a)}}else O=T.a}O==0&&ue.Oa!=null&&ue.Oa.fd&&(O=Fp(ue.ba))}ue=O}ce=ue!=0?null:11>ce?me.f.RGBA.eb:me.f.kb.y}else ce=null;return ce};var nv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(R,F){for(var j="",D=0;D<4;D++)j+=String.fromCharCode(R[F++]);return j}function u(R,F){return R[F+0]|R[F+1]<<8}function f(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16)>>>0}function h(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16|R[F+3]<<24)>>>0}new l;var p=[0],x=[0],y=[],w=new l,b=n,S=(function(R,F){var j={},D=0,W=!1,V=0,Z=0;if(j.frames=[],!(function(B,G){for(var ne=0;ne<4;ne++)if(B[G+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(R,F)){for(h(R,F+=4),F+=8;F<R.length;){var J=c(R,F),K=h(R,F+=4);F+=4;var $=K+(1&K);switch(J){case"VP8 ":case"VP8L":j.frames[D]===void 0&&(j.frames[D]={}),(X=j.frames[D]).src_off=W?Z:F-8,X.src_size=V+K+8,D++,W&&(W=!1,V=0,Z=0);break;case"VP8X":(X=j.header={}).feature_flags=R[F];var te=F+4;X.canvas_width=1+f(R,te),te+=3,X.canvas_height=1+f(R,te),te+=3;break;case"ALPH":W=!0,V=$+8,Z=F-8;break;case"ANIM":(X=j.header).bgcolor=h(R,F),te=F+4,X.loop_count=u(R,te),te+=2;break;case"ANMF":var Q,X;(X=j.frames[D]={}).offset_x=2*f(R,F),F+=3,X.offset_y=2*f(R,F),F+=3,X.width=1+f(R,F),F+=3,X.height=1+f(R,F),F+=3,X.duration=f(R,F),F+=3,Q=R[F++],X.dispose=1&Q,X.blend=Q>>1&1}J!="ANMF"&&(F+=$)}return j}})(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var _=S.header?S.header:null,P=S.frames?S.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],x=[_.canvas_width];for(var E=0;E<P.length&&P[E].blend!=0;E++);}var C=P[0],N=w.WebPDecodeRGBA(b,C.src_off,C.src_size,x,p);C.rgba=N,C.imgwidth=x[0],C.imgheight=p[0];for(var L=0;L<x[0]*p[0]*4;L++)y[L]=N[L];return this.width=x,this.height=p,this.data=y,this}(function(n){var e,t,r,i,s,a,o,l,c,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Pe){ne=!!Pe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Pe){ie=!!Pe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=Pe)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Pe){isNaN(Pe)||(he=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Pe){var ge;typeof Pe=="number"?ge=[Pe,Pe,Pe,Pe]:((ge=new Array(4))[0]=Pe[0],ge[1]=Pe.length>=2?Pe[1]:ge[0],ge[2]=Pe.length>=3?Pe[2]:ge[0],ge[3]=Pe.length>=4?Pe[3]:ge[1]),c.margin=ge}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(Pe){oe=Pe}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Pe){pe=Pe}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Pe){Se=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Pe){Pe instanceof u&&(c=Pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Pe){c.path=Pe}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(Pe){be=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ge;ge=h(Pe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ge=h(Pe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var ye=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(Pe){ye=null,Oe=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ge;if(this.ctx.font=Pe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var Ke=ge[1];ge[2];var Xe=ge[3],rt=ge[4];ge[5];var $e=ge[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(at==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var et=(function(Lt){var _t,Un,Dn=[],Et=Lt.trim();if(Et==="")return JR;if(Et in FY)return[FY[Et]];for(;Et!=="";){switch(Un=null,_t=(Et=$Y(Et)).charAt(0)){case'"':case"'":Un=e7e(Et.substring(1),_t);break;default:Un=t7e(Et)}if(Un===null||(Dn.push(Un[0]),(Et=$Y(Un[1]))!==""&&Et.charAt(0)!==","))return JR;Et=Et.replace(/^,/,"")}return Dn})($e);if(this.fontFaces){var ut=(function(Lt,_t){if(ye===null){var Un=(function(Dn){var Et=[];return Object.keys(Dn).forEach(function(sn){Dn[sn].forEach(function(Wn){var qt=null;switch(Wn){case"bold":qt={family:sn,weight:"bold"};break;case"italic":qt={family:sn,style:"italic"};break;case"bolditalic":qt={family:sn,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:sn}}qt!==null&&(qt.ref={name:sn,style:Wn},Et.push(qt))})}),Et})(Lt.getFontList());ye=(function(Dn){for(var Et={},sn=0;sn<Dn.length;++sn){var Wn=YR(Dn[sn]),qt=Wn.family,bn=Wn.stretch,Ut=Wn.style,Mr=Wn.weight;Et[qt]=Et[qt]||{},Et[qt][bn]=Et[qt][bn]||{},Et[qt][bn][Ut]=Et[qt][bn][Ut]||{},Et[qt][bn][Ut][Mr]=Wn}return Et})(Un.concat(_t))}return ye})(this.pdf,this.fontFaces),lt=et.map(function(Lt){return{family:Lt,stretch:"normal",weight:Xe,style:Ke}}),Ht=(function(Lt,_t,Un){for(var Dn=(Un=Un||{}).defaultFontFamily||"times",Et=Object.assign({},QBe,Un.genericFontFamilies||{}),sn=null,Wn=null,qt=0;qt<_t.length;++qt)if(Et[(sn=YR(_t[qt])).family]&&(sn.family=Et[sn.family]),Lt.hasOwnProperty(sn.family)){Wn=Lt[sn.family];break}if(!(Wn=Wn||Lt[Dn]))throw new Error("Could not find a font-family for the rule '"+BY(sn)+"' and default family '"+Dn+"'.");if(Wn=(function(bn,Ut){if(Ut[bn])return Ut[bn];var Mr=m8[bn],Pr=Mr<=m8.normal?-1:1,Ln=DY(Ut,Vle,Mr,Pr);if(!Ln)throw new Error("Could not find a matching font-stretch value for "+bn);return Ln})(sn.stretch,Wn),Wn=(function(bn,Ut){if(Ut[bn])return Ut[bn];for(var Mr=Hle[bn],Pr=0;Pr<Mr.length;++Pr)if(Ut[Mr[Pr]])return Ut[Mr[Pr]];throw new Error("Could not find a matching font-style for "+bn)})(sn.style,Wn),!(Wn=(function(bn,Ut){if(Ut[bn])return Ut[bn];if(bn===400&&Ut[500])return Ut[500];if(bn===500&&Ut[400])return Ut[400];var Mr=ZBe[bn],Pr=DY(Ut,Wle,Mr,bn<400?-1:1);if(!Pr)throw new Error("Could not find a matching font-weight for value "+bn);return Pr})(sn.weight,Wn)))throw new Error("Failed to resolve a font for the rule '"+BY(sn)+"'.");return Wn})(ut,lt);this.pdf.setFont(Ht.ref.name,Ht.ref.style)}else{var $t="";(Xe==="bold"||parseInt(Xe,10)>=700||Ke==="bold")&&($t="bold"),Ke==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var Xt="",Vn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qt=0;Qt<et.length;Qt++){if(this.pdf.internal.getFont(et[Qt],$t,{noFallback:!0,disableWarning:!0})!==void 0){Xt=et[Qt];break}if($t==="bolditalic"&&this.pdf.internal.getFont(et[Qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=et[Qt],$t="bold";else if(this.pdf.internal.getFont(et[Qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=et[Qt],$t="normal";break}}if(Xt===""){for(var Tt=0;Tt<et.length;Tt++)if(Vn[et[Tt]]){Xt=Vn[et[Tt]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){P.call(this,"fill",!1)},f.prototype.stroke=function(){P.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw qr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new a(B,G));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(B,G)},f.prototype.closePath=function(){var B=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Ar(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},f.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw qr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new a(B,G));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,G,ne,ie){if(isNaN(ne)||isNaN(ie)||isNaN(B)||isNaN(G))throw qr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(ne,ie)),he=this.ctx.transform.applyToPoint(new a(B,G));this.path.push({type:"qct",x1:he.x,y1:he.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},f.prototype.bezierCurveTo=function(B,G,ne,ie,fe,he){if(isNaN(fe)||isNaN(he)||isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie))throw qr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new a(fe,he)),pe=this.ctx.transform.applyToPoint(new a(B,G)),Se=this.ctx.transform.applyToPoint(new a(ne,ie));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Se.x,y2:Se.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},f.prototype.arc=function(B,G,ne,ie,fe,he){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie)||isNaN(fe))throw qr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new a(B,G));B=oe.x,G=oe.y;var pe=this.ctx.transform.applyToPoint(new a(0,ne)),Se=this.ctx.transform.applyToPoint(new a(0,0));ne=Math.sqrt(Math.pow(pe.x-Se.x,2)+Math.pow(pe.y-Se.y,2))}Math.abs(fe-ie)>=2*Math.PI&&(ie=0,fe=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:ne,startAngle:ie,endAngle:fe,counterclockwise:he})},f.prototype.arcTo=function(B,G,ne,ie,fe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,G,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie))throw qr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+ne,G),this.lineTo(B+ne,G+ie),this.lineTo(B,G+ie),this.lineTo(B,G),this.lineTo(B+ne,G),this.lineTo(B,G)},f.prototype.fillRect=function(B,G,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie))throw qr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,ne,ie),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},f.prototype.strokeRect=function(B,G,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie))throw qr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(B,G,ne,ie),this.stroke())},f.prototype.clearRect=function(B,G,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie))throw qr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,ne,ie))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(B){var G,ne,ie,fe;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,ne=0,ie=0,fe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(he!==null)G=parseInt(he[1]),ne=parseInt(he[2]),ie=parseInt(he[3]),fe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(he[1]),ne=parseInt(he[2]),ie=parseInt(he[3]),fe=parseFloat(he[4]);else{if(fe=1,typeof B=="string"&&B.charAt(0)!=="#"){var oe=new Dle(B);B=oe.ok?oe.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,ne=B.substring(2,3),ne+=ne,ie=B.substring(3,4),ie+=ie):(G=B.substring(1,3),ne=B.substring(3,5),ie=B.substring(5,7)),G=parseInt(G,16),ne=parseInt(ne,16),ie=parseInt(ie,16)}}return{r:G,g:ne,b:ie,a:fe,style:B}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,G,ne,ie){if(isNaN(G)||isNaN(ne)||typeof B!="string")throw qr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var fe=$(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:B,x:G,y:ne,scale:he,angle:fe,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(B,G,ne,ie){if(isNaN(G)||isNaN(ne)||typeof B!="string")throw qr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var fe=$(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:B,x:G,y:ne,scale:he,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(B){if(typeof B!="string")throw qr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,ne=this.pdf.internal.scaleFactor,ie=G.internal.getFontSize(),fe=G.getStringUnitWidth(B)*ie/G.internal.scaleFactor;return new function(he){var oe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:fe*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw qr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new l(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(B){if(isNaN(B))throw qr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw qr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new l(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(B,G,ne,ie,fe,he){if(isNaN(B)||isNaN(G)||isNaN(ne)||isNaN(ie)||isNaN(fe)||isNaN(he))throw qr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(B,G,ne,ie,fe,he);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(B,G,ne,ie,fe,he){B=isNaN(B)?1:B,G=isNaN(G)?0:G,ne=isNaN(ne)?0:ne,ie=isNaN(ie)?1:ie,fe=isNaN(fe)?0:fe,he=isNaN(he)?0:he,this.ctx.transform=new l(B,G,ne,ie,fe,he)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,G,ne,ie,fe,he,oe,pe,Se){var be=this.pdf.getImageProperties(B),ye=1,Oe=1,Pe=1,ge=1;ie!==void 0&&pe!==void 0&&(Pe=pe/ie,ge=Se/fe,ye=be.width/ie*pe/ie,Oe=be.height/fe*Se/fe),he===void 0&&(he=G,oe=ne,G=0,ne=0),ie!==void 0&&pe===void 0&&(pe=ie,Se=fe),ie===void 0&&pe===void 0&&(pe=be.width,Se=be.height);for(var Ke,Xe=this.ctx.transform.decompose(),rt=$(Xe.rotate.shx),$e=new l,at=($e=($e=($e=$e.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(he-G*Pe,oe-ne*ge,ie*ye,fe*Oe)),et=w.call(this,at),ut=[],lt=0;lt<et.length;lt+=1)ut.indexOf(et[lt])===-1&&ut.push(et[lt]);if(_(ut),this.autoPaging)for(var Ht=ut[0],$t=ut[ut.length-1],Xt=Ht;Xt<$t+1;Xt++){this.pdf.setPage(Xt);var Vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Xt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=Xt===1?0:Tt+(Xt-2)*Lt;if(this.ctx.clip_path.length!==0){var Un=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ke,this.posX+this.margin[3],-_t+Qt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Un}var Dn=JSON.parse(JSON.stringify(at));Dn=S([Dn],this.posX+this.margin[3],-_t+Qt+this.ctx.prevPageLastElemOffset)[0];var Et=(Xt>Ht||Xt<$t)&&y.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vn,Lt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Dn.x,Dn.y,Dn.w,Dn.h,null,null,rt),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",at.x,at.y,at.w,at.h,null,null,rt)};var w=function(B,G,ne){var ie=[];G=G||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ie.push(Math.floor((B.y+fe)/ne)+1);break;case"arc":ie.push(Math.floor((B.y+fe-B.radius)/ne)+1),ie.push(Math.floor((B.y+fe+B.radius)/ne)+1);break;case"qct":var he=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ie.push(Math.floor((he.y+fe)/ne)+1),ie.push(Math.floor((he.y+he.h+fe)/ne)+1);break;case"bct":var oe=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ie.push(Math.floor((oe.y+fe)/ne)+1),ie.push(Math.floor((oe.y+oe.h+fe)/ne)+1);break;case"rect":ie.push(Math.floor((B.y+fe)/ne)+1),ie.push(Math.floor((B.y+B.h+fe)/ne)+1)}for(var pe=0;pe<ie.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[pe];)b.call(this);return ie},b=function(){var B=this.fillStyle,G=this.strokeStyle,ne=this.font,ie=this.lineCap,fe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=ne,this.lineCap=ie,this.lineWidth=fe,this.lineJoin=he},S=function(B,G,ne){for(var ie=0;ie<B.length;ie++)switch(B[ie].type){case"bct":B[ie].x2+=G,B[ie].y2+=ne;case"qct":B[ie].x1+=G,B[ie].y1+=ne;default:B[ie].x+=G,B[ie].y+=ne}return B},_=function(B){return B.sort(function(G,ne){return G-ne})},P=function(B,G){for(var ne,ie,fe=this.fillStyle,he=this.strokeStyle,oe=this.lineCap,pe=this.lineWidth,Se=Math.abs(pe*this.ctx.transform.scaleX),be=this.lineJoin,ye=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Pe=[],ge=0;ge<Oe.length;ge++)if(Oe[ge].x!==void 0)for(var Ke=w.call(this,Oe[ge]),Xe=0;Xe<Ke.length;Xe+=1)Pe.indexOf(Ke[Xe])===-1&&Pe.push(Ke[Xe]);for(var rt=0;rt<Pe.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Pe[rt];)b.call(this);if(_(Pe),this.autoPaging)for(var $e=Pe[0],at=Pe[Pe.length-1],et=$e;et<at+1;et++){this.pdf.setPage(et),this.fillStyle=fe,this.strokeStyle=he,this.lineCap=oe,this.lineWidth=Se,this.lineJoin=be;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=et===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xt=et===1?0:Ht+(et-2)*$t;if(this.ctx.clip_path.length!==0){var Vn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ne,this.posX+this.margin[3],-Xt+lt+this.ctx.prevPageLastElemOffset),E.call(this,B,!0),this.path=Vn}if(ie=JSON.parse(JSON.stringify(ye)),this.path=S(ie,this.posX+this.margin[3],-Xt+lt+this.ctx.prevPageLastElemOffset),G===!1||et===0){var Qt=(et>$e||et<at)&&y.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,$t,null).clip().discardPath()),E.call(this,B,G),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Se,E.call(this,B,G),this.lineWidth=pe;this.path=ye},E=function(B,G){if((B!=="stroke"||G||!x.call(this))&&(B==="stroke"||G||!p.call(this))){for(var ne,ie,fe=[],he=this.path,oe=0;oe<he.length;oe++){var pe=he[oe];switch(pe.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:pe,deltas:[],abs:[]});break;case"lt":var Se=fe.length;if(he[oe-1]&&!isNaN(he[oe-1].x)&&(ne=[pe.x-he[oe-1].x,pe.y-he[oe-1].y],Se>0)){for(;Se>=0;Se--)if(fe[Se-1].close!==!0&&fe[Se-1].begin!==!0){fe[Se-1].deltas.push(ne),fe[Se-1].abs.push(pe);break}}break;case"bct":ne=[pe.x1-he[oe-1].x,pe.y1-he[oe-1].y,pe.x2-he[oe-1].x,pe.y2-he[oe-1].y,pe.x-he[oe-1].x,pe.y-he[oe-1].y],fe[fe.length-1].deltas.push(ne);break;case"qct":var be=he[oe-1].x+2/3*(pe.x1-he[oe-1].x),ye=he[oe-1].y+2/3*(pe.y1-he[oe-1].y),Oe=pe.x+2/3*(pe.x1-pe.x),Pe=pe.y+2/3*(pe.y1-pe.y),ge=pe.x,Ke=pe.y;ne=[be-he[oe-1].x,ye-he[oe-1].y,Oe-he[oe-1].x,Pe-he[oe-1].y,ge-he[oe-1].x,Ke-he[oe-1].y],fe[fe.length-1].deltas.push(ne);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(pe)}}ie=G?null:B==="stroke"?"stroke":"fill";for(var Xe=!1,rt=0;rt<fe.length;rt++)if(fe[rt].arc)for(var $e=fe[rt].abs,at=0;at<$e.length;at++){var et=$e[at];et.type==="arc"?L.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,G,!Xe):W.call(this,et.x,et.y),Xe=!0}else if(fe[rt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(fe[rt].begin!==!0){var ut=fe[rt].start.x,lt=fe[rt].start.y;V.call(this,fe[rt].deltas,ut,lt),Xe=!0}ie&&R.call(this,ie),G&&F.call(this)}},C=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-ne;case"top":return B+G-ne;case"hanging":return B+G-2*ne;case"middle":return B+G/2-ne;default:return B}},N=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,ne){this.colorStops.push([G,ne])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(B,G,ne,ie,fe,he,oe,pe,Se){for(var be=J.call(this,ne,ie,fe,he),ye=0;ye<be.length;ye++){var Oe=be[ye];ye===0&&(Se?j.call(this,Oe.x1+B,Oe.y1+G):W.call(this,Oe.x1+B,Oe.y1+G)),Z.call(this,B,G,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}pe?F.call(this):R.call(this,oe)},R=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(B,G){this.pdf.internal.out(t(B)+" "+r(G)+" m")},D=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var ne=this.pdf.getTextDimensions(B.text),ie=C.call(this,B.y),fe=N.call(this,ie)-ne.h,he=this.ctx.transform.applyToPoint(new a(B.x,ie)),oe=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var Se,be,ye,Oe=this.ctx.transform.applyToRectangle(new o(B.x,ie,ne.w,ne.h)),Pe=pe.applyToRectangle(new o(B.x,fe,ne.w,ne.h)),ge=w.call(this,Pe),Ke=[],Xe=0;Xe<ge.length;Xe+=1)Ke.indexOf(ge[Xe])===-1&&Ke.push(ge[Xe]);if(_(Ke),this.autoPaging)for(var rt=Ke[0],$e=Ke[Ke.length-1],at=rt;at<$e+1;at++){this.pdf.setPage(at);var et=at===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],Ht=lt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],Xt=$t-this.margin[3],Vn=at===1?0:ut+(at-2)*Ht;if(this.ctx.clip_path.length!==0){var Qt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Se,this.posX+this.margin[3],-1*Vn+et),E.call(this,"fill",!0),this.path=Qt}var Tt=S([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Vn+et+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*B.scale),ye=this.lineWidth,this.lineWidth=ye*B.scale);var Lt=this.autoPaging!=="text";if(Lt||Tt.y+Tt.h<=lt){if(Lt||Tt.y>=et&&Tt.x<=$t){var _t=Lt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||$t-Tt.x)[0],Un=S([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Vn+et+this.ctx.prevPageLastElemOffset)[0],Dn=Lt&&(at>rt||at<$e)&&y.call(this);Dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Ht,null).clip().discardPath()),this.pdf.text(_t,Un.x,Un.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),Dn&&this.pdf.restoreGraphicsState()}}else Tt.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-Tt.y);B.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=ye)}else B.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*B.scale),ye=this.lineWidth,this.lineWidth=ye*B.scale),this.pdf.text(B.text,he.x+this.posX,he.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=ye)},W=function(B,G,ne,ie){ne=ne||0,ie=ie||0,this.pdf.internal.out(t(B+ne)+" "+r(G+ie)+" l")},V=function(B,G,ne){return this.pdf.lines(B,G,ne,null,null)},Z=function(B,G,ne,ie,fe,he,oe,pe){this.pdf.internal.out([e(i(ne+B)),e(s(ie+G)),e(i(fe+B)),e(s(he+G)),e(i(oe+B)),e(s(pe+G)),"c"].join(" "))},J=function(B,G,ne,ie){for(var fe=2*Math.PI,he=Math.PI/2;G>ne;)G-=fe;var oe=Math.abs(ne-G);oe<fe&&ie&&(oe=fe-oe);for(var pe=[],Se=ie?-1:1,be=G;oe>1e-5;){var ye=be+Se*Math.min(oe,he);pe.push(K.call(this,B,be,ye)),oe-=Math.abs(ye-be),be=ye}return pe},K=function(B,G,ne){var ie=(ne-G)/2,fe=B*Math.cos(ie),he=B*Math.sin(ie),oe=fe,pe=-he,Se=oe*oe+pe*pe,be=Se+oe*fe+pe*he,ye=4/3*(Math.sqrt(2*Se*be)-be)/(oe*he-pe*fe),Oe=oe-ye*pe,Pe=pe+ye*oe,ge=Oe,Ke=-Pe,Xe=ie+G,rt=Math.cos(Xe),$e=Math.sin(Xe);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:Oe*rt-Pe*$e,y2:Oe*$e+Pe*rt,x3:ge*rt-Ke*$e,y3:ge*$e+Ke*rt,x4:B*Math.cos(ne),y4:B*Math.sin(ne)}},$=function(B){return 180*B/Math.PI},te=function(B,G,ne,ie,fe,he){var oe=B+.5*(ne-B),pe=G+.5*(ie-G),Se=fe+.5*(ne-fe),be=he+.5*(ie-he),ye=Math.min(B,fe,oe,Se),Oe=Math.max(B,fe,oe,Se),Pe=Math.min(G,he,pe,be),ge=Math.max(G,he,pe,be);return new o(ye,Pe,Oe-ye,ge-Pe)},Q=function(B,G,ne,ie,fe,he,oe,pe){var Se,be,ye,Oe,Pe,ge,Ke,Xe,rt,$e,at,et,ut,lt,Ht=ne-B,$t=ie-G,Xt=fe-ne,Vn=he-ie,Qt=oe-fe,Tt=pe-he;for(be=0;be<41;be++)rt=(Ke=(ye=B+(Se=be/40)*Ht)+Se*((Pe=ne+Se*Xt)-ye))+Se*(Pe+Se*(fe+Se*Qt-Pe)-Ke),$e=(Xe=(Oe=G+Se*$t)+Se*((ge=ie+Se*Vn)-Oe))+Se*(ge+Se*(he+Se*Tt-ge)-Xe),be==0?(at=rt,et=$e,ut=rt,lt=$e):(at=Math.min(at,rt),et=Math.min(et,$e),ut=Math.max(ut,rt),lt=Math.max(lt,$e));return new o(Math.round(at),Math.round(et),Math.round(ut-at),Math.round(lt-et))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,ne=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Dt.API),(function(n){var e=function(a){var o,l,c,u,f,h,p,x,y,w;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(w=f%85))/85)-(y=f%85))/85)-(x=f%85))/85)-(p=f%85))/85)%85,l.push(h+33,p+33,x+33,y+33,w+33)):l.push(122);return(function(b,S){for(var _=S;_>0;_--)b.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,c,u,f,h=String,p="length",x=255,y="charCodeAt",w="slice",b="replace";for(a[w](-2),a=a[w](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[w](a[p]%5||5))[p];f>u;u+=5)l=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return(function(S,_){for(var P=_;P>0;P--)S.pop()})(c,o[p]),h.fromCharCode.apply(h,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=l8(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Dt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(x){var y=x.length,w=[],b=String.fromCharCode;for(h=0;h<y;h+=1)w.push(b(255&x.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)})(i,s,a)}catch{}return o})(e,t,r)},n.loadImageFile=n.loadFile})(Dt.API),(function(n){function e(){return(fn.html2canvas?Promise.resolve(fn.html2canvas):jR(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(fn.DOMPurify?Promise.resolve(fn.DOMPurify):jR(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Ar(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var x=u[p],y=x.src.find(function(w){return w.format==="truetype"});y&&c.addFont(y.url,x.ref.name,x.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),h=c.call(f,o,l);return a.convert(h,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Dt.getPageSize=function(o,l,c){if(Ar(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var x,y=0,w=0;if(p.hasOwnProperty(h))y=p[h][1]/f,w=p[h][0]/f;else try{y=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>y&&(x=w,w=y,y=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>w&&(x=w,w=y,y=x)}return{width:w,height:y,unit:l,k:f,orientation:o}},n.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(YR):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Dt.API),Dt.API.addJS=function(n){return UY=n,this.internal.events.subscribe("postPutResources",function(){vC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+UY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vC!==void 0&&qY!==void 0&&this.internal.out("/Names <</JavaScript "+vC+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=t.internal.newObject();u.push(f);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Dt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,y={width:0,height:0,numcomponents:1},w=4;w<x;w+=2){if(w+=p,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),y={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}p=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(Dt.API),Dt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=FBe(n,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?(function(L){for(var R=L.width,F=L.height,j=L.data,D=L.palette,W=L.depth,V=!1,Z=[],J=[],K=void 0,$=!1,te=0,Q=0;Q<D.length;Q++){var X=WX(D[Q],4),B=X[0],G=X[1],ne=X[2],ie=X[3];Z.push(B,G,ne),ie!=null&&(ie===0?(te++,J.length<1&&J.push(Q)):ie<255&&($=!0))}if($||te>1){V=!0,J=void 0;var fe=R*F;K=new Uint8Array(fe);for(var he=new DataView(j.buffer),oe=0;oe<fe;oe++){var pe=ZR(he,oe,W),Se=WX(D[pe],4)[3];K[oe]=Se}}else te===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:j,alphaBytes:K,needSMask:V,palette:Z,mask:J}})(s):l===2||l===4?(function(L){for(var R=L.data,F=L.width,j=L.height,D=L.channels,W=L.depth,V=D===2?"DeviceGray":"DeviceRGB",Z=D-1,J=F*j,K=Z,$=J*K,te=1*J,Q=Math.ceil($*W/8),X=Math.ceil(te*W/8),B=new Uint8Array(Q),G=new Uint8Array(X),ne=new DataView(R.buffer),ie=new DataView(B.buffer),fe=new DataView(G.buffer),he=!1,oe=0;oe<J;oe++){for(var pe=oe*D,Se=0;Se<K;Se++)JY(ie,ZR(ne,pe+Se,W),oe*K+Se,W);var be=ZR(ne,pe+K,W);be<(1<<W)-1&&(he=!0),JY(fe,be,1*oe,W)}return{colorSpace:V,colorsPerPixel:Z,sMaskBitsPerComponent:he?W:void 0,colorBytes:B,alphaBytes:G,needSMask:he}})(s):(function(L){var R=L.data,F=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(j){for(var D=j.length,W=new Uint8Array(2*D),V=new DataView(W.buffer,W.byteOffset,W.byteLength),Z=0;Z<D;Z++)V.setUint16(2*Z,j[Z],!1);return W})(R):R,needSMask:!1}})(s);var f,h,p,x=i,y=x.colorSpace,w=x.colorsPerPixel,b=x.sMaskBitsPerComponent,S=x.colorBytes,_=x.alphaBytes,P=x.needSMask,E=x.palette,C=x.mask,N=null;return r!==Dt.API.image_compression.NONE&&typeof l8=="function"?(N=(function(L){var R;switch(L){case Dt.API.image_compression.FAST:R=11;break;case Dt.API.image_compression.MEDIUM:R=13;break;case Dt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(a),n=WY(S,Math.ceil(a*w*u/8),w,u,r),P&&(p=WY(_,Math.ceil(a*b/8),1,b,r))):(f=void 0,h=void 0,n=S,P&&(p=_)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:f,decodeParameters:h,transparency:C,palette:E,sMask:p,predictor:N,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:y}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new s7e(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new QR(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A})(Dt.API),Su.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Su.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){qr.log("bit decode error:"+t)}},Su.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Su.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Su.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Su.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=n}},Su.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=n}},Su.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Su.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Su.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Su(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new QR(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(Dt.API),QY.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new QY(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new QR(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(Dt.API),Dt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],p=r[c+3];s[o++]=u,s[o++]=f,s[o++]=h,a[l++]=p}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Dt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},C1=Dt.API,yC=C1.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=n.length,x=0,y=o[0]||l,w=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(h=f&&Ar(c[r])==="object"&&!isNaN(parseInt(c[r][x],10))?c[r][x]/u:0,w.push((o[r]||y)/l+h)),x=r;return w},zY=C1.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return C1.processArabic&&(n=C1.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:yC.apply(this,arguments).reduce(function(s,a){return s+a},0)},HY=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},VY=function(n,e,t){t||(t={});var r,i,s,a,o,l,c,u=[],f=[u],h=t.textIndent||0,p=0,x=0,y=n.split(" "),w=yC.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var b=Array(l).join(" "),S=[];y.map(function(P){(P=P.split(/\s*\n/)).length>1?S=S.concat(P.map(function(E,C){return(C&&E.length?`
`:"")+E})):S.push(P[0])}),y=S,l=zY.apply(this,[b,t])}for(s=0,a=y.length;s<a;s++){var _=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),h+p+(x=(i=yC.apply(this,[r,t])).reduce(function(P,E){return P+E},0))>e||_){if(x>e){for(o=HY.apply(this,[r,i,e-(h+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);x=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(P,E){return P+E},0)}else u=[r];f.push(u),h=x+l,p=w}else u.push(r),h+=p+x,p=w}return c=l?function(P,E){return(E?b:"")+P.join(" ")}:function(P){return P.join(" ")},f.map(c)},C1.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(VY.apply(this,[r[o],a,s]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var p,x,y,w,b=["{"];for(var S in h){if(p=h[S],isNaN(parseInt(S,10))?x="'"+S+"'":(S=parseInt(S,10),x=(x=a(S).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof p=="number")p<0?(y=a(p).slice(3),w="-"):(y=a(p).slice(2),w=""),y=w+y.slice(0,-1)+i[y.slice(-1)];else{if(Ar(p)!=="object")throw new Error("Don't know what to do with value type "+Ar(p)+".");y=o(p)}b.push(x+y)}return b.push("}"),b.join("")},l=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,y,w,b={},S=1,_=b,P=[],E="",C="",N=h.length-1,L=1;L<N;L+=1)(w=h[L])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(P.push([_,y]),_={},y=void 0):w=="}"?((x=P.pop())[0][x[1]]=_,y=void 0,_=x[0]):w=="-"?S=-1:y===void 0?r.hasOwnProperty(w)?(E+=r[w],y=parseInt(E,16)*S,S=1,E=""):E+=w:r.hasOwnProperty(w)?(C+=r[w],_[y]=parseInt(C,16)*S,S=1,y=void 0,C=""):C+=w;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var p=h.font,x=f.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var y=u.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])})(Dt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(pE(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(Dt),Dt.API.addSvgAsImage=function(n,e,t,r,i,s,a,o){if(isNaN(e)||isNaN(t))throw qr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw qr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(fn.canvg?Promise.resolve(fn.canvg):jR(()=>import("./index.es-Cfz0-ZWb.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,a,o)})},Dt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Dt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,f=0;function h(x,y){var w,b=!1;for(w=0;w<x.length;w+=1)x[w]===y&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(Ar(n)==="object"){for(i in n)if(s=n[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Dt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=s.length;f<h;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(s).sort(function(p,x){return p-x})).length;f<h;f++)a=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",x=0;x<h.length;x++)p+=String.fromCharCode(h[x]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var w=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+M1(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+M1(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+M1(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var x=c();u({data:h,addLength1:!0,objectId:x}),l("endobj");var y=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+M1(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+M1(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,x=f.fonts,y=p,w="",b=0,S="",_=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(S=o,y=p,Array.isArray(o)&&(S=o[0]),b=0;b<S.length;b+=1)x[y].metadata.hasOwnProperty("cmap")&&(a=x[y].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),a||S[b].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?w+=S[b]:w+="";var P="";return parseInt(y.slice(1))<14||_==="WinAnsiEncoding"?P=h(w,y).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(P=t(w,x[y])),f.isHex=!0,{text:P,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(Dt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Dt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,_=0;this.__bidiEngine__={};var P=function(j){var D=j.charCodeAt(),W=D>>8,V=y[W];return V!==void 0?f[256*V+(255&D)]:W===252||W===253?"AL":b.test(W)?"L":W===8?"R":"N"},E=function(j){for(var D,W=0;W<j.length;W++){if((D=P(j.charAt(W)))==="L")return!1;if(D==="R")return!0}return!1},C=function(j,D,W,V){var Z,J,K,$,te=D[V];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(te="AN");break;case"AL":S=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":V<1||V+1>=D.length||(Z=W[V-1])!=="EN"&&Z!=="AN"||(J=D[V+1])!=="EN"&&J!=="AN"?te="N":S&&(J="AN"),te=J===Z?J:"N";break;case"ES":te=(Z=V>0?W[V-1]:"B")==="EN"&&V+1<D.length&&D[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&W[V-1]==="EN"){te="EN";break}if(S){te="N";break}for(K=V+1,$=D.length;K<$&&D[K]==="ET";)K++;te=K<$&&D[K]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for($=D.length,K=V+1;K<$&&D[K]==="NSM";)K++;if(K<$){var Q=j[V],X=Q>=1425&&Q<=2303||Q===64286;if(Z=D[K],X&&(Z==="R"||Z==="AL")){te="R";break}}}te=V<1||(Z=D[V-1])==="B"?"N":W[V-1];break;case"B":S=!1,i=!0,te=_;break;case"S":s=!0,te="N"}return te},N=function(j,D,W){var V=j.split("");return W&&L(V,W,{hiLevel:_}),V.reverse(),D&&D.reverse(),V.join("")},L=function(j,D,W){var V,Z,J,K,$,te=-1,Q=j.length,X=0,B=[],G=_?p:h,ne=[];for(S=!1,i=!1,s=!1,Z=0;Z<Q;Z++)ne[Z]=P(j[Z]);for(J=0;J<Q;J++){if($=X,B[J]=C(j,ne,B,J),V=240&(X=G[$][x[B[J]]]),X&=15,D[J]=K=G[X][5],V>0)if(V===16){for(Z=te;Z<J;Z++)D[Z]=1;te=-1}else te=-1;if(G[X][6])te===-1&&(te=J);else if(te>-1){for(Z=te;Z<J;Z++)D[Z]=K;te=-1}ne[J]==="B"&&(D[J]=0),W.hiLevel|=K}s&&(function(ie,fe,he){for(var oe=0;oe<he;oe++)if(ie[oe]==="S"){fe[oe]=_;for(var pe=oe-1;pe>=0&&ie[pe]==="WS";pe--)fe[pe]=_}})(ne,D,Q)},R=function(j,D,W,V,Z){if(!(Z.hiLevel<j)){if(j===1&&_===1&&!i)return D.reverse(),void(W&&W.reverse());for(var J,K,$,te,Q=D.length,X=0;X<Q;){if(V[X]>=j){for($=X+1;$<Q&&V[$]>=j;)$++;for(te=X,K=$-1;te<K;te++,K--)J=D[te],D[te]=D[K],D[K]=J,W&&(J=W[te],W[te]=W[K],W[K]=J);X=$}X++}}},F=function(j,D,W){var V=j.split(""),Z={hiLevel:_};return W||(W=[]),L(V,W,Z),(function(J,K,$){if($.hiLevel!==0&&u)for(var te,Q=0;Q<J.length;Q++)K[Q]===1&&(te=w.indexOf(J[Q]))>=0&&(J[Q]=w[te+1])})(V,W,Z),R(2,V,D,W,Z),R(1,V,D,W,Z),V.join("")};return this.__bidiEngine__.doBidiReorder=function(j,D,W){if((function(Z,J){if(J)for(var K=0;K<Z.length;K++)J[K]=K;o===void 0&&(o=E(Z)),c===void 0&&(c=E(Z))})(j,D),a||!l||c)if(a&&l&&o^c)_=o?1:0,j=N(j,D,W);else if(!a&&l&&c)_=o?1:0,j=F(j,D,W),j=N(j,D);else if(!a||o||l||c){if(a&&!l&&o^c)j=N(j,D),o?(_=0,j=F(j,D,W)):(_=1,j=F(j,D,W),j=N(j,D));else if(a&&o&&!l&&c)_=1,j=F(j,D,W),j=N(j,D);else if(!a&&!l&&o^c){var V=u;o?(_=1,j=F(j,D,W),_=0,u=!1,j=F(j,D,W),u=V):(_=0,j=F(j,D,W),j=N(j,D),_=1,u=!1,j=F(j,D,W),u=V,j=N(j,D))}}else _=0,j=F(j,D,W);else _=o?1:0,j=F(j,D,W);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,c=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Dt),Dt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Cg(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new w7e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new a7e(this.contents),this.head=new l7e(this),this.name=new h7e(this),this.cmap=new Kle(this),this.toUnicode={},this.hhea=new c7e(this),this.maxp=new p7e(this),this.hmtx=new m7e(this),this.post=new f7e(this),this.os2=new u7e(this),this.loca=new b7e(this),this.glyf=new g7e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var of,Cg=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),a7e=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,l,c,u,f,h,p,x,y;for(y in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),u=16*p-f,(i=new Cg).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(u),s=16*p,c=i.pos+s,o=null,x=[],t)for(h=t[y],i.writeString(y),i.writeInt(n(h)),i.writeInt(c),i.writeInt(h.length),x=x.concat(h),y==="head"&&(o=c),c+=h.length;c%4;)x.push(0),c++;return i.write(x),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=Xle.call(t);t.length%4;)t.push(0);for(s=new Cg(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),o7e={}.hasOwnProperty,Td=function(n,e){for(var t in e)o7e.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};of=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var l7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Cg).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),eJ=(function(){function n(e,t){var r,i,s,a,o,l,c,u,f,h,p,x,y,w,b,S,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,s=(function(){var P,E;for(E=[],l=P=0;0<=h?P<h:P>h;l=0<=h?++P:--P)E.push(e.readUInt16());return E})(),e.pos+=2,y=(function(){var P,E;for(E=[],l=P=0;0<=h?P<h:P>h;l=0<=h?++P:--P)E.push(e.readUInt16());return E})(),c=(function(){var P,E;for(E=[],l=P=0;0<=h?P<h:P>h;l=0<=h?++P:--P)E.push(e.readUInt16());return E})(),u=(function(){var P,E;for(E=[],l=P=0;0<=h?P<h:P>h;l=0<=h?++P:--P)E.push(e.readUInt16());return E})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var P,E;for(E=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)E.push(e.readUInt16());return E})(),l=b=0,_=s.length;b<_;l=++b)for(w=s[l],r=S=x=y[l];x<=w?S<=w:S>=w;r=x<=w?++S:--S)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-x)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=f}return n.encode=function(e,t){var r,i,s,a,o,l,c,u,f,h,p,x,y,w,b,S,_,P,E,C,N,L,R,F,j,D,W,V,Z,J,K,$,te,Q,X,B,G,ne,ie,fe,he,oe,pe,Se,be,ye;switch(V=new Cg,a=Object.keys(e).sort(function(Oe,Pe){return Oe-Pe}),t){case"macroman":for(y=0,w=(function(){var Oe=[];for(x=0;x<256;++x)Oe.push(0);return Oe})(),S={0:0},s={},Z=0,te=a.length;Z<te;Z++)S[pe=e[i=a[Z]]]==null&&(S[pe]=++y),s[i]={old:e[i],new:S[e[i]]},w[i]=S[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(w),{charMap:s,subtable:V.data,maxGlyphID:y+1};case"unicode":for(D=[],f=[],_=0,S={},r={},b=c=null,J=0,Q=a.length;J<Q;J++)S[E=e[i=a[J]]]==null&&(S[E]=++_),r[i]={old:E,new:S[E]},o=S[E]-i,b!=null&&o===c||(b&&f.push(b),D.push(i),c=o),b=i;for(b&&f.push(b),f.push(65535),D.push(65535),F=2*(R=D.length),L=2*Math.pow(Math.log(R)/Math.LN2,2),h=Math.log(L/2)/Math.LN2,N=2*R-L,l=[],C=[],p=[],x=K=0,X=D.length;K<X;x=++K){if(j=D[x],u=f[x],j===65535){l.push(0),C.push(0);break}if(j-(W=r[j].new)>=32768)for(l.push(0),C.push(2*(p.length+R-x)),i=$=j;j<=u?$<=u:$>=u;i=j<=u?++$:--$)p.push(r[i].new);else l.push(W-j),C.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*R+2*p.length),V.writeUInt16(0),V.writeUInt16(F),V.writeUInt16(L),V.writeUInt16(h),V.writeUInt16(N),he=0,B=f.length;he<B;he++)i=f[he],V.writeUInt16(i);for(V.writeUInt16(0),oe=0,G=D.length;oe<G;oe++)i=D[oe],V.writeUInt16(i);for(Se=0,ne=l.length;Se<ne;Se++)o=l[Se],V.writeUInt16(o);for(be=0,ie=C.length;be<ie;be++)P=C[be],V.writeUInt16(P);for(ye=0,fe=p.length;ye<fe;ye++)y=p[ye],V.writeUInt16(y);return{charMap:r,subtable:V.data,maxGlyphID:_+1}}},n})(),Kle=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new eJ(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=eJ.encode(e,t),(i=new Cg).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),c7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),u7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),f7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},n})(),d7e=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},h7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,a,o,l,c,u,f,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,f=r.length;u<f;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),a=new d7e(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),p7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),m7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)s=f[c],h.push(s.advance);return h}).call(this),r=this.widths[this.widths.length-1],l=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),Xle=[].slice,g7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,a,o,l,c,u,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new Cg(t.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new y7e(o,c,f,l,u):new v7e(o,a,c,f,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=t.length;o<l;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},n})(),v7e=(function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),y7e=(function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Cg(Xle.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),b7e=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Td(n,of),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<t.length&&t[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n})(),w7e=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,l,c,u,f,h,p,x,y,w,b;for(i in r=Kle.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},b=r.charMap)p[(l=b[i]).old]=l.new;for(x in h=r.maxGlyphID,a)x in p||(p[x]=h++);return u=(function(S){var _,P;for(_ in P={},S)P[S[_]]=_;return P})(p),f=Object.keys(u).sort(function(S,_){return S-_}),y=(function(){var S,_,P;for(P=[],S=0,_=f.length;S<_;S++)o=f[S],P.push(u[o]);return P})(),s=this.font.glyf.encode(a,y,p),c=this.font.loca.encode(s.offsets,y),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},n})();Dt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+(function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)r=t[o],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();function x7e({patients:n,riskAssessments:e}){const{user:t}=Ku(),[r,i]=U.useState(""),[s,a]=U.useState(""),[o,l]=U.useState(""),[c,u]=U.useState([]),[f,h]=U.useState(!1),[p,x]=U.useState(!1);U.useEffect(()=>{const E=o.trim().toLowerCase();if(p){x(!1);return}if(E===""){u([]),h(!1),a("");return}const C=n.filter(L=>L.name.toLowerCase().includes(E));u(C),h(!0);const N=n.find(L=>L.name.toLowerCase()===E);a(N?N.id:"")},[o,n]);const y=[{id:"individual-risk",title:"Individual Risk Assessment",description:"Detailed AI risk assessment report for a specific patient",icon:jk,roles:["doctor"],count:o?1:0,requiresPatientSelection:!0},{id:"risk-levels-summary",title:"Risk Levels Summary",description:"Overview of risk levels across all patients",icon:bd,roles:["doctor"],count:n.length}],b=y.filter(E=>E.roles.includes((t==null?void 0:t.role)||"secretary")).filter(E=>E.title.toLowerCase().includes(r.toLowerCase())||E.description.toLowerCase().includes(r.toLowerCase())),S=E=>{var W,V,Z;const C=new Dt,N=((W=y.find(J=>J.id===E))==null?void 0:W.title)||"Report",L=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R=C.internal.pageSize.width,F=20;let j=30;switch(C.setFontSize(20),C.setTextColor(30,91,150),C.text("CliniTrack Medical Records System",R/2,j,{align:"center"}),j+=15,C.setFontSize(16),C.text(N,R/2,j,{align:"center"}),j+=20,C.setFontSize(10),C.setTextColor(100,100,100),C.text(`Generated on: ${L}`,F,j),C.text(`Generated by: ${t==null?void 0:t.name} (${t==null?void 0:t.role})`,F,j+8),j+=20,C.setDrawColor(30,91,150),C.line(F,j,R-F,j),j+=15,C.setTextColor(0,0,0),C.setFontSize(11),E){case"individual-risk":const J=n.find(oe=>oe.id===s),K=e.filter(oe=>oe.patientId===s);if(!J){C.setFontSize(14),C.text("No patient selected",F,j);break}C.setFontSize(18),C.setTextColor(30,91,150),C.text("AI CANCER RISK ASSESSMENT REPORT",R/2,j,{align:"center"}),C.setTextColor(0,0,0),j+=25,C.setFontSize(14),C.setTextColor(30,91,150),C.text("PATIENT DEMOGRAPHICS",F,j),C.setDrawColor(30,91,150),C.line(F,j+3,R-F,j+3),C.setTextColor(0,0,0),j+=15;const $=[["Full Name:",J.name],["Age:",`${J.age} years`],["Gender:",J.gender],["Phone:",J.phone],["Address:",J.address],["Medical Record Status:",J.status]];J.cancerType&&$.push(["Cancer Type:",J.cancerType]),J.stage&&$.push(["Disease Stage:",J.stage]),J.diagnosisDate&&$.push(["Diagnosis Date:",new Date(J.diagnosisDate).toLocaleDateString()]),J.emergencyContact&&($.push(["Emergency Contact:",`${J.emergencyContact.name} (${J.emergencyContact.relationship})`]),$.push(["Emergency Phone:",J.emergencyContact.phone])),C.setFontSize(10),$.forEach(([oe,pe])=>{C.setTextColor(60,60,60),C.text(oe,F+5,j),C.setTextColor(0,0,0);const Se=C.getTextWidth(oe)+10;if(oe==="Address:"){const be=C.splitTextToSize(pe,R-F-Se-10);be.forEach((ye,Oe)=>{C.text(ye,F+5+Se,j+Oe*6)}),j+=be.length*6+2}else C.text(pe,F+5+Se,j),j+=8}),j+=10,C.setFontSize(14),C.setTextColor(30,91,150),C.text("CURRENT HEALTH PROFILE",F,j),C.line(F,j+3,R-F,j+3),C.setTextColor(0,0,0),j+=15;const te=[["Medical History:",((V=J.medicalHistory)==null?void 0:V.join(", "))||"None reported"],["Known Allergies:",((Z=J.allergies)==null?void 0:Z.join(", "))||"None reported"],["Cancer History:",J.cancerHistory?"Previous cancer diagnosis":"No prior cancer history"],["Smoking Status:",J.smokingStatus||"Not specified"],["Alcohol Consumption:",J.alcoholFrequency||"Not specified"],["Processed Food Intake:",J.processedFoodPreference||"Not specified"],["Fruit/Vegetable Intake:",J.fruitVegetableIntake||"Not specified"]];if(J.weight&&J.height){const oe=(J.weight/(J.height/100)**2).toFixed(1);te.push(["BMI:",`${oe} (${J.weight}kg, ${J.height}cm)`])}if(C.setFontSize(10),te.forEach(([oe,pe])=>{C.setTextColor(60,60,60),C.text(oe,F+5,j),C.setTextColor(0,0,0);const Se=70,be=C.splitTextToSize(pe,R-F-Se-10);be.forEach((ye,Oe)=>{C.text(ye,F+5+Se,j+Oe*6)}),j+=Math.max(6,be.length*6)+2}),j+=15,C.setFontSize(14),C.setTextColor(30,91,150),C.text("AI RISK ASSESSMENT RESULTS",F,j),C.line(F,j+3,R-F,j+3),C.setTextColor(0,0,0),j+=15,K.length===0?(C.setFillColor(250,250,250),C.rect(F+5,j-5,R-F-10,25,"F"),C.setFontSize(11),C.text(" No AI risk assessments available for this patient",F+15,j+5),C.setFontSize(9),C.text("Please conduct a risk assessment to generate AI analysis and recommendations.",F+15,j+15),j+=35):K.forEach((oe,pe)=>{var ge;j>240&&(C.addPage(),j=30,C.setFontSize(14),C.setTextColor(30,91,150),C.text(`${J.name} - Risk Assessment Report (Continued)`,F,j),C.line(F,j+3,R-F,j+3),j+=20);const Se=oe.riskLevel==="High"?[254,242,242]:oe.riskLevel==="Moderate"?[255,251,235]:[240,253,244];C.setFillColor(Se[0],Se[1],Se[2]),C.rect(F+5,j-3,R-F-10,20,"F"),C.setFontSize(12),C.setTextColor(0,0,0),C.text(`Assessment #${pe+1}`,F+10,j+5),C.text(`Date: ${new Date(oe.date).toLocaleDateString()}`,F+10,j+13);const be=R-F-80;if(C.setFontSize(11),C.text("RISK LEVEL:",be,j+5),oe.riskLevel==="High"?C.setTextColor(220,38,38):oe.riskLevel==="Moderate"?C.setTextColor(251,146,60):C.setTextColor(34,197,94),C.setFontSize(14),C.text(oe.riskLevel.toUpperCase(),be,j+13),C.setTextColor(0,0,0),j+=25,C.setFontSize(10),[["Risk Score:",`${oe.riskScore}/100`],["Confidence Level:",`${oe.confidence}%`],["Urgency Classification:",oe.urgencyLevel||"Routine"],["Cancer Type(s) Suspected:",((ge=oe.suspectedCancerTypes)==null?void 0:ge.join(", "))||"None specific"],["Suggested Stage:",oe.suggestedStage||"Undetermined"]].forEach(([Ke,Xe])=>{C.setTextColor(60,60,60),C.text(Ke,F+10,j),C.setTextColor(0,0,0),C.text(Xe,F+80,j),j+=8}),j+=5,oe.symptoms&&oe.symptoms.length>0){C.setFontSize(11),C.setTextColor(30,91,150),C.text("SYMPTOMS ANALYZED:",F+10,j),C.setTextColor(0,0,0),j+=8,C.setFontSize(9);const Ke=oe.symptoms.join("  ");C.splitTextToSize(` ${Ke}`,R-F-25).forEach(rt=>{C.text(rt,F+15,j),j+=6}),j+=5}oe.factors&&oe.factors.length>0&&(C.setFontSize(11),C.setTextColor(30,91,150),C.text("AI RISK FACTOR ANALYSIS:",F+10,j),C.setTextColor(0,0,0),j+=8,C.setFontSize(9),oe.factors.slice(0,8).forEach(Ke=>{C.splitTextToSize(` ${Ke}`,R-F-25).forEach(rt=>{C.text(rt,F+15,j),j+=6})}),oe.factors.length>8&&(C.text(`... and ${oe.factors.length-8} additional factors`,F+15,j),j+=6),j+=5),oe.recommendedTests&&oe.recommendedTests.length>0&&(C.setFontSize(11),C.setTextColor(30,91,150),C.text("RECOMMENDED DIAGNOSTIC TESTS:",F+10,j),C.setTextColor(0,0,0),j+=8,C.setFontSize(9),oe.recommendedTests.forEach(Ke=>{C.text(` ${Ke}`,F+15,j),j+=6}),j+=5),C.setFillColor(245,248,255),C.rect(F+5,j-3,R-F-10,25,"F"),C.setFontSize(11),C.setTextColor(30,91,150),C.text("AI CLINICAL RECOMMENDATION:",F+10,j+5),C.setTextColor(0,0,0),j+=13,C.setFontSize(9),C.splitTextToSize(oe.recommendation,R-F-20).forEach(Ke=>{C.text(Ke,F+10,j),j+=6}),j+=15,pe<K.length-1&&(C.setDrawColor(200,200,200),C.setLineWidth(.5),C.line(F+5,j,R-F-5,j),j+=15)}),K.length>0){j>220&&(C.addPage(),j=30),j+=10,C.setFontSize(14),C.setTextColor(30,91,150),C.text("CLINICAL SUMMARY & AI INSIGHTS",F,j),C.line(F,j+3,R-F,j+3),C.setTextColor(0,0,0),j+=15;const oe=K[K.length-1];C.setFillColor(248,250,252),C.rect(F+5,j-3,R-F-10,45,"F"),C.setFontSize(11),C.setTextColor(30,91,150),C.text("ASSESSMENT SUMMARY:",F+10,j+5),C.setTextColor(0,0,0),j+=15;const pe=[["Total Assessments Conducted:",K.length.toString()],["Latest Risk Classification:",oe.riskLevel],["Most Recent Assessment:",new Date(oe.date).toLocaleDateString()],["Current Risk Score:",`${oe.riskScore}/100`]];if(C.setFontSize(10),pe.forEach(([ye,Oe])=>{C.setTextColor(60,60,60),C.text(ye,F+15,j),C.setTextColor(0,0,0),C.text(Oe,F+120,j),j+=8}),K.length>1){const ye=K[0],Oe=oe.riskScore>ye.riskScore?"Increasing Risk Trend":oe.riskScore<ye.riskScore?"Decreasing Risk Trend":"Stable Risk Pattern";C.setTextColor(60,60,60),C.text("Risk Progression:",F+15,j),C.setTextColor(0,0,0),C.text(Oe,F+120,j),j+=8}j+=15,C.setFontSize(14),C.setTextColor(30,91,150),C.text("AI SYSTEM METHODOLOGY",F,j),C.line(F,j+3,R-F,j+3),C.setTextColor(0,0,0),j+=15,C.setFillColor(250,252,255),C.rect(F+5,j-3,R-F-10,85,"F"),C.setFontSize(10),C.setTextColor(30,91,150),C.text("Algorithm Overview:",F+10,j+5),C.setTextColor(0,0,0),j+=13;const Se=["Machine Learning Model: Trained on comprehensive oncological datasets with 95% accuracy","Symptom Analysis: Pattern recognition for breast, lung, and colorectal cancer indicators","Risk Scoring: Weighted algorithm considering symptoms, demographics, and lifestyle factors","Confidence Metrics: Statistical confidence based on data completeness and symptom clarity","Clinical Integration: Designed to assist, not replace, clinical judgment and expertise"];C.setFontSize(9),Se.forEach(ye=>{C.splitTextToSize(` ${ye}`,R-F-20).forEach(Pe=>{C.text(Pe,F+10,j),j+=6}),j+=2}),j+=10,C.setFontSize(10),C.setTextColor(30,91,150),C.text("Risk Score Interpretation:",F+10,j),C.setTextColor(0,0,0),j+=8;const be=[["High Risk (50 pts):","Urgent medical evaluation recommended within 24-72 hours"],["Moderate Risk (25-49 pts):","Priority assessment within 1-2 weeks, consider diagnostic tests"],["Low Risk (<25 pts):","Routine monitoring and age-appropriate screening protocols"]];C.setFontSize(9),be.forEach(([ye,Oe])=>{C.setTextColor(60,60,60),C.text(ye,F+10,j),C.setTextColor(0,0,0);const Pe=C.splitTextToSize(Oe,R-F-80);Pe.forEach((ge,Ke)=>{C.text(ge,F+60,j+Ke*6)}),j+=Math.max(6,Pe.length*6)+3}),j+=10,C.setFillColor(255,248,240),C.rect(F+5,j-3,R-F-10,25,"F"),C.setFontSize(9),C.setTextColor(180,83,9),C.text(" CLINICAL DISCLAIMER:",F+10,j+5),C.setTextColor(120,53,15),C.text("This AI assessment is a clinical decision support tool. Final diagnosis and treatment",F+10,j+13),C.text("decisions must always be made by qualified healthcare professionals based on",F+10,j+19),C.text("comprehensive clinical evaluation, patient history, and appropriate diagnostic testing.",F+10,j+25),C.setTextColor(0,0,0),j+=35}break;case"risk-levels-summary":C.setFontSize(16),C.text("Risk Levels Summary - All Patients",F,j),j+=20;const Q=n.map(oe=>{const pe=e.filter(be=>be.patientId===oe.id).sort((be,ye)=>new Date(ye.date).getTime()-new Date(be.date).getTime()),Se=pe[0];return{patient:oe,latestAssessment:Se,totalAssessments:pe.length}});C.setFontSize(14),C.setTextColor(30,91,150),C.text("RISK LEVEL STATISTICS",F,j),C.setTextColor(0,0,0),j+=12;const X=Q.filter(oe=>oe.latestAssessment).length,B=Q.filter(oe=>{var pe;return((pe=oe.latestAssessment)==null?void 0:pe.riskLevel)==="High"}).length,G=Q.filter(oe=>{var pe;return((pe=oe.latestAssessment)==null?void 0:pe.riskLevel)==="Moderate"}).length,ne=Q.filter(oe=>{var pe;return((pe=oe.latestAssessment)==null?void 0:pe.riskLevel)==="Low"}).length,ie=Q.filter(oe=>!oe.latestAssessment).length;C.setFontSize(11),C.text(`Total Patients: ${n.length}`,F+10,j),j+=8,C.text(`Patients with Risk Assessments: ${X}`,F+10,j),j+=8,C.text(`Patients without Assessments: ${ie}`,F+10,j),j+=15,C.setFontSize(12),C.text("Risk Level Distribution:",F+10,j),j+=10,C.setFontSize(10),C.setTextColor(220,38,38),C.text(`High Risk: ${B} patients (${X>0?(B/X*100).toFixed(1):0}%)`,F+15,j),C.setTextColor(0,0,0),j+=8,C.setTextColor(251,146,60),C.text(`Moderate Risk: ${G} patients (${X>0?(G/X*100).toFixed(1):0}%)`,F+15,j),C.setTextColor(0,0,0),j+=8,C.setTextColor(34,197,94),C.text(`Low Risk: ${ne} patients (${X>0?(ne/X*100).toFixed(1):0}%)`,F+15,j),C.setTextColor(0,0,0),j+=20,C.setFontSize(14),C.setTextColor(30,91,150),C.text("AI RISK ASSESSMENT METHODOLOGY",F,j),C.setTextColor(0,0,0),j+=12,C.setFontSize(9),C.splitTextToSize("CliniTrack's AI cancer risk assessment employs a comprehensive scoring system: (1) SYMPTOM ANALYSIS: Cancer-specific symptoms receive weighted scores - breast lumps, persistent cough, blood in stool (25 pts each), emergency symptoms like hemoptysis (40 pts), general symptoms like fatigue (10 pts). (2) LIFESTYLE FACTORS: Current smoking (+25 pts), daily alcohol consumption (+20 pts), high processed food intake (+15 pts), low fruit/vegetable intake (+12 pts). (3) HEALTH METRICS: Obesity BMI30 (+20 pts), overweight BMI 25-29.9 (+10 pts), underweight BMI<18.5 (+15 pts), normal BMI (-5 pts protective). (4) DEMOGRAPHICS: Age 70+ (+25 pts), 60-69 (+15 pts), 50-59 (+10 pts); gender-specific risks. (5) MEDICAL HISTORY: Previous cancer history (+30 pts). RISK CLASSIFICATION: High Risk (50 pts), Moderate Risk (25-49 pts), Low Risk (<25 pts). CONFIDENCE: 65-95% based on symptom clarity and data completeness.",R-F-20).forEach(oe=>{C.text(oe,F+10,j),j+=6}),j+=15,C.setFontSize(14),C.setTextColor(30,91,150),C.text("PATIENT RISK LEVELS",F,j),C.setTextColor(0,0,0),j+=12,Q.forEach((oe,pe)=>{if(j>270&&(C.addPage(),j=30),C.setFontSize(11),C.text(`${pe+1}. ${oe.patient.name}`,F+10,j),j+=8,C.setFontSize(9),C.text(`Age: ${oe.patient.age} | Gender: ${oe.patient.gender}`,F+15,j),j+=6,C.text(`Status: ${oe.patient.status}`,F+15,j),j+=6,oe.latestAssessment){C.text(`Latest Assessment: ${new Date(oe.latestAssessment.date).toLocaleDateString()}`,F+15,j),j+=6,C.text("Risk Level: ",F+15,j);const Se=F+15+C.getTextWidth("Risk Level: ");oe.latestAssessment.riskLevel==="High"?C.setTextColor(220,38,38):oe.latestAssessment.riskLevel==="Moderate"?C.setTextColor(251,146,60):C.setTextColor(34,197,94),C.text(oe.latestAssessment.riskLevel,Se,j),C.setTextColor(0,0,0),j+=6,C.text(`Risk Score: ${oe.latestAssessment.riskScore}`,F+15,j),j+=6,C.text(`Total Assessments: ${oe.totalAssessments}`,F+15,j),j+=6}else C.setTextColor(150,150,150),C.text("No risk assessment available",F+15,j),C.setTextColor(0,0,0),j+=6;j+=8});break}const D=C.getNumberOfPages();for(let J=1;J<=D;J++)C.setPage(J),C.setFontSize(8),C.setTextColor(100,100,100),C.text("This report contains confidential patient information",R/2,285,{align:"center"}),C.text(`CliniTrack Medical Records System - Page ${J} of ${D}`,R/2,292,{align:"center"});return C},_=E=>{var R;const C=S(E),L=`${(((R=y.find(F=>F.id===E))==null?void 0:R.title)||"Report").replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`;C.save(L)},P=E=>{const N=S(E).output("blob"),L=URL.createObjectURL(N),R=window.open(L,"_blank");R&&(R.onload=()=>{R.print()}),setTimeout(()=>{URL.revokeObjectURL(L)},1e3)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{children:"Medical Reports"}),v.jsx("p",{className:"text-muted-foreground",children:"Generate and print AI risk assessment reports"})]}),v.jsxs(ir,{variant:"secondary",className:"flex items-center gap-2",children:[v.jsx(TZ,{className:"h-4 w-4"}),b.length," Available"]})]}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Report Options"}),v.jsx(ai,{children:"Search reports and type patient name for individual assessments"})]}),v.jsx(tn,{children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(t==null?void 0:t.role)==="doctor"&&v.jsxs("div",{className:"relative",children:[v.jsx(d5,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),v.jsx(In,{placeholder:"Search Patient...",value:o,onChange:E=>l(E.target.value),onFocus:()=>{c.length>0&&h(!0)},className:"pl-10"}),f&&v.jsx("div",{className:"dropdown-fixed  mt-1 w-full border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:c.length>0?c.map(E=>v.jsx("div",{onClick:()=>{x(!0),l(E.name),a(E.id),h(!1)},className:"px-3 py-2 hover:bg-yellow-500 cursor-pointer",children:E.name},E.id)):v.jsx("div",{className:"px-3 py-2 text-gray-500 italic",children:"No matching patients found"})})]})})})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(E=>{const C=E.icon,N=n.find(L=>L.name.toLowerCase().includes(o.toLowerCase()));return v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:v.jsx(C,{className:"h-5 w-5 text-primary"})}),v.jsxs("div",{children:[v.jsx($n,{className:"text-base",children:E.title}),v.jsx(ai,{className:"text-sm",children:E.description})]})]})}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-muted-foreground",children:"Records:"}),v.jsx("span",{className:"font-medium",children:E.count})]}),E.requiresPatientSelection&&v.jsx("div",{className:"text-xs text-muted-foreground",children:o?`Selected: ${N?N.name:"No matching patient"}`:"Please type a patient name above"}),v.jsx(Ql,{}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs(zt,{size:"sm",onClick:()=>_(E.id),className:"flex-1",disabled:E.requiresPatientSelection&&!N,children:[v.jsx(SC,{className:"mr-2 h-3 w-3"}),"PDF"]}),v.jsxs(zt,{size:"sm",variant:"outline",onClick:()=>P(E.id),className:"flex-1",disabled:E.requiresPatientSelection&&!N,children:[v.jsx(Sme,{className:"mr-2 h-3 w-3"}),"Print"]})]})]})})]},E.id)})}),v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsx($n,{children:"Important Notice"}),v.jsx(ai,{children:"Medical data privacy and security"})]}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[v.jsx("p",{children:" Reports contain confidential patient information"}),v.jsx("p",{children:" Handle according to medical privacy guidelines"}),v.jsx("p",{children:" Store downloaded files securely"}),v.jsx("p",{children:" All report activities are logged for audit purposes"})]})})]})]})}var zN="Switch",[_7e]=nf(zN),[S7e,A7e]=_7e(zN),Yle=U.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...f}=n,[h,p]=U.useState(null),x=Kn(e,_=>p(_)),y=U.useRef(!1),w=h?u||!!h.closest("form"):!0,[b,S]=xg({prop:i,defaultProp:s??!1,onChange:c,caller:zN});return v.jsxs(S7e,{scope:t,checked:b,disabled:o,children:[v.jsx(cn.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":ece(b),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:dn(n.onClick,_=>{S(P=>!P),w&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),w&&v.jsx(Qle,{control:h,bubbles:!y.current,name:r,value:l,checked:b,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Yle.displayName=zN;var Jle="SwitchThumb",Zle=U.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=A7e(Jle,t);return v.jsx(cn.span,{"data-state":ece(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Zle.displayName=Jle;var P7e="SwitchBubbleInput",Qle=U.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const a=U.useRef(null),o=Kn(a,s),l=_F(t),c=xF(e);return U.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&p){const x=new Event("click",{bubbles:r});p.call(u,t),u.dispatchEvent(x)}},[l,t,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Qle.displayName=P7e;function ece(n){return n?"checked":"unchecked"}var C7e=Yle,E7e=Zle;function R2({className:n,...e}){return v.jsx(C7e,{"data-slot":"switch",className:Xn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:v.jsx(E7e,{"data-slot":"switch-thumb",className:Xn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const bC=new Gt("CliniTrack");function T7e(){const{user:n,updateProfile:e,changePassword:t}=Ku(),[r,i]=U.useState(null),[s,a]=U.useState({name:"",email:""}),[o,l]=U.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=U.useState({followUpReminders:!0,highRiskAlerts:!0,newPatientRegistrations:!1,labResultsAvailable:!1,systemMaintenance:!0}),[f,h]=U.useState({current:!1,new:!1,confirm:!1}),[p,x]=U.useState(!1),[y,w]=U.useState(!1),[b,S]=U.useState(!1),[_,P]=U.useState({profile:"",password:"",notifications:""}),[E,C]=U.useState({profile:"",password:"",notifications:""});U.useEffect(()=>{(async()=>{if(n!=null&&n.email)try{const V=`user_${n.email}`,Z=await bC.get(V);i(Z),a({name:Z.name,email:Z.email}),u(Z.notifications||{followUpReminders:!0,highRiskAlerts:!0,newPatientRegistrations:Z.role==="doctor",labResultsAvailable:Z.role==="doctor",systemMaintenance:!0})}catch(V){V.name==="not_found"?console.warn("Current user not found in PouchDB"):console.error("Failed to fetch current user:",V)}})()},[n==null?void 0:n.email]);const N=()=>{P({profile:"",password:"",notifications:""}),C({profile:"",password:"",notifications:""})},L=async W=>{if(W.preventDefault(),N(),x(!0),!s.name||!s.email){C(V=>({...V,profile:"Please fill in all fields"})),x(!1);return}try{if(!r)throw new Error("User not found");const V={...r,name:s.name,email:s.email,updatedAt:new Date().toISOString()};await bC.put(V),i(V),e(s),P(Z=>({...Z,profile:"Profile updated successfully"}))}catch(V){console.error("Failed to update profile:",V),C(Z=>({...Z,profile:"Failed to update profile"}))}finally{x(!1)}},R=async W=>{if(W.preventDefault(),N(),w(!0),!o.currentPassword||!o.newPassword||!o.confirmPassword){C(V=>({...V,password:"Please fill in all password fields"})),w(!1);return}if(o.newPassword!==o.confirmPassword){C(V=>({...V,password:"New passwords do not match"})),w(!1);return}if(o.newPassword.length<6){C(V=>({...V,password:"New password must be at least 6 characters long"})),w(!1);return}try{if(!r)throw new Error("User not found");if(o.currentPassword!==r.password){C(J=>({...J,password:"Current password is incorrect"})),w(!1);return}const V={...r,password:o.newPassword,updatedAt:new Date().toISOString()};await bC.put(V),i(V),await t(o.currentPassword,o.newPassword)?(P(J=>({...J,password:"Password changed successfully"})),l({currentPassword:"",newPassword:"",confirmPassword:""})):C(J=>({...J,password:"Failed to change password"}))}catch(V){console.error("Failed to change password:",V),C(Z=>({...Z,password:"Failed to change password"}))}finally{w(!1)}},F=async()=>{N(),S(!0);try{if(!r)throw new Error("User not found");const W={...r,notifications:c,updatedAt:new Date().toISOString()};await bC.put(W),i(W),P(V=>({...V,notifications:"Notification preferences saved successfully"}))}catch(W){console.error("Failed to save notifications:",W),C(V=>({...V,notifications:"Failed to save notification preferences"}))}finally{S(!1)}},j=W=>{h(V=>({...V,[W]:!V[W]}))},D=W=>{u(V=>({...V,[W]:!V[W]}))};return r?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Settings"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),v.jsxs(eN,{defaultValue:"profile",className:"space-y-4",children:[v.jsxs(tN,{className:"grid w-full grid-cols-3",children:[v.jsx(Ao,{value:"profile",children:"Profile"}),v.jsx(Ao,{value:"security",children:"Security"}),v.jsx(Ao,{value:"notifications",children:"Notifications"})]}),v.jsx(Po,{value:"profile",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(jk,{className:"h-5 w-5"}),v.jsx($n,{children:"Profile Information"})]}),v.jsx(ai,{children:"Update your personal information and account details"})]}),v.jsx(tn,{children:v.jsxs("form",{onSubmit:L,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"name",children:"Full Name"}),v.jsx(In,{id:"name",value:s.name,onChange:W=>a(V=>({...V,name:W.target.value})),disabled:p})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"email",children:"Email Address"}),v.jsx(In,{id:"email",type:"email",value:s.email,onChange:W=>a(V=>({...V,email:W.target.value})),disabled:p})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Role"}),v.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[v.jsx("span",{className:"capitalize font-medium",children:r.role}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your role determines your access permissions within CliniTrack"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{children:"Account Created"}),v.jsx("div",{className:"p-3 bg-muted rounded-md",children:v.jsx("span",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})})]}),_.profile&&v.jsxs(Uc,{children:[v.jsx(tb,{className:"h-4 w-4"}),v.jsx(zc,{children:_.profile})]}),E.profile&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:E.profile})}),v.jsx(zt,{type:"submit",disabled:p,children:p?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Profile"})]})})]})}),v.jsx(Po,{value:"security",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(mme,{className:"h-5 w-5"}),v.jsx($n,{children:"Change Password"})]}),v.jsx(ai,{children:"Update your password to keep your account secure"})]}),v.jsx(tn,{children:v.jsxs("form",{onSubmit:R,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"currentPassword",children:"Current Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"currentPassword",type:f.current?"text":"password",value:o.currentPassword,onChange:W=>l(V=>({...V,currentPassword:W.target.value})),disabled:y,placeholder:"Enter your current password"}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>j("current"),children:f.current?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"newPassword",children:"New Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"newPassword",type:f.new?"text":"password",value:o.newPassword,onChange:W=>l(V=>({...V,newPassword:W.target.value})),disabled:y,placeholder:"Enter your new password"}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>j("new"),children:f.new?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"confirmPassword",children:"Confirm New Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(In,{id:"confirmPassword",type:f.confirm?"text":"password",value:o.confirmPassword,onChange:W=>l(V=>({...V,confirmPassword:W.target.value})),disabled:y,placeholder:"Confirm your new password"}),v.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>j("confirm"),children:f.confirm?v.jsx(nb,{className:"h-4 w-4"}):v.jsx(rb,{className:"h-4 w-4"})})]})]}),_.password&&v.jsxs(Uc,{children:[v.jsx(tb,{className:"h-4 w-4"}),v.jsx(zc,{children:_.password})]}),E.password&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:E.password})}),v.jsx(zt,{type:"submit",disabled:y,children:y?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Changing Password..."]}):"Change Password"})]})})]})}),v.jsx(Po,{value:"notifications",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(c_,{className:"h-5 w-5"}),v.jsx($n,{children:"Notification Preferences"})]}),v.jsx(ai,{children:"Choose how you want to be notified about important updates"})]}),v.jsxs(tn,{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"Follow-up Reminders"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when patient follow-ups are due"})]}),v.jsx(R2,{checked:c.followUpReminders,onCheckedChange:()=>D("followUpReminders")})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"High Risk Alerts"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate notifications for high-risk patients"})]}),v.jsx(R2,{checked:c.highRiskAlerts,onCheckedChange:()=>D("highRiskAlerts")})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"New Patient Registrations"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when new patients are registered"})]}),v.jsx(R2,{checked:c.newPatientRegistrations,onCheckedChange:()=>D("newPatientRegistrations")})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"Lab Results Available"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new lab results are uploaded"})]}),v.jsx(R2,{checked:c.labResultsAvailable,onCheckedChange:()=>D("labResultsAvailable")})]}),v.jsx(Ql,{}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"System Maintenance"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates about system maintenance and downtime"})]}),v.jsx(R2,{checked:c.systemMaintenance,onCheckedChange:()=>D("systemMaintenance")})]})]}),_.notifications&&v.jsxs(Uc,{children:[v.jsx(tb,{className:"h-4 w-4"}),v.jsx(zc,{children:_.notifications})]}),E.notifications&&v.jsx(Uc,{variant:"destructive",children:v.jsx(zc,{children:E.notifications})}),v.jsx("div",{className:"pt-4",children:v.jsx(zt,{onClick:F,disabled:b,children:b?v.jsxs(v.Fragment,{children:[v.jsx(ap,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Notification Preferences"})})]})]})})]})]}):v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),v.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading settings..."})]})})}var HN="Collapsible",[k7e]=nf(HN),[N7e,o7]=k7e(HN),tce=U.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=n,[l,c]=xg({prop:r,defaultProp:i??!1,onChange:a,caller:HN});return v.jsx(N7e,{scope:t,disabled:s,contentId:op(),open:l,onOpenToggle:U.useCallback(()=>c(u=>!u),[c]),children:v.jsx(cn.div,{"data-state":c7(l),"data-disabled":s?"":void 0,...o,ref:e})})});tce.displayName=HN;var nce="CollapsibleTrigger",rce=U.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,i=o7(nce,t);return v.jsx(cn.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":c7(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:dn(n.onClick,i.onOpenToggle)})});rce.displayName=nce;var l7="CollapsibleContent",ice=U.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=o7(l7,n.__scopeCollapsible);return v.jsx(tf,{present:t||i.open,children:({present:s})=>v.jsx(O7e,{...r,ref:e,present:s})})});ice.displayName=l7;var O7e=U.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:i,...s}=n,a=o7(l7,t),[o,l]=U.useState(r),c=U.useRef(null),u=Kn(e,c),f=U.useRef(0),h=f.current,p=U.useRef(0),x=p.current,y=a.open||o,w=U.useRef(y),b=U.useRef(void 0);return U.useEffect(()=>{const S=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(S)},[]),aa(()=>{const S=c.current;if(S){b.current=b.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const _=S.getBoundingClientRect();f.current=_.height,p.current=_.width,w.current||(S.style.transitionDuration=b.current.transitionDuration,S.style.animationName=b.current.animationName),l(r)}},[a.open,r]),v.jsx(cn.div,{"data-state":c7(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...s,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...n.style},children:y&&i})});function c7(n){return n?"open":"closed"}var j7e=tce,L7e=rce,R7e=ice;const I7e=j7e,M7e=L7e,D7e=R7e;function F7e(){const{user:n}=Ku(),[e,t]=U.useState(""),[r,i]=U.useState(null),[s,a]=U.useState({subject:"",message:"",priority:"medium"}),[o,l]=U.useState(!1),[c,u]=U.useState(!1),f=[{id:"1",question:"How do I log in to CliniTrack?",answer:"You can log in using your email address and password. If you have two-factor authentication enabled, you'll also need to enter the 6-digit verification code. For demo purposes, use doctor@clinitrack.com/doctor123 or secretary@clinitrack.com/secretary123."},{id:"2",question:"What should I do if I forget my password?",answer:`Click on "Forgot your password?" on the login page and enter your email address. You'll receive instructions to reset your password. This is a demo feature in the current system.`},{id:"3",question:"How do I enable two-factor authentication?",answer:'Go to Settings > Security and toggle the "Enable Two-Factor Authentication" switch. This adds an extra layer of security to your account.'},{id:"4",question:"Can I change my role from Secretary to Doctor?",answer:"Role changes must be requested through your system administrator. Contact support for role modification requests."}],h=[{id:"s1",question:"How do I register a new patient?",answer:'Navigate to "New Patient" in the sidebar, fill out the patient demographics form, upload any lab/imaging files, and click "Create Patient Record". All required fields must be completed.'},{id:"s2",question:"What file formats can I upload for lab results?",answer:"You can upload PDF, PNG, JPG, and JPEG files up to 10MB each. Common formats include lab reports in PDF and imaging results in JPG/PNG format."},{id:"s3",question:"How do I update existing patient information?",answer:'Go to "Existing Patients", search for the patient, click "View Details", then click the "Edit" button to modify their information.'},{id:"s4",question:"Can I upload multiple lab results for one patient?",answer:"Yes, you can upload multiple lab results. Each result should be uploaded separately with its own type, name, and description."}],p=[{id:"d1",question:"How does the AI risk assessment work?",answer:"The AI analyzes patient symptoms, age, gender, and medical history to predict risk levels (Low, Moderate, High). You can add clinical notes and override the AI assessment if needed."},{id:"d2",question:"How do I perform a risk assessment?",answer:'Go to "AI Risk Assessment", select a patient, enter their symptoms, and click "Analyze Risk Level". Review the results and add your clinical notes before saving.'},{id:"d3",question:"What do the analytics show?",answer:"The Analytics dashboard provides insights on patient distribution, risk levels, trends, demographics, and common symptoms. You can export reports in PDF, Excel, or CSV format."},{id:"d4",question:"How often should I follow up with patients?",answer:"Follow-up recommendations vary by risk level. The system alerts you when patients haven't been seen for 3+ months or when AI assessments may need updating."}],x=()=>{let b=f;return(n==null?void 0:n.role)==="secretary"?b=[...f,...h]:(n==null?void 0:n.role)==="doctor"&&(b=[...f,...p]),e?b.filter(S=>S.question.toLowerCase().includes(e.toLowerCase())||S.answer.toLowerCase().includes(e.toLowerCase())):b},y=async b=>{b.preventDefault(),l(!0),await new Promise(S=>setTimeout(S,1500)),u(!0),a({subject:"",message:"",priority:"medium"}),l(!1),setTimeout(()=>u(!1),3e3)},w=(n==null?void 0:n.role)==="secretary"?[{title:"Getting Started",description:"Log in with your credentials and navigate the secretary dashboard"},{title:"Register New Patients",description:"Use the New Patient form to add patient demographics and medical information"},{title:"Upload Lab Results",description:"Attach lab reports and imaging files to patient records"},{title:"Search Existing Patients",description:"Find and update patient information using the search function"},{title:"Manage Files",description:"Upload, view, and organize patient documents and test results"}]:[{title:"Getting Started",description:"Access your doctor dashboard and review patient overview"},{title:"Review Patient Profiles",description:"View complete patient records, visit history, and lab results"},{title:"Perform Risk Assessments",description:"Use AI-powered tools to analyze patient symptoms and risk levels"},{title:"Add Clinical Notes",description:"Document your observations and override AI recommendations when needed"},{title:"Monitor Analytics",description:"Track patient trends, risk distributions, and follow-up alerts"},{title:"Export Reports",description:"Generate and download comprehensive patient reports"}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Help & Support"}),v.jsx("p",{className:"text-muted-foreground",children:"Find answers, guides, and get assistance with CliniTrack"})]}),v.jsxs(eN,{defaultValue:"guide",className:"space-y-4",children:[v.jsxs(tN,{className:"grid w-full grid-cols-3",children:[v.jsx(Ao,{value:"guide",children:"User Guide"}),v.jsx(Ao,{value:"faq",children:"FAQ"}),v.jsx(Ao,{value:"contact",children:"Contact Support"})]}),v.jsx(Po,{value:"guide",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Bpe,{className:"h-5 w-5"}),v.jsxs($n,{children:["User Guide for ",(n==null?void 0:n.role)==="secretary"?"Secretaries":"Doctors"]})]}),v.jsx(ai,{children:"Step-by-step instructions for using CliniTrack effectively"})]}),v.jsx(tn,{className:"space-y-6",children:w.map((b,S)=>v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-medium",children:S+1})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-medium",children:b.title}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.description})]})]},S))})]})}),v.jsx(Po,{value:"faq",className:"space-y-4",children:v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(PE,{className:"h-5 w-5"}),v.jsx($n,{children:"Frequently Asked Questions"})]}),v.jsx(ai,{children:"Find quick answers to common questions"})]}),v.jsx(tn,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(d5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),v.jsx(In,{placeholder:"Search FAQ...",value:e,onChange:b=>t(b.target.value),className:"pl-10"})]}),v.jsx("div",{className:"space-y-2",children:x().map(b=>v.jsxs(I7e,{open:r===b.id,onOpenChange:S=>i(S?b.id:null),children:[v.jsx(M7e,{asChild:!0,children:v.jsxs(zt,{variant:"ghost",className:"w-full justify-between p-4 h-auto text-left",children:[v.jsx("span",{className:"font-medium",children:b.question}),r===b.id?v.jsx($8,{className:"h-4 w-4"}):v.jsx(Gpe,{className:"h-4 w-4"})]})}),v.jsx(D7e,{className:"px-4 pb-4",children:v.jsx("p",{className:"text-sm text-muted-foreground",children:b.answer})})]},b.id))}),x().length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx(PE,{className:"mx-auto h-12 w-12 text-muted-foreground"}),v.jsx("h3",{className:"mt-2 font-medium",children:"No FAQs found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms."})]})]})})]})}),v.jsx(Po,{value:"contact",className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(Ft,{children:[v.jsxs(Bn,{children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(S9,{className:"h-5 w-5"}),v.jsx($n,{children:"Contact Support"})]}),v.jsx(ai,{children:"Send us a message and we'll get back to you soon"})]}),v.jsx(tn,{children:c?v.jsxs(Uc,{children:[v.jsx(S9,{className:"h-4 w-4"}),v.jsx(zc,{children:"Thank you for your message! Our support team will respond within 24 hours."})]}):v.jsxs("form",{onSubmit:y,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"subject",children:"Subject"}),v.jsx(In,{id:"subject",value:s.subject,onChange:b=>a(S=>({...S,subject:b.target.value})),placeholder:"Brief description of your issue",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"priority",children:"Priority"}),v.jsxs("select",{id:"priority",value:s.priority,onChange:b=>a(S=>({...S,priority:b.target.value})),className:"w-full p-2 border border-input rounded-md bg-background",children:[v.jsx("option",{value:"low",children:"Low"}),v.jsx("option",{value:"medium",children:"Medium"}),v.jsx("option",{value:"high",children:"High"}),v.jsx("option",{value:"urgent",children:"Urgent"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(It,{htmlFor:"message",children:"Message"}),v.jsx(Xw,{id:"message",value:s.message,onChange:b=>a(S=>({...S,message:b.target.value})),placeholder:"Please describe your issue or question in detail...",rows:6,required:!0})]}),v.jsx(zt,{type:"submit",disabled:o,className:"w-full",children:o?"Sending...":"Send Message"})]})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsx($n,{className:"text-lg",children:"Other Ways to Reach Us"})}),v.jsxs(tn,{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(q8,{className:"h-5 w-5 text-muted-foreground"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Email Support"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"support@clinitrack.com"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(kZ,{className:"h-5 w-5 text-muted-foreground"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Phone Support"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"+1 (555) 123-4567"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Mon-Fri, 9 AM - 5 PM EST"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(ug,{className:"h-5 w-5 text-muted-foreground"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Live Chat"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Available during business hours"})]})]})]})]}),v.jsxs(Ft,{children:[v.jsx(Bn,{children:v.jsxs($n,{className:"text-lg flex items-center space-x-2",children:[v.jsx(NZ,{className:"h-5 w-5"}),v.jsx("span",{children:"Security & Privacy"})]})}),v.jsx(tn,{children:v.jsx("p",{className:"text-sm text-muted-foreground",children:"CliniTrack takes data security seriously. All patient information is encrypted and handled according to healthcare privacy regulations. For security-related concerns, please contact our security team directly at security@clinitrack.com."})})]})]})]})})]})]})}var B7e=(n,e,t,r,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function u(p){(Array.isArray(n)?n:[n]).forEach(x=>{let y=x==="class",w=y&&s?i.map(b=>s[b]||b):i;y?(l.classList.remove(...w),l.classList.add(s&&s[p]?s[p]:p)):l.setAttribute(x,p)}),f(p)}function f(p){o&&c.includes(p)&&(l.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let p=localStorage.getItem(e)||t,x=a&&p==="system"?h():p;u(x)}catch{}},$7e=U.createContext(void 0),q7e={setTheme:n=>{},themes:[]},U7e=()=>{var n;return(n=U.useContext($7e))!=null?n:q7e};U.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let u=JSON.stringify([t,e,s,n,o,a,r,i]).slice(1,-1);return U.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${B7e.toString()})(${u})`}})});function z7e(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const H7e=n=>{switch(n){case"success":return G7e;case"info":return X7e;case"warning":return K7e;case"error":return Y7e;default:return null}},V7e=Array(12).fill(0),W7e=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},V7e.map((t,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),G7e=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),K7e=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),X7e=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Y7e=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),J7e=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Z7e=()=>{const[n,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let g8=1;class Q7e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:g8++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],de.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(t$e(c)&&!c.ok){s=!1;const f=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description,x=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...x})}else if(c instanceof Error){s=!1;const f=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description,x=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...x})}else if(t.success!==void 0){s=!1;const f=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description,x=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:h,...x})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;const u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description,p=typeof u=="object"&&!de.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:f,...p})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||g8++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sl=new Q7e,e$e=(n,e)=>{const t=(e==null?void 0:e.id)||g8++;return sl.addToast({title:n,...e,id:t}),t},t$e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",n$e=e$e,r$e=()=>sl.toasts,i$e=()=>sl.getActiveToasts();Object.assign(n$e,{success:sl.success,info:sl.info,warning:sl.warning,error:sl.error,custom:sl.custom,message:sl.message,promise:sl.promise,dismiss:sl.dismiss,loading:sl.loading},{getHistory:r$e,getToasts:i$e});z7e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wC(n){return n.label!==void 0}const s$e=3,a$e="24px",o$e="16px",tJ=4e3,l$e=356,c$e=14,u$e=45,f$e=200;function Tf(...n){return n.filter(Boolean).join(" ")}function d$e(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const h$e=n=>{var e,t,r,i,s,a,o,l,c;const{invert:u,toast:f,unstyled:h,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:b,toasts:S,expanded:_,removeToast:P,defaultRichColors:E,closeButton:C,style:N,cancelButtonStyle:L,actionButtonStyle:R,className:F="",descriptionClassName:j="",duration:D,position:W,gap:V,expandByDefault:Z,classNames:J,icons:K,closeButtonAriaLabel:$="Close toast"}=n,[te,Q]=de.useState(null),[X,B]=de.useState(null),[G,ne]=de.useState(!1),[ie,fe]=de.useState(!1),[he,oe]=de.useState(!1),[pe,Se]=de.useState(!1),[be,ye]=de.useState(!1),[Oe,Pe]=de.useState(0),[ge,Ke]=de.useState(0),Xe=de.useRef(f.duration||D||tJ),rt=de.useRef(null),$e=de.useRef(null),at=b===0,et=b+1<=y,ut=f.type,lt=f.dismissible!==!1,Ht=f.className||"",$t=f.descriptionClassName||"",Xt=de.useMemo(()=>w.findIndex(ot=>ot.toastId===f.id)||0,[w,f.id]),Vn=de.useMemo(()=>{var ot;return(ot=f.closeButton)!=null?ot:C},[f.closeButton,C]),Qt=de.useMemo(()=>f.duration||D||tJ,[f.duration,D]),Tt=de.useRef(0),Lt=de.useRef(0),_t=de.useRef(0),Un=de.useRef(null),[Dn,Et]=W.split("-"),sn=de.useMemo(()=>w.reduce((ot,vr,Fn)=>Fn>=Xt?ot:ot+vr.height,0),[w,Xt]),Wn=Z7e(),qt=f.invert||u,bn=ut==="loading";Lt.current=de.useMemo(()=>Xt*V+sn,[Xt,sn]),de.useEffect(()=>{Xe.current=Qt},[Qt]),de.useEffect(()=>{ne(!0)},[]),de.useEffect(()=>{const ot=$e.current;if(ot){const vr=ot.getBoundingClientRect().height;return Ke(vr),x(Fn=>[{toastId:f.id,height:vr,position:f.position},...Fn]),()=>x(Fn=>Fn.filter(Wr=>Wr.toastId!==f.id))}},[x,f.id]),de.useLayoutEffect(()=>{if(!G)return;const ot=$e.current,vr=ot.style.height;ot.style.height="auto";const Fn=ot.getBoundingClientRect().height;ot.style.height=vr,Ke(Fn),x(Wr=>Wr.find(ct=>ct.toastId===f.id)?Wr.map(ct=>ct.toastId===f.id?{...ct,height:Fn}:ct):[{toastId:f.id,height:Fn,position:f.position},...Wr])},[G,f.title,f.description,x,f.id,f.jsx,f.action,f.cancel]);const Ut=de.useCallback(()=>{fe(!0),Pe(Lt.current),x(ot=>ot.filter(vr=>vr.toastId!==f.id)),setTimeout(()=>{P(f)},f$e)},[f,P,x,Lt]);de.useEffect(()=>{if(f.promise&&ut==="loading"||f.duration===1/0||f.type==="loading")return;let ot;return _||p||Wn?(()=>{if(_t.current<Tt.current){const Wr=new Date().getTime()-Tt.current;Xe.current=Xe.current-Wr}_t.current=new Date().getTime()})():(()=>{Xe.current!==1/0&&(Tt.current=new Date().getTime(),ot=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Ut()},Xe.current))})(),()=>clearTimeout(ot)},[_,p,f,ut,Wn,Ut]),de.useEffect(()=>{f.delete&&(Ut(),f.onDismiss==null||f.onDismiss.call(f,f))},[Ut,f.delete]);function Mr(){var ot;if(K!=null&&K.loading){var vr;return de.createElement("div",{className:Tf(J==null?void 0:J.loader,f==null||(vr=f.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":ut==="loading"},K.loading)}return de.createElement(W7e,{className:Tf(J==null?void 0:J.loader,f==null||(ot=f.classNames)==null?void 0:ot.loader),visible:ut==="loading"})}const Pr=f.icon||(K==null?void 0:K[ut])||H7e(ut);var Ln,Yt;return de.createElement("li",{tabIndex:0,ref:$e,className:Tf(F,Ht,J==null?void 0:J.toast,f==null||(e=f.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[ut],f==null||(t=f.classNames)==null?void 0:t[ut]),"data-sonner-toast":"","data-rich-colors":(Ln=f.richColors)!=null?Ln:E,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":G,"data-promise":!!f.promise,"data-swiped":be,"data-removed":ie,"data-visible":et,"data-y-position":Dn,"data-x-position":Et,"data-index":b,"data-front":at,"data-swiping":he,"data-dismissible":lt,"data-type":ut,"data-invert":qt,"data-swipe-out":pe,"data-swipe-direction":X,"data-expanded":!!(_||Z&&G),"data-testid":f.testId,style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ie?Oe:Lt.current}px`,"--initial-height":Z?"auto":`${ge}px`,...N,...f.style},onDragEnd:()=>{oe(!1),Q(null),Un.current=null},onPointerDown:ot=>{ot.button!==2&&(bn||!lt||(rt.current=new Date,Pe(Lt.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(oe(!0),Un.current={x:ot.clientX,y:ot.clientY})))},onPointerUp:()=>{var ot,vr,Fn;if(pe||!lt)return;Un.current=null;const Wr=Number(((ot=$e.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ws=Number(((vr=$e.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ct=new Date().getTime()-((Fn=rt.current)==null?void 0:Fn.getTime()),Cr=te==="x"?Wr:ws,$s=Math.abs(Cr)/ct;if(Math.abs(Cr)>=u$e||$s>.11){Pe(Lt.current),f.onDismiss==null||f.onDismiss.call(f,f),B(te==="x"?Wr>0?"right":"left":ws>0?"down":"up"),Ut(),Se(!0);return}else{var ur,Gr;(ur=$e.current)==null||ur.style.setProperty("--swipe-amount-x","0px"),(Gr=$e.current)==null||Gr.style.setProperty("--swipe-amount-y","0px")}ye(!1),oe(!1),Q(null)},onPointerMove:ot=>{var vr,Fn,Wr;if(!Un.current||!lt||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;const ct=ot.clientY-Un.current.y,Cr=ot.clientX-Un.current.x;var $s;const ur=($s=n.swipeDirections)!=null?$s:d$e(W);!te&&(Math.abs(Cr)>1||Math.abs(ct)>1)&&Q(Math.abs(Cr)>Math.abs(ct)?"x":"y");let Gr={x:0,y:0};const ar=or=>1/(1.5+Math.abs(or)/20);if(te==="y"){if(ur.includes("top")||ur.includes("bottom"))if(ur.includes("top")&&ct<0||ur.includes("bottom")&&ct>0)Gr.y=ct;else{const or=ct*ar(ct);Gr.y=Math.abs(or)<Math.abs(ct)?or:ct}}else if(te==="x"&&(ur.includes("left")||ur.includes("right")))if(ur.includes("left")&&Cr<0||ur.includes("right")&&Cr>0)Gr.x=Cr;else{const or=Cr*ar(Cr);Gr.x=Math.abs(or)<Math.abs(Cr)?or:Cr}(Math.abs(Gr.x)>0||Math.abs(Gr.y)>0)&&ye(!0),(Fn=$e.current)==null||Fn.style.setProperty("--swipe-amount-x",`${Gr.x}px`),(Wr=$e.current)==null||Wr.style.setProperty("--swipe-amount-y",`${Gr.y}px`)}},Vn&&!f.jsx&&ut!=="loading"?de.createElement("button",{"aria-label":$,"data-disabled":bn,"data-close-button":!0,onClick:bn||!lt?()=>{}:()=>{Ut(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Tf(J==null?void 0:J.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(Yt=K==null?void 0:K.close)!=null?Yt:J7e):null,(ut||f.icon||f.promise)&&f.icon!==null&&((K==null?void 0:K[ut])!==null||f.icon)?de.createElement("div",{"data-icon":"",className:Tf(J==null?void 0:J.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mr():null,f.type!=="loading"?Pr:null):null,de.createElement("div",{"data-content":"",className:Tf(J==null?void 0:J.content,f==null||(s=f.classNames)==null?void 0:s.content)},de.createElement("div",{"data-title":"",className:Tf(J==null?void 0:J.title,f==null||(a=f.classNames)==null?void 0:a.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?de.createElement("div",{"data-description":"",className:Tf(j,$t,J==null?void 0:J.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),de.isValidElement(f.cancel)?f.cancel:f.cancel&&wC(f.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||L,onClick:ot=>{wC(f.cancel)&&lt&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,ot),Ut())},className:Tf(J==null?void 0:J.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,de.isValidElement(f.action)?f.action:f.action&&wC(f.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:ot=>{wC(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,ot),!ot.defaultPrevented&&Ut())},className:Tf(J==null?void 0:J.actionButton,f==null||(c=f.classNames)==null?void 0:c.actionButton)},f.action.label):null)};function nJ(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function p$e(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?o$e:a$e;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),t}const m$e=de.forwardRef(function(e,t){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:u,mobileOffset:f,theme:h="light",richColors:p,duration:x,style:y,visibleToasts:w=s$e,toastOptions:b,dir:S=nJ(),gap:_=c$e,icons:P,containerAriaLabel:E="Notifications"}=e,[C,N]=de.useState([]),L=de.useMemo(()=>r?C.filter(G=>G.toasterId===r):C.filter(G=>!G.toasterId),[C,r]),R=de.useMemo(()=>Array.from(new Set([s].concat(L.filter(G=>G.position).map(G=>G.position)))),[L,s]),[F,j]=de.useState([]),[D,W]=de.useState(!1),[V,Z]=de.useState(!1),[J,K]=de.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=de.useRef(null),te=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=de.useRef(null),X=de.useRef(!1),B=de.useCallback(G=>{N(ne=>{var ie;return(ie=ne.find(fe=>fe.id===G.id))!=null&&ie.delete||sl.dismiss(G.id),ne.filter(({id:fe})=>fe!==G.id)})},[]);return de.useEffect(()=>sl.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{N(ne=>ne.map(ie=>ie.id===G.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{uZ.flushSync(()=>{N(ne=>{const ie=ne.findIndex(fe=>fe.id===G.id);return ie!==-1?[...ne.slice(0,ie),{...ne[ie],...G},...ne.slice(ie+1)]:[G,...ne]})})})}),[C]),de.useEffect(()=>{if(h!=="system"){K(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ne})=>{K(ne?"dark":"light")})}catch{G.addListener(({matches:ie})=>{try{K(ie?"dark":"light")}catch(fe){console.error(fe)}})}},[h]),de.useEffect(()=>{C.length<=1&&W(!1)},[C]),de.useEffect(()=>{const G=ne=>{var ie;if(a.every(oe=>ne[oe]||ne.code===oe)){var he;W(!0),(he=$.current)==null||he.focus()}ne.code==="Escape"&&(document.activeElement===$.current||(ie=$.current)!=null&&ie.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),de.useEffect(()=>{if($.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,X.current=!1)}},[$.current]),de.createElement("section",{ref:t,"aria-label":`${E} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((G,ne)=>{var ie;const[fe,he]=G.split("-");return L.length?de.createElement("ol",{key:G,dir:S==="auto"?nJ():S,tabIndex:-1,ref:$,className:c,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":fe,"data-x-position":he,style:{"--front-toast-height":`${((ie=F[0])==null?void 0:ie.height)||0}px`,"--width":`${l$e}px`,"--gap":`${_}px`,...y,...p$e(u,f)},onBlur:oe=>{X.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(X.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||X.current||(X.current=!0,Q.current=oe.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{V||W(!1)},onDragEnd:()=>W(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},L.filter(oe=>!oe.position&&ne===0||oe.position===G).map((oe,pe)=>{var Se,be;return de.createElement(h$e,{key:oe.id,icons:P,index:pe,toast:oe,defaultRichColors:p,duration:(Se=b==null?void 0:b.duration)!=null?Se:x,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:w,closeButton:(be=b==null?void 0:b.closeButton)!=null?be:l,interacting:V,position:G,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:B,toasts:L.filter(ye=>ye.position==oe.position),heights:F.filter(ye=>ye.position==oe.position),setHeights:j,expandByDefault:o,gap:_,expanded:D,swipeDirections:e.swipeDirections})})):null}))}),g$e=({...n})=>{const{theme:e="system"}=U7e();return v.jsx(m$e,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function v$e(){const{user:n,isLoading:e}=Ku(),[t,r]=U.useState("login"),[i,s]=U.useState("dashboard"),[a,o]=U.useState(()=>{const _=localStorage.getItem("clinitrack_patients");return _?JSON.parse(_):[]}),[l,c]=U.useState(()=>{const _=localStorage.getItem("clinitrack_labResults");return _?JSON.parse(_):[]}),[u,f]=U.useState(()=>{const _=localStorage.getItem("clinictrack_visits");return _?JSON.parse(_):[]}),[h,p]=U.useState(()=>{const _=localStorage.getItem("clinitrack_riskAssessments");return _?JSON.parse(_):[]});U.useEffect(()=>{localStorage.setItem("clinitrack_patients",JSON.stringify(a))},[a]),U.useEffect(()=>{localStorage.setItem("clinitrack_labResults",JSON.stringify(l))},[l]),U.useEffect(()=>{localStorage.setItem("clinitrack_visits",JSON.stringify(u))},[u]),U.useEffect(()=>{localStorage.setItem("clinitrack_riskAssessments",JSON.stringify(h))},[h]),U.useEffect(()=>{const _=localStorage.getItem("clinitrack_patients");_&&o(JSON.parse(_));const P=localStorage.getItem("clinitrack_labResults");P&&c(JSON.parse(P));const E=localStorage.getItem("clinitrack_visits");E&&f(JSON.parse(E));const C=localStorage.getItem("clinitrack_riskAssessments");C&&p(JSON.parse(C))},[]);const x=_=>{o(P=>[...P,_])},y=_=>{o(P=>P.map(E=>E.id===_.id?_:E))},w=_=>{c(P=>[...P,_])},b=_=>{p(P=>[...P,_])};if(e)return v.jsx("div",{className:"size-full flex items-center justify-center",children:v.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[v.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-muted-foreground",children:"Loading CliniTrack..."})]})});if(!n)return v.jsxs(_1e,{children:[t==="login"&&v.jsx(E1e,{onForgotPassword:()=>r("forgot"),onRegister:()=>r("register")}),t==="register"&&v.jsx(nbe,{onBackToLogin:()=>r("login")}),t==="forgot"&&v.jsx(gbe,{onBackToLogin:()=>r("login")})]});const S=()=>{switch(i){case"dashboard":return v.jsx($q,{patients:a,labResults:l,visits:u,riskAssessments:h,onViewChange:s});case"new-patient":return v.jsx(C2e,{onPatientCreated:x});case"existing-patient":return v.jsx(WSe,{patients:a,labResults:l,onPatientUpdate:y,onLabResultAdd:w});case"patients":return v.jsx(QSe,{patients:a,labResults:l,visits:u,riskAssessments:h});case"risk-assessment":return v.jsx(BAe,{patients:a,onRiskAssessmentCreate:b});case"analytics":return v.jsx(N8e,{patients:a,riskAssessments:h});case"reports":return v.jsx(x7e,{patients:a,riskAssessments:h});case"settings":return v.jsx(T7e,{});case"help":return v.jsx(F7e,{});default:return v.jsx($q,{patients:a,labResults:l,visits:u,riskAssessments:h,onViewChange:s})}};return v.jsxs("div",{className:"flex h-screen bg-background",children:[v.jsx($me,{activeView:i,onViewChange:s}),v.jsx("main",{className:"flex-1 overflow-hidden",children:v.jsxs("div",{className:"h-full overflow-y-auto",children:[v.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:S()}),v.jsx("footer",{className:"mt-auto border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:v.jsx("div",{className:"container mx-auto px-6 py-4 max-w-7xl",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-4 text-xs text-muted-foreground",children:[v.jsxs("span",{children:[" ",new Date().getFullYear()," CliniTrack. All rights reserved."]}),v.jsx("span",{children:"Version 1.0.0"})]})})})]})}),v.jsx(g$e,{})]})}function y$e(){return v.jsxs(mhe,{children:[v.jsx(RAe,{position:"top-right",autoClose:2e3}),v.jsx(v$e,{})]})}Xce.createRoot(document.getElementById("root")).render(v.jsx(de.StrictMode,{children:v.jsx(y$e,{})}));export{Ar as _,Ja as c,qn as g};
